import{a as $n}from"./chunk-FK6H3RFT.js";import{a as Ze,b as ln,c as vm,d as h4,e as Bi,f as d4,g as Ct}from"./chunk-TSRGIXR5.js";var UA=Bi((S9,BA)=>{"use strict";(function(n){typeof S9=="object"&&typeof BA<"u"?BA.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=n()})(function(){return(function n(e,t,r){function i(a,l){if(!t[a]){if(!e[a]){var c=typeof vm=="function"&&vm;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=t[a]={exports:{}};e[a][0].call(d.exports,function(f){var h=e[a][1][f];return i(h||f)},d,d.exports,n,e,t,r)}return t[a].exports}for(var o=typeof vm=="function"&&vm,s=0;s<r.length;s++)i(r[s]);return i})({1:[function(n,e,t){"use strict";var r=n("./utils"),i=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(s){for(var a,l,c,u,d,f,h,g=[],_=0,y=s.length,v=y,E=r.getTypeOf(s)!=="string";_<s.length;)v=y-_,c=E?(a=s[_++],l=_<y?s[_++]:0,_<y?s[_++]:0):(a=s.charCodeAt(_++),l=_<y?s.charCodeAt(_++):0,_<y?s.charCodeAt(_++):0),u=a>>2,d=(3&a)<<4|l>>4,f=1<v?(15&l)<<2|c>>6:64,h=2<v?63&c:64,g.push(o.charAt(u)+o.charAt(d)+o.charAt(f)+o.charAt(h));return g.join("")},t.decode=function(s){var a,l,c,u,d,f,h=0,g=0,_="data:";if(s.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var y,v=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===o.charAt(64)&&v--,s.charAt(s.length-2)===o.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=i.uint8array?new Uint8Array(0|v):new Array(0|v);h<s.length;)a=o.indexOf(s.charAt(h++))<<2|(u=o.indexOf(s.charAt(h++)))>>4,l=(15&u)<<4|(d=o.indexOf(s.charAt(h++)))>>2,c=(3&d)<<6|(f=o.indexOf(s.charAt(h++))),y[g++]=a,d!==64&&(y[g++]=l),f!==64&&(y[g++]=c);return y}},{"./support":30,"./utils":32}],2:[function(n,e,t){"use strict";var r=n("./external"),i=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),s=n("./stream/DataLengthProbe");function a(l,c,u,d,f){this.compressedSize=l,this.uncompressedSize=c,this.crc32=u,this.compression=d,this.compressedContent=f}a.prototype={getContentWorker:function(){var l=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),c=this;return l.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(l,c,u){return l.pipe(new o).pipe(new s("uncompressedSize")).pipe(c.compressWorker(u)).pipe(new s("compressedSize")).withStreamInfo("compression",c)},e.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,e,t){"use strict";var r=n("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,e,t){"use strict";var r=n("./utils"),i=(function(){for(var o,s=[],a=0;a<256;a++){o=a;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;s[a]=o}return s})();e.exports=function(o,s){return o!==void 0&&o.length?r.getTypeOf(o)!=="string"?(function(a,l,c,u){var d=i,f=u+c;a^=-1;for(var h=u;h<f;h++)a=a>>>8^d[255&(a^l[h])];return-1^a})(0|s,o,o.length,0):(function(a,l,c,u){var d=i,f=u+c;a^=-1;for(var h=u;h<f;h++)a=a>>>8^d[255&(a^l.charCodeAt(h))];return-1^a})(0|s,o,o.length,0):0}},{"./utils":32}],5:[function(n,e,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(n,e,t){"use strict";var r=null;r=typeof Promise<"u"?Promise:n("lie"),e.exports={Promise:r}},{lie:37}],7:[function(n,e,t){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=n("pako"),o=n("./utils"),s=n("./stream/GenericWorker"),a=r?"uint8array":"array";function l(c,u){s.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=u,this.meta={}}t.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(a,c.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(u){c.push({data:u,meta:c.meta})}},t.compressWorker=function(c){return new l("Deflate",c)},t.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,e,t){"use strict";function r(d,f){var h,g="";for(h=0;h<f;h++)g+=String.fromCharCode(255&d),d>>>=8;return g}function i(d,f,h,g,_,y){var v,E,S=d.file,I=d.compression,R=y!==a.utf8encode,V=o.transformTo("string",y(S.name)),j=o.transformTo("string",a.utf8encode(S.name)),F=S.comment,k=o.transformTo("string",y(F)),N=o.transformTo("string",a.utf8encode(F)),A=j.length!==S.name.length,x=N.length!==F.length,O="",$="",Z="",se=S.dir,K=S.date,te={crc32:0,compressedSize:0,uncompressedSize:0};f&&!h||(te.crc32=d.crc32,te.compressedSize=d.compressedSize,te.uncompressedSize=d.uncompressedSize);var W=0;f&&(W|=8),R||!A&&!x||(W|=2048);var ee=0,pe=0;se&&(ee|=16),_==="UNIX"?(pe=798,ee|=(function(z,Q){var ne=z;return z||(ne=Q?16893:33204),(65535&ne)<<16})(S.unixPermissions,se)):(pe=20,ee|=(function(z){return 63&(z||0)})(S.dosPermissions)),v=K.getUTCHours(),v<<=6,v|=K.getUTCMinutes(),v<<=5,v|=K.getUTCSeconds()/2,E=K.getUTCFullYear()-1980,E<<=4,E|=K.getUTCMonth()+1,E<<=5,E|=K.getUTCDate(),A&&($=r(1,1)+r(l(V),4)+j,O+="up"+r($.length,2)+$),x&&(Z=r(1,1)+r(l(k),4)+N,O+="uc"+r(Z.length,2)+Z);var M="";return M+=`
\0`,M+=r(W,2),M+=I.magic,M+=r(v,2),M+=r(E,2),M+=r(te.crc32,4),M+=r(te.compressedSize,4),M+=r(te.uncompressedSize,4),M+=r(V.length,2),M+=r(O.length,2),{fileRecord:c.LOCAL_FILE_HEADER+M+V+O,dirRecord:c.CENTRAL_FILE_HEADER+r(pe,2)+M+r(k.length,2)+"\0\0\0\0"+r(ee,4)+r(g,4)+V+O+k}}var o=n("../utils"),s=n("../stream/GenericWorker"),a=n("../utf8"),l=n("../crc32"),c=n("../signature");function u(d,f,h,g){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=h,this.encodeFileName=g,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,s),u.prototype.push=function(d){var f=d.meta.percent||0,h=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,s.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:h?(f+100*(h-g-1))/h:100}}))},u.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var f=this.streamFiles&&!d.file.dir;if(f){var h=i(d,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(d){this.accumulate=!1;var f=this.streamFiles&&!d.file.dir,h=i(d,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),f)this.push({data:(function(g){return c.DATA_DESCRIPTOR+r(g.crc32,4)+r(g.compressedSize,4)+r(g.uncompressedSize,4)})(d),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var d=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var h=this.bytesWritten-d,g=(function(_,y,v,E,S){var I=o.transformTo("string",S(E));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(_,2)+r(_,2)+r(y,4)+r(v,4)+r(I.length,2)+I})(this.dirRecords.length,h,d,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(d){this._sources.push(d);var f=this;return d.on("data",function(h){f.processChunk(h)}),d.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),d.on("error",function(h){f.error(h)}),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(d){var f=this._sources;if(!s.prototype.error.call(this,d))return!1;for(var h=0;h<f.length;h++)try{f[h].error(d)}catch{}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var d=this._sources,f=0;f<d.length;f++)d[f].lock()},e.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,e,t){"use strict";var r=n("../compressions"),i=n("./ZipFileWorker");t.generateWorker=function(o,s,a){var l=new i(s.streamFiles,a,s.platform,s.encodeFileName),c=0;try{o.forEach(function(u,d){c++;var f=(function(y,v){var E=y||v,S=r[E];if(!S)throw new Error(E+" is not a valid compression method !");return S})(d.options.compression,s.compression),h=d.options.compressionOptions||s.compressionOptions||{},g=d.dir,_=d.date;d._compressWorker(f,h).withStreamInfo("file",{name:u,dir:g,date:_,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(l)}),l.entriesCount=c}catch(u){l.error(u)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,e,t){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new r;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(r.prototype=n("./object")).loadAsync=n("./load"),r.support=n("./support"),r.defaults=n("./defaults"),r.version="3.10.1",r.loadAsync=function(i,o){return new r().loadAsync(i,o)},r.external=n("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,e,t){"use strict";var r=n("./utils"),i=n("./external"),o=n("./utf8"),s=n("./zipEntries"),a=n("./stream/Crc32Probe"),l=n("./nodejsUtils");function c(u){return new i.Promise(function(d,f){var h=u.decompressed.getContentWorker().pipe(new a);h.on("error",function(g){f(g)}).on("end",function(){h.streamInfo.crc32!==u.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}e.exports=function(u,d){var f=this;return d=r.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(u)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",u,!0,d.optimizedBinaryString,d.base64).then(function(h){var g=new s(d);return g.load(h),g}).then(function(h){var g=[i.Promise.resolve(h)],_=h.files;if(d.checkCRC32)for(var y=0;y<_.length;y++)g.push(c(_[y]));return i.Promise.all(g)}).then(function(h){for(var g=h.shift(),_=g.files,y=0;y<_.length;y++){var v=_[y],E=v.fileNameStr,S=r.resolve(v.fileNameStr);f.file(S,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:d.createFolders}),v.dir||(f.file(S).unsafeOriginalName=E)}return g.zipComment.length&&(f.comment=g.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,e,t){"use strict";var r=n("../utils"),i=n("../stream/GenericWorker");function o(s,a){i.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(a)}r.inherits(o,i),o.prototype._bindStream=function(s){var a=this;(this._stream=s).pause(),s.on("data",function(l){a.push({data:l,meta:{percent:0}})}).on("error",function(l){a.isPaused?this.generatedError=l:a.error(l)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,e,t){"use strict";var r=n("readable-stream").Readable;function i(o,s,a){r.call(this,s),this._helper=o;var l=this;o.on("data",function(c,u){l.push(c)||l._helper.pause(),a&&a(u)}).on("error",function(c){l.emit("error",c)}).on("end",function(){l.push(null)})}n("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(n,e,t){"use strict";e.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,i);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,i)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var i=new Buffer(r);return i.fill(0),i},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(n,e,t){"use strict";function r(S,I,R){var V,j=o.getTypeOf(I),F=o.extend(R||{},l);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(S=_(S)),F.createFolders&&(V=g(S))&&y.call(this,V,!0);var k=j==="string"&&F.binary===!1&&F.base64===!1;R&&R.binary!==void 0||(F.binary=!k),(I instanceof c&&I.uncompressedSize===0||F.dir||!I||I.length===0)&&(F.base64=!1,F.binary=!0,I="",F.compression="STORE",j="string");var N=null;N=I instanceof c||I instanceof s?I:f.isNode&&f.isStream(I)?new h(S,I):o.prepareContent(S,I,F.binary,F.optimizedBinaryString,F.base64);var A=new u(S,N,F);this.files[S]=A}var i=n("./utf8"),o=n("./utils"),s=n("./stream/GenericWorker"),a=n("./stream/StreamHelper"),l=n("./defaults"),c=n("./compressedObject"),u=n("./zipObject"),d=n("./generate"),f=n("./nodejsUtils"),h=n("./nodejs/NodejsStreamInputAdapter"),g=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var I=S.lastIndexOf("/");return 0<I?S.substring(0,I):""},_=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},y=function(S,I){return I=I!==void 0?I:l.createFolders,S=_(S),this.files[S]||r.call(this,S,null,{dir:!0,createFolders:I}),this.files[S]};function v(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var I,R,V;for(I in this.files)V=this.files[I],(R=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&S(R,V)},filter:function(S){var I=[];return this.forEach(function(R,V){S(R,V)&&I.push(V)}),I},file:function(S,I,R){if(arguments.length!==1)return S=this.root+S,r.call(this,S,I,R),this;if(v(S)){var V=S;return this.filter(function(F,k){return!k.dir&&V.test(F)})}var j=this.files[this.root+S];return j&&!j.dir?j:null},folder:function(S){if(!S)return this;if(v(S))return this.filter(function(j,F){return F.dir&&S.test(j)});var I=this.root+S,R=y.call(this,I),V=this.clone();return V.root=R.name,V},remove:function(S){S=this.root+S;var I=this.files[S];if(I||(S.slice(-1)!=="/"&&(S+="/"),I=this.files[S]),I&&!I.dir)delete this.files[S];else for(var R=this.filter(function(j,F){return F.name.slice(0,S.length)===S}),V=0;V<R.length;V++)delete this.files[R[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var I,R={};try{if((R=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var V=R.comment||this.comment||"";I=d.generateWorker(this,R,V)}catch(j){(I=new s("error")).error(j)}return new a(I,R.type||"string",R.mimeType)},generateAsync:function(S,I){return this.generateInternalStream(S).accumulate(I)},generateNodeStream:function(S,I){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(I)}};e.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,e,t){"use strict";e.exports=n("stream")},{stream:void 0}],17:[function(n,e,t){"use strict";var r=n("./DataReader");function i(o){r.call(this,o);for(var s=0;s<this.data.length;s++)o[s]=255&o[s]}n("../utils").inherits(i,r),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var s=o.charCodeAt(0),a=o.charCodeAt(1),l=o.charCodeAt(2),c=o.charCodeAt(3),u=this.length-4;0<=u;--u)if(this.data[u]===s&&this.data[u+1]===a&&this.data[u+2]===l&&this.data[u+3]===c)return u-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var s=o.charCodeAt(0),a=o.charCodeAt(1),l=o.charCodeAt(2),c=o.charCodeAt(3),u=this.readData(4);return s===u[0]&&a===u[1]&&l===u[2]&&c===u[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(n,e,t){"use strict";var r=n("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var s,a=0;for(this.checkOffset(o),s=this.index+o-1;s>=this.index;s--)a=(a<<8)+this.byteAt(s);return this.index+=o,a},readString:function(o){return r.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},e.exports=i},{"../utils":32}],19:[function(n,e,t){"use strict";var r=n("./Uint8ArrayReader");function i(o){r.call(this,o)}n("../utils").inherits(i,r),i.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,e,t){"use strict";var r=n("./DataReader");function i(o){r.call(this,o)}n("../utils").inherits(i,r),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(n,e,t){"use strict";var r=n("./ArrayReader");function i(o){r.call(this,o)}n("../utils").inherits(i,r),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(n,e,t){"use strict";var r=n("../utils"),i=n("../support"),o=n("./ArrayReader"),s=n("./StringReader"),a=n("./NodeBufferReader"),l=n("./Uint8ArrayReader");e.exports=function(c){var u=r.getTypeOf(c);return r.checkSupport(u),u!=="string"||i.uint8array?u==="nodebuffer"?new a(c):i.uint8array?new l(r.transformTo("uint8array",c)):new o(r.transformTo("array",c)):new s(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,e,t){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,e,t){"use strict";var r=n("./GenericWorker"),i=n("../utils");function o(s){r.call(this,"ConvertWorker to "+s),this.destType=s}i.inherits(o,r),o.prototype.processChunk=function(s){this.push({data:i.transformTo(this.destType,s.data),meta:s.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,e,t){"use strict";var r=n("./GenericWorker"),i=n("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,r),o.prototype.processChunk=function(s){this.streamInfo.crc32=i(s.data,this.streamInfo.crc32||0),this.push(s)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,e,t){"use strict";var r=n("../utils"),i=n("./GenericWorker");function o(s){i.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}r.inherits(o,i),o.prototype.processChunk=function(s){if(s){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+s.data.length}i.prototype.processChunk.call(this,s)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,e,t){"use strict";var r=n("../utils"),i=n("./GenericWorker");function o(s){i.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(l){a.dataIsReady=!0,a.data=l,a.max=l&&l.length||0,a.type=r.getTypeOf(l),a.isPaused||a._tickAndRepeat()},function(l){a.error(l)})}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,a);break;case"uint8array":s=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":s=this.data.slice(this.index,a)}return this.index=a,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,e,t){"use strict";function r(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var s=0;s<this._listeners[i].length;s++)this._listeners[i][s].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(s){o.processChunk(s)}),i.on("end",function(){o.end()}),i.on("error",function(s){o.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},e.exports=r},{}],29:[function(n,e,t){"use strict";var r=n("../utils"),i=n("./ConvertWorker"),o=n("./GenericWorker"),s=n("../base64"),a=n("../support"),l=n("../external"),c=null;if(a.nodestream)try{c=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function u(f,h){return new l.Promise(function(g,_){var y=[],v=f._internalType,E=f._outputType,S=f._mimeType;f.on("data",function(I,R){y.push(I),h&&h(R)}).on("error",function(I){y=[],_(I)}).on("end",function(){try{var I=(function(R,V,j){switch(R){case"blob":return r.newBlob(r.transformTo("arraybuffer",V),j);case"base64":return s.encode(V);default:return r.transformTo(R,V)}})(E,(function(R,V){var j,F=0,k=null,N=0;for(j=0;j<V.length;j++)N+=V[j].length;switch(R){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(k=new Uint8Array(N),j=0;j<V.length;j++)k.set(V[j],F),F+=V[j].length;return k;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+R+"'")}})(v,y),S);g(I)}catch(R){_(R)}y=[]}).resume()})}function d(f,h,g){var _=h;switch(h){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=h,this._mimeType=g,r.checkSupport(_),this._worker=f.pipe(new i(_)),f.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}d.prototype={accumulate:function(f){return u(this,f)},on:function(f,h){var g=this;return f==="data"?this._worker.on(f,function(_){h.call(g,_.data,_.meta)}):this._worker.on(f,function(){r.delay(h,arguments,g)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},f)}},e.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,e,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",t.nodebuffer=typeof Buffer<"u",t.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),t.blob=i.getBlob("application/zip").size===0}catch{t.blob=!1}}}try{t.nodestream=!!n("readable-stream").Readable}catch{t.nodestream=!1}},{"readable-stream":16}],31:[function(n,e,t){"use strict";for(var r=n("./utils"),i=n("./support"),o=n("./nodejsUtils"),s=n("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;a[254]=a[254]=1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}t.utf8encode=function(d){return i.nodebuffer?o.newBufferFrom(d,"utf-8"):(function(f){var h,g,_,y,v,E=f.length,S=0;for(y=0;y<E;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<E&&(64512&(_=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),y++),S+=g<128?1:g<2048?2:g<65536?3:4;for(h=i.uint8array?new Uint8Array(S):new Array(S),y=v=0;v<S;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<E&&(64512&(_=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),y++),g<128?h[v++]=g:(g<2048?h[v++]=192|g>>>6:(g<65536?h[v++]=224|g>>>12:(h[v++]=240|g>>>18,h[v++]=128|g>>>12&63),h[v++]=128|g>>>6&63),h[v++]=128|63&g);return h})(d)},t.utf8decode=function(d){return i.nodebuffer?r.transformTo("nodebuffer",d).toString("utf-8"):(function(f){var h,g,_,y,v=f.length,E=new Array(2*v);for(h=g=0;h<v;)if((_=f[h++])<128)E[g++]=_;else if(4<(y=a[_]))E[g++]=65533,h+=y-1;else{for(_&=y===2?31:y===3?15:7;1<y&&h<v;)_=_<<6|63&f[h++],y--;1<y?E[g++]=65533:_<65536?E[g++]=_:(_-=65536,E[g++]=55296|_>>10&1023,E[g++]=56320|1023&_)}return E.length!==g&&(E.subarray?E=E.subarray(0,g):E.length=g),r.applyFromCharCode(E)})(d=r.transformTo(i.uint8array?"uint8array":"array",d))},r.inherits(c,s),c.prototype.processChunk=function(d){var f=r.transformTo(i.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var h=f;(f=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),f.set(h,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var g=(function(y,v){var E;for((v=v||y.length)>y.length&&(v=y.length),E=v-1;0<=E&&(192&y[E])==128;)E--;return E<0||E===0?v:E+a[y[E]]>v?E:v})(f),_=f;g!==f.length&&(i.uint8array?(_=f.subarray(0,g),this.leftOver=f.subarray(g,f.length)):(_=f.slice(0,g),this.leftOver=f.slice(g,f.length))),this.push({data:t.utf8decode(_),meta:d.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=c,r.inherits(u,s),u.prototype.processChunk=function(d){this.push({data:t.utf8encode(d.data),meta:d.meta})},t.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,e,t){"use strict";var r=n("./support"),i=n("./base64"),o=n("./nodejsUtils"),s=n("./external");function a(h){return h}function l(h,g){for(var _=0;_<h.length;++_)g[_]=255&h.charCodeAt(_);return g}n("setimmediate"),t.newBlob=function(h,g){t.checkSupport("blob");try{return new Blob([h],{type:g})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(h),_.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(h,g,_){var y=[],v=0,E=h.length;if(E<=_)return String.fromCharCode.apply(null,h);for(;v<E;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,h.slice(v,Math.min(v+_,E)))):y.push(String.fromCharCode.apply(null,h.subarray(v,Math.min(v+_,E)))),v+=_;return y.join("")},stringifyByChar:function(h){for(var g="",_=0;_<h.length;_++)g+=String.fromCharCode(h[_]);return g},applyCanBeUsed:{uint8array:(function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function u(h){var g=65536,_=t.getTypeOf(h),y=!0;if(_==="uint8array"?y=c.applyCanBeUsed.uint8array:_==="nodebuffer"&&(y=c.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return c.stringifyByChunk(h,_,g)}catch{g=Math.floor(g/2)}return c.stringifyByChar(h)}function d(h,g){for(var _=0;_<h.length;_++)g[_]=h[_];return g}t.applyFromCharCode=u;var f={};f.string={string:a,array:function(h){return l(h,new Array(h.length))},arraybuffer:function(h){return f.string.uint8array(h).buffer},uint8array:function(h){return l(h,new Uint8Array(h.length))},nodebuffer:function(h){return l(h,o.allocBuffer(h.length))}},f.array={string:u,array:a,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},f.arraybuffer={string:function(h){return u(new Uint8Array(h))},array:function(h){return d(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:a,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},f.uint8array={string:u,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:a,nodebuffer:function(h){return o.newBufferFrom(h)}},f.nodebuffer={string:u,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return f.nodebuffer.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:a},t.transformTo=function(h,g){if(g=g||"",!h)return g;t.checkSupport(h);var _=t.getTypeOf(g);return f[_][h](g)},t.resolve=function(h){for(var g=h.split("/"),_=[],y=0;y<g.length;y++){var v=g[y];v==="."||v===""&&y!==0&&y!==g.length-1||(v===".."?_.pop():_.push(v))}return _.join("/")},t.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":r.nodebuffer&&o.isBuffer(h)?"nodebuffer":r.uint8array&&h instanceof Uint8Array?"uint8array":r.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(h){if(!r[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(h){var g,_,y="";for(_=0;_<(h||"").length;_++)y+="\\x"+((g=h.charCodeAt(_))<16?"0":"")+g.toString(16).toUpperCase();return y},t.delay=function(h,g,_){setImmediate(function(){h.apply(_||null,g||[])})},t.inherits=function(h,g){function _(){}_.prototype=g.prototype,h.prototype=new _},t.extend=function(){var h,g,_={};for(h=0;h<arguments.length;h++)for(g in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],g)&&_[g]===void 0&&(_[g]=arguments[h][g]);return _},t.prepareContent=function(h,g,_,y,v){return s.Promise.resolve(g).then(function(E){return r.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new s.Promise(function(S,I){var R=new FileReader;R.onload=function(V){S(V.target.result)},R.onerror=function(V){I(V.target.error)},R.readAsArrayBuffer(E)}):E}).then(function(E){var S=t.getTypeOf(E);return S?(S==="arraybuffer"?E=t.transformTo("uint8array",E):S==="string"&&(v?E=i.decode(E):_&&y!==!0&&(E=(function(I){return l(I,r.uint8array?new Uint8Array(I.length):new Array(I.length))})(E))),E):s.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,e,t){"use strict";var r=n("./reader/readerFor"),i=n("./utils"),o=n("./signature"),s=n("./zipEntry"),a=n("./support");function l(c){this.files=[],this.loadOptions=c}l.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var u=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(u)+", expected "+i.pretty(c)+")")}},isSignature:function(c,u){var d=this.reader.index;this.reader.setIndex(c);var f=this.reader.readString(4)===u;return this.reader.setIndex(d),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),u=a.uint8array?"uint8array":"array",d=i.transformTo(u,c);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,u,d,f=this.zip64EndOfCentralSize-44;0<f;)c=this.reader.readInt(2),u=this.reader.readInt(4),d=this.reader.readData(u),this.zip64ExtensibleData[c]={id:c,length:u,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,u;for(c=0;c<this.files.length;c++)u=this.files[c],this.reader.setIndex(u.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),u.readLocalPart(this.reader),u.handleUTF8(),u.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(c=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var u=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var f=u-d;if(0<f)this.isSignature(u,o.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(c){this.reader=r(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,e,t){"use strict";var r=n("./reader/readerFor"),i=n("./utils"),o=n("./compressedObject"),s=n("./crc32"),a=n("./utf8"),l=n("./compressions"),c=n("./support");function u(d,f){this.options=d,this.loadOptions=f}u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var f,h;if(d.skip(22),this.fileNameLength=d.readInt(2),h=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=(function(g){for(var _ in l)if(Object.prototype.hasOwnProperty.call(l,_)&&l[_].magic===g)return l[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,f,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var f=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(f),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var f,h,g,_=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<_;)f=d.readInt(2),h=d.readInt(2),g=d.readData(h),this.extraFields[f]={id:f,length:h,value:g};d.setIndex(_)},handleUTF8:function(){var d=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var h=i.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var _=i.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var f=r(d.value);return f.readInt(1)!==1||s(this.fileName)!==f.readInt(4)?null:a.utf8decode(f.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var f=r(d.value);return f.readInt(1)!==1||s(this.fileComment)!==f.readInt(4)?null:a.utf8decode(f.readData(d.length-5))}return null}},e.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,e,t){"use strict";function r(f,h,g){this.name=f,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=h,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var i=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),s=n("./utf8"),a=n("./compressedObject"),l=n("./stream/GenericWorker");r.prototype={internalStream:function(f){var h=null,g="string";try{if(!f)throw new Error("No output type specified.");var _=(g=f.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),h=this._decompressWorker();var y=!this._dataBinary;y&&!_&&(h=h.pipe(new s.Utf8EncodeWorker)),!y&&_&&(h=h.pipe(new s.Utf8DecodeWorker))}catch(v){(h=new l("error")).error(v)}return new i(h,g,"")},async:function(f,h){return this.internalStream(f).accumulate(h)},nodeStream:function(f,h){return this.internalStream(f||"nodebuffer").toNodejsStream(h)},_compressWorker:function(f,h){if(this._data instanceof a&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(g,f,h)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)r.prototype[c[d]]=u;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,e,t){(function(r){"use strict";var i,o,s=r.MutationObserver||r.WebKitMutationObserver;if(s){var a=0,l=new s(f),c=r.document.createTextNode("");l.observe(c,{characterData:!0}),i=function(){c.data=a=++a%2}}else if(r.setImmediate||r.MessageChannel===void 0)i="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var h=r.document.createElement("script");h.onreadystatechange=function(){f(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},r.document.documentElement.appendChild(h)}:function(){setTimeout(f,0)};else{var u=new r.MessageChannel;u.port1.onmessage=f,i=function(){u.port2.postMessage(0)}}var d=[];function f(){var h,g;o=!0;for(var _=d.length;_;){for(g=d,d=[],h=-1;++h<_;)g[h]();_=d.length}o=!1}e.exports=function(h){d.push(h)!==1||o||i()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,e,t){"use strict";var r=n("immediate");function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,_!==i&&h(this,_)}function u(_,y,v){this.promise=_,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function d(_,y,v){r(function(){var E;try{E=y(v)}catch(S){return o.reject(_,S)}E===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,E)})}function f(_){var y=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof y=="function")return function(){y.apply(_,arguments)}}function h(_,y){var v=!1;function E(R){v||(v=!0,o.reject(_,R))}function S(R){v||(v=!0,o.resolve(_,R))}var I=g(function(){y(S,E)});I.status==="error"&&E(I.value)}function g(_,y){var v={};try{v.value=_(y),v.status="success"}catch(E){v.status="error",v.value=E}return v}(e.exports=c).prototype.finally=function(_){if(typeof _!="function")return this;var y=this.constructor;return this.then(function(v){return y.resolve(_()).then(function(){return v})},function(v){return y.resolve(_()).then(function(){throw v})})},c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,y){if(typeof _!="function"&&this.state===a||typeof y!="function"&&this.state===s)return this;var v=new this.constructor(i);return this.state!==l?d(v,this.state===a?_:y,this.outcome):this.queue.push(new u(v,_,y)),v},u.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},u.prototype.otherCallFulfilled=function(_){d(this.promise,this.onFulfilled,_)},u.prototype.callRejected=function(_){o.reject(this.promise,_)},u.prototype.otherCallRejected=function(_){d(this.promise,this.onRejected,_)},o.resolve=function(_,y){var v=g(f,y);if(v.status==="error")return o.reject(_,v.value);var E=v.value;if(E)h(_,E);else{_.state=a,_.outcome=y;for(var S=-1,I=_.queue.length;++S<I;)_.queue[S].callFulfilled(y)}return _},o.reject=function(_,y){_.state=s,_.outcome=y;for(var v=-1,E=_.queue.length;++v<E;)_.queue[v].callRejected(y);return _},c.resolve=function(_){return _ instanceof this?_:o.resolve(new this(i),_)},c.reject=function(_){var y=new this(i);return o.reject(y,_)},c.all=function(_){var y=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=_.length,E=!1;if(!v)return this.resolve([]);for(var S=new Array(v),I=0,R=-1,V=new this(i);++R<v;)j(_[R],R);return V;function j(F,k){y.resolve(F).then(function(N){S[k]=N,++I!==v||E||(E=!0,o.resolve(V,S))},function(N){E||(E=!0,o.reject(V,N))})}},c.race=function(_){var y=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=_.length,E=!1;if(!v)return this.resolve([]);for(var S=-1,I=new this(i);++S<v;)R=_[S],y.resolve(R).then(function(V){E||(E=!0,o.resolve(I,V))},function(V){E||(E=!0,o.reject(I,V))});var R;return I}},{immediate:36}],38:[function(n,e,t){"use strict";var r={};(0,n("./lib/utils/common").assign)(r,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,e,t){"use strict";var r=n("./zlib/deflate"),i=n("./utils/common"),o=n("./utils/strings"),s=n("./zlib/messages"),a=n("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,d=0,f=8;function h(_){if(!(this instanceof h))return new h(_);this.options=i.assign({level:u,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},_||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var v=r.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(v!==c)throw new Error(s[v]);if(y.header&&r.deflateSetHeader(this.strm,y.header),y.dictionary){var E;if(E=typeof y.dictionary=="string"?o.string2buf(y.dictionary):l.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(v=r.deflateSetDictionary(this.strm,E))!==c)throw new Error(s[v]);this._dict_set=!0}}function g(_,y){var v=new h(y);if(v.push(_,!0),v.err)throw v.msg||s[v.err];return v.result}h.prototype.push=function(_,y){var v,E,S=this.strm,I=this.options.chunkSize;if(this.ended)return!1;E=y===~~y?y:y===!0?4:0,typeof _=="string"?S.input=o.string2buf(_):l.call(_)==="[object ArrayBuffer]"?S.input=new Uint8Array(_):S.input=_,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new i.Buf8(I),S.next_out=0,S.avail_out=I),(v=r.deflate(S,E))!==1&&v!==c)return this.onEnd(v),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(S.output,S.next_out))):this.onData(i.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&v!==1);return E===4?(v=r.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===c):E!==2||(this.onEnd(c),!(S.avail_out=0))},h.prototype.onData=function(_){this.chunks.push(_)},h.prototype.onEnd=function(_){_===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},t.Deflate=h,t.deflate=g,t.deflateRaw=function(_,y){return(y=y||{}).raw=!0,g(_,y)},t.gzip=function(_,y){return(y=y||{}).gzip=!0,g(_,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,e,t){"use strict";var r=n("./zlib/inflate"),i=n("./utils/common"),o=n("./utils/strings"),s=n("./zlib/constants"),a=n("./zlib/messages"),l=n("./zlib/zstream"),c=n("./zlib/gzheader"),u=Object.prototype.toString;function d(h){if(!(this instanceof d))return new d(h);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},h||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||h&&h.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var _=r.inflateInit2(this.strm,g.windowBits);if(_!==s.Z_OK)throw new Error(a[_]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function f(h,g){var _=new d(g);if(_.push(h,!0),_.err)throw _.msg||a[_.err];return _.result}d.prototype.push=function(h,g){var _,y,v,E,S,I,R=this.strm,V=this.options.chunkSize,j=this.options.dictionary,F=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof h=="string"?R.input=o.binstring2buf(h):u.call(h)==="[object ArrayBuffer]"?R.input=new Uint8Array(h):R.input=h,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new i.Buf8(V),R.next_out=0,R.avail_out=V),(_=r.inflate(R,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&j&&(I=typeof j=="string"?o.string2buf(j):u.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,_=r.inflateSetDictionary(this.strm,I)),_===s.Z_BUF_ERROR&&F===!0&&(_=s.Z_OK,F=!1),_!==s.Z_STREAM_END&&_!==s.Z_OK)return this.onEnd(_),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&_!==s.Z_STREAM_END&&(R.avail_in!==0||y!==s.Z_FINISH&&y!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=o.utf8border(R.output,R.next_out),E=R.next_out-v,S=o.buf2string(R.output,v),R.next_out=E,R.avail_out=V-E,E&&i.arraySet(R.output,R.output,v,E,0),this.onData(S)):this.onData(i.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(F=!0)}while((0<R.avail_in||R.avail_out===0)&&_!==s.Z_STREAM_END);return _===s.Z_STREAM_END&&(y=s.Z_FINISH),y===s.Z_FINISH?(_=r.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===s.Z_OK):y!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(R.avail_out=0))},d.prototype.onData=function(h){this.chunks.push(h)},d.prototype.onEnd=function(h){h===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(h,g){return(g=g||{}).raw=!0,f(h,g)},t.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,e,t){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";t.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var l=a.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])}}return s},t.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var i={arraySet:function(s,a,l,c,u){if(a.subarray&&s.subarray)s.set(a.subarray(l,l+c),u);else for(var d=0;d<c;d++)s[u+d]=a[l+d]},flattenChunks:function(s){var a,l,c,u,d,f;for(a=c=0,l=s.length;a<l;a++)c+=s[a].length;for(f=new Uint8Array(c),a=u=0,l=s.length;a<l;a++)d=s[a],f.set(d,u),u+=d.length;return f}},o={arraySet:function(s,a,l,c,u){for(var d=0;d<c;d++)s[u+d]=a[l+d]},flattenChunks:function(s){return[].concat.apply([],s)}};t.setTyped=function(s){s?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},{}],42:[function(n,e,t){"use strict";var r=n("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(c,u){if(u<65537&&(c.subarray&&o||!c.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(c,u));for(var d="",f=0;f<u;f++)d+=String.fromCharCode(c[f]);return d}s[254]=s[254]=1,t.string2buf=function(c){var u,d,f,h,g,_=c.length,y=0;for(h=0;h<_;h++)(64512&(d=c.charCodeAt(h)))==55296&&h+1<_&&(64512&(f=c.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(f-56320),h++),y+=d<128?1:d<2048?2:d<65536?3:4;for(u=new r.Buf8(y),h=g=0;g<y;h++)(64512&(d=c.charCodeAt(h)))==55296&&h+1<_&&(64512&(f=c.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(f-56320),h++),d<128?u[g++]=d:(d<2048?u[g++]=192|d>>>6:(d<65536?u[g++]=224|d>>>12:(u[g++]=240|d>>>18,u[g++]=128|d>>>12&63),u[g++]=128|d>>>6&63),u[g++]=128|63&d);return u},t.buf2binstring=function(c){return l(c,c.length)},t.binstring2buf=function(c){for(var u=new r.Buf8(c.length),d=0,f=u.length;d<f;d++)u[d]=c.charCodeAt(d);return u},t.buf2string=function(c,u){var d,f,h,g,_=u||c.length,y=new Array(2*_);for(d=f=0;d<_;)if((h=c[d++])<128)y[f++]=h;else if(4<(g=s[h]))y[f++]=65533,d+=g-1;else{for(h&=g===2?31:g===3?15:7;1<g&&d<_;)h=h<<6|63&c[d++],g--;1<g?y[f++]=65533:h<65536?y[f++]=h:(h-=65536,y[f++]=55296|h>>10&1023,y[f++]=56320|1023&h)}return l(y,f)},t.utf8border=function(c,u){var d;for((u=u||c.length)>c.length&&(u=c.length),d=u-1;0<=d&&(192&c[d])==128;)d--;return d<0||d===0?u:d+s[c[d]]>u?d:u}},{"./common":41}],43:[function(n,e,t){"use strict";e.exports=function(r,i,o,s){for(var a=65535&r|0,l=r>>>16&65535|0,c=0;o!==0;){for(o-=c=2e3<o?2e3:o;l=l+(a=a+i[s++]|0)|0,--c;);a%=65521,l%=65521}return a|l<<16|0}},{}],44:[function(n,e,t){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,e,t){"use strict";var r=(function(){for(var i,o=[],s=0;s<256;s++){i=s;for(var a=0;a<8;a++)i=1&i?3988292384^i>>>1:i>>>1;o[s]=i}return o})();e.exports=function(i,o,s,a){var l=r,c=a+s;i^=-1;for(var u=a;u<c;u++)i=i>>>8^l[255&(i^o[u])];return-1^i}},{}],46:[function(n,e,t){"use strict";var r,i=n("../utils/common"),o=n("./trees"),s=n("./adler32"),a=n("./crc32"),l=n("./messages"),c=0,u=4,d=0,f=-2,h=-1,g=4,_=2,y=8,v=9,E=286,S=30,I=19,R=2*E+1,V=15,j=3,F=258,k=F+j+1,N=42,A=113,x=1,O=2,$=3,Z=4;function se(T,de){return T.msg=l[de],de}function K(T){return(T<<1)-(4<T?9:0)}function te(T){for(var de=T.length;0<=--de;)T[de]=0}function W(T){var de=T.state,he=de.pending;he>T.avail_out&&(he=T.avail_out),he!==0&&(i.arraySet(T.output,de.pending_buf,de.pending_out,he,T.next_out),T.next_out+=he,de.pending_out+=he,T.total_out+=he,T.avail_out-=he,de.pending-=he,de.pending===0&&(de.pending_out=0))}function ee(T,de){o._tr_flush_block(T,0<=T.block_start?T.block_start:-1,T.strstart-T.block_start,de),T.block_start=T.strstart,W(T.strm)}function pe(T,de){T.pending_buf[T.pending++]=de}function M(T,de){T.pending_buf[T.pending++]=de>>>8&255,T.pending_buf[T.pending++]=255&de}function z(T,de){var he,C,G=T.max_chain_length,ie=T.strstart,ve=T.prev_length,ce=T.nice_match,ae=T.strstart>T.w_size-k?T.strstart-(T.w_size-k):0,xe=T.window,De=T.w_mask,be=T.prev,Ve=T.strstart+F,Ke=xe[ie+ve-1],He=xe[ie+ve];T.prev_length>=T.good_match&&(G>>=2),ce>T.lookahead&&(ce=T.lookahead);do if(xe[(he=de)+ve]===He&&xe[he+ve-1]===Ke&&xe[he]===xe[ie]&&xe[++he]===xe[ie+1]){ie+=2,he++;do;while(xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&ie<Ve);if(C=F-(Ve-ie),ie=Ve-F,ve<C){if(T.match_start=de,ce<=(ve=C))break;Ke=xe[ie+ve-1],He=xe[ie+ve]}}while((de=be[de&De])>ae&&--G!=0);return ve<=T.lookahead?ve:T.lookahead}function Q(T){var de,he,C,G,ie,ve,ce,ae,xe,De,be=T.w_size;do{if(G=T.window_size-T.lookahead-T.strstart,T.strstart>=be+(be-k)){for(i.arraySet(T.window,T.window,be,be,0),T.match_start-=be,T.strstart-=be,T.block_start-=be,de=he=T.hash_size;C=T.head[--de],T.head[de]=be<=C?C-be:0,--he;);for(de=he=be;C=T.prev[--de],T.prev[de]=be<=C?C-be:0,--he;);G+=be}if(T.strm.avail_in===0)break;if(ve=T.strm,ce=T.window,ae=T.strstart+T.lookahead,xe=G,De=void 0,De=ve.avail_in,xe<De&&(De=xe),he=De===0?0:(ve.avail_in-=De,i.arraySet(ce,ve.input,ve.next_in,De,ae),ve.state.wrap===1?ve.adler=s(ve.adler,ce,De,ae):ve.state.wrap===2&&(ve.adler=a(ve.adler,ce,De,ae)),ve.next_in+=De,ve.total_in+=De,De),T.lookahead+=he,T.lookahead+T.insert>=j)for(ie=T.strstart-T.insert,T.ins_h=T.window[ie],T.ins_h=(T.ins_h<<T.hash_shift^T.window[ie+1])&T.hash_mask;T.insert&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[ie+j-1])&T.hash_mask,T.prev[ie&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=ie,ie++,T.insert--,!(T.lookahead+T.insert<j)););}while(T.lookahead<k&&T.strm.avail_in!==0)}function ne(T,de){for(var he,C;;){if(T.lookahead<k){if(Q(T),T.lookahead<k&&de===c)return x;if(T.lookahead===0)break}if(he=0,T.lookahead>=j&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+j-1])&T.hash_mask,he=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),he!==0&&T.strstart-he<=T.w_size-k&&(T.match_length=z(T,he)),T.match_length>=j)if(C=o._tr_tally(T,T.strstart-T.match_start,T.match_length-j),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=j){for(T.match_length--;T.strstart++,T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+j-1])&T.hash_mask,he=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart,--T.match_length!=0;);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+1])&T.hash_mask;else C=o._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(C&&(ee(T,!1),T.strm.avail_out===0))return x}return T.insert=T.strstart<j-1?T.strstart:j-1,de===u?(ee(T,!0),T.strm.avail_out===0?$:Z):T.last_lit&&(ee(T,!1),T.strm.avail_out===0)?x:O}function re(T,de){for(var he,C,G;;){if(T.lookahead<k){if(Q(T),T.lookahead<k&&de===c)return x;if(T.lookahead===0)break}if(he=0,T.lookahead>=j&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+j-1])&T.hash_mask,he=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=j-1,he!==0&&T.prev_length<T.max_lazy_match&&T.strstart-he<=T.w_size-k&&(T.match_length=z(T,he),T.match_length<=5&&(T.strategy===1||T.match_length===j&&4096<T.strstart-T.match_start)&&(T.match_length=j-1)),T.prev_length>=j&&T.match_length<=T.prev_length){for(G=T.strstart+T.lookahead-j,C=o._tr_tally(T,T.strstart-1-T.prev_match,T.prev_length-j),T.lookahead-=T.prev_length-1,T.prev_length-=2;++T.strstart<=G&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+j-1])&T.hash_mask,he=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),--T.prev_length!=0;);if(T.match_available=0,T.match_length=j-1,T.strstart++,C&&(ee(T,!1),T.strm.avail_out===0))return x}else if(T.match_available){if((C=o._tr_tally(T,0,T.window[T.strstart-1]))&&ee(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return x}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(C=o._tr_tally(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<j-1?T.strstart:j-1,de===u?(ee(T,!0),T.strm.avail_out===0?$:Z):T.last_lit&&(ee(T,!1),T.strm.avail_out===0)?x:O}function le(T,de,he,C,G){this.good_length=T,this.max_lazy=de,this.nice_length=he,this.max_chain=C,this.func=G}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*R),this.dyn_dtree=new i.Buf16(2*(2*S+1)),this.bl_tree=new i.Buf16(2*(2*I+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(V+1),this.heap=new i.Buf16(2*E+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*E+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(T){var de;return T&&T.state?(T.total_in=T.total_out=0,T.data_type=_,(de=T.state).pending=0,de.pending_out=0,de.wrap<0&&(de.wrap=-de.wrap),de.status=de.wrap?N:A,T.adler=de.wrap===2?0:1,de.last_flush=c,o._tr_init(de),d):se(T,f)}function Ce(T){var de=_e(T);return de===d&&(function(he){he.window_size=2*he.w_size,te(he.head),he.max_lazy_match=r[he.level].max_lazy,he.good_match=r[he.level].good_length,he.nice_match=r[he.level].nice_length,he.max_chain_length=r[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=j-1,he.match_available=0,he.ins_h=0})(T.state),de}function Le(T,de,he,C,G,ie){if(!T)return f;var ve=1;if(de===h&&(de=6),C<0?(ve=0,C=-C):15<C&&(ve=2,C-=16),G<1||v<G||he!==y||C<8||15<C||de<0||9<de||ie<0||g<ie)return se(T,f);C===8&&(C=9);var ce=new ye;return(T.state=ce).strm=T,ce.wrap=ve,ce.gzhead=null,ce.w_bits=C,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=G+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+j-1)/j),ce.window=new i.Buf8(2*ce.w_size),ce.head=new i.Buf16(ce.hash_size),ce.prev=new i.Buf16(ce.w_size),ce.lit_bufsize=1<<G+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new i.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=de,ce.strategy=ie,ce.method=he,Ce(T)}r=[new le(0,0,0,0,function(T,de){var he=65535;for(he>T.pending_buf_size-5&&(he=T.pending_buf_size-5);;){if(T.lookahead<=1){if(Q(T),T.lookahead===0&&de===c)return x;if(T.lookahead===0)break}T.strstart+=T.lookahead,T.lookahead=0;var C=T.block_start+he;if((T.strstart===0||T.strstart>=C)&&(T.lookahead=T.strstart-C,T.strstart=C,ee(T,!1),T.strm.avail_out===0)||T.strstart-T.block_start>=T.w_size-k&&(ee(T,!1),T.strm.avail_out===0))return x}return T.insert=0,de===u?(ee(T,!0),T.strm.avail_out===0?$:Z):(T.strstart>T.block_start&&(ee(T,!1),T.strm.avail_out),x)}),new le(4,4,8,4,ne),new le(4,5,16,8,ne),new le(4,6,32,32,ne),new le(4,4,16,16,re),new le(8,16,32,32,re),new le(8,16,128,128,re),new le(8,32,128,256,re),new le(32,128,258,1024,re),new le(32,258,258,4096,re)],t.deflateInit=function(T,de){return Le(T,de,y,15,8,0)},t.deflateInit2=Le,t.deflateReset=Ce,t.deflateResetKeep=_e,t.deflateSetHeader=function(T,de){return T&&T.state?T.state.wrap!==2?f:(T.state.gzhead=de,d):f},t.deflate=function(T,de){var he,C,G,ie;if(!T||!T.state||5<de||de<0)return T?se(T,f):f;if(C=T.state,!T.output||!T.input&&T.avail_in!==0||C.status===666&&de!==u)return se(T,T.avail_out===0?-5:f);if(C.strm=T,he=C.last_flush,C.last_flush=de,C.status===N)if(C.wrap===2)T.adler=0,pe(C,31),pe(C,139),pe(C,8),C.gzhead?(pe(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),pe(C,255&C.gzhead.time),pe(C,C.gzhead.time>>8&255),pe(C,C.gzhead.time>>16&255),pe(C,C.gzhead.time>>24&255),pe(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),pe(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(pe(C,255&C.gzhead.extra.length),pe(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(T.adler=a(T.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(pe(C,0),pe(C,0),pe(C,0),pe(C,0),pe(C,0),pe(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),pe(C,3),C.status=A);else{var ve=y+(C.w_bits-8<<4)<<8;ve|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(ve|=32),ve+=31-ve%31,C.status=A,M(C,ve),C.strstart!==0&&(M(C,T.adler>>>16),M(C,65535&T.adler)),T.adler=1}if(C.status===69)if(C.gzhead.extra){for(G=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>G&&(T.adler=a(T.adler,C.pending_buf,C.pending-G,G)),W(T),G=C.pending,C.pending!==C.pending_buf_size));)pe(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>G&&(T.adler=a(T.adler,C.pending_buf,C.pending-G,G)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){G=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>G&&(T.adler=a(T.adler,C.pending_buf,C.pending-G,G)),W(T),G=C.pending,C.pending===C.pending_buf_size)){ie=1;break}ie=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,pe(C,ie)}while(ie!==0);C.gzhead.hcrc&&C.pending>G&&(T.adler=a(T.adler,C.pending_buf,C.pending-G,G)),ie===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){G=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>G&&(T.adler=a(T.adler,C.pending_buf,C.pending-G,G)),W(T),G=C.pending,C.pending===C.pending_buf_size)){ie=1;break}ie=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,pe(C,ie)}while(ie!==0);C.gzhead.hcrc&&C.pending>G&&(T.adler=a(T.adler,C.pending_buf,C.pending-G,G)),ie===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&W(T),C.pending+2<=C.pending_buf_size&&(pe(C,255&T.adler),pe(C,T.adler>>8&255),T.adler=0,C.status=A)):C.status=A),C.pending!==0){if(W(T),T.avail_out===0)return C.last_flush=-1,d}else if(T.avail_in===0&&K(de)<=K(he)&&de!==u)return se(T,-5);if(C.status===666&&T.avail_in!==0)return se(T,-5);if(T.avail_in!==0||C.lookahead!==0||de!==c&&C.status!==666){var ce=C.strategy===2?(function(ae,xe){for(var De;;){if(ae.lookahead===0&&(Q(ae),ae.lookahead===0)){if(xe===c)return x;break}if(ae.match_length=0,De=o._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,De&&(ee(ae,!1),ae.strm.avail_out===0))return x}return ae.insert=0,xe===u?(ee(ae,!0),ae.strm.avail_out===0?$:Z):ae.last_lit&&(ee(ae,!1),ae.strm.avail_out===0)?x:O})(C,de):C.strategy===3?(function(ae,xe){for(var De,be,Ve,Ke,He=ae.window;;){if(ae.lookahead<=F){if(Q(ae),ae.lookahead<=F&&xe===c)return x;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=j&&0<ae.strstart&&(be=He[Ve=ae.strstart-1])===He[++Ve]&&be===He[++Ve]&&be===He[++Ve]){Ke=ae.strstart+F;do;while(be===He[++Ve]&&be===He[++Ve]&&be===He[++Ve]&&be===He[++Ve]&&be===He[++Ve]&&be===He[++Ve]&&be===He[++Ve]&&be===He[++Ve]&&Ve<Ke);ae.match_length=F-(Ke-Ve),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=j?(De=o._tr_tally(ae,1,ae.match_length-j),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(De=o._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),De&&(ee(ae,!1),ae.strm.avail_out===0))return x}return ae.insert=0,xe===u?(ee(ae,!0),ae.strm.avail_out===0?$:Z):ae.last_lit&&(ee(ae,!1),ae.strm.avail_out===0)?x:O})(C,de):r[C.level].func(C,de);if(ce!==$&&ce!==Z||(C.status=666),ce===x||ce===$)return T.avail_out===0&&(C.last_flush=-1),d;if(ce===O&&(de===1?o._tr_align(C):de!==5&&(o._tr_stored_block(C,0,0,!1),de===3&&(te(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),W(T),T.avail_out===0))return C.last_flush=-1,d}return de!==u?d:C.wrap<=0?1:(C.wrap===2?(pe(C,255&T.adler),pe(C,T.adler>>8&255),pe(C,T.adler>>16&255),pe(C,T.adler>>24&255),pe(C,255&T.total_in),pe(C,T.total_in>>8&255),pe(C,T.total_in>>16&255),pe(C,T.total_in>>24&255)):(M(C,T.adler>>>16),M(C,65535&T.adler)),W(T),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?d:1)},t.deflateEnd=function(T){var de;return T&&T.state?(de=T.state.status)!==N&&de!==69&&de!==73&&de!==91&&de!==103&&de!==A&&de!==666?se(T,f):(T.state=null,de===A?se(T,-3):d):f},t.deflateSetDictionary=function(T,de){var he,C,G,ie,ve,ce,ae,xe,De=de.length;if(!T||!T.state||(ie=(he=T.state).wrap)===2||ie===1&&he.status!==N||he.lookahead)return f;for(ie===1&&(T.adler=s(T.adler,de,De,0)),he.wrap=0,De>=he.w_size&&(ie===0&&(te(he.head),he.strstart=0,he.block_start=0,he.insert=0),xe=new i.Buf8(he.w_size),i.arraySet(xe,de,De-he.w_size,he.w_size,0),de=xe,De=he.w_size),ve=T.avail_in,ce=T.next_in,ae=T.input,T.avail_in=De,T.next_in=0,T.input=de,Q(he);he.lookahead>=j;){for(C=he.strstart,G=he.lookahead-(j-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[C+j-1])&he.hash_mask,he.prev[C&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=C,C++,--G;);he.strstart=C,he.lookahead=j-1,Q(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=j-1,he.match_available=0,T.next_in=ce,T.input=ae,T.avail_in=ve,he.wrap=ie,d},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,e,t){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,e,t){"use strict";e.exports=function(r,i){var o,s,a,l,c,u,d,f,h,g,_,y,v,E,S,I,R,V,j,F,k,N,A,x,O;o=r.state,s=r.next_in,x=r.input,a=s+(r.avail_in-5),l=r.next_out,O=r.output,c=l-(i-r.avail_out),u=l+(r.avail_out-257),d=o.dmax,f=o.wsize,h=o.whave,g=o.wnext,_=o.window,y=o.hold,v=o.bits,E=o.lencode,S=o.distcode,I=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{v<15&&(y+=x[s++]<<v,v+=8,y+=x[s++]<<v,v+=8),V=E[y&I];t:for(;;){if(y>>>=j=V>>>24,v-=j,(j=V>>>16&255)===0)O[l++]=65535&V;else{if(!(16&j)){if((64&j)==0){V=E[(65535&V)+(y&(1<<j)-1)];continue t}if(32&j){o.mode=12;break e}r.msg="invalid literal/length code",o.mode=30;break e}F=65535&V,(j&=15)&&(v<j&&(y+=x[s++]<<v,v+=8),F+=y&(1<<j)-1,y>>>=j,v-=j),v<15&&(y+=x[s++]<<v,v+=8,y+=x[s++]<<v,v+=8),V=S[y&R];n:for(;;){if(y>>>=j=V>>>24,v-=j,!(16&(j=V>>>16&255))){if((64&j)==0){V=S[(65535&V)+(y&(1<<j)-1)];continue n}r.msg="invalid distance code",o.mode=30;break e}if(k=65535&V,v<(j&=15)&&(y+=x[s++]<<v,(v+=8)<j&&(y+=x[s++]<<v,v+=8)),d<(k+=y&(1<<j)-1)){r.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=j,v-=j,(j=l-c)<k){if(h<(j=k-j)&&o.sane){r.msg="invalid distance too far back",o.mode=30;break e}if(A=_,(N=0)===g){if(N+=f-j,j<F){for(F-=j;O[l++]=_[N++],--j;);N=l-k,A=O}}else if(g<j){if(N+=f+g-j,(j-=g)<F){for(F-=j;O[l++]=_[N++],--j;);if(N=0,g<F){for(F-=j=g;O[l++]=_[N++],--j;);N=l-k,A=O}}}else if(N+=g-j,j<F){for(F-=j;O[l++]=_[N++],--j;);N=l-k,A=O}for(;2<F;)O[l++]=A[N++],O[l++]=A[N++],O[l++]=A[N++],F-=3;F&&(O[l++]=A[N++],1<F&&(O[l++]=A[N++]))}else{for(N=l-k;O[l++]=O[N++],O[l++]=O[N++],O[l++]=O[N++],2<(F-=3););F&&(O[l++]=O[N++],1<F&&(O[l++]=O[N++]))}break}}break}}while(s<a&&l<u);s-=F=v>>3,y&=(1<<(v-=F<<3))-1,r.next_in=s,r.next_out=l,r.avail_in=s<a?a-s+5:5-(s-a),r.avail_out=l<u?u-l+257:257-(l-u),o.hold=y,o.bits=v}},{}],49:[function(n,e,t){"use strict";var r=n("../utils/common"),i=n("./adler32"),o=n("./crc32"),s=n("./inffast"),a=n("./inftrees"),l=1,c=2,u=0,d=-2,f=1,h=852,g=592;function _(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(N){var A;return N&&N.state?(A=N.state,N.total_in=N.total_out=A.total=0,N.msg="",A.wrap&&(N.adler=1&A.wrap),A.mode=f,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new r.Buf32(h),A.distcode=A.distdyn=new r.Buf32(g),A.sane=1,A.back=-1,u):d}function E(N){var A;return N&&N.state?((A=N.state).wsize=0,A.whave=0,A.wnext=0,v(N)):d}function S(N,A){var x,O;return N&&N.state?(O=N.state,A<0?(x=0,A=-A):(x=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?d:(O.window!==null&&O.wbits!==A&&(O.window=null),O.wrap=x,O.wbits=A,E(N))):d}function I(N,A){var x,O;return N?(O=new y,(N.state=O).window=null,(x=S(N,A))!==u&&(N.state=null),x):d}var R,V,j=!0;function F(N){if(j){var A;for(R=new r.Buf32(512),V=new r.Buf32(32),A=0;A<144;)N.lens[A++]=8;for(;A<256;)N.lens[A++]=9;for(;A<280;)N.lens[A++]=7;for(;A<288;)N.lens[A++]=8;for(a(l,N.lens,0,288,R,0,N.work,{bits:9}),A=0;A<32;)N.lens[A++]=5;a(c,N.lens,0,32,V,0,N.work,{bits:5}),j=!1}N.lencode=R,N.lenbits=9,N.distcode=V,N.distbits=5}function k(N,A,x,O){var $,Z=N.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new r.Buf8(Z.wsize)),O>=Z.wsize?(r.arraySet(Z.window,A,x-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(O<($=Z.wsize-Z.wnext)&&($=O),r.arraySet(Z.window,A,x-O,$,Z.wnext),(O-=$)?(r.arraySet(Z.window,A,x-O,O,0),Z.wnext=O,Z.whave=Z.wsize):(Z.wnext+=$,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=$))),0}t.inflateReset=E,t.inflateReset2=S,t.inflateResetKeep=v,t.inflateInit=function(N){return I(N,15)},t.inflateInit2=I,t.inflate=function(N,A){var x,O,$,Z,se,K,te,W,ee,pe,M,z,Q,ne,re,le,ye,_e,Ce,Le,T,de,he,C,G=0,ie=new r.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return d;(x=N.state).mode===12&&(x.mode=13),se=N.next_out,$=N.output,te=N.avail_out,Z=N.next_in,O=N.input,K=N.avail_in,W=x.hold,ee=x.bits,pe=K,M=te,de=u;e:for(;;)switch(x.mode){case f:if(x.wrap===0){x.mode=13;break}for(;ee<16;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if(2&x.wrap&&W===35615){ie[x.check=0]=255&W,ie[1]=W>>>8&255,x.check=o(x.check,ie,2,0),ee=W=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&W)<<8)+(W>>8))%31){N.msg="incorrect header check",x.mode=30;break}if((15&W)!=8){N.msg="unknown compression method",x.mode=30;break}if(ee-=4,T=8+(15&(W>>>=4)),x.wbits===0)x.wbits=T;else if(T>x.wbits){N.msg="invalid window size",x.mode=30;break}x.dmax=1<<T,N.adler=x.check=1,x.mode=512&W?10:12,ee=W=0;break;case 2:for(;ee<16;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if(x.flags=W,(255&x.flags)!=8){N.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){N.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=W>>8&1),512&x.flags&&(ie[0]=255&W,ie[1]=W>>>8&255,x.check=o(x.check,ie,2,0)),ee=W=0,x.mode=3;case 3:for(;ee<32;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}x.head&&(x.head.time=W),512&x.flags&&(ie[0]=255&W,ie[1]=W>>>8&255,ie[2]=W>>>16&255,ie[3]=W>>>24&255,x.check=o(x.check,ie,4,0)),ee=W=0,x.mode=4;case 4:for(;ee<16;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}x.head&&(x.head.xflags=255&W,x.head.os=W>>8),512&x.flags&&(ie[0]=255&W,ie[1]=W>>>8&255,x.check=o(x.check,ie,2,0)),ee=W=0,x.mode=5;case 5:if(1024&x.flags){for(;ee<16;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}x.length=W,x.head&&(x.head.extra_len=W),512&x.flags&&(ie[0]=255&W,ie[1]=W>>>8&255,x.check=o(x.check,ie,2,0)),ee=W=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(K<(z=x.length)&&(z=K),z&&(x.head&&(T=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),r.arraySet(x.head.extra,O,Z,z,T)),512&x.flags&&(x.check=o(x.check,O,z,Z)),K-=z,Z+=z,x.length-=z),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(K===0)break e;for(z=0;T=O[Z+z++],x.head&&T&&x.length<65536&&(x.head.name+=String.fromCharCode(T)),T&&z<K;);if(512&x.flags&&(x.check=o(x.check,O,z,Z)),K-=z,Z+=z,T)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(K===0)break e;for(z=0;T=O[Z+z++],x.head&&T&&x.length<65536&&(x.head.comment+=String.fromCharCode(T)),T&&z<K;);if(512&x.flags&&(x.check=o(x.check,O,z,Z)),K-=z,Z+=z,T)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;ee<16;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if(W!==(65535&x.check)){N.msg="header crc mismatch",x.mode=30;break}ee=W=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),N.adler=x.check=0,x.mode=12;break;case 10:for(;ee<32;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}N.adler=x.check=_(W),ee=W=0,x.mode=11;case 11:if(x.havedict===0)return N.next_out=se,N.avail_out=te,N.next_in=Z,N.avail_in=K,x.hold=W,x.bits=ee,2;N.adler=x.check=1,x.mode=12;case 12:if(A===5||A===6)break e;case 13:if(x.last){W>>>=7&ee,ee-=7&ee,x.mode=27;break}for(;ee<3;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}switch(x.last=1&W,ee-=1,3&(W>>>=1)){case 0:x.mode=14;break;case 1:if(F(x),x.mode=20,A!==6)break;W>>>=2,ee-=2;break e;case 2:x.mode=17;break;case 3:N.msg="invalid block type",x.mode=30}W>>>=2,ee-=2;break;case 14:for(W>>>=7&ee,ee-=7&ee;ee<32;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if((65535&W)!=(W>>>16^65535)){N.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&W,ee=W=0,x.mode=15,A===6)break e;case 15:x.mode=16;case 16:if(z=x.length){if(K<z&&(z=K),te<z&&(z=te),z===0)break e;r.arraySet($,O,Z,z,se),K-=z,Z+=z,te-=z,se+=z,x.length-=z;break}x.mode=12;break;case 17:for(;ee<14;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if(x.nlen=257+(31&W),W>>>=5,ee-=5,x.ndist=1+(31&W),W>>>=5,ee-=5,x.ncode=4+(15&W),W>>>=4,ee-=4,286<x.nlen||30<x.ndist){N.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;ee<3;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}x.lens[ve[x.have++]]=7&W,W>>>=3,ee-=3}for(;x.have<19;)x.lens[ve[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,he={bits:x.lenbits},de=a(0,x.lens,0,19,x.lencode,0,x.work,he),x.lenbits=he.bits,de){N.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;le=(G=x.lencode[W&(1<<x.lenbits)-1])>>>16&255,ye=65535&G,!((re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if(ye<16)W>>>=re,ee-=re,x.lens[x.have++]=ye;else{if(ye===16){for(C=re+2;ee<C;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if(W>>>=re,ee-=re,x.have===0){N.msg="invalid bit length repeat",x.mode=30;break}T=x.lens[x.have-1],z=3+(3&W),W>>>=2,ee-=2}else if(ye===17){for(C=re+3;ee<C;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}ee-=re,T=0,z=3+(7&(W>>>=re)),W>>>=3,ee-=3}else{for(C=re+7;ee<C;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}ee-=re,T=0,z=11+(127&(W>>>=re)),W>>>=7,ee-=7}if(x.have+z>x.nlen+x.ndist){N.msg="invalid bit length repeat",x.mode=30;break}for(;z--;)x.lens[x.have++]=T}}if(x.mode===30)break;if(x.lens[256]===0){N.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,he={bits:x.lenbits},de=a(l,x.lens,0,x.nlen,x.lencode,0,x.work,he),x.lenbits=he.bits,de){N.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,he={bits:x.distbits},de=a(c,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,he),x.distbits=he.bits,de){N.msg="invalid distances set",x.mode=30;break}if(x.mode=20,A===6)break e;case 20:x.mode=21;case 21:if(6<=K&&258<=te){N.next_out=se,N.avail_out=te,N.next_in=Z,N.avail_in=K,x.hold=W,x.bits=ee,s(N,M),se=N.next_out,$=N.output,te=N.avail_out,Z=N.next_in,O=N.input,K=N.avail_in,W=x.hold,ee=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;le=(G=x.lencode[W&(1<<x.lenbits)-1])>>>16&255,ye=65535&G,!((re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if(le&&(240&le)==0){for(_e=re,Ce=le,Le=ye;le=(G=x.lencode[Le+((W&(1<<_e+Ce)-1)>>_e)])>>>16&255,ye=65535&G,!(_e+(re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}W>>>=_e,ee-=_e,x.back+=_e}if(W>>>=re,ee-=re,x.back+=re,x.length=ye,le===0){x.mode=26;break}if(32&le){x.back=-1,x.mode=12;break}if(64&le){N.msg="invalid literal/length code",x.mode=30;break}x.extra=15&le,x.mode=22;case 22:if(x.extra){for(C=x.extra;ee<C;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}x.length+=W&(1<<x.extra)-1,W>>>=x.extra,ee-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;le=(G=x.distcode[W&(1<<x.distbits)-1])>>>16&255,ye=65535&G,!((re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if((240&le)==0){for(_e=re,Ce=le,Le=ye;le=(G=x.distcode[Le+((W&(1<<_e+Ce)-1)>>_e)])>>>16&255,ye=65535&G,!(_e+(re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}W>>>=_e,ee-=_e,x.back+=_e}if(W>>>=re,ee-=re,x.back+=re,64&le){N.msg="invalid distance code",x.mode=30;break}x.offset=ye,x.extra=15&le,x.mode=24;case 24:if(x.extra){for(C=x.extra;ee<C;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}x.offset+=W&(1<<x.extra)-1,W>>>=x.extra,ee-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){N.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(te===0)break e;if(z=M-te,x.offset>z){if((z=x.offset-z)>x.whave&&x.sane){N.msg="invalid distance too far back",x.mode=30;break}Q=z>x.wnext?(z-=x.wnext,x.wsize-z):x.wnext-z,z>x.length&&(z=x.length),ne=x.window}else ne=$,Q=se-x.offset,z=x.length;for(te<z&&(z=te),te-=z,x.length-=z;$[se++]=ne[Q++],--z;);x.length===0&&(x.mode=21);break;case 26:if(te===0)break e;$[se++]=x.length,te--,x.mode=21;break;case 27:if(x.wrap){for(;ee<32;){if(K===0)break e;K--,W|=O[Z++]<<ee,ee+=8}if(M-=te,N.total_out+=M,x.total+=M,M&&(N.adler=x.check=x.flags?o(x.check,$,M,se-M):i(x.check,$,M,se-M)),M=te,(x.flags?W:_(W))!==x.check){N.msg="incorrect data check",x.mode=30;break}ee=W=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;ee<32;){if(K===0)break e;K--,W+=O[Z++]<<ee,ee+=8}if(W!==(4294967295&x.total)){N.msg="incorrect length check",x.mode=30;break}ee=W=0}x.mode=29;case 29:de=1;break e;case 30:de=-3;break e;case 31:return-4;case 32:default:return d}return N.next_out=se,N.avail_out=te,N.next_in=Z,N.avail_in=K,x.hold=W,x.bits=ee,(x.wsize||M!==N.avail_out&&x.mode<30&&(x.mode<27||A!==4))&&k(N,N.output,N.next_out,M-N.avail_out)?(x.mode=31,-4):(pe-=N.avail_in,M-=N.avail_out,N.total_in+=pe,N.total_out+=M,x.total+=M,x.wrap&&M&&(N.adler=x.check=x.flags?o(x.check,$,M,N.next_out-M):i(x.check,$,M,N.next_out-M)),N.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(pe==0&&M===0||A===4)&&de===u&&(de=-5),de)},t.inflateEnd=function(N){if(!N||!N.state)return d;var A=N.state;return A.window&&(A.window=null),N.state=null,u},t.inflateGetHeader=function(N,A){var x;return N&&N.state?(2&(x=N.state).wrap)==0?d:((x.head=A).done=!1,u):d},t.inflateSetDictionary=function(N,A){var x,O=A.length;return N&&N.state?(x=N.state).wrap!==0&&x.mode!==11?d:x.mode===11&&i(1,A,O,0)!==x.check?-3:k(N,A,O,O)?(x.mode=31,-4):(x.havedict=1,u):d},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,e,t){"use strict";var r=n("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(l,c,u,d,f,h,g,_){var y,v,E,S,I,R,V,j,F,k=_.bits,N=0,A=0,x=0,O=0,$=0,Z=0,se=0,K=0,te=0,W=0,ee=null,pe=0,M=new r.Buf16(16),z=new r.Buf16(16),Q=null,ne=0;for(N=0;N<=15;N++)M[N]=0;for(A=0;A<d;A++)M[c[u+A]]++;for($=k,O=15;1<=O&&M[O]===0;O--);if(O<$&&($=O),O===0)return f[h++]=20971520,f[h++]=20971520,_.bits=1,0;for(x=1;x<O&&M[x]===0;x++);for($<x&&($=x),N=K=1;N<=15;N++)if(K<<=1,(K-=M[N])<0)return-1;if(0<K&&(l===0||O!==1))return-1;for(z[1]=0,N=1;N<15;N++)z[N+1]=z[N]+M[N];for(A=0;A<d;A++)c[u+A]!==0&&(g[z[c[u+A]]++]=A);if(R=l===0?(ee=Q=g,19):l===1?(ee=i,pe-=257,Q=o,ne-=257,256):(ee=s,Q=a,-1),N=x,I=h,se=A=W=0,E=-1,S=(te=1<<(Z=$))-1,l===1&&852<te||l===2&&592<te)return 1;for(;;){for(V=N-se,F=g[A]<R?(j=0,g[A]):g[A]>R?(j=Q[ne+g[A]],ee[pe+g[A]]):(j=96,0),y=1<<N-se,x=v=1<<Z;f[I+(W>>se)+(v-=y)]=V<<24|j<<16|F|0,v!==0;);for(y=1<<N-1;W&y;)y>>=1;if(y!==0?(W&=y-1,W+=y):W=0,A++,--M[N]==0){if(N===O)break;N=c[u+g[A]]}if($<N&&(W&S)!==E){for(se===0&&(se=$),I+=x,K=1<<(Z=N-se);Z+se<O&&!((K-=M[Z+se])<=0);)Z++,K<<=1;if(te+=1<<Z,l===1&&852<te||l===2&&592<te)return 1;f[E=W&S]=$<<24|Z<<16|I-h|0}}return W!==0&&(f[I+W]=N-se<<24|64<<16|0),_.bits=$,0}},{"../utils/common":41}],51:[function(n,e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,e,t){"use strict";var r=n("../utils/common"),i=0,o=1;function s(G){for(var ie=G.length;0<=--ie;)G[ie]=0}var a=0,l=29,c=256,u=c+1+l,d=30,f=19,h=2*u+1,g=15,_=16,y=7,v=256,E=16,S=17,I=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(2*(u+2));s(k);var N=new Array(2*d);s(N);var A=new Array(512);s(A);var x=new Array(256);s(x);var O=new Array(l);s(O);var $,Z,se,K=new Array(d);function te(G,ie,ve,ce,ae){this.static_tree=G,this.extra_bits=ie,this.extra_base=ve,this.elems=ce,this.max_length=ae,this.has_stree=G&&G.length}function W(G,ie){this.dyn_tree=G,this.max_code=0,this.stat_desc=ie}function ee(G){return G<256?A[G]:A[256+(G>>>7)]}function pe(G,ie){G.pending_buf[G.pending++]=255&ie,G.pending_buf[G.pending++]=ie>>>8&255}function M(G,ie,ve){G.bi_valid>_-ve?(G.bi_buf|=ie<<G.bi_valid&65535,pe(G,G.bi_buf),G.bi_buf=ie>>_-G.bi_valid,G.bi_valid+=ve-_):(G.bi_buf|=ie<<G.bi_valid&65535,G.bi_valid+=ve)}function z(G,ie,ve){M(G,ve[2*ie],ve[2*ie+1])}function Q(G,ie){for(var ve=0;ve|=1&G,G>>>=1,ve<<=1,0<--ie;);return ve>>>1}function ne(G,ie,ve){var ce,ae,xe=new Array(g+1),De=0;for(ce=1;ce<=g;ce++)xe[ce]=De=De+ve[ce-1]<<1;for(ae=0;ae<=ie;ae++){var be=G[2*ae+1];be!==0&&(G[2*ae]=Q(xe[be]++,be))}}function re(G){var ie;for(ie=0;ie<u;ie++)G.dyn_ltree[2*ie]=0;for(ie=0;ie<d;ie++)G.dyn_dtree[2*ie]=0;for(ie=0;ie<f;ie++)G.bl_tree[2*ie]=0;G.dyn_ltree[2*v]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function le(G){8<G.bi_valid?pe(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function ye(G,ie,ve,ce){var ae=2*ie,xe=2*ve;return G[ae]<G[xe]||G[ae]===G[xe]&&ce[ie]<=ce[ve]}function _e(G,ie,ve){for(var ce=G.heap[ve],ae=ve<<1;ae<=G.heap_len&&(ae<G.heap_len&&ye(ie,G.heap[ae+1],G.heap[ae],G.depth)&&ae++,!ye(ie,ce,G.heap[ae],G.depth));)G.heap[ve]=G.heap[ae],ve=ae,ae<<=1;G.heap[ve]=ce}function Ce(G,ie,ve){var ce,ae,xe,De,be=0;if(G.last_lit!==0)for(;ce=G.pending_buf[G.d_buf+2*be]<<8|G.pending_buf[G.d_buf+2*be+1],ae=G.pending_buf[G.l_buf+be],be++,ce===0?z(G,ae,ie):(z(G,(xe=x[ae])+c+1,ie),(De=R[xe])!==0&&M(G,ae-=O[xe],De),z(G,xe=ee(--ce),ve),(De=V[xe])!==0&&M(G,ce-=K[xe],De)),be<G.last_lit;);z(G,v,ie)}function Le(G,ie){var ve,ce,ae,xe=ie.dyn_tree,De=ie.stat_desc.static_tree,be=ie.stat_desc.has_stree,Ve=ie.stat_desc.elems,Ke=-1;for(G.heap_len=0,G.heap_max=h,ve=0;ve<Ve;ve++)xe[2*ve]!==0?(G.heap[++G.heap_len]=Ke=ve,G.depth[ve]=0):xe[2*ve+1]=0;for(;G.heap_len<2;)xe[2*(ae=G.heap[++G.heap_len]=Ke<2?++Ke:0)]=1,G.depth[ae]=0,G.opt_len--,be&&(G.static_len-=De[2*ae+1]);for(ie.max_code=Ke,ve=G.heap_len>>1;1<=ve;ve--)_e(G,xe,ve);for(ae=Ve;ve=G.heap[1],G.heap[1]=G.heap[G.heap_len--],_e(G,xe,1),ce=G.heap[1],G.heap[--G.heap_max]=ve,G.heap[--G.heap_max]=ce,xe[2*ae]=xe[2*ve]+xe[2*ce],G.depth[ae]=(G.depth[ve]>=G.depth[ce]?G.depth[ve]:G.depth[ce])+1,xe[2*ve+1]=xe[2*ce+1]=ae,G.heap[1]=ae++,_e(G,xe,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],(function(He,yt){var Lt,Ye,bt,qe,qn,nn,wt=yt.dyn_tree,Nt=yt.max_code,Ln=yt.stat_desc.static_tree,ut=yt.stat_desc.has_stree,kn=yt.stat_desc.extra_bits,pt=yt.stat_desc.extra_base,gt=yt.stat_desc.max_length,fn=0;for(qe=0;qe<=g;qe++)He.bl_count[qe]=0;for(wt[2*He.heap[He.heap_max]+1]=0,Lt=He.heap_max+1;Lt<h;Lt++)gt<(qe=wt[2*wt[2*(Ye=He.heap[Lt])+1]+1]+1)&&(qe=gt,fn++),wt[2*Ye+1]=qe,Nt<Ye||(He.bl_count[qe]++,qn=0,pt<=Ye&&(qn=kn[Ye-pt]),nn=wt[2*Ye],He.opt_len+=nn*(qe+qn),ut&&(He.static_len+=nn*(Ln[2*Ye+1]+qn)));if(fn!==0){do{for(qe=gt-1;He.bl_count[qe]===0;)qe--;He.bl_count[qe]--,He.bl_count[qe+1]+=2,He.bl_count[gt]--,fn-=2}while(0<fn);for(qe=gt;qe!==0;qe--)for(Ye=He.bl_count[qe];Ye!==0;)Nt<(bt=He.heap[--Lt])||(wt[2*bt+1]!==qe&&(He.opt_len+=(qe-wt[2*bt+1])*wt[2*bt],wt[2*bt+1]=qe),Ye--)}})(G,ie),ne(xe,Ke,G.bl_count)}function T(G,ie,ve){var ce,ae,xe=-1,De=ie[1],be=0,Ve=7,Ke=4;for(De===0&&(Ve=138,Ke=3),ie[2*(ve+1)+1]=65535,ce=0;ce<=ve;ce++)ae=De,De=ie[2*(ce+1)+1],++be<Ve&&ae===De||(be<Ke?G.bl_tree[2*ae]+=be:ae!==0?(ae!==xe&&G.bl_tree[2*ae]++,G.bl_tree[2*E]++):be<=10?G.bl_tree[2*S]++:G.bl_tree[2*I]++,xe=ae,Ke=(be=0)===De?(Ve=138,3):ae===De?(Ve=6,3):(Ve=7,4))}function de(G,ie,ve){var ce,ae,xe=-1,De=ie[1],be=0,Ve=7,Ke=4;for(De===0&&(Ve=138,Ke=3),ce=0;ce<=ve;ce++)if(ae=De,De=ie[2*(ce+1)+1],!(++be<Ve&&ae===De)){if(be<Ke)for(;z(G,ae,G.bl_tree),--be!=0;);else ae!==0?(ae!==xe&&(z(G,ae,G.bl_tree),be--),z(G,E,G.bl_tree),M(G,be-3,2)):be<=10?(z(G,S,G.bl_tree),M(G,be-3,3)):(z(G,I,G.bl_tree),M(G,be-11,7));xe=ae,Ke=(be=0)===De?(Ve=138,3):ae===De?(Ve=6,3):(Ve=7,4)}}s(K);var he=!1;function C(G,ie,ve,ce){M(G,(a<<1)+(ce?1:0),3),(function(ae,xe,De,be){le(ae),be&&(pe(ae,De),pe(ae,~De)),r.arraySet(ae.pending_buf,ae.window,xe,De,ae.pending),ae.pending+=De})(G,ie,ve,!0)}t._tr_init=function(G){he||((function(){var ie,ve,ce,ae,xe,De=new Array(g+1);for(ae=ce=0;ae<l-1;ae++)for(O[ae]=ce,ie=0;ie<1<<R[ae];ie++)x[ce++]=ae;for(x[ce-1]=ae,ae=xe=0;ae<16;ae++)for(K[ae]=xe,ie=0;ie<1<<V[ae];ie++)A[xe++]=ae;for(xe>>=7;ae<d;ae++)for(K[ae]=xe<<7,ie=0;ie<1<<V[ae]-7;ie++)A[256+xe++]=ae;for(ve=0;ve<=g;ve++)De[ve]=0;for(ie=0;ie<=143;)k[2*ie+1]=8,ie++,De[8]++;for(;ie<=255;)k[2*ie+1]=9,ie++,De[9]++;for(;ie<=279;)k[2*ie+1]=7,ie++,De[7]++;for(;ie<=287;)k[2*ie+1]=8,ie++,De[8]++;for(ne(k,u+1,De),ie=0;ie<d;ie++)N[2*ie+1]=5,N[2*ie]=Q(ie,5);$=new te(k,R,c+1,u,g),Z=new te(N,V,0,d,g),se=new te(new Array(0),j,0,f,y)})(),he=!0),G.l_desc=new W(G.dyn_ltree,$),G.d_desc=new W(G.dyn_dtree,Z),G.bl_desc=new W(G.bl_tree,se),G.bi_buf=0,G.bi_valid=0,re(G)},t._tr_stored_block=C,t._tr_flush_block=function(G,ie,ve,ce){var ae,xe,De=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=(function(be){var Ve,Ke=4093624447;for(Ve=0;Ve<=31;Ve++,Ke>>>=1)if(1&Ke&&be.dyn_ltree[2*Ve]!==0)return i;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return o;for(Ve=32;Ve<c;Ve++)if(be.dyn_ltree[2*Ve]!==0)return o;return i})(G)),Le(G,G.l_desc),Le(G,G.d_desc),De=(function(be){var Ve;for(T(be,be.dyn_ltree,be.l_desc.max_code),T(be,be.dyn_dtree,be.d_desc.max_code),Le(be,be.bl_desc),Ve=f-1;3<=Ve&&be.bl_tree[2*F[Ve]+1]===0;Ve--);return be.opt_len+=3*(Ve+1)+5+5+4,Ve})(G),ae=G.opt_len+3+7>>>3,(xe=G.static_len+3+7>>>3)<=ae&&(ae=xe)):ae=xe=ve+5,ve+4<=ae&&ie!==-1?C(G,ie,ve,ce):G.strategy===4||xe===ae?(M(G,2+(ce?1:0),3),Ce(G,k,N)):(M(G,4+(ce?1:0),3),(function(be,Ve,Ke,He){var yt;for(M(be,Ve-257,5),M(be,Ke-1,5),M(be,He-4,4),yt=0;yt<He;yt++)M(be,be.bl_tree[2*F[yt]+1],3);de(be,be.dyn_ltree,Ve-1),de(be,be.dyn_dtree,Ke-1)})(G,G.l_desc.max_code+1,G.d_desc.max_code+1,De+1),Ce(G,G.dyn_ltree,G.dyn_dtree)),re(G),ce&&le(G)},t._tr_tally=function(G,ie,ve){return G.pending_buf[G.d_buf+2*G.last_lit]=ie>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&ie,G.pending_buf[G.l_buf+G.last_lit]=255&ve,G.last_lit++,ie===0?G.dyn_ltree[2*ve]++:(G.matches++,ie--,G.dyn_ltree[2*(x[ve]+c+1)]++,G.dyn_dtree[2*ee(ie)]++),G.last_lit===G.lit_bufsize-1},t._tr_align=function(G){M(G,2,3),z(G,v,k),(function(ie){ie.bi_valid===16?(pe(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)})(G)}},{"../utils/common":41}],53:[function(n,e,t){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,e,t){(function(r){(function(i,o){"use strict";if(!i.setImmediate){var s,a,l,c,u=1,d={},f=!1,h=i.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(i);g=g&&g.setTimeout?g:i,s={}.toString.call(i.process)==="[object process]"?function(E){process.nextTick(function(){y(E)})}:(function(){if(i.postMessage&&!i.importScripts){var E=!0,S=i.onmessage;return i.onmessage=function(){E=!1},i.postMessage("","*"),i.onmessage=S,E}})()?(c="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",v,!1):i.attachEvent("onmessage",v),function(E){i.postMessage(c+E,"*")}):i.MessageChannel?((l=new MessageChannel).port1.onmessage=function(E){y(E.data)},function(E){l.port2.postMessage(E)}):h&&"onreadystatechange"in h.createElement("script")?(a=h.documentElement,function(E){var S=h.createElement("script");S.onreadystatechange=function(){y(E),S.onreadystatechange=null,a.removeChild(S),S=null},a.appendChild(S)}):function(E){setTimeout(y,0,E)},g.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var S=new Array(arguments.length-1),I=0;I<S.length;I++)S[I]=arguments[I+1];var R={callback:E,args:S};return d[u]=R,s(u),u++},g.clearImmediate=_}function _(E){delete d[E]}function y(E){if(f)setTimeout(y,0,E);else{var S=d[E];if(S){f=!0;try{(function(I){var R=I.callback,V=I.args;switch(V.length){case 0:R();break;case 1:R(V[0]);break;case 2:R(V[0],V[1]);break;case 3:R(V[0],V[1],V[2]);break;default:R.apply(o,V)}})(S)}finally{_(E),f=!1}}}}function v(E){E.source===i&&typeof E.data=="string"&&E.data.indexOf(c)===0&&y(+E.data.slice(c.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var KA=Bi((gHe,B9)=>{"use strict";B9.exports.geometries={NULL:0,POINT:1,POLYLINE:3,POLYGON:5,MULTIPOINT:8,POINTZ:11,POLYLINEZ:13,POLYGONZ:15,MULTIPOINTZ:18,POINTM:21,POLYLINEM:23,POLYGONM:25,MULTIPOINTM:28,MULTIPATCH:31}});var JA=Bi((mHe,U9)=>{"use strict";U9.exports={C:254,L:1,D:8,N:18,M:18,F:18,B:8}});var G9=Bi((_He,Wx)=>{"use strict";Wx.exports.lpad=function(e,t,r){for(;e.length<t;)e=r+e;return e};Wx.exports.rpad=function(e,t,r){for(;e.length<t;)e=e+r;return e};Wx.exports.writeField=function(e,t,r,i){for(var o=0;o<t;o++)e.setUint8(i,r.charCodeAt(o)),i++;return i}});var V9=Bi((yHe,$x)=>{"use strict";var Sse=JA(),Cse={string:"C",number:"N",boolean:"L",null:"C"};$x.exports.multi=Ise;$x.exports.bytesPer=Tse;$x.exports.obj=z9;function Ise(n){var e={};n.forEach(t);function t(r){Dse(e,r)}return z9(e)}function Dse(n,e){for(var t in e){var r=typeof e[t]<"u"&&e[t]!==null;(typeof n[t]>"u"||r)&&(n[t]=e[t])}return n}function z9(n){var e={},t=[];for(var r in n)e[r]=n[r]===null?"null":typeof n[r];for(var i in e){var o=Cse[e[i]];o&&t.push({name:i,type:o,size:Sse[o]})}return t}function Tse(n){return n.reduce(function(e,t){return e+t.size},1)}});var W9=Bi((wHe,q9)=>{"use strict";var vHe=JA(),xg=G9(),H9=V9();q9.exports=function(e,t){var r=t||H9.multi(e),i=32*r.length+1,o=H9.bytesPer(r),s=new ArrayBuffer(i+32+o*e.length+1),a=new Date,l=new DataView(s);l.setUint8(0,3),l.setUint8(1,a.getFullYear()-1900),l.setUint8(2,a.getMonth()+1),l.setUint8(3,a.getDate()),l.setUint32(4,e.length,!0);var c=i+32;l.setUint16(8,c,!0),l.setUint16(10,o,!0),l.setInt8(32+i-1,13),r.forEach(function(d,f){d.name.split("").slice(0,10).forEach(function(h,g){l.setInt8(32+f*32+g,h.charCodeAt(0))}),l.setInt8(32+f*32+11,d.type.charCodeAt(0)),l.setInt8(32+f*32+16,d.size),d.type=="N"&&l.setInt8(32+f*32+17,3)});var u=i+32;return e.forEach(function(d,f){l.setUint8(u,32),u++,r.forEach(function(h){var g=d[h.name];switch((g===null||typeof g>"u")&&(g=""),h.type){case"L":l.setUint8(u,g?84:70),u++;break;case"D":u=xg.writeField(l,8,xg.lpad(g.toString(),8," "),u);break;case"N":u=xg.writeField(l,h.size,xg.lpad(g.toString(),h.size," ").substr(0,18),u);break;case"C":u=xg.writeField(l,h.size,xg.rpad(g.toString(),h.size," "),u);break;default:throw new Error("Unknown field type")}})}),l.setUint8(u,26),l}});var Z9=Bi((xHe,$9)=>{"use strict";$9.exports.structure=W9()});var QA=Bi((bHe,Y9)=>{"use strict";Y9.exports='GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]]'});var eR=Bi((EHe,Zx)=>{"use strict";Zx.exports.enlarge=function(e,t){return t[0]<e.xmin&&(e.xmin=t[0]),t[0]>e.xmax&&(e.xmax=t[0]),t[1]<e.ymin&&(e.ymin=t[1]),t[1]>e.ymax&&(e.ymax=t[1]),e};Zx.exports.enlargeExtent=function(e,t){return t.xmax>e.xmax&&(e.xmax=t.xmax),t.xmin<e.xmin&&(e.xmin=t.xmin),t.ymax>e.ymax&&(e.ymax=t.ymax),t.ymin<e.ymin&&(e.ymin=t.ymin),e};Zx.exports.blank=function(){return{xmin:Number.MAX_VALUE,ymin:Number.MAX_VALUE,xmax:-Number.MAX_VALUE,ymax:-Number.MAX_VALUE}}});var K9=Bi((SHe,bg)=>{"use strict";var X9=eR();bg.exports.write=function(e,t,r,i){var o=28,s=100,a=0,l=0;e.forEach(function(u,d){r.setInt32(a,d+1),r.setInt32(a+4,10),r.setInt32(a+8,1,!0),r.setFloat64(a+12,u[0],!0),r.setFloat64(a+20,u[1],!0),i.setInt32(l,s/2),i.setInt32(l+4,10),l+=8,a+=o,s+=o})};bg.exports.extent=function(n){return n.reduce(function(e,t){return X9.enlarge(e,t)},X9.blank())};bg.exports.parts=function(e,t){return e.length};bg.exports.shxLength=function(n){return n.length*8};bg.exports.shpLength=function(n){return n.length*28}});var eB=Bi((CHe,Eg)=>{"use strict";var Yx=eR(),J9=KA();Eg.exports.write=function(e,t,r,i,o){var s=0,a=0,l=100;e.forEach(c);function c(u,d){var f=Xx(u),h=Q9([u],o),g=f.length*16+48+(h-1)*4,_=f.reduce(function(E,S){return Yx.enlarge(E,S)},Yx.blank());i.setInt32(a,l/2),i.setInt32(a+4,g/2),a+=8,l+=g+8,r.setInt32(s,d+1),r.setInt32(s+4,g/2),r.setInt32(s+8,o,!0),r.setFloat64(s+12,_.xmin,!0),r.setFloat64(s+20,_.ymin,!0),r.setFloat64(s+28,_.xmax,!0),r.setFloat64(s+36,_.ymax,!0),r.setInt32(s+44,h,!0),r.setInt32(s+48,f.length,!0),r.setInt32(s+52,0,!0);for(var y=u.reduce(function(E,S){return Array.isArray(S[0][0])?E=E.concat(S):E.push(S),E},[]),v=1;v<h;v++)r.setInt32(s+52+v*4,y.reduce(function(E,S,I){return I<v?E+S.length:E},0),!0);f.forEach(function(S,I){r.setFloat64(s+56+I*16+(h-1)*4,S[0],!0),r.setFloat64(s+56+I*16+(h-1)*4+8,S[1],!0)}),s+=g+8}};Eg.exports.shpLength=function(n){return n.length*56+Xx(n).length*16};Eg.exports.shxLength=function(n){return n.length*8};Eg.exports.extent=function(n){return Xx(n).reduce(function(e,t){return Yx.enlarge(e,t)},Yx.blank())};function Q9(n,e){var t=1;return(e===J9.geometries.POLYGON||e===J9.geometries.POLYLINE)&&(t=n.reduce(function(r,i){return r+=i.length,Array.isArray(i[0][0][0])&&(r+=i.reduce(function(o,s){return o+s.length-1},0)),r},0)),t}Eg.exports.parts=Q9;function Xx(n,e){return e===void 0&&(e=[]),typeof n[0][0]=="object"?n.reduce(function(t,r){return t.concat(Xx(r))},e):n}});var tR=Bi((IHe,iB)=>{"use strict";var Mse=KA(),Ase=Z9(),Rse=QA(),Nse=K9(),tB=eB(),Pse={1:Nse,5:tB,3:tB};iB.exports=Lse;function Lse(n,e,t,r){var i=Mse.geometries[e],o=Pse[i],s=o.parts(t,i),a=100+(s-t.length)*4+o.shpLength(t),l=100+o.shxLength(t),c=new ArrayBuffer(a),u=new DataView(c),d=new ArrayBuffer(l),f=new DataView(d),h=o.extent(t);nB(u,i),nB(f,i),rB(h,u),rB(h,f),o.write(t,h,new DataView(c,100),new DataView(d,100),i),u.setInt32(24,a/2),f.setInt32(24,50+t.length*4);var g=Ase.structure(n);r(null,{shp:u,shx:f,dbf:g,prj:Rse})}function nB(n,e){n.setInt32(0,9994),n.setInt32(28,1e3,!0),n.setInt32(32,e,!0)}function rB(n,e){e.setFloat64(36,n.xmin,!0),e.setFloat64(44,n.ymin,!0),e.setFloat64(52,n.xmax,!0),e.setFloat64(60,n.ymax,!0)}});var sB=Bi((DHe,Sg)=>{"use strict";Sg.exports.point=Z1("Point","POINT");Sg.exports.line=Z1("LineString","POLYLINE");Sg.exports.multiline=Z1("MultiLineString","POLYLINE");Sg.exports.polygon=Z1("Polygon","POLYGON");Sg.exports.multipolygon=Z1("MultiPolygon","POLYGON");function Z1(n,e){return function(t){var r=t.features.filter(Ose(n));return{geometries:e==="POLYLINE"?[r.map(oB)]:r.map(oB),properties:r.map(kse),type:e}}}function oB(n){return n.geometry.coordinates}function kse(n){return n.properties}function Ose(n){return Array.isArray(n)?function(e){return n.includes(e.geometry.type)}:function(e){return e.geometry.type===n}}});var nR=Bi((THe,aB)=>{"use strict";var Fse=tR(),Y1=sB(),jse=QA(),Bse=UA();aB.exports=function(n,e,t=!1){let r=new Bse,i=r;e&&e.folder&&(i=r.folder(e.folder));var o=e&&e.prj?e.prj:jse;[Y1.point(n),Y1.line(n),Y1.polygon(n),Y1.multipolygon(n),Y1.multiline(n)].forEach(function(a){a.geometries.length&&a.geometries[0].length&&Fse(a.properties,a.type,a.geometries,function(l,c){var u=e&&e.types&&e.types[a.type.toLowerCase()]?e.types[a.type.toLowerCase()]:a.type;i.file(u+".shp",c.shp.buffer,{binary:!0}),i.file(u+".shx",c.shx.buffer,{binary:!0}),i.file(u+".dbf",c.dbf.buffer,{binary:!0}),i.file(u+".prj",o)})});var s={};return!e||!e.outputType?s.type="base64":s.type=e.outputType,!e||!e.compression?s.compression="DEFLATE":s.compression=e.compression,t?r.generateNodeStream(ln(Ze({},s),{streamFiles:!0})):r.generateAsync(s)}});var lB=Bi((rR,iR)=>{"use strict";(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof rR<"u"?e():(e(),n.FileSaver={})})(rR,function(){"use strict";function n(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,l,c){var u=new XMLHttpRequest;u.open("GET",a),u.responseType="blob",u.onload=function(){s(u.response,l,c)},u.onerror=function(){console.error("could not download file")},u.send()}function t(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,l,c){var u=i.URL||i.webkitURL,d=document.createElement("a");l=l||a.name||"download",d.download=l,d.rel="noopener",typeof a=="string"?(d.href=a,d.origin===location.origin?r(d):t(d.href)?e(a,l,c):r(d,d.target="_blank")):(d.href=u.createObjectURL(a),setTimeout(function(){u.revokeObjectURL(d.href)},4e4),setTimeout(function(){r(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(n(a,c),l);else if(t(a))e(a,l,c);else{var u=document.createElement("a");u.href=a,u.target="_blank",setTimeout(function(){r(u)})}}:function(a,l,c,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof a=="string")return e(a,l,c);var d=a.type==="application/octet-stream",f=/constructor/i.test(i.HTMLElement)||i.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||d&&f||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var v=g.result;v=h?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=v:location=v,u=null},g.readAsDataURL(a)}else{var _=i.URL||i.webkitURL,y=_.createObjectURL(a);u?u.location=y:location.href=y,u=null,setTimeout(function(){_.revokeObjectURL(y)},4e4)}});i.saveAs=s.saveAs=s,typeof iR<"u"&&(iR.exports=s)})});var uB=Bi((AHe,cB)=>{"use strict";var Use=nR(),Gse=lB().saveAs;cB.exports=function(n,e){let t="download";e&&(e.filename||e.folder)&&(t=e.filename||e.folder),Use(n,e).then(function(r){Gse(r,t+".zip")})}});var hB=Bi((RHe,Kx)=>{"use strict";Kx.exports.download=uB();Kx.exports.write=tR();Kx.exports.zip=nR()});var LE;function ly(){return LE}function Ja(n){let e=LE;return LE=n,e}var f4=Symbol("NotFound");function yf(n){return n===f4||n?.name==="\u0275NotFound"}var Qi=null,cy=!1,kE=1,sV=null,wo=Symbol("SIGNAL");function It(n){let e=Qi;return Qi=n,e}function fy(){return Qi}var Ah={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vf(n){if(cy)throw new Error("");if(Qi===null)return;Qi.consumerOnSignalRead(n);let e=Qi.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Qi.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Qi.producers,t!==void 0&&t.producer===n)){Qi.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Qi&&(!r||lV(i,Qi)))return;let o=bf(Qi),s={producer:n,consumer:Qi,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Qi.producersTail=s,e!==void 0?e.nextProducer=s:Qi.producers=s,o&&_4(n,s)}function p4(){kE++}function py(n){if(!(bf(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===kE)){if(!n.producerMustRecompute(n)&&!xf(n)){dy(n);return}n.producerRecomputeValue(n),dy(n)}}function OE(n){if(n.consumers===void 0)return;let e=cy;cy=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||aV(r)}}finally{cy=e}}function FE(){return Qi?.consumerAllowSignalWrites!==!1}function aV(n){n.dirty=!0,OE(n),n.consumerMarkedDirty?.(n)}function dy(n){n.dirty=!1,n.lastCleanEpoch=kE}function Rh(n){return n&&g4(n),It(n)}function g4(n){n.producersTail=void 0,n.recomputing=!0}function wf(n,e){It(e),n&&m4(n)}function m4(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(bf(n))do t=jE(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function xf(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(py(t),r!==t.version))return!0}return!1}function Nh(n){if(bf(n)){let e=n.producers;for(;e!==void 0;)e=jE(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function _4(n,e){let t=n.consumersTail,r=bf(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)_4(i.producer,i)}function jE(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!bf(e)){let o=e.producers;for(;o!==void 0;)o=jE(o)}return t}function bf(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function gy(n){sV?.(n)}function lV(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function my(n,e){return Object.is(n,e)}function _y(n,e){let t=Object.create(cV);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(py(t),vf(t),t.value===wm)throw t.error;return t.value};return r[wo]=t,gy(t),r}var uy=Symbol("UNSET"),hy=Symbol("COMPUTING"),wm=Symbol("ERRORED"),cV=ln(Ze({},Ah),{value:uy,dirty:!0,error:null,equal:my,kind:"computed",producerMustRecompute(n){return n.value===uy||n.value===hy},producerRecomputeValue(n){if(n.value===hy)throw new Error("");let e=n.value;n.value=hy;let t=Rh(n),r,i=!1;try{r=n.computation(),It(null),i=e!==uy&&e!==wm&&r!==wm&&n.equal(e,r)}catch(o){r=wm,n.error=o}finally{wf(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function uV(){throw new Error}var y4=uV;function v4(n){y4(n)}function BE(n){y4=n}var hV=null;function UE(n,e){let t=Object.create(yy);t.value=n,e!==void 0&&(t.equal=e);let r=()=>w4(t);return r[wo]=t,gy(t),[r,s=>Ef(t,s),s=>GE(t,s)]}function w4(n){return vf(n),n.value}function Ef(n,e){FE()||v4(n),n.equal(n.value,e)||(n.value=e,dV(n))}function GE(n,e){FE()||v4(n),Ef(n,e(n.value))}var yy=ln(Ze({},Ah),{equal:my,value:void 0,kind:"signal"});function dV(n){n.version++,p4(),OE(n),hV?.(n)}function Gt(n){return typeof n=="function"}function Sf(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var vy=Sf(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ph(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Tn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Gt(r))try{r()}catch(o){e=o instanceof vy?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{x4(o)}catch(s){e=e??[],s instanceof vy?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vy(e)}}add(e){var t;if(e&&e!==this)if(this.closed)x4(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ph(t,e)}remove(e){let{_finalizers:t}=this;t&&Ph(t,e),e instanceof n&&e._removeParent(this)}};Tn.EMPTY=(()=>{let n=new Tn;return n.closed=!0,n})();var zE=Tn.EMPTY;function wy(n){return n instanceof Tn||n&&"closed"in n&&Gt(n.remove)&&Gt(n.add)&&Gt(n.unsubscribe)}function x4(n){Gt(n)?n():n.unsubscribe()}var ga={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cf={setTimeout(n,e,...t){let{delegate:r}=Cf;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Cf;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function xy(n){Cf.setTimeout(()=>{let{onUnhandledError:e}=ga;if(e)e(n);else throw n})}function xm(){}var b4=VE("C",void 0,void 0);function E4(n){return VE("E",void 0,n)}function S4(n){return VE("N",n,void 0)}function VE(n,e,t){return{kind:n,value:e,error:t}}var Lh=null;function If(n){if(ga.useDeprecatedSynchronousErrorHandling){let e=!Lh;if(e&&(Lh={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Lh;if(Lh=null,t)throw r}}else n()}function C4(n){ga.useDeprecatedSynchronousErrorHandling&&Lh&&(Lh.errorThrown=!0,Lh.error=n)}var kh=class extends Tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wy(e)&&e.add(this)):this.destination=gV}static create(e,t,r){return new Df(e,t,r)}next(e){this.isStopped?qE(S4(e),this):this._next(e)}error(e){this.isStopped?qE(E4(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qE(b4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fV=Function.prototype.bind;function HE(n,e){return fV.call(n,e)}var WE=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){by(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){by(r)}else by(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){by(t)}}},Df=class extends kh{constructor(e,t,r){super();let i;if(Gt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ga.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&HE(e.next,o),error:e.error&&HE(e.error,o),complete:e.complete&&HE(e.complete,o)}):i=e}this.destination=new WE(i)}};function by(n){ga.useDeprecatedSynchronousErrorHandling?C4(n):xy(n)}function pV(n){throw n}function qE(n,e){let{onStoppedNotification:t}=ga;t&&Cf.setTimeout(()=>t(n,e))}var gV={closed:!0,next:xm,error:pV,complete:xm};var Tf=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xo(n){return n}function $E(...n){return ZE(n)}function ZE(n){return n.length===0?xo:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var rn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=_V(t)?t:new Df(t,r,i);return If(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=I4(r),new r((i,o)=>{let s=new Df({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Tf](){return this}pipe(...t){return ZE(t)(this)}toPromise(t){return t=I4(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function I4(n){var e;return(e=n??ga.Promise)!==null&&e!==void 0?e:Promise}function mV(n){return n&&Gt(n.next)&&Gt(n.error)&&Gt(n.complete)}function _V(n){return n&&n instanceof kh||mV(n)&&wy(n)}function YE(n){return Gt(n?.lift)}function Kt(n){return e=>{if(YE(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wt(n,e,t,r,i){return new XE(n,e,t,r,i)}var XE=class extends kh{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Mf(){return Kt((n,e)=>{let t=null;n._refCount++;let r=Wt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Af=class extends rn{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,YE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tn;let t=this.getSubject();e.add(this.source.subscribe(Wt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tn.EMPTY)}return e}refCount(){return Mf()(this)}};var Rf={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=Rf;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(o=>{t=void 0,n(o)});return new Tn(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=Rf;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=Rf;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var D4=Sf(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ot=(()=>{class n extends rn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ey(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new D4}next(t){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zE:(this.currentObservers=null,o.push(t),new Tn(()=>{this.currentObservers=null,Ph(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new rn;return t.source=this,t}}return n.create=(e,t)=>new Ey(e,t),n})(),Ey=class extends Ot{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:zE}};var ui=class extends Ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var KE={now(){return(KE.delegate||Date).now()},delegate:void 0};var Sy=class extends Tn{constructor(e,t){super()}schedule(e,t=0){return this}};var bm={setInterval(n,e,...t){let{delegate:r}=bm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=bm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Nf=class extends Sy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return bm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&bm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ph(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Pf=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Pf.now=KE.now;var Lf=class extends Pf{constructor(e,t=Pf.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Qa=new Lf(Nf),JE=Qa;var Cy=class extends Nf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Rf.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&t===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Rf.cancelAnimationFrame(t),e._scheduled=void 0)}};var Iy=class extends Lf{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var Dy=new Iy(Cy);var eo=new rn(n=>n.complete());function Ty(n){return n&&Gt(n.schedule)}function QE(n){return n[n.length-1]}function T4(n){return Gt(QE(n))?n.pop():void 0}function el(n){return Ty(QE(n))?n.pop():void 0}function M4(n,e){return typeof QE(n)=="number"?n.pop():e}function R4(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function A4(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oh(n){return this instanceof Oh?(this.v=n,this):new Oh(n)}function N4(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(_){return new Promise(function(y,v){o.push([h,_,y,v])>1||l(h,_)})},g&&(i[h]=g(i[h])))}function l(h,g){try{c(r[h](g))}catch(_){f(o[0][3],_)}}function c(h){h.value instanceof Oh?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,g){h(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function P4(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof A4=="function"?A4(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var My=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ay(n){return Gt(n?.then)}function Ry(n){return Gt(n[Tf])}function Ny(n){return Symbol.asyncIterator&&Gt(n?.[Symbol.asyncIterator])}function Py(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ly=yV();function ky(n){return Gt(n?.[Ly])}function Oy(n){return N4(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Oh(t.read());if(i)return yield Oh(void 0);yield yield Oh(r)}}finally{t.releaseLock()}})}function Fy(n){return Gt(n?.getReader)}function dr(n){if(n instanceof rn)return n;if(n!=null){if(Ry(n))return vV(n);if(My(n))return wV(n);if(Ay(n))return xV(n);if(Ny(n))return L4(n);if(ky(n))return bV(n);if(Fy(n))return EV(n)}throw Py(n)}function vV(n){return new rn(e=>{let t=n[Tf]();if(Gt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wV(n){return new rn(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function xV(n){return new rn(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,xy)})}function bV(n){return new rn(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function L4(n){return new rn(e=>{SV(n,e).catch(t=>e.error(t))})}function EV(n){return L4(Oy(n))}function SV(n,e){var t,r,i,o;return R4(this,void 0,void 0,function*(){try{for(t=P4(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Po(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function jy(n,e=0){return Kt((t,r)=>{t.subscribe(Wt(r,i=>Po(r,n,()=>r.next(i),e),()=>Po(r,n,()=>r.complete(),e),i=>Po(r,n,()=>r.error(i),e)))})}function By(n,e=0){return Kt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function k4(n,e){return dr(n).pipe(By(e),jy(e))}function O4(n,e){return dr(n).pipe(By(e),jy(e))}function F4(n,e){return new rn(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function j4(n,e){return new rn(t=>{let r;return Po(t,e,()=>{r=n[Ly](),Po(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Gt(r?.return)&&r.return()})}function Uy(n,e){if(!n)throw new Error("Iterable cannot be null");return new rn(t=>{Po(t,e,()=>{let r=n[Symbol.asyncIterator]();Po(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function B4(n,e){return Uy(Oy(n),e)}function U4(n,e){if(n!=null){if(Ry(n))return k4(n,e);if(My(n))return F4(n,e);if(Ay(n))return O4(n,e);if(Ny(n))return Uy(n,e);if(ky(n))return j4(n,e);if(Fy(n))return B4(n,e)}throw Py(n)}function Er(n,e){return e?U4(n,e):dr(n)}function Rt(...n){let e=el(n);return Er(n,e)}function kf(n,e){let t=Gt(n)?n:()=>n,r=i=>i.error(t());return new rn(e?i=>e.schedule(r,0,i):r)}function Gy(n){return!!n&&(n instanceof rn||Gt(n.lift)&&Gt(n.subscribe))}var ec=Sf(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function G4(n){return n instanceof Date&&!isNaN(n)}function cn(n,e){return Kt((t,r)=>{let i=0;t.subscribe(Wt(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:CV}=Array;function IV(n,e){return CV(e)?n(...e):n(e)}function z4(n){return cn(e=>IV(n,e))}var{isArray:DV}=Array,{getPrototypeOf:TV,prototype:MV,keys:AV}=Object;function V4(n){if(n.length===1){let e=n[0];if(DV(e))return{args:e,keys:null};if(RV(e)){let t=AV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function RV(n){return n&&typeof n=="object"&&TV(n)===MV}function H4(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zy(...n){let e=el(n),t=T4(n),{args:r,keys:i}=V4(n);if(r.length===0)return Er([],e);let o=new rn(NV(r,e,i?s=>H4(i,s):xo));return t?o.pipe(z4(t)):o}function NV(n,e,t=xo){return r=>{q4(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)q4(e,()=>{let c=Er(n[l],e),u=!1;c.subscribe(Wt(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function q4(n,e,t){n?Po(t,n,e):e()}function W4(n,e,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=_=>c<r?g(_):l.push(_),g=_=>{o&&e.next(_),c++;let y=!1;dr(t(_,u++)).subscribe(Wt(e,v=>{i?.(v),o?h(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let v=l.shift();s?Po(e,s,()=>g(v)):g(v)}f()}catch(v){e.error(v)}}))};return n.subscribe(Wt(e,h,()=>{d=!0,f()})),()=>{a?.()}}function hi(n,e,t=1/0){return Gt(e)?hi((r,i)=>cn((o,s)=>e(r,o,i,s))(dr(n(r,i))),t):(typeof e=="number"&&(t=e),Kt((r,i)=>W4(r,i,n,t)))}function Vy(n=1/0){return hi(xo,n)}function $4(){return Vy(1)}function Of(...n){return $4()(Er(n,el(n)))}function Em(n){return new rn(e=>{dr(n()).subscribe(e)})}function Ff(n=0,e,t=JE){let r=-1;return e!=null&&(Ty(e)?t=e:r=e),new rn(i=>{let o=G4(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function eS(n=0,e=Qa){return n<0&&(n=0),Ff(n,n,e)}function Hy(...n){let e=el(n),t=M4(n,1/0),r=n;return r.length?r.length===1?dr(r[0]):Vy(t)(Er(r,e)):eo}function cs(n,e){return Kt((t,r)=>{let i=0;t.subscribe(Wt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Z4(n){return Kt((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(Wt(t,c=>{r=!0,i=c,o||dr(n(c)).subscribe(o=Wt(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function tS(n,e=Qa){return Z4(()=>Ff(n,e))}function pu(n){return Kt((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Wt(t,void 0,void 0,s=>{o=dr(n(s,pu(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Y4(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(Wt(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function jf(n,e){return Gt(e)?hi(n,e,1):hi(n,1)}function gu(n){return Kt((e,t)=>{let r=!1;e.subscribe(Wt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ma(n){return n<=0?()=>eo:Kt((e,t)=>{let r=0;e.subscribe(Wt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qy(n,e=xo){return n=n??PV,Kt((t,r)=>{let i,o=!0;t.subscribe(Wt(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function PV(n,e){return n===e}function Wy(n=LV){return Kt((e,t)=>{let r=!1;e.subscribe(Wt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function LV(){return new ec}function Sm(n){return Kt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function tc(n,e){let t=arguments.length>=2;return r=>r.pipe(n?cs((i,o)=>n(i,o,r)):xo,ma(1),t?gu(e):Wy(()=>new ec))}function Bf(n){return n<=0?()=>eo:Kt((e,t)=>{let r=[];e.subscribe(Wt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nS(n,e){let t=arguments.length>=2;return r=>r.pipe(n?cs((i,o)=>n(i,o,r)):xo,Bf(1),t?gu(e):Wy(()=>new ec))}function rS(n,e){return Kt(Y4(n,e,arguments.length>=2,!0))}function Uf(...n){let e=el(n);return Kt((t,r)=>{(e?Of(n,t,e):Of(n,t)).subscribe(r)})}function Ui(n,e){return Kt((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Wt(r,l=>{i?.unsubscribe();let c=0,u=o++;dr(n(l,u)).subscribe(i=Wt(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function nc(n){return Kt((e,t)=>{dr(n).subscribe(Wt(t,()=>t.complete(),xm)),!t.closed&&e.subscribe(t)})}function Yr(n,e,t){let r=Gt(n)||e||t?{next:n,error:e,complete:t}:n;return r?Kt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Wt(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):xo}function X4(n,e){return Kt((t,r)=>{let{leading:i=!0,trailing:o=!1}=e??{},s=!1,a=null,l=null,c=!1,u=()=>{l?.unsubscribe(),l=null,o&&(h(),c&&r.complete())},d=()=>{l=null,c&&r.complete()},f=g=>l=dr(n(g)).subscribe(Wt(r,u,d)),h=()=>{if(s){s=!1;let g=a;a=null,r.next(g),!c&&f(g)}};t.subscribe(Wt(r,g=>{s=!0,a=g,!(l&&!l.closed)&&(i?h():f(g))},()=>{c=!0,!(o&&s&&l&&!l.closed)&&r.complete()}))})}function iS(n,e=Qa,t){let r=Ff(n,e);return X4(()=>r,t)}function K4(n){let e=It(null);try{return n()}finally{It(e)}}var J4=ln(Ze({},Ah),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Q4(n){if(n.dirty=!1,n.version>0&&!xf(n))return;n.version++;let e=Rh(n);try{n.cleanup(),n.fn()}finally{wf(n,e)}}var Xy="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",dt=class extends Error{code;constructor(e,t){super(zh(e,t)),this.code=e}};function kV(n){return`NG0${Math.abs(n)}`}function zh(n,e){return`${kV(n)}${e?": "+e:""}`}function Fn(n){for(let e in n)if(n[e]===Fn)return e;throw Error("")}function ic(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ic).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function gS(n,e){return n?e?`${n} ${e}`:n:e||""}var OV=Fn({__forward_ref__:Fn});function Mm(n){return n.__forward_ref__=Mm,n.toString=function(){return ic(this())},n}function Gi(n){return mS(n)?n():n}function mS(n){return typeof n=="function"&&n.hasOwnProperty(OV)&&n.__forward_ref__===Mm}function Xe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _u(n){return{providers:n.providers||[],imports:n.imports||[]}}function Am(n){return FV(n,Ky)}function _S(n){return Am(n)!==null}function FV(n,e){return n.hasOwnProperty(e)&&n[e]||null}function jV(n){let e=n?.[Ky]??null;return e||null}function sS(n){return n&&n.hasOwnProperty(Zy)?n[Zy]:null}var Ky=Fn({\u0275prov:Fn}),Zy=Fn({\u0275inj:Fn}),ft=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function yS(n){return n&&!!n.\u0275providers}var vS=Fn({\u0275cmp:Fn}),wS=Fn({\u0275dir:Fn}),xS=Fn({\u0275pipe:Fn}),bS=Fn({\u0275mod:Fn}),Im=Fn({\u0275fac:Fn}),Vh=Fn({__NG_ELEMENT_ID__:Fn}),e3=Fn({__NG_ENV_ID__:Fn});function Jy(n){return typeof n=="string"?n:n==null?"":String(n)}function n3(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Jy(n)}var r3=Fn({ngErrorCode:Fn}),BV=Fn({ngErrorMessage:Fn}),UV=Fn({ngTokenPath:Fn});function ES(n,e){return i3("",-200,e)}function Qy(n,e){throw new dt(-201,!1)}function i3(n,e,t){let r=new dt(e,n);return r[r3]=e,r[BV]=n,t&&(r[UV]=t),r}function GV(n){return n[r3]}var aS;function o3(){return aS}function us(n){let e=aS;return aS=n,e}function SS(n,e,t){let r=Am(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Qy(n,"Injector")}var zV={},Fh=zV,VV="__NG_DI_FLAG__",lS=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=jh(t)||0;try{return this.injector.get(e,r&8?null:Fh,r)}catch(i){if(yf(i))return i;throw i}}};function HV(n,e=0){let t=ly();if(t===void 0)throw new dt(-203,!1);if(t===null)return SS(n,void 0,e);{let r=qV(e),i=t.retrieve(n,r);if(yf(i)){if(r.optional)return null;throw i}return i}}function Jt(n,e=0){return(o3()||HV)(Gi(n),e)}function Se(n,e){return Jt(n,jh(e))}function jh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qV(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function cS(n){let e=[];for(let t=0;t<n.length;t++){let r=Gi(n[t]);if(Array.isArray(r)){if(r.length===0)throw new dt(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=WV(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Jt(i,o))}else e.push(Jt(r))}return e}function WV(n){return n[VV]}function Bh(n,e){let t=n.hasOwnProperty(Im);return t?n[Im]:null}function s3(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function a3(n){return n.flat(Number.POSITIVE_INFINITY)}function ev(n,e){n.forEach(t=>Array.isArray(t)?ev(t,e):e(t))}function CS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Rm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function l3(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function c3(n,e,t){let r=zf(n,e);return r>=0?n[r|1]=t:(r=~r,l3(n,r,e,t)),r}function tv(n,e){let t=zf(n,e);if(t>=0)return n[t|1]}function zf(n,e){return $V(n,e,1)}function $V(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Hh={},Fs=[],oc=new ft(""),IS=new ft("",-1),DS=new ft(""),Dm=class{get(e,t=Fh){if(t===Fh){let i=i3("",-201);throw i.name="\u0275NotFound",i}return t}};function TS(n){return n[bS]||null}function sc(n){return n[vS]||null}function MS(n){return n[wS]||null}function u3(n){return n[xS]||null}function qh(n){return{\u0275providers:n}}function h3(n){return qh([{provide:oc,multi:!0,useValue:n}])}function d3(...n){return{\u0275providers:AS(!0,n),\u0275fromNgModule:!0}}function AS(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ev(e,s=>{let a=s;Yy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&f3(i,o),t}function f3(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];RS(i,o=>{e(o,r)})}}function Yy(n,e,t,r){if(n=Gi(n),!n)return!1;let i=null,o=sS(n),s=!o&&sc(n);if(!o&&!s){let l=n.ngModule;if(o=sS(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Yy(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{ev(o.imports,u=>{Yy(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&f3(c,e)}if(!a){let c=Bh(i)||(()=>new i);e({provide:i,useFactory:c,deps:Fs},i),e({provide:DS,useValue:i,multi:!0},i),e({provide:oc,useValue:()=>Jt(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;RS(l,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function RS(n,e){for(let t of n)yS(t)&&(t=t.\u0275providers),Array.isArray(t)?RS(t,e):e(t)}var ZV=Fn({provide:String,useValue:Fn});function p3(n){return n!==null&&typeof n=="object"&&ZV in n}function YV(n){return!!(n&&n.useExisting)}function XV(n){return!!(n&&n.useFactory)}function Uh(n){return typeof n=="function"}function g3(n){return!!n.useClass}var Nm=new ft(""),$y={},t3={},oS;function Vf(){return oS===void 0&&(oS=new Dm),oS}var di=class{},Gh=class extends di{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,hS(e,s=>this.processProvider(s)),this.records.set(IS,Gf(void 0,this)),i.has("environment")&&this.records.set(di,Gf(void 0,this));let o=this.records.get(Nm);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(DS,Fs,{self:!0}))}retrieve(e,t){let r=jh(t)||0;try{return this.get(e,Fh,r)}catch(i){if(yf(i))return i;throw i}}destroy(){Cm(this),this._destroyed=!0;let e=It(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),It(e)}}onDestroy(e){return Cm(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Cm(this);let t=Ja(this),r=us(void 0),i;try{return e()}finally{Ja(t),us(r)}}get(e,t=Fh,r){if(Cm(this),e.hasOwnProperty(e3))return e[e3](this);let i=jh(r),o,s=Ja(this),a=us(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let u=tH(e)&&Am(e);u&&this.injectableDefInScope(u)?c=Gf(uS(e),$y):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?Vf():this.parent;return t=i&8&&t===Fh?null:t,l.get(e,t)}catch(l){let c=GV(l);throw c===-200||c===-201?new dt(c,null):l}finally{us(a),Ja(s)}}resolveInjectorInitializers(){let e=It(null),t=Ja(this),r=us(void 0),i;try{let o=this.get(oc,Fs,{self:!0});for(let s of o)s()}finally{Ja(t),us(r),It(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ic(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Gi(e);let t=Uh(e)?e:Gi(e&&e.provide),r=JV(e);if(!Uh(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Gf(void 0,$y,!0),i.factory=()=>cS(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=It(null);try{if(t.value===t3)throw ES(ic(e));return t.value===$y&&(t.value=t3,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&eH(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{It(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function uS(n){let e=Am(n),t=e!==null?e.factory:Bh(n);if(t!==null)return t;if(n instanceof ft)throw new dt(204,!1);if(n instanceof Function)return KV(n);throw new dt(204,!1)}function KV(n){if(n.length>0)throw new dt(204,!1);let t=jV(n);return t!==null?()=>t.factory(n):()=>new n}function JV(n){if(p3(n))return Gf(void 0,n.useValue);{let e=NS(n);return Gf(e,$y)}}function NS(n,e,t){let r;if(Uh(n)){let i=Gi(n);return Bh(i)||uS(i)}else if(p3(n))r=()=>Gi(n.useValue);else if(XV(n))r=()=>n.useFactory(...cS(n.deps||[]));else if(YV(n))r=(i,o)=>Jt(Gi(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Gi(n&&(n.useClass||n.provide));if(QV(n))r=()=>new i(...cS(n.deps));else return Bh(i)||uS(i)}return r}function Cm(n){if(n.destroyed)throw new dt(205,!1)}function Gf(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function QV(n){return!!n.deps}function eH(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function tH(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function hS(n,e){for(let t of n)Array.isArray(t)?hS(t,e):t&&yS(t)?hS(t.\u0275providers,e):e(t)}function bo(n,e){let t;n instanceof Gh?(Cm(n),t=n):t=new lS(n);let r,i=Ja(t),o=us(void 0);try{return e()}finally{Ja(i),us(o)}}function m3(){return o3()!==void 0||ly()!=null}var _a=0,Et=1,Dt=2,fi=3,Bs=4,Us=5,Hf=6,qf=7,Lr=8,ac=9,nl=10,Xr=11,Wf=12,PS=13,Wh=14,hs=15,yu=16,$h=17,rl=18,Pm=19,LS=20,rc=21,nv=22,lc=23,ds=24,Zh=25,Yh=26,pi=27,_3=1,kS=6,vu=7,Lm=8,Xh=9,Sr=10;function il(n){return Array.isArray(n)&&typeof n[_3]=="object"}function ya(n){return Array.isArray(n)&&n[_3]===!0}function OS(n){return(n.flags&4)!==0}function wu(n){return n.componentOffset>-1}function km(n){return(n.flags&1)===1}function xu(n){return!!n.template}function $f(n){return(n[Dt]&512)!==0}function Kh(n){return(n[Dt]&256)===256}var FS="svg",y3="math";function Gs(n){for(;Array.isArray(n);)n=n[_a];return n}function jS(n,e){return Gs(e[n])}function ol(n,e){return Gs(e[n.index])}function Om(n,e){return n.data[e]}function v3(n,e){return n[e]}function zs(n,e){let t=e[n];return il(t)?t:t[_a]}function w3(n){return(n[Dt]&4)===4}function rv(n){return(n[Dt]&128)===128}function x3(n){return ya(n[fi])}function Vs(n,e){return e==null?null:n[e]}function BS(n){n[$h]=0}function US(n){n[Dt]&1024||(n[Dt]|=1024,rv(n)&&bu(n))}function b3(n,e){for(;n>0;)e=e[Wh],n--;return e}function Fm(n){return!!(n[Dt]&9216||n[ds]?.dirty)}function iv(n){n[nl].changeDetectionScheduler?.notify(8),n[Dt]&64&&(n[Dt]|=1024),Fm(n)&&bu(n)}function bu(n){n[nl].changeDetectionScheduler?.notify(0);let e=mu(n);for(;e!==null&&!(e[Dt]&8192||(e[Dt]|=8192,!rv(e)));)e=mu(e)}function GS(n,e){if(Kh(n))throw new dt(911,!1);n[rc]===null&&(n[rc]=[]),n[rc].push(e)}function E3(n,e){if(n[rc]===null)return;let t=n[rc].indexOf(e);t!==-1&&n[rc].splice(t,1)}function mu(n){let e=n[fi];return ya(e)?e[fi]:e}function zS(n){return n[qf]??=[]}function VS(n){return n.cleanup??=[]}function S3(n,e,t,r){let i=zS(e);i.push(t),n.firstCreatePass&&VS(n).push(r,i.length-1)}var Qt={lFrame:j3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dS=!1;function C3(){return Qt.lFrame.elementDepthCount}function I3(){Qt.lFrame.elementDepthCount++}function HS(){Qt.lFrame.elementDepthCount--}function qS(){return Qt.bindingsEnabled}function D3(){return Qt.skipHydrationRootTNode!==null}function WS(n){return Qt.skipHydrationRootTNode===n}function $S(){Qt.skipHydrationRootTNode=null}function wn(){return Qt.lFrame.lView}function Eo(){return Qt.lFrame.tView}function Zn(n){return Qt.lFrame.contextLView=n,n[Lr]}function Yn(n){return Qt.lFrame.contextLView=null,n}function So(){let n=ZS();for(;n!==null&&n.type===64;)n=n.parent;return n}function ZS(){return Qt.lFrame.currentTNode}function T3(){let n=Qt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Zf(n,e){let t=Qt.lFrame;t.currentTNode=n,t.isParent=e}function YS(){return Qt.lFrame.isParent}function M3(){Qt.lFrame.isParent=!1}function A3(){return Qt.lFrame.contextLView}function XS(){return dS}function Yf(n){let e=dS;return dS=n,e}function R3(n){return Qt.lFrame.bindingIndex=n}function jm(){return Qt.lFrame.bindingIndex++}function N3(n){let e=Qt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function P3(){return Qt.lFrame.inI18n}function L3(n,e){let t=Qt.lFrame;t.bindingIndex=t.bindingRootIndex=n,ov(e)}function k3(){return Qt.lFrame.currentDirectiveIndex}function ov(n){Qt.lFrame.currentDirectiveIndex=n}function O3(n){let e=Qt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function KS(){return Qt.lFrame.currentQueryIndex}function sv(n){Qt.lFrame.currentQueryIndex=n}function nH(n){let e=n[Et];return e.type===2?e.declTNode:e.type===1?n[Us]:null}function JS(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=nH(o),i===null||(o=o[Wh],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Qt.lFrame=F3();return r.currentTNode=e,r.lView=n,!0}function av(n){let e=F3(),t=n[Et];Qt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function F3(){let n=Qt.lFrame,e=n===null?null:n.child;return e===null?j3(n):e}function j3(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function B3(){let n=Qt.lFrame;return Qt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var QS=B3;function lv(){let n=B3();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function U3(n){return(Qt.lFrame.contextLView=b3(n,Qt.lFrame.contextLView))[Lr]}function Eu(){return Qt.lFrame.selectedIndex}function Su(n){Qt.lFrame.selectedIndex=n}function G3(){let n=Qt.lFrame;return Om(n.tView,n.selectedIndex)}function Cr(){Qt.lFrame.currentNamespace=FS}function to(){rH()}function rH(){Qt.lFrame.currentNamespace=null}function z3(){return Qt.lFrame.currentNamespace}var V3=!0;function cv(){return V3}function uv(n){V3=n}function fS(n,e=null,t=null,r){let i=eC(n,e,t,r);return i.resolveInjectorInitializers(),i}function eC(n,e=null,t=null,r,i=new Set){let o=[t||Fs,d3(n)];return r=r||(typeof n=="object"?void 0:ic(n)),new Gh(o,e||Vf(),r||null,i)}var bi=class n{static THROW_IF_NOT_FOUND=Fh;static NULL=new Dm;static create(e,t){if(Array.isArray(e))return fS({name:""},t,e,"");{let r=e.name??"";return fS({name:r},e.parent,e.providers,r)}}static \u0275prov=Xe({token:n,providedIn:"any",factory:()=>Jt(IS)});static __NG_ELEMENT_ID__=-1},ar=new ft(""),va=(()=>{class n{static __NG_ELEMENT_ID__=iH;static __NG_ENV_ID__=t=>t}return n})(),Tm=class extends va{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Kh(this._lView)}onDestroy(e){let t=this._lView;return GS(t,e),()=>E3(t,e)}};function iH(){return new Tm(wn())}var js=class{_console=console;handleError(e){this._console.error("ERROR",e)}},fs=new ft("",{providedIn:"root",factory:()=>{let n=Se(di),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(js),e.handleError(t))}}}),H3={provide:oc,useValue:()=>void Se(js),multi:!0},oH=new ft("",{providedIn:"root",factory:()=>{let n=Se(ar).defaultView;if(!n)return;let e=Se(fs),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),Se(va).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function tC(){return qh([h3(()=>void Se(oH))])}function xn(n,e){let[t,r,i]=UE(n,e?.equal),o=t,s=o[wo];return o.set=r,o.update=i,o.asReadonly=nC.bind(o),o}function nC(){let n=this[wo];if(n.readonlyFn===void 0){let e=()=>this();e[wo]=n,n.readonlyFn=e}return n.readonlyFn}var Xf=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=sH}return n})();function sH(){return new Xf(wn(),So())}var tl=class{},Bm=new ft("",{providedIn:"root",factory:()=>!1});var rC=new ft(""),iC=new ft(""),cc=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ui(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new rn(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Xe({token:n,providedIn:"root",factory:()=>new n})}return n})();function Jh(...n){}var Um=(()=>{class n{static \u0275prov=Xe({token:n,providedIn:"root",factory:()=>new pS})}return n})(),pS=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ym(n){return{toString:n}.toString()}function pH(n){return typeof n=="function"}var mv=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function EP(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var od=(()=>{let n=()=>SP;return n.ngInherit=!0,n})();function SP(n){return n.type.prototype.ngOnChanges&&(n.setInput=mH),gH}function gH(){let n=IP(this),e=n?.current;if(e){let t=n.previous;if(t===Hh)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function mH(n,e,t,r,i){let o=this.declaredInputs[r],s=IP(n)||_H(n,{previous:Hh,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new mv(c&&c.currentValue,t,l===Hh),EP(n,e,i,t)}var CP="__ngSimpleChanges__";function IP(n){return n[CP]||null}function _H(n,e){return n[CP]=e}var q3=[];var Vn=function(n,e=null,t){for(let r=0;r<q3.length;r++){let i=q3[r];i(n,e,t)}};function yH(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=SP(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function DP(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function dv(n,e,t){TP(n,e,3,t)}function fv(n,e,t,r){(n[Dt]&3)===t&&TP(n,e,t,r)}function oC(n,e){let t=n[Dt];(t&3)===e&&(t&=16383,t+=1,n[Dt]=t)}function TP(n,e,t,r){let i=r!==void 0?n[$h]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[$h]+=65536),(a<o||o==-1)&&(vH(n,t,e,l),n[$h]=(n[$h]&4294901760)+l+2),l++}function W3(n,e){Vn(4,n,e);let t=It(null);try{e.call(n)}finally{It(t),Vn(5,n,e)}}function vH(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Dt]>>14<n[$h]>>16&&(n[Dt]&3)===e&&(n[Dt]+=16384,W3(a,o)):W3(a,o)}var Jf=-1,ed=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function wH(n){return(n.flags&8)!==0}function xH(n){return(n.flags&16)!==0}function bH(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];SH(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function EH(n){return n===3||n===4||n===6}function SH(n){return n.charCodeAt(0)===64}function Ov(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?$3(n,t,i,null,e[++r]):$3(n,t,i,null,null))}}return n}function $3(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function MP(n){return n!==Jf}function _v(n){return n&32767}function CH(n){return n>>16}function yv(n,e){let t=CH(n),r=e;for(;t>0;)r=r[Wh],t--;return r}var gC=!0;function Z3(n){let e=gC;return gC=n,e}var IH=256,AP=IH-1,RP=5,DH=0,sl={};function TH(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vh)&&(r=t[Vh]),r==null&&(r=t[Vh]=DH++);let i=r&AP,o=1<<i;e.data[n+(i>>RP)]|=o}function vv(n,e){let t=NP(n,e);if(t!==-1)return t;let r=e[Et];r.firstCreatePass&&(n.injectorIndex=e.length,sC(r.data,n),sC(e,null),sC(r.blueprint,null));let i=WC(n,e),o=n.injectorIndex;if(MP(i)){let s=_v(i),a=yv(i,e),l=a[Et].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function sC(n,e){n.push(0,0,0,0,0,0,0,0,e)}function NP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function WC(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=FP(i),r===null)return Jf;if(t++,i=i[Wh],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Jf}function mC(n,e,t){TH(n,e,t)}function PP(n,e,t){if(t&8||n!==void 0)return n;Qy(e,"NodeInjector")}function LP(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ac],o=us(void 0);try{return i?i.get(e,r,t&8):SS(e,r,t&8)}finally{us(o)}}return PP(r,e,t)}function kP(n,e,t,r=0,i){if(n!==null){if(e[Dt]&2048&&!(r&2)){let s=NH(n,e,t,r,sl);if(s!==sl)return s}let o=OP(n,e,t,r,sl);if(o!==sl)return o}return LP(e,t,r,i)}function OP(n,e,t,r,i){let o=AH(t);if(typeof o=="function"){if(!JS(e,n,r))return r&1?PP(i,t,r):LP(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Qy(t);else return s}finally{QS()}}else if(typeof o=="number"){let s=null,a=NP(n,e),l=Jf,c=r&1?e[hs][Us]:null;for((a===-1||r&4)&&(l=a===-1?WC(n,e):e[a+8],l===Jf||!X3(r,!1)?a=-1:(s=e[Et],a=_v(l),e=yv(l,e)));a!==-1;){let u=e[Et];if(Y3(o,a,u.data)){let d=MH(a,e,t,s,r,c);if(d!==sl)return d}l=e[a+8],l!==Jf&&X3(r,e[Et].data[a+8]===c)&&Y3(o,a,e)?(s=u,a=_v(l),e=yv(l,e)):a=-1}}return i}function MH(n,e,t,r,i,o){let s=e[Et],a=s.data[n+8],l=r==null?wu(a)&&gC:r!=s&&(a.type&3)!==0,c=i&1&&o===a,u=pv(a,s,t,l,c);return u!==null?Vm(e,s,u,a,i):sl}function pv(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let g=s[h];if(h<l&&t===g||h>=l&&g.type===t)return h}if(i){let h=s[l];if(h&&xu(h)&&h.type===t)return l}return null}function Vm(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof ed){let a=o;if(a.resolving){let h=n3(s[t]);throw ES(h)}let l=Z3(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],u,d=a.injectImpl?us(a.injectImpl):null,f=JS(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&yH(t,s[t],e)}finally{d!==null&&us(d),Z3(l),a.resolving=!1,QS()}}return o}function AH(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Vh)?n[Vh]:void 0;return typeof e=="number"?e>=0?e&AP:RH:e}function Y3(n,e,t){let r=1<<n;return!!(t[e+(n>>RP)]&r)}function X3(n,e){return!(n&2)&&!(n&1&&e)}var Qh=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return kP(this._tNode,this._lView,e,jh(r),t)}};function RH(){return new Qh(So(),wn())}function Fv(n){return Ym(()=>{let e=n.prototype.constructor,t=e[Im]||_C(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Im]||_C(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _C(n){return mS(n)?()=>{let e=_C(Gi(n));return e&&e()}:Bh(n)}function NH(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Dt]&2048&&!$f(s);){let a=OP(o,s,t,r|2,sl);if(a!==sl)return a;let l=o.parent;if(!l){let c=s[LS];if(c){let u=c.get(t,sl,r);if(u!==sl)return u}l=FP(s),s=s[Wh]}o=l}return i}function FP(n){let e=n[Et],t=e.type;return t===2?e.declTNode:t===1?n[Us]:null}function PH(){return tp(So(),wn())}function tp(n,e){return new kr(ol(n,e))}var kr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=PH}return n})();function LH(n){return n instanceof kr?n.nativeElement:n}function kH(){return this._results[Symbol.iterator]()}var wv=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ot}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=a3(e);(this._changesDetected=!s3(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=kH};function jP(n){return(n.flags&128)===128}var $C=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})($C||{}),BP=new Map,OH=0;function FH(){return OH++}function jH(n){BP.set(n[Pm],n)}function yC(n){BP.delete(n[Pm])}var K3="__ngContext__";function Qf(n,e){il(e)?(n[K3]=e[Pm],jH(e)):n[K3]=e}function UP(n){return zP(n[Wf])}function GP(n){return zP(n[Bs])}function zP(n){for(;n!==null&&!ya(n);)n=n[Bs];return n}var vC;function ZC(n){vC=n}function VP(){if(vC!==void 0)return vC;if(typeof document<"u")return document;throw new dt(210,!1)}var jv=new ft("",{providedIn:"root",factory:()=>BH}),BH="ng",Bv=new ft(""),sd=new ft("",{providedIn:"platform",factory:()=>"unknown"});var Uv=new ft("",{providedIn:"root",factory:()=>VP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UH="h",GH="b";var HP="r";var qP="di";var WP=!1,$P=new ft("",{providedIn:"root",factory:()=>WP});var zH=(n,e,t,r)=>{};function VH(n,e,t,r){zH(n,e,t,r)}function YC(n){return(n.flags&32)===32}var HH=()=>null;function ZP(n,e,t=!1){return HH(n,e,t)}function YP(n,e){let t=n.contentQueries;if(t!==null){let r=It(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];sv(o),a.contentQueries(2,e[s],s)}}}finally{It(r)}}}function wC(n,e,t){sv(0);let r=It(null);try{e(n,t)}finally{It(r)}}function XP(n,e,t){if(OS(e)){let r=It(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{It(r)}}}var uc=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(uc||{});var xv=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xy})`}};function XC(n){return n instanceof xv?n.changingThisBreaksApplicationSecurity:n}function KP(n,e){let t=JP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Xy})`)}return t===e}function JP(n){return n instanceof xv&&n.getTypeName()||null}var qH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function QP(n){return n=String(n),n.match(qH)?n:"unsafe:"+n}function WH(n,e){return n.createText(e)}function $H(n,e,t){n.setValue(e,t)}function eL(n,e,t){return n.createElement(e,t)}function bv(n,e,t,r,i){n.insertBefore(e,t,r,i)}function tL(n,e,t){n.appendChild(e,t)}function J3(n,e,t,r,i){r!==null?bv(n,e,t,r,i):tL(n,e,t)}function nL(n,e,t,r){n.removeChild(null,e,t,r)}function ZH(n,e,t){n.setAttribute(e,"style",t)}function YH(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function rL(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&bH(n,e,r),i!==null&&YH(n,e,i),o!==null&&ZH(n,e,o)}var KC=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(KC||{});function JC(n){let e=XH();return e?e.sanitize(KC.URL,n)||"":KP(n,"URL")?XC(n):QP(Jy(n))}function XH(){let n=wn();return n&&n[nl].sanitizer}function hc(n){return n.ownerDocument}function iL(n){return n instanceof Function?n():n}function KH(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var oL="ng-template";function JH(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&KH(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(QC(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function QC(n){return n.type===4&&n.value!==oL}function QH(n,e,t){let r=n.type===4&&!t?oL:n.value;return e===r}function eq(n,e,t){let r=4,i=n.attrs,o=i!==null?rq(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!wa(r)&&!wa(l))return!1;if(s&&wa(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!QH(n,l,t)||l===""&&e.length===1){if(wa(r))return!1;s=!0}}else if(r&8){if(i===null||!JH(n,i,l,t)){if(wa(r))return!1;s=!0}}else{let c=e[++a],u=tq(l,i,QC(n),t);if(u===-1){if(wa(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(wa(r))return!1;s=!0}}}}return wa(r)||s}function wa(n){return(n&1)===0}function tq(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return iq(e,n)}function nq(n,e,t=!1){for(let r=0;r<e.length;r++)if(eq(n,e[r],t))return!0;return!1}function rq(n){for(let e=0;e<n.length;e++){let t=n[e];if(EH(t))return e}return n.length}function iq(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Q3(n,e){return n?":not("+e.trim()+")":e}function oq(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wa(s)&&(e+=Q3(o,i),i=""),r=s,o=o||!wa(r);t++}return i!==""&&(e+=Q3(o,i)),e}function sq(n){return n.map(oq).join(",")}function aq(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!wa(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var dc={};function e5(n,e,t,r,i,o,s,a,l,c,u){let d=pi+r,f=d+i,h=lq(d,f),g=typeof c=="function"?c():c;return h[Et]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function lq(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:dc);return t}function cq(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=e5(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function t5(n,e,t,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[_a]=i,d[Dt]=r|4|128|8|64|1024,(c!==null||n&&n[Dt]&2048)&&(d[Dt]|=2048),BS(d),d[fi]=d[Wh]=n,d[Lr]=t,d[nl]=s||n&&n[nl],d[Xr]=a||n&&n[Xr],d[ac]=l||n&&n[ac]||null,d[Us]=o,d[Pm]=FH(),d[Hf]=u,d[LS]=c,d[hs]=e.type==2?n[hs]:d,d}function uq(n,e,t){let r=ol(e,n),i=cq(t),o=n[nl].rendererFactory,s=n5(n,t5(n,i,null,sL(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function sL(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function aL(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function n5(n,e){return n[Wf]?n[PS][Bs]=e:n[Wf]=e,n[PS]=e,e}function en(n=1){lL(Eo(),wn(),Eu()+n,!1)}function lL(n,e,t,r){if(!r)if((e[Dt]&3)===3){let o=n.preOrderCheckHooks;o!==null&&dv(e,o,t)}else{let o=n.preOrderHooks;o!==null&&fv(e,o,0,t)}Su(t)}var Gv=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Gv||{});function xC(n,e,t,r){let i=It(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Gv.SignalBased)!==0&&(l=e[o][wo]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):EP(e,l,o,r)}finally{It(i)}}var al=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(al||{}),hq;function r5(n,e){return hq(n,e)}var td=new Set,zv=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(zv||{}),ad=new ft(""),eP=new Set;function fc(n){eP.has(n)||(eP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var cL=!1,bC=class extends Ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,m3()&&(this.destroyRef=Se(va,{optional:!0})??void 0,this.pendingTasks=Se(cc,{optional:!0})??void 0)}emit(e){let t=It(null);try{super.next(e)}finally{It(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Tn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},fr=bC;function uL(n){let e,t;function r(){n=Jh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function tP(n){return queueMicrotask(()=>n()),()=>{n=Jh}}var i5="isAngularZone",Ev=i5+"_ID",dq=0,nr=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fr(!1);onMicrotaskEmpty=new fr(!1);onStable=new fr(!1);onError=new fr(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=cL}=e;if(typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,gq(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(i5)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new dt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,fq,Jh,Jh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},fq={};function o5(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pq(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){uL(()=>{n.callbackScheduled=!1,EC(n),n.isCheckStableRunning=!0,o5(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),EC(n)}function gq(n){let e=()=>{pq(n)},t=dq++;n._inner=n._inner.fork({name:"angular",properties:{[i5]:!0,[Ev]:t,[Ev+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(mq(l))return r.invokeTask(o,s,a,l);try{return nP(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),rP(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return nP(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!_q(l)&&e(),rP(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,EC(n),o5(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function EC(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function nP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rP(n){n._nesting--,o5(n)}var Sv=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fr;onMicrotaskEmpty=new fr;onStable=new fr;onError=new fr;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function mq(n){return hL(n,"__ignore_ng_zone__")}function _q(n){return hL(n,"__scheduler_tick__")}function hL(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var s5=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Xe({token:n,providedIn:"root",factory:()=>new n})}return n})(),dL=[0,1,2,3],fL=(()=>{class n{ngZone=Se(nr);scheduler=Se(tl);errorHandler=Se(js,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Se(ad,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Vn(16),this.executing=!0;for(let r of dL)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Vn(17)}register(t){let{view:r}=t;r!==void 0?((r[Zh]??=[]).push(t),bu(r),r[Dt]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(zv.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Xe({token:n,providedIn:"root",factory:()=>new n})}return n})(),Cv=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Zh];e&&(this.view[Zh]=e.filter(t=>t!==this))}};function Xm(n,e){let t=e?.injector??Se(bi);return fc("NgAfterNextRender"),vq(n,t,e,!0)}function yq(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function vq(n,e,t,r){let i=e.get(s5);i.impl??=e.get(fL);let o=e.get(ad,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(va):null,a=e.get(Xf,null,{optional:!0}),l=new Cv(i.impl,yq(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var pL=new ft("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function gL(n,e,t){let r=n.get(pL);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function wq(n,e){let t=n.get(pL);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function xq(n,e){for(let[t,r]of e)gL(n,r.animateFns)}function iP(n,e,t,r){let i=n?.[Yh]?.enter;e!==null&&i&&i.has(t.index)&&xq(r,i)}function Kf(n,e,t,r,i,o,s,a){if(i!=null){let l,c=!1;ya(i)?l=i:il(i)&&(c=!0,i=i[_a]);let u=Gs(i);n===0&&r!==null?(iP(a,r,o,t),s==null?tL(e,r,u):bv(e,r,u,s||null,!0)):n===1&&r!==null?(iP(a,r,o,t),bv(e,r,u,s||null,!0)):n===2?oP(a,o,t,d=>{nL(e,u,c,d)}):n===3&&oP(a,o,t,()=>{e.destroyNode(u)}),l!=null&&Lq(e,n,t,l,o,r,s)}}function bq(n,e){mL(n,e),e[_a]=null,e[Us]=null}function Eq(n,e,t,r,i,o){r[_a]=i,r[Us]=e,Hv(n,r,t,1,i,o)}function mL(n,e){e[nl].changeDetectionScheduler?.notify(9),Hv(n,e,e[Xr],2,null,null)}function Sq(n){let e=n[Wf];if(!e)return aC(n[Et],n);for(;e;){let t=null;if(il(e))t=e[Wf];else{let r=e[Sr];r&&(t=r)}if(!t){for(;e&&!e[Bs]&&e!==n;)il(e)&&aC(e[Et],e),e=e[fi];e===null&&(e=n),il(e)&&aC(e[Et],e),t=e&&e[Bs]}e=t}}function a5(n,e){let t=n[Xh],r=t.indexOf(e);t.splice(r,1)}function Vv(n,e){if(Kh(e))return;let t=e[Xr];t.destroyNode&&Hv(n,e,t,3,null,null),Sq(e)}function aC(n,e){if(Kh(e))return;let t=It(null);try{e[Dt]&=-129,e[Dt]|=256,e[ds]&&Nh(e[ds]),Dq(n,e),Iq(n,e),e[Et].type===1&&e[Xr].destroy();let r=e[yu];if(r!==null&&ya(e[fi])){r!==e[fi]&&a5(r,e);let i=e[rl];i!==null&&i.detachView(n)}yC(e)}finally{It(t)}}function oP(n,e,t,r){let i=n?.[Yh];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&td.add(n),gL(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:u}=c();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),Cq(n,r)}else n&&td.delete(n),r(!1)},i)}function Cq(n,e){let t=n[Yh]?.running;if(t){t.then(()=>{n[Yh].running=void 0,td.delete(n),e(!0)});return}e(!1)}function Iq(n,e){let t=n.cleanup,r=e[qf];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[qf]=null);let i=e[rc];if(i!==null){e[rc]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[lc];if(o!==null){e[lc]=null;for(let s of o)s.destroy()}}function Dq(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ed)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Vn(4,a,l);try{l.call(a)}finally{Vn(5,a,l)}}else{Vn(4,i,o);try{o.call(i)}finally{Vn(5,i,o)}}}}}function Tq(n,e,t){return Mq(n,e.parent,t)}function Mq(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[_a];if(wu(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===uc.None||i===uc.Emulated)return null}return ol(r,t)}function Aq(n,e,t){return Nq(n,e,t)}function Rq(n,e,t){return n.type&40?ol(n,t):null}var Nq=Rq,sP;function l5(n,e,t,r){let i=Tq(n,r,e),o=e[Xr],s=r.parent||e[Us],a=Aq(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)J3(o,i,t[l],a,!1);else J3(o,i,t,a,!1);sP!==void 0&&sP(o,r,e,t,i)}function Gm(n,e){if(e!==null){let t=e.type;if(t&3)return ol(e,n);if(t&4)return SC(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Gm(n,r);{let i=n[e.index];return ya(i)?SC(-1,i):Gs(i)}}else{if(t&128)return Gm(n,e.next);if(t&32)return r5(e,n)()||Gs(n[e.index]);{let r=_L(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=mu(n[hs]);return Gm(i,r)}else return Gm(n,e.next)}}}return null}function _L(n,e){if(e!==null){let r=n[hs][Us],i=e.projection;return r.projection[i]}return null}function SC(n,e){let t=Sr+n+1;if(t<e.length){let r=e[t],i=r[Et].firstChild;if(i!==null)return Gm(r,i)}return e[vu]}function c5(n,e,t,r,i,o,s){for(;t!=null;){let a=r[ac];if(t.type===128){t=t.next;continue}let l=r[t.index],c=t.type;if(s&&e===0&&(l&&Qf(Gs(l),r),t.flags|=2),!YC(t))if(c&8)c5(n,e,t.child,r,i,o,!1),Kf(e,n,a,i,l,t,o,r);else if(c&32){let u=r5(t,r),d;for(;d=u();)Kf(e,n,a,i,d,t,o,r);Kf(e,n,a,i,l,t,o,r)}else c&16?Pq(n,e,r,t,i,o):Kf(e,n,a,i,l,t,o,r);t=s?t.projectionNext:t.next}}function Hv(n,e,t,r,i,o){c5(t,r,n.firstChild,e,i,o,!1)}function Pq(n,e,t,r,i,o){let s=t[hs],l=s[Us].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Kf(e,n,t[ac],i,u,r,o,t)}else{let c=l,u=s[fi];jP(r)&&(c.flags|=128),c5(n,e,c,u,i,o,!0)}}function Lq(n,e,t,r,i,o,s){let a=r[vu],l=Gs(r);a!==l&&Kf(e,n,t,o,a,i,s);for(let c=Sr;c<r.length;c++){let u=r[c];Hv(u[Et],u,n,e,o,a)}}function kq(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:al.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=al.Important),n.setStyle(t,r,i,o))}}function yL(n,e,t,r,i){let o=Eu(),s=r&2;try{Su(-1),s&&e.length>pi&&lL(n,e,pi,!1),Vn(s?2:0,i,t),t(r,i)}finally{Su(o),Vn(s?3:1,i,t)}}function u5(n,e,t){Vq(n,e,t),(t.flags&64)===64&&Hq(n,e,t)}function qv(n,e,t=ol){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Oq(n,e,t,r){let o=r.get($P,WP)||t===uc.ShadowDom,s=n.selectRootElement(e,o);return Fq(s),s}function Fq(n){jq(n)}var jq=()=>null;function Bq(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Uq(n,e,t,r,i,o){let s=e[Et];if(h5(n,s,e,t,r)){wu(n)&&zq(e,n.index);return}n.type&3&&(t=Bq(t)),Gq(n,e,t,r,i,o)}function Gq(n,e,t,r,i,o){if(n.type&3){let s=ol(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function zq(n,e){let t=zs(e,n);t[Dt]&16||(t[Dt]|=64)}function Vq(n,e,t){let r=t.directiveStart,i=t.directiveEnd;wu(t)&&uq(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||vv(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Vm(e,n,s,t);if(Qf(l,e),o!==null&&Wq(e,s-r,l,a,t,o),xu(a)){let c=zs(t.index,e);c[Lr]=Vm(e,n,s,t)}}}function Hq(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=k3();try{Su(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];ov(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&qq(l,c)}}finally{Su(-1),ov(s)}}function qq(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function vL(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];nq(e,o.selectors,!1)&&(r??=[],xu(o)?r.unshift(o):r.push(o))}return r}function Wq(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];xC(r,t,l,c)}}function wL(n,e,t,r,i){let o=pi+t,s=e[Et],a=i(s,e,n,r,t);e[o]=a,Zf(n,!0);let l=n.type===2;return l?(rL(e[Xr],a,n),(C3()===0||km(n))&&Qf(a,e),I3()):Qf(a,e),cv()&&(!l||!YC(n))&&l5(s,e,a,n),n}function xL(n){let e=n;return YS()?M3():(e=e.parent,Zf(e,!1)),e}function $q(n,e){let t=n[ac];if(!t)return;let r;try{r=t.get(fs,null)}catch{r=null}r?.(e)}function h5(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=e.data[c];xC(d,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];xC(u,c,r,i),a=!0}return a}function Zq(n,e){let t=zs(e,n),r=t[Et];Yq(r,t);let i=t[_a];i!==null&&t[Hf]===null&&(t[Hf]=ZP(i,t[ac])),Vn(18),d5(r,t,t[Lr]),Vn(19,t[Lr])}function Yq(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function d5(n,e,t){av(e);try{let r=n.viewQuery;r!==null&&wC(1,r,t);let i=n.template;i!==null&&yL(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[rl]?.finishViewCreation(n),n.staticContentQueries&&YP(n,e),n.staticViewQueries&&wC(2,n.viewQuery,t);let o=n.components;o!==null&&Xq(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Dt]&=-5,lv()}}function Xq(n,e){for(let t=0;t<e.length;t++)Zq(n,e[t])}function Wv(n,e,t,r){let i=It(null);try{let o=e.tView,a=n[Dt]&4096?4096:16,l=t5(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[yu]=c;let u=n[rl];return u!==null&&(l[rl]=u.createEmbeddedView(o)),d5(o,l,t),l}finally{It(i)}}function Hm(n,e){return!e||e.firstChild===null||jP(n)}function qm(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Gs(o)),ya(o)&&bL(o,r);let s=t.type;if(s&8)qm(n,e,t.child,r);else if(s&32){let a=r5(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=_L(e,t);if(Array.isArray(a))r.push(...a);else{let l=mu(e[hs]);qm(l[Et],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function bL(n,e){for(let t=Sr;t<n.length;t++){let r=n[t],i=r[Et].firstChild;i!==null&&qm(r[Et],r,i,e)}n[vu]!==n[_a]&&e.push(n[vu])}function EL(n){if(n[Zh]!==null){for(let e of n[Zh])e.impl.addSequence(e);n[Zh].length=0}}var SL=[];function Kq(n){return n[ds]??Jq(n)}function Jq(n){let e=SL.pop()??Object.create(eW);return e.lView=n,e}function Qq(n){n.lView[ds]!==n&&(n.lView=null,SL.push(n))}var eW=ln(Ze({},Ah),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{bu(n.lView)},consumerOnSignalRead(){this.lView[ds]=this}});function tW(n){let e=n[ds]??Object.create(nW);return e.lView=n,e}var nW=ln(Ze({},Ah),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=mu(n.lView);for(;e&&!CL(e[Et]);)e=mu(e);e&&US(e)},consumerOnSignalRead(){this.lView[ds]=this}});function CL(n){return n.type!==2}function IL(n){if(n[lc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[lc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Dt]&8192)}}var rW=100;function DL(n,e=0){let r=n[nl].rendererFactory,i=!1;i||r.begin?.();try{iW(n,e)}finally{i||r.end?.()}}function iW(n,e){let t=XS();try{Yf(!0),CC(n,e);let r=0;for(;Fm(n);){if(r===rW)throw new dt(103,!1);r++,CC(n,1)}}finally{Yf(t)}}function oW(n,e,t,r){if(Kh(e))return;let i=e[Dt],o=!1,s=!1;av(e);let a=!0,l=null,c=null;o||(CL(n)?(c=Kq(e),l=Rh(c)):fy()===null?(a=!1,c=tW(e),l=Rh(c)):e[ds]&&(Nh(e[ds]),e[ds]=null));try{BS(e),R3(n.bindingStartIndex),t!==null&&yL(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let h=n.preOrderCheckHooks;h!==null&&dv(e,h,null)}else{let h=n.preOrderHooks;h!==null&&fv(e,h,0,null),oC(e,0)}if(s||sW(e),IL(e),TL(e,0),n.contentQueries!==null&&YP(n,e),!o)if(u){let h=n.contentCheckHooks;h!==null&&dv(e,h)}else{let h=n.contentHooks;h!==null&&fv(e,h,1),oC(e,1)}lW(n,e);let d=n.components;d!==null&&AL(e,d,0);let f=n.viewQuery;if(f!==null&&wC(2,f,r),!o)if(u){let h=n.viewCheckHooks;h!==null&&dv(e,h)}else{let h=n.viewHooks;h!==null&&fv(e,h,2),oC(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[nv]){for(let h of e[nv])h();e[nv]=null}o||(EL(e),e[Dt]&=-73)}catch(u){throw o||bu(e),u}finally{c!==null&&(wf(c,l),a&&Qq(c)),lv()}}function TL(n,e){for(let t=UP(n);t!==null;t=GP(t))for(let r=Sr;r<t.length;r++){let i=t[r];ML(i,e)}}function sW(n){for(let e=UP(n);e!==null;e=GP(e)){if(!(e[Dt]&2))continue;let t=e[Xh];for(let r=0;r<t.length;r++){let i=t[r];US(i)}}}function aW(n,e,t){Vn(18);let r=zs(e,n);ML(r,t),Vn(19,r[Lr])}function ML(n,e){rv(n)&&CC(n,e)}function CC(n,e){let r=n[Et],i=n[Dt],o=n[ds],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xf(o)),s||=!1,o&&(o.dirty=!1),n[Dt]&=-9217,s)oW(r,n,r.template,n[Lr]);else if(i&8192){let a=It(null);try{IL(n),TL(n,1);let l=r.components;l!==null&&AL(n,l,1),EL(n)}finally{It(a)}}}function AL(n,e,t){for(let r=0;r<e.length;r++)aW(n,e[r],t)}function lW(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Su(~i);else{let o=i,s=t[++r],a=t[++r];L3(s,o);let l=e[o];Vn(24,l),a(2,l),Vn(25,l)}}}finally{Su(-1)}}function f5(n,e){let t=XS()?64:1088;for(n[nl].changeDetectionScheduler?.notify(e);n;){n[Dt]|=t;let r=mu(n);if($f(n)&&!r)return n;n=r}return null}function RL(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function NL(n,e){let t=Sr+e;if(t<n.length)return n[t]}function $v(n,e,t,r=!0){let i=e[Et];if(cW(i,e,n,t),r){let s=SC(t,n),a=e[Xr],l=a.parentNode(n[vu]);l!==null&&Eq(i,n[Us],a,e,l,s)}let o=e[Hf];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function PL(n,e){let t=Wm(n,e);return t!==void 0&&Vv(t[Et],t),t}function Wm(n,e){if(n.length<=Sr)return;let t=Sr+e,r=n[t];if(r){let i=r[yu];i!==null&&i!==n&&a5(i,r),e>0&&(n[t-1][Bs]=r[Bs]);let o=Rm(n,Sr+e);bq(r[Et],r);let s=o[rl];s!==null&&s.detachView(o[Et]),r[fi]=null,r[Bs]=null,r[Dt]&=-129}return r}function cW(n,e,t,r){let i=Sr+r,o=t.length;r>0&&(t[i-1][Bs]=e),r<o-Sr?(e[Bs]=t[i],CS(t,Sr+r,e)):(t.push(e),e[Bs]=null),e[fi]=t;let s=e[yu];s!==null&&t!==s&&LL(s,e);let a=e[rl];a!==null&&a.insertView(n),iv(e),e[Dt]|=128}function LL(n,e){let t=n[Xh],r=e[fi];if(il(r))n[Dt]|=2;else{let i=r[fi][hs];e[hs]!==i&&(n[Dt]|=2)}t===null?n[Xh]=[e]:t.push(e)}var Cu=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Et];return qm(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Lr]}set context(e){this._lView[Lr]=e}get destroyed(){return Kh(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[fi];if(ya(e)){let t=e[Lm],r=t?t.indexOf(this):-1;r>-1&&(Wm(e,r),Rm(t,r))}this._attachedToViewContainer=!1}Vv(this._lView[Et],this._lView)}onDestroy(e){GS(this._lView,e)}markForCheck(){f5(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Dt]&=-129}reattach(){iv(this._lView),this._lView[Dt]|=128}detectChanges(){this._lView[Dt]|=1024,DL(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$f(this._lView),t=this._lView[yu];t!==null&&!e&&a5(t,this._lView),mL(this._lView[Et],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=e;let t=$f(this._lView),r=this._lView[yu];r!==null&&!t&&LL(r,this._lView),iv(this._lView)}};var ll=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=uW;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Wv(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Cu(o)}}return n})();function uW(){return p5(So(),wn())}function p5(n,e){return n.type&4?new ll(e,n,tp(n,e)):null}function Km(n,e,t,r,i){let o=n.data[e];if(o===null)o=hW(n,e,t,r,i),P3()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=T3();o.injectorIndex=s===null?-1:s.injectorIndex}return Zf(o,!0),o}function hW(n,e,t,r,i){let o=ZS(),s=YS(),a=s?o:o&&o.parent,l=n.data[e]=fW(n,a,t,e,r,i);return dW(n,l,o,s),l}function dW(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function fW(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return D3()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var nye=new RegExp(`^(\\d+)*(${GH}|${UH})*(.*)`);function pW(n){let e=n[kS]??[],r=n[fi][Xr],i=[];for(let o of e)o.data[qP]!==void 0?i.push(o):gW(o,r);n[kS]=i}function gW(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[HP];for(;t<i;){let o=r.nextSibling;nL(e,r,!1),r=o,t++}}}var mW=()=>null,_W=()=>null;function IC(n,e){return mW(n,e)}function kL(n,e,t){return _W(n,e,t)}var OL=class{},Zv=class{},DC=class{resolveComponentFactory(e){throw new dt(917,!1)}},Jm=class{static NULL=new DC},Hs=class{},Yv=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>yW()}return n})();function yW(){let n=wn(),e=So(),t=zs(e.index,n);return(il(t)?t:n)[Xr]}var FL=(()=>{class n{static \u0275prov=Xe({token:n,providedIn:"root",factory:()=>null})}return n})();var gv={},TC=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,gv,r);return i!==gv||t===gv?i:this.parentInjector.get(e,t,r)}};function Iv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=gS(i,a);else if(o==2){let l=a,c=e[++s];r=gS(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function no(n,e=0){let t=wn();if(t===null)return Jt(n,e);let r=So();return kP(r,t,Gi(n),e)}function jL(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}xW(n,e,t,a,o,l,c)}o!==null&&r!==null&&vW(t,r,o)}function vW(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new dt(-301,!1);r.push(e[i],o)}}function wW(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function xW(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&xu(h)&&(l=!0,wW(n,t,f)),mC(vv(t,e),n,h.type)}DW(t,n.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=aL(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(t.mergedAttrs=Ov(t.mergedAttrs,h.hostAttrs),EW(n,t,e,d,h),IW(d,h,i),s!==null&&s.has(h)){let[_,y]=s.get(h);t.directiveToIndex.set(h.type,[d,_+t.directiveStart,y+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let g=h.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}bW(n,t,o)}function bW(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))aP(0,e,i,r),aP(1,e,i,r),cP(e,r,!1);else{let o=t.get(i);lP(0,e,o,r),lP(1,e,o,r),cP(e,r,!0)}}}function aP(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),BL(e,o)}}function lP(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),BL(e,s)}}function BL(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function cP(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||QC(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function EW(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Bh(i.type,!0)),s=new ed(o,xu(i),no,null);n.blueprint[r]=s,t[r]=s,SW(n,e,r,aL(n,t,i.hostVars,dc),i)}function SW(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;CW(s)!=a&&s.push(a),s.push(t,r,o)}}function CW(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function IW(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;xu(e)&&(t[""]=n)}}function DW(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function UL(n,e,t,r,i,o,s,a){let l=e[Et],c=l.consts,u=Vs(c,s),d=Km(l,n,t,r,u);return o&&jL(l,e,d,Vs(c,a),i),d.mergedAttrs=Ov(d.mergedAttrs,d.attrs),d.attrs!==null&&Iv(d,d.attrs,!1),d.mergedAttrs!==null&&Iv(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function GL(n,e){DP(n,e),OS(e)&&n.queries.elementEnd(e)}function TW(n,e,t,r,i,o){let s=e.consts,a=Vs(s,i),l=Km(e,n,t,r,a);if(l.mergedAttrs=Ov(l.mergedAttrs,l.attrs),o!=null){let c=Vs(s,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&Iv(l,l.attrs,!1),l.mergedAttrs!==null&&Iv(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function g5(n){return VL(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function zL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function VL(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Qm(n,e,t){if(t===dc)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function lC(n,e,t){return function r(i){let o=wu(n)?zs(n.index,e):e;f5(o,5);let s=e[Lr],a=uP(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=uP(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function uP(n,e,t,r){let i=It(null);try{return Vn(6,e,t),t(r)!==!1}catch(o){return $q(n,o),!1}finally{Vn(7,e,t),It(i)}}function MW(n,e,t,r,i,o,s,a){let l=km(n),c=!1,u=null;if(!r&&l&&(u=RW(e,t,o,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let d=ol(n,t),f=r?r(d):d;VH(t,f,o,a);let h=i.listen(f,o,a);if(!AW(o)){let g=r?_=>r(Gs(_[n.index])):n.index;HL(g,e,t,o,a,h,!1)}}return c}function AW(n){return n.startsWith("animation")||n.startsWith("transition")}function RW(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[qf],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function HL(n,e,t,r,i,o,s){let a=e.firstCreatePass?VS(e):null,l=zS(t),c=l.length;l.push(i,o),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function hP(n,e,t,r,i,o){let s=e[t],a=e[Et],c=a.data[t].outputs[r],d=s[c].subscribe(o);HL(n.index,a,e,i,o,d,!0)}var MC=Symbol("BINDING");var Dv=class extends Jm{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=sc(e);return new nd(t,this.ngModule)}};function NW(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Gv.SignalBased)!==0};return i&&(o.transform=i),o})}function PW(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function LW(n,e,t){let r=e instanceof di?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new TC(t,r):t}function kW(n){let e=n.get(Hs,null);if(e===null)throw new dt(407,!1);let t=n.get(FL,null),r=n.get(tl,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function OW(n,e){let t=qL(n);return eL(e,t,t==="svg"?FS:t==="math"?y3:null)}function qL(n){return(n.selectors[0][0]||"div").toLowerCase()}var nd=class extends Zv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=NW(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PW(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=sq(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Vn(22);let a=It(null);try{let l=this.componentDef,c=FW(r,l,s,o),u=LW(l,i||this.ngModule,e),d=kW(u),f=d.rendererFactory.createRenderer(null,l),h=r?Oq(f,r,l.encapsulation,u):OW(l,f),g=s?.some(dP)||o?.some(v=>typeof v!="function"&&v.bindings.some(dP)),_=t5(null,c,null,512|sL(l),null,null,d,f,u,null,ZP(h,u,!0));_[pi]=h,av(_);let y=null;try{let v=UL(pi,_,2,"#host",()=>c.directiveRegistry,!0,0);rL(f,h,v),Qf(h,_),u5(c,_,v),XP(c,v,_),GL(c,v),t!==void 0&&BW(v,this.ngContentSelectors,t),y=zs(v.index,_),_[Lr]=y[Lr],d5(c,_,null)}catch(v){throw y!==null&&yC(y),yC(_),v}finally{Vn(23),lv()}return new Tv(this.componentType,_,!!g)}finally{It(a)}}};function FW(n,e,t,r){let i=n?["ng-version","20.3.15"]:aq(e.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[MC].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[MC].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let l=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=MS(d);l.push(f)}return e5(0,null,jW(o,s),1,a,l,null,null,null,[i],null)}function jW(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function dP(n){let e=n[MC].kind;return e==="input"||e==="twoWay"}var Tv=class extends OL{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Om(t[Et],pi),this.location=tp(this._tNode,t),this.instance=zs(this._tNode.index,t)[Lr],this.hostView=this.changeDetectorRef=new Cu(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=h5(r,i[Et],i,e,t);this.previousInputValues.set(e,t);let s=zs(r.index,i);f5(s,1)}get injector(){return new Qh(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BW(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var qs=(()=>{class n{static __NG_ELEMENT_ID__=UW}return n})();function UW(){let n=So();return $L(n,wn())}var GW=qs,WL=class extends GW{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return tp(this._hostTNode,this._hostLView)}get injector(){return new Qh(this._hostTNode,this._hostLView)}get parentInjector(){let e=WC(this._hostTNode,this._hostLView);if(MP(e)){let t=yv(e,this._hostLView),r=_v(e),i=t[Et].data[r+8];return new Qh(i,t)}else return new Qh(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=fP(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=IC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Hm(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!pH(e),c;if(l)c=t;else{let y=t||{};c=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef,s=y.directives,a=y.bindings}let u=l?e:new nd(sc(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let v=(l?d:this.parentInjector).get(di,null);v&&(o=v)}let f=sc(u.componentType??{}),h=IC(this._lContainer,f?.id??null),g=h?.firstChild??null,_=u.create(d,i,g,o,s,a);return this.insertImpl(_.hostView,c,Hm(this._hostTNode,h)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(x3(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[fi],c=new WL(l,l[Us],l[fi]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return $v(s,i,o,r),e.attachToViewContainerRef(),CS(cC(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=fP(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Wm(this._lContainer,t);r&&(Rm(cC(this._lContainer),t),Vv(r[Et],r))}detach(e){let t=this._adjustIndex(e,-1),r=Wm(this._lContainer,t);return r&&Rm(cC(this._lContainer),t)!=null?new Cu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function fP(n){return n[Lm]}function cC(n){return n[Lm]||(n[Lm]=[])}function $L(n,e){let t,r=e[n.index];return ya(r)?t=r:(t=RL(r,e,null,n),e[n.index]=t,n5(e,t)),VW(t,e,n,r),new WL(t,n,e)}function zW(n,e){let t=n[Xr],r=t.createComment(""),i=ol(e,n),o=t.parentNode(i);return bv(t,o,r,t.nextSibling(i),!1),r}var VW=WW,HW=()=>!1;function qW(n,e,t){return HW(n,e,t)}function WW(n,e,t,r){if(n[vu])return;let i;t.type&8?i=Gs(r):i=zW(e,t),n[vu]=i}var AC=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},RC=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)m5(e,t).matches!==null&&this.queries[t].setDirty()}},NC=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=e$(e):this.predicate=e}},PC=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},LC=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,$W(t,o)),this.matchTNodeWithReadOption(e,t,pv(t,e,o,!1,!1))}else r===ll?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,pv(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===kr||i===qs||i===ll&&t.type&4)this.addMatch(t.index,-2);else{let o=pv(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function $W(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function ZW(n,e){return n.type&11?tp(n,e):n.type&4?p5(n,e):null}function YW(n,e,t,r){return t===-1?ZW(e,n):t===-2?XW(n,e,r):Vm(n,n[Et],t,e)}function XW(n,e,t){if(t===kr)return tp(e,n);if(t===ll)return p5(e,n);if(t===qs)return $L(e,n)}function ZL(n,e,t,r){let i=e[rl].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(YW(e,u,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function kC(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=ZL(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=Sr;d<u.length;d++){let f=u[d];f[yu]===f[fi]&&kC(f[Et],f,c,r)}if(u[Xh]!==null){let d=u[Xh];for(let f=0;f<d.length;f++){let h=d[f];kC(h[Et],h,c,r)}}}}}return r}function KW(n,e){return n[rl].queries[e].queryList}function JW(n,e,t){let r=new wv((t&4)===4);return S3(n,e,r,r.destroy),(e[rl]??=new RC).queries.push(new AC(r))-1}function QW(n,e,t){let r=Eo();return r.firstCreatePass&&(t$(r,new NC(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),JW(r,wn(),e)}function e$(n){return n.split(",").map(e=>e.trim())}function t$(n,e,t){n.queries===null&&(n.queries=new PC),n.queries.track(new LC(e,t))}function m5(n,e){return n.queries.getByIndex(e)}function n$(n,e){let t=n[Et],r=m5(t,e);return r.crossesNgTemplate?kC(t,n,e,[]):ZL(t,n,r,e)}var rd=class{},Xv=class{};var Mv=class extends rd{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Dv(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=TS(e);this._bootstrapComponents=iL(o.bootstrap),this._r3Injector=eC(e,t,[{provide:rd,useValue:this},{provide:Jm,useValue:this.componentFactoryResolver},...r],ic(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Av=class extends Xv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Mv(this.moduleType,e,[])}};var $m=class extends rd{injector;componentFactoryResolver=new Dv(this);instance=null;constructor(e){super();let t=new Gh([...e.providers,{provide:rd,useValue:this},{provide:Jm,useValue:this.componentFactoryResolver}],e.parent||Vf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function e0(n,e,t=null){return new $m({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var r$=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=AS(!1,t.type),i=r.length>0?e0([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Xe({token:n,providedIn:"environment",factory:()=>new n(Jt(di))})}return n})();function rr(n){return Ym(()=>{let e=YL(n),t=ln(Ze({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===$C.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(r$).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||uc.Emulated,styles:n.styles||Fs,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&fc("NgStandalone"),XL(t);let r=n.dependencies;return t.directiveDefs=pP(r,i$),t.pipeDefs=pP(r,u3),t.id=a$(t),t})}function i$(n){return sc(n)||MS(n)}function ld(n){return Ym(()=>({type:n.type,bootstrap:n.bootstrap||Fs,declarations:n.declarations||Fs,imports:n.imports||Fs,exports:n.exports||Fs,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function o$(n,e){if(n==null)return Hh;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Gv.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function s$(n){if(n==null)return Hh;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function xa(n){return Ym(()=>{let e=YL(n);return XL(e),e})}function YL(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Hh,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Fs,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:o$(n.inputs,e),outputs:s$(n.outputs),debugInfo:null}}function XL(n){n.features?.forEach(e=>e(n))}function pP(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function a$(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function KL(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Ov(n.mergedAttrs,n.attrs);let u=n.tView=e5(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Zf(n,!1);let l=c$(t,e,n,r);cv()&&l5(t,e,l,n),Qf(l,e);let c=RL(l,e,l,n);e[r+pi]=c,n5(e,c),qW(c,n,e)}function l$(n,e,t,r,i,o,s,a,l,c,u){let d=t+pi,f;return e.firstCreatePass?(f=Km(e,d,4,s||null,a||null),qS()&&jL(e,n,f,Vs(e.consts,c),vL),DP(e,f)):f=e.data[d],KL(f,n,e,t,r,i,o,l),km(f)&&u5(e,n,f),c!=null&&qv(n,f,u),f}function Rv(n,e,t,r,i,o,s,a,l,c,u){let d=t+pi,f;if(e.firstCreatePass){if(f=Km(e,d,4,s||null,a||null),c!=null){let h=Vs(e.consts,c);f.localNames=[];for(let g=0;g<h.length;g+=2)f.localNames.push(h[g],-1)}}else f=e.data[d];return KL(f,n,e,t,r,i,o,l),c!=null&&qv(n,f,u),f}function gi(n,e,t,r,i,o,s,a){let l=wn(),c=Eo(),u=Vs(c.consts,o);return l$(l,c,n,e,t,r,i,u,void 0,s,a),gi}var c$=u$;function u$(n,e,t,r){return uv(!0),e[Xr].createComment("")}var _5=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var y5=new ft("");function np(n){return!!n&&typeof n.then=="function"}function v5(n){return!!n&&typeof n.subscribe=="function"}var JL=new ft("");var w5=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=Se(JL,{optional:!0})??[];injector=Se(bi);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=bo(this.injector,i);if(np(o))t.push(o);else if(v5(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kv=new ft("");function QL(){BE(()=>{let n="";throw new dt(600,n)})}function ek(n){return n.isBoundToModule}var h$=10;var cl=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Se(fs);afterRenderManager=Se(s5);zonelessEnabled=Se(Bm);rootEffectScheduler=Se(Um);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ot;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Se(cc);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(cn(t=>!t))}constructor(){Se(ad,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=Se(di);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=bi.NULL){return this._injector.get(nr).run(()=>{Vn(10);let s=t instanceof Zv;if(!this._injector.get(w5).done){let g="";throw new dt(405,g)}let l;s?l=t:l=this._injector.get(Jm).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=ek(l)?void 0:this._injector.get(rd),u=r||l.selector,d=l.create(i,[],u,c),f=d.location.nativeElement,h=d.injector.get(y5,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),zm(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),Vn(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Vn(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(zv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new dt(101,!1);let t=It(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,It(t),this.afterTick.next(),Vn(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Hs,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<h$;)Vn(14),this.synchronizeOnce(),Vn(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fm(i))continue;let o=r&&!this.zonelessEnabled?0:1;DL(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Fm(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;zm(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Kv,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zm(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new dt(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zm(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var cye=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var OC=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function uC(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function d$(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=n.at(o),u=e[o],d=uC(o,c,o,u,t);if(d!==0){d<0&&n.updateValue(o,u),o++;continue}let f=n.at(s),h=e[l],g=uC(s,f,l,h,t);if(g!==0){g<0&&n.updateValue(s,h),s--,l--;continue}let _=t(o,c),y=t(s,f),v=t(o,u);if(Object.is(v,y)){let E=t(l,h);Object.is(E,_)?(n.swap(o,s),n.updateValue(s,h),l--,s--):n.move(s,o),n.updateValue(o,u),o++;continue}if(r??=new Nv,i??=mP(n,o,s,t),FC(n,r,o,v))n.updateValue(o,u),o++,s++;else if(i.has(v))r.set(_,n.detach(o)),s--;else{let E=n.create(o,e[o]);n.attach(o,E),o++,s++}}for(;o<=l;)gP(n,r,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=n.at(o),d=c.value,f=uC(o,u,o,d,t);if(f!==0)f<0&&n.updateValue(o,d),o++,c=l.next();else{r??=new Nv,i??=mP(n,o,s,t);let h=t(o,d);if(FC(n,r,o,h))n.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(h))n.attach(o,n.create(o,d)),o++,s++,c=l.next();else{let g=t(o,u);r.set(g,n.detach(o)),s--}}}for(;!c.done;)gP(n,r,t,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function FC(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function gP(n,e,t,r,i){if(FC(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function mP(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Nv=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Jv(n,e,t,r,i,o,s,a){fc("NgControlFlow");let l=wn(),c=Eo(),u=Vs(c.consts,o);return Rv(l,c,n,e,t,r,i,u,256,s,a),x5}function x5(n,e,t,r,i,o,s,a){fc("NgControlFlow");let l=wn(),c=Eo(),u=Vs(c.consts,o);return Rv(l,c,n,e,t,r,i,u,512,s,a),x5}function Qv(n,e){fc("NgControlFlow");let t=wn(),r=jm(),i=t[r]!==dc?t[r]:-1,o=i!==-1?Pv(t,pi+i):void 0,s=0;if(Qm(t,r,n)){let a=It(null);try{if(o!==void 0&&PL(o,s),n!==-1){let l=pi+n,c=Pv(t,l),u=GC(t[Et],l),d=kL(c,u,t),f=Wv(t,u,e,{dehydratedView:d});$v(c,f,s,Hm(u,d))}}finally{It(a)}}else if(o!==void 0){let a=NL(o,s);a!==void 0&&(a[Lr]=e)}}var jC=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Sr}};var BC=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function b5(n,e,t,r,i,o,s,a,l,c,u,d,f){fc("NgControlFlow");let h=wn(),g=Eo(),_=l!==void 0,y=wn(),v=a?s.bind(y[hs][Lr]):s,E=new BC(_,v);y[pi+n]=E,Rv(h,g,n+1,e,t,r,i,Vs(g.consts,o),256),_&&Rv(h,g,n+2,l,c,u,d,Vs(g.consts,f),512)}var UC=class extends OC{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Sr}at(e){return this.getLView(e)[Lr].$implicit}attach(e,t){let r=t[Hf];this.needsIndexUpdate||=e!==this.length,$v(this.lContainer,t,e,Hm(this.templateTNode,r)),f$(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,p$(this.lContainer,e),g$(this.lContainer,e)}create(e,t){let r=IC(this.lContainer,this.templateTNode.tView.ssrId),i=Wv(this.hostLView,this.templateTNode,new jC(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Vv(e[Et],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Lr].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Lr].$index=e}getLView(e){return m$(this.lContainer,e)}};function E5(n){let e=It(null),t=Eu();try{let r=wn(),i=r[Et],o=r[t],s=t+1,a=Pv(r,s);if(o.liveCollection===void 0){let c=GC(i,s);o.liveCollection=new UC(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(d$(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=jm(),u=l.length===0;if(Qm(r,c,u)){let d=t+2,f=Pv(r,d);if(u){let h=GC(i,d),g=kL(f,h,r),_=Wv(r,h,void 0,{dehydratedView:g});$v(f,_,0,Hm(h,g))}else i.firstUpdatePass&&pW(f),PL(f,0)}}}finally{It(e)}}function Pv(n,e){return n[e]}function f$(n,e){if(n.length<=Sr)return;let t=Sr+e,r=n[t],i=r?r[Yh]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[ac];wq(o,i),td.delete(r),i.detachedLeaveAnimationFns=void 0}}function p$(n,e){if(n.length<=Sr)return;let t=Sr+e,r=n[t],i=r?r[Yh]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function g$(n,e){return Wm(n,e)}function m$(n,e){return NL(n,e)}function GC(n,e){return Om(n,e)}function ir(n,e,t){let r=wn(),i=jm();if(Qm(r,i,e)){let o=Eo(),s=G3();Uq(s,r,n,e,r[Xr],t)}return ir}function _P(n,e,t,r,i){h5(e,n,t,i?"class":"style",r)}function Be(n,e,t,r){let i=wn(),o=i[Et],s=n+pi,a=o.firstCreatePass?UL(s,i,2,e,vL,qS(),t,r):o.data[s];if(wL(a,i,n,e,tk),km(a)){let l=i[Et];u5(l,i,a),XP(l,a,i)}return r!=null&&qv(i,a),Be}function ze(){let n=Eo(),e=So(),t=xL(e);return n.firstCreatePass&&GL(n,t),WS(t)&&$S(),HS(),t.classesWithoutHost!=null&&wH(t)&&_P(n,t,wn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&xH(t)&&_P(n,t,wn(),t.stylesWithoutHost,!1),ze}function Ft(n,e,t,r){return Be(n,e,t,r),ze(),Ft}function ul(n,e,t,r){let i=wn(),o=i[Et],s=n+pi,a=o.firstCreatePass?TW(s,o,2,e,t,r):o.data[s];return wL(a,i,n,e,tk),r!=null&&qv(i,a),ul}function pc(){let n=So(),e=xL(n);return WS(e)&&$S(),HS(),pc}function rp(n,e,t,r){return ul(n,e,t,r),pc(),rp}var tk=(n,e,t,r,i)=>(uv(!0),eL(e[Xr],r,z3()));function Ei(){return wn()}var t0="en-US";var _$=t0;function nk(n){typeof n=="string"&&(_$=n.toLowerCase().replace(/_/g,"-"))}function un(n,e,t){let r=wn(),i=Eo(),o=So();return y$(i,r,r[Xr],o,n,e,t),un}function y$(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=lC(r,e,o),MW(r,n,e,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];l??=lC(r,e,o),hP(r,e,f,h,i,l)}if(c&&c.length)for(let d of c)l??=lC(r,e,o),hP(r,e,d,i,i,l)}}function or(n=1){return U3(n)}function e2(n,e,t){QW(n,e,t)}function t2(n){let e=wn(),t=Eo(),r=KS();sv(r+1);let i=m5(t,r);if(n.dirty&&w3(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=n$(e,r);n.reset(o,LH),n.notifyOnChanges()}return!0}return!1}function n2(){return KW(wn(),KS())}function S5(n){let e=A3();return v3(e,pi+n)}function hv(n,e){return n<<17|e<<2}function id(n){return n>>17&32767}function v$(n){return(n&2)==2}function w$(n,e){return n&131071|e<<17}function zC(n){return n|2}function ep(n){return(n&131068)>>2}function hC(n,e){return n&-131069|e<<2}function x$(n){return(n&1)===1}function VC(n){return n|1}function b$(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=id(s),l=ep(s);n[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||zf(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let f=id(n[a+1]);n[r+1]=hv(f,a),f!==0&&(n[f+1]=hC(n[f+1],r)),n[a+1]=w$(n[a+1],r)}else n[r+1]=hv(a,0),a!==0&&(n[a+1]=hC(n[a+1],r)),a=r;else n[r+1]=hv(l,0),a===0?a=r:n[l+1]=hC(n[l+1],r),l=r;c&&(n[r+1]=zC(n[r+1])),yP(n,u,r,!0),yP(n,u,r,!1),E$(e,u,n,r,o),s=hv(a,l),o?e.classBindings=s:e.styleBindings=s}function E$(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&zf(o,e)>=0&&(t[r+1]=VC(t[r+1]))}function yP(n,e,t,r){let i=n[t+1],o=e===null,s=r?id(i):ep(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];S$(l,e)&&(a=!0,n[s+1]=r?VC(c):zC(c)),s=r?id(c):ep(c)}a&&(n[t+1]=r?zC(i):VC(i))}function S$(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?zf(n,e)>=0:!1}function n0(n,e,t){return rk(n,e,t,!1),n0}function hl(n,e){return rk(n,e,null,!0),hl}function rk(n,e,t,r){let i=wn(),o=Eo(),s=N3(2);if(o.firstUpdatePass&&I$(o,n,s,r),e!==dc&&Qm(i,s,e)){let a=o.data[Eu()];R$(o,a,i,i[Xr],n,i[s+1]=N$(e,t),r,s)}}function C$(n,e){return e>=n.expandoStartIndex}function I$(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Eu()],s=C$(n,t);P$(o,r)&&e===null&&!s&&(e=!1),e=D$(i,o,e,r),b$(i,o,e,t,s,r)}}function D$(n,e,t,r){let i=O3(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=dC(null,n,e,t,r),t=Zm(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=dC(i,n,e,t,r),o===null){let l=T$(n,e,r);l!==void 0&&Array.isArray(l)&&(l=dC(null,n,e,l[1],r),l=Zm(l,e.attrs,r),M$(n,e,r,l))}else o=A$(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function T$(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ep(r)!==0)return n[id(r)]}function M$(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[id(i)]=r}function A$(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Zm(r,s,t)}return Zm(r,e.attrs,t)}function dC(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Zm(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Zm(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),c3(n,s,t?!0:e[++o]))}return n===void 0?null:n}function R$(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=x$(c)?vP(l,e,t,i,ep(c),s):void 0;if(!Lv(u)){Lv(o)||v$(c)&&(o=vP(l,null,t,i,a,s));let d=jS(Eu(),t);kq(r,s,d,i,o)}}function vP(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=t[i+1];f===dc&&(f=d?Fs:void 0);let h=d?tv(f,r):u===r?f:void 0;if(c&&!Lv(h)&&(h=tv(l,r)),Lv(h)&&(a=h,s))return a;let g=n[i+1];i=s?id(g):ep(g)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=tv(l,r))}return a}function Lv(n){return n!==void 0}function N$(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ic(XC(n)))),n}function P$(n,e){return(n.flags&(e?8:16))!==0}function xt(n,e=""){let t=wn(),r=Eo(),i=n+pi,o=r.firstCreatePass?Km(r,i,1,e,null):r.data[i],s=L$(r,t,o,e,n);t[i]=s,cv()&&l5(r,t,s,o),Zf(o,!1)}var L$=(n,e,t,r,i)=>(uv(!0),WH(e[Xr],r));function k$(n,e,t,r=""){return Qm(n,jm(),t)?e+Jy(t)+r:dc}function ps(n,e,t){let r=wn(),i=k$(r,n,e,t);return i!==dc&&O$(r,Eu(),i),ps}function O$(n,e,t){let r=jS(e,n);$H(n[Xr],r,t)}function F$(n,e,t){let r=Eo();if(r.firstCreatePass){let i=xu(n);HC(t,r.data,r.blueprint,i,!0),HC(e,r.data,r.blueprint,i,!1)}}function HC(n,e,t,r,i){if(n=Gi(n),Array.isArray(n))for(let o=0;o<n.length;o++)HC(n[o],e,t,r,i);else{let o=Eo(),s=wn(),a=So(),l=Uh(n)?n:Gi(n.provide),c=NS(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Uh(n)||!n.multi){let h=new ed(c,i,no,null),g=pC(l,e,i?u:u+f,d);g===-1?(mC(vv(a,s),o,l),fC(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[g]=h,s[g]=h)}else{let h=pC(l,e,u+f,d),g=pC(l,e,u,u+f),_=h>=0&&t[h],y=g>=0&&t[g];if(i&&!y||!i&&!_){mC(vv(a,s),o,l);let v=U$(i?B$:j$,t.length,i,r,c,n);!i&&y&&(t[g].providerFactory=v),fC(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)}else{let v=ik(t[i?g:h],c,!i&&r);fC(o,n,h>-1?h:g,v)}!i&&r&&y&&t[g].componentProviders++}}}function fC(n,e,t,r){let i=Uh(e),o=g3(e);if(i||o){let l=(o?Gi(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function ik(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function pC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function j$(n,e,t,r,i){return qC(this.multi,[])}function B$(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Vm(r,r[Et],this.providerFactory.index,i);s=l.slice(0,a),qC(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],qC(o,s);return s}function qC(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function U$(n,e,t,r,i,o){let s=new ed(n,t,no,null);return s.multi=[],s.index=e,s.componentProviders=0,ik(s,i,r&&!t),s}function r0(n,e=[]){return t=>{t.providersResolver=(r,i)=>F$(r,i?i(n):n,e)}}var kv=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},C5=(()=>{class n{compileModuleSync(t){return new Av(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=TS(t),o=iL(i.declarations).reduce((s,a)=>{let l=sc(a);return l&&s.push(new nd(l)),s},[]);return new kv(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G$=(()=>{class n{zone=Se(nr);changeDetectionScheduler=Se(tl);applicationRef=Se(cl);applicationErrorHandler=Se(fs);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ok=new ft("",{factory:()=>!1});function I5({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new nr(ln(Ze({},T5()),{scheduleInRootZone:t})),[{provide:nr,useFactory:n},{provide:oc,multi:!0,useFactory:()=>{let r=Se(G$,{optional:!0});return()=>r.initialize()}},{provide:oc,multi:!0,useFactory:()=>{let r=Se(z$);return()=>{r.initialize()}}},e===!0?{provide:rC,useValue:!0}:[],{provide:iC,useValue:t??cL},{provide:fs,useFactory:()=>{let r=Se(nr),i=Se(di),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(js),o.handleError(s))})}}}]}function D5(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=I5({ngZoneFactory:()=>{let i=T5(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&fc("NgZone_CoalesceEvent"),new nr(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return qh([{provide:ok,useValue:!0},{provide:Bm,useValue:!1},r])}function T5(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var z$=(()=>{class n{subscription=new Tn;initialized=!1;zone=Se(nr);pendingTasks=Se(cc);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{nr.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{nr.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sk=(()=>{class n{applicationErrorHandler=Se(fs);appRef=Se(cl);taskService=Se(cc);ngZone=Se(nr);zonelessEnabled=Se(Bm);tracing=Se(ad,{optional:!0});disableScheduling=Se(rC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Tn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ev):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Se(iC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sv||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?tP:uL;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ev+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,tP(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V$(){return typeof $localize<"u"&&$localize.locale||t0}var r2=new ft("",{providedIn:"root",factory:()=>Se(r2,{optional:!0,skipSelf:!0})||V$()});function dl(n){return K4(n)}function i0(n,e){return _y(n,e?.equal)}var M5=class{[wo];constructor(e){this[wo]=e}destroy(){this[wo].destroy()}};function ip(n,e){let t=e?.injector??Se(bi),r=e?.manualCleanup!==!0?t.get(va):null,i,o=t.get(Xf,null,{optional:!0}),s=t.get(tl);return o!==null?(i=W$(o.view,s,n),r instanceof Tm&&r._lView===o.view&&(r=null)):i=$$(n,t.get(Um),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new M5(i)}var ak=ln(Ze({},J4),{cleanupFns:void 0,zone:null,onDestroyFn:Jh,run(){let n=Yf(!1);try{Q4(this)}finally{Yf(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=It(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],It(n)}}}),H$=ln(Ze({},ak),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Nh(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),q$=ln(Ze({},ak),{consumerMarkedDirty(){this.view[Dt]|=8192,bu(this.view),this.notifier.notify(13)},destroy(){Nh(this),this.onDestroyFn(),this.cleanup(),this.view[lc]?.delete(this)}});function W$(n,e,t){let r=Object.create(q$);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=lk(r,t),n[lc]??=new Set,n[lc].add(r),r.consumerMarkedDirty(r),r}function $$(n,e,t){let r=Object.create(H$);return r.fn=lk(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function lk(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var dk=Symbol("InputSignalNode#UNSET"),mZ=ln(Ze({},yy),{transformFn:void 0,applyValueToInputSignal(n,e){Ef(n,e)}});function fk(n,e){let t=Object.create(mZ);t.value=n,t.transformFn=e?.transform;function r(){if(vf(t),t.value===dk){let i=null;throw new dt(-950,i)}return t.value}return r[wo]=t,r}var _Z=new ft("");_Z.__NG_ELEMENT_ID__=n=>{let e=So();if(e===null)throw new dt(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new dt(204,!1)};function ck(n,e){return fk(n,e)}function yZ(n){return fk(dk,n)}var pk=(ck.required=yZ,ck);var A5=new ft(""),vZ=new ft("");function o0(n){return!n.moduleRef}function wZ(n){let e=o0(n)?n.r3Injector:n.moduleRef.injector,t=e.get(nr);return t.run(()=>{o0(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(fs),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),o0(n)){let o=()=>e.destroy(),s=n.platformInjector.get(A5);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(A5);s.add(o),n.moduleRef.onDestroy(()=>{zm(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return bZ(r,t,()=>{let o=e.get(cc),s=o.add(),a=e.get(w5);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(r2,t0);if(nk(l||t0),!e.get(vZ,!0))return o0(n)?e.get(cl):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(o0(n)){let u=e.get(cl);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return xZ?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var xZ;function bZ(n,e,t){try{let r=t();return np(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var i2=null;function EZ(n=[],e){return bi.create({name:e,providers:[{provide:Nm,useValue:"platform"},{provide:A5,useValue:new Set([()=>i2=null])},...n]})}function SZ(n=[]){if(i2)return i2;let e=EZ(n);return i2=e,QL(),CZ(e),e}function CZ(n){let e=n.get(Bv,null);bo(n,()=>{e?.forEach(t=>t())})}var op=(()=>{class n{static __NG_ELEMENT_ID__=IZ}return n})();function IZ(n){return DZ(So(),wn(),(n&16)===16)}function DZ(n,e,t){if(wu(n)&&!t){let r=zs(n.index,e);return new Cu(r,r)}else if(n.type&175){let r=e[hs];return new Cu(r,e)}return null}var R5=class{constructor(){}supports(e){return g5(e)}create(e){return new N5(e)}},TZ=(n,e)=>e,N5=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||TZ}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<uk(r,i,o)?t:r,a=uk(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!g5(e))throw new dt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,zL(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new P5(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new o2),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new o2),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},P5=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},L5=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},o2=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new L5,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uk(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function hk(){return new s2([new R5])}var s2=(()=>{class n{factories;static \u0275prov=Xe({token:n,providedIn:"root",factory:hk});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=Se(n,{optional:!0,skipSelf:!0});return n.create(t,r||hk())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new dt(901,!1)}}return n})();function gk(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Vn(8);try{let o=i?.injector??SZ(r),s=[I5({}),{provide:tl,useExisting:sk},H3,...t||[]],a=new $m({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return wZ({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Vn(9)}}function s0(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function mk(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function _k(n,e){let t=sc(n),r=e.elementInjector||Vf();return new nd(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var wk=null;function gc(){return wk}function k5(n){wk??=n}var a0=class{},O5=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:()=>Se(xk),providedIn:"platform"})}return n})();var xk=(()=>{class n extends O5{_location;_history;_doc=Se(ar);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gc().getBaseHref(this._doc)}onPopState(t){let r=gc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=gc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function bk(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function yk(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Iu(n){return n&&n[0]!=="?"?`?${n}`:n}var a2=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:()=>Se(Sk),providedIn:"root"})}return n})(),Ek=new ft(""),Sk=(()=>{class n extends a2{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Se(ar).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bk(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Iu(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Iu(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Iu(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Jt(O5),Jt(Ek,8))};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sp=(()=>{class n{_subject=new Ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=RZ(yk(vk(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Iu(r))}normalize(t){return n.stripTrailingSlash(AZ(this._basePath,vk(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Iu(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Iu(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Iu;static joinWithSlash=bk;static stripTrailingSlash=yk;static \u0275fac=function(r){return new(r||n)(Jt(a2))};static \u0275prov=Xe({token:n,factory:()=>MZ(),providedIn:"root"})}return n})();function MZ(){return new sp(Jt(a2))}function AZ(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function vk(n){return n.replace(/\/index.html$/,"")}function RZ(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var F5=/\s+/,Ck=[],l0=(()=>{class n{_ngEl;_renderer;initialClasses=Ck;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(F5):Ck}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(F5):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(F5).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(no(kr),no(Yv))};static \u0275dir=xa({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var l2=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},u2=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new l2(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Ik(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Ik(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(no(qs),no(ll),no(s2))};static \u0275dir=xa({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Ik(n,e){n.context.$implicit=e.item}var ba=(()=>{class n{_viewContainer;_context=new c2;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Dk(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Dk(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(no(qs),no(ll))};static \u0275dir=xa({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),c2=class{$implicit=null;ngIf=null};function Dk(n,e){if(n&&!n.createEmbeddedView)throw new dt(2020,!1)}var Si=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ld({type:n});static \u0275inj=_u({})}return n})();function j5(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var c0=class{};var B5="browser";function Tk(n){return n===B5}var h0=class{_doc;constructor(e){this._doc=e}manager},h2=(()=>{class n extends h0{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Jt(ar))};static \u0275prov=Xe({token:n,factory:n.\u0275fac})}return n})(),f2=new ft(""),H5=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof h2));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof h2);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new dt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Jt(f2),Jt(nr))};static \u0275prov=Xe({token:n,factory:n.\u0275fac})}return n})(),U5="ng-app-id";function Mk(n){for(let e of n)e.remove()}function Ak(n,e){let t=e.createElement("style");return t.textContent=n,t}function NZ(n,e,t,r){let i=n.head?.querySelectorAll(`style[${U5}="${e}"],link[${U5}="${e}"]`);if(i)for(let o of i)o.removeAttribute(U5),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function z5(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var q5=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,NZ(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Ak);r?.forEach(i=>this.addUsage(i,this.external,z5))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Mk(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Mk(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Ak(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,z5(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Jt(ar),Jt(jv),Jt(Uv,8),Jt(sd))};static \u0275prov=Xe({token:n,factory:n.\u0275fac})}return n})(),G5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},W5=/%COMP%/g;var Nk="%COMP%",PZ=`_nghost-${Nk}`,LZ=`_ngcontent-${Nk}`,kZ=!0,OZ=new ft("",{providedIn:"root",factory:()=>kZ});function FZ(n){return LZ.replace(W5,n)}function jZ(n){return PZ.replace(W5,n)}function Pk(n,e){return e.map(t=>t.replace(W5,n))}var $5=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l=null,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new d0(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof d2?i.applyToHost(t):i instanceof f0&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case uc.Emulated:o=new d2(l,c,r,this.appId,u,s,a,d,f);break;case uc.ShadowDom:return new V5(l,c,t,r,s,a,this.nonce,d,f);default:o=new f0(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Jt(H5),Jt(q5),Jt(jv),Jt(OZ),Jt(ar),Jt(nr),Jt(Uv),Jt(ad,8))};static \u0275prov=Xe({token:n,factory:n.\u0275fac})}return n})(),d0=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(G5[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Rk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Rk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new dt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=G5[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=G5[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(al.DashCase|al.Important)?e.style.setProperty(t,r,i&al.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&al.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=gc().getGlobalEventTarget(this.doc,e),!e))throw new dt(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Rk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var V5=class extends d0{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Pk(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=z5(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},f0=class extends d0{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Pk(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&td.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},d2=class extends f0{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,c,u),this.contentAttr=FZ(u),this.hostAttr=jZ(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var p2=class n extends a0{supportsDOMEvents=!0;static makeCurrent(){k5(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=BZ();return t==null?null:UZ(t)}resetBaseElement(){p0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return j5(document.cookie,e)}},p0=null;function BZ(){return p0=p0||document.head.querySelector("base"),p0?p0.getAttribute("href"):null}function UZ(n){return new URL(n,document.baseURI).pathname}var GZ=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac})}return n})(),Lk=["alt","control","meta","shift"],zZ={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VZ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},kk=(()=>{class n extends h0{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gc().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Lk.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=zZ[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Lk.forEach(s=>{if(s!==i){let a=VZ[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Jt(ar))};static \u0275prov=Xe({token:n,factory:n.\u0275fac})}return n})();function Z5(n,e,t){let r=Ze({rootComponent:n,platformRef:t?.platformRef},HZ(e));return gk(r)}function HZ(n){return{appProviders:[...YZ,...n?.providers??[]],platformProviders:ZZ}}function qZ(){p2.makeCurrent()}function WZ(){return new js}function $Z(){return ZC(document),document}var ZZ=[{provide:sd,useValue:B5},{provide:Bv,useValue:qZ,multi:!0},{provide:ar,useFactory:$Z}];var YZ=[{provide:Nm,useValue:"root"},{provide:js,useFactory:WZ},{provide:f2,useClass:h2,multi:!0,deps:[ar]},{provide:f2,useClass:kk,multi:!0,deps:[ar]},$5,q5,H5,{provide:Hs,useExisting:$5},{provide:c0,useClass:GZ},[]];var Ok=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Jt(ar))};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zt="primary",D0=Symbol("RouteTitle"),Q5=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function dp(n){return new Q5(n)}function KZ(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function JZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!pl(n[t],e[t]))return!1;return!0}function pl(n,e){let t=n?eI(n):void 0,r=e?eI(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Hk(n[i],e[i]))return!1;return!0}function eI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Hk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function qk(n){return n.length>0?n[n.length-1]:null}function yc(n){return Gy(n)?n:np(n)?Er(Promise.resolve(n)):Rt(n)}var QZ={exact:$k,subset:Zk},Wk={exact:eY,subset:tY,ignored:()=>!0};function Fk(n,e,t){return QZ[t.paths](n.root,e.root,t.matrixParams)&&Wk[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function eY(n,e){return pl(n,e)}function $k(n,e,t){if(!ud(n.segments,e.segments)||!_2(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!$k(n.children[r],e.children[r],t))return!1;return!0}function tY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Hk(n[t],e[t]))}function Zk(n,e,t){return Yk(n,e,e.segments,t)}function Yk(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ud(i,t)||e.hasChildren()||!_2(i,t,r))}else if(n.segments.length===t.length){if(!ud(n.segments,t)||!_2(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Zk(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ud(n.segments,i)||!_2(n.segments,i,r)||!n.children[zt]?!1:Yk(n.children[zt],e,o,r)}}function _2(n,e,t){return e.every((r,i)=>Wk[t](n[i].parameters,r.parameters))}var _c=class{root;queryParams;fragment;_queryParamMap;constructor(e=new jn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=dp(this.queryParams),this._queryParamMap}toString(){return iY.serialize(this)}},jn=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return y2(this)}},cd=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=dp(this.parameters),this._parameterMap}toString(){return Kk(this)}};function nY(n,e){return ud(n,e)&&n.every((t,r)=>pl(t.parameters,e[r].parameters))}function ud(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function rY(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===zt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==zt&&(t=t.concat(e(i,r)))}),t}var A2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:()=>new fp,providedIn:"root"})}return n})(),fp=class{parse(e){let t=new nI(e);return new _c(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${g0(e.root,!0)}`,r=aY(e.queryParams),i=typeof e.fragment=="string"?`#${oY(e.fragment)}`:"";return`${t}${r}${i}`}},iY=new fp;function y2(n){return n.segments.map(e=>Kk(e)).join("/")}function g0(n,e){if(!n.hasChildren())return y2(n);if(e){let t=n.children[zt]?g0(n.children[zt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==zt&&r.push(`${i}:${g0(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=rY(n,(r,i)=>i===zt?[g0(n.children[zt],!1)]:[`${i}:${g0(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[zt]!=null?`${y2(n)}/${t[0]}`:`${y2(n)}/(${t.join("//")})`}}function Xk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function g2(n){return Xk(n).replace(/%3B/gi,";")}function oY(n){return encodeURI(n)}function tI(n){return Xk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function v2(n){return decodeURIComponent(n)}function jk(n){return v2(n.replace(/\+/g,"%20"))}function Kk(n){return`${tI(n.path)}${sY(n.parameters)}`}function sY(n){return Object.entries(n).map(([e,t])=>`;${tI(e)}=${tI(t)}`).join("")}function aY(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${g2(t)}=${g2(i)}`).join("&"):`${g2(t)}=${g2(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var lY=/^[^\/()?;#]+/;function Y5(n){let e=n.match(lY);return e?e[0]:""}var cY=/^[^\/()?;=#]+/;function uY(n){let e=n.match(cY);return e?e[0]:""}var hY=/^[^=?&#]+/;function dY(n){let e=n.match(hY);return e?e[0]:""}var fY=/^[^&#]+/;function pY(n){let e=n.match(fY);return e?e[0]:""}var nI=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new jn([],{}):new jn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new jn(e,t)),r}parseSegment(){let e=Y5(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new dt(4009,!1);return this.capture(e),new cd(v2(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=uY(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Y5(this.remaining);i&&(r=i,this.capture(r))}e[v2(t)]=v2(r)}parseQueryParam(e){let t=dY(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=pY(this.remaining);s&&(r=s,this.capture(r))}let i=jk(t),o=jk(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Y5(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new dt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=zt);let s=this.parseChildren();t[o??zt]=Object.keys(s).length===1&&s[zt]?s[zt]:new jn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new dt(4011,!1)}};function Jk(n){return n.segments.length>0?new jn([],{[zt]:n}):n}function Qk(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Qk(i);if(r===zt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new jn(n.segments,e);return gY(t)}function gY(n){if(n.numberOfChildren===1&&n.children[zt]){let e=n.children[zt];return new jn(n.segments.concat(e.segments),e.children)}return n}function pp(n){return n instanceof _c}function mY(n,e,t=null,r=null){let i=eO(n);return tO(i,e,t,r)}function eO(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new jn(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Jk(r);return e??i}function tO(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return X5(i,i,i,t,r);let o=_Y(e);if(o.toRoot())return X5(i,i,new jn([],{}),t,r);let s=yY(o,i,n),a=s.processChildren?_0(s.segmentGroup,s.index,o.commands):rO(s.segmentGroup,s.index,o.commands);return X5(i,s.segmentGroup,a,t,r)}function w2(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function w0(n){return typeof n=="object"&&n!=null&&n.outlets}function X5(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=nO(n,e,t);let a=Jk(Qk(s));return new _c(a,o,i)}function nO(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=nO(o,e,t)}),new jn(n.segments,r)}var x2=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&w2(r[0]))throw new dt(4003,!1);let i=r.find(w0);if(i&&i!==qk(r))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _Y(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new x2(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new x2(t,e,r)}var cp=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function yY(n,e,t){if(n.isAbsolute)return new cp(e,!0,0);if(!t)return new cp(e,!1,NaN);if(t.parent===null)return new cp(t,!0,0);let r=w2(n.commands[0])?0:1,i=t.segments.length-1+r;return vY(t,i,n.numberOfDoubleDots)}function vY(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new dt(4005,!1);i=r.segments.length}return new cp(r,!1,i-o)}function wY(n){return w0(n[0])?n[0].outlets:{[zt]:n}}function rO(n,e,t){if(n??=new jn([],{}),n.segments.length===0&&n.hasChildren())return _0(n,e,t);let r=xY(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new jn(n.segments.slice(0,r.pathIndex),{});return o.children[zt]=new jn(n.segments.slice(r.pathIndex),n.children),_0(o,0,i)}else return r.match&&i.length===0?new jn(n.segments,{}):r.match&&!n.hasChildren()?rI(n,e,t):r.match?_0(n,0,i):rI(n,e,t)}function _0(n,e,t){if(t.length===0)return new jn(n.segments,{});{let r=wY(t),i={};if(Object.keys(r).some(o=>o!==zt)&&n.children[zt]&&n.numberOfChildren===1&&n.children[zt].segments.length===0){let o=_0(n.children[zt],e,t);return new jn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rO(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new jn(n.segments,i)}}function xY(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(w0(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Uk(l,c,s))return o;r+=2}else{if(!Uk(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function rI(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(w0(o)){let l=bY(o.outlets);return new jn(r,l)}if(i===0&&w2(t[0])){let l=n.segments[e];r.push(new cd(l.path,Bk(t[0]))),i++;continue}let s=w0(o)?o.outlets[zt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&w2(a)?(r.push(new cd(s,Bk(a))),i+=2):(r.push(new cd(s,{})),i++)}return new jn(r,{})}function bY(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=rI(new jn([],{}),0,r))}),e}function Bk(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Uk(n,e,t){return n==t.path&&pl(e,t.parameters)}var y0="imperative",zi=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(zi||{}),Ws=class{id;url;constructor(e,t){this.id=e,this.url=t}},gp=class extends Ws{type=zi.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Du=class extends Ws{urlAfterRedirects;type=zi.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lo=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Lo||{}),b2=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(b2||{}),mc=class extends Ws{reason;code;type=zi.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Tu=class extends Ws{reason;code;type=zi.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},x0=class extends Ws{error;target;type=zi.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},E2=class extends Ws{urlAfterRedirects;state;type=zi.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iI=class extends Ws{urlAfterRedirects;state;type=zi.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oI=class extends Ws{urlAfterRedirects;state;shouldActivate;type=zi.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sI=class extends Ws{urlAfterRedirects;state;type=zi.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},aI=class extends Ws{urlAfterRedirects;state;type=zi.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lI=class{route;type=zi.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cI=class{route;type=zi.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},uI=class{snapshot;type=zi.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hI=class{snapshot;type=zi.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dI=class{snapshot;type=zi.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fI=class{snapshot;type=zi.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var b0=class{},mp=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function EY(n){return!(n instanceof b0)&&!(n instanceof mp)}function SY(n,e){return n.providers&&!n._injector&&(n._injector=e0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ea(n){return n.outlet||zt}function CY(n,e){let t=n.filter(r=>Ea(r)===e);return t.push(...n.filter(r=>Ea(r)!==e)),t}function yp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var pI=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yp(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new T0(this.rootInjector)}},T0=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pI(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Jt(di))};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S2=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=gI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=gI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=mI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mI(e,this._root).map(t=>t.value)}};function gI(n,e){if(n===e.value)return e;for(let t of e.children){let r=gI(n,t);if(r)return r}return null}function mI(n,e){if(n===e.value)return[e];for(let t of e.children){let r=mI(n,t);if(r.length)return r.unshift(e),r}return[]}var gs=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function lp(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var C2=class extends S2{snapshot;constructor(e,t){super(e),this.snapshot=t,CI(this,e)}toString(){return this.snapshot.toString()}};function iO(n){let e=IY(n),t=new ui([new cd("",{})]),r=new ui({}),i=new ui({}),o=new ui({}),s=new ui(""),a=new hd(t,r,o,s,i,zt,n,e.root);return a.snapshot=e.root,new C2(new gs(a,[]),e)}function IY(n){let e={},t={},r={},o=new up([],e,r,"",t,zt,n,null,{});return new D2("",new gs(o,[]))}var hd=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(cn(c=>c[D0]))??Rt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(cn(e=>dp(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(cn(e=>dp(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function I2(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Ze(Ze({},e.params),n.params),data:Ze(Ze({},e.data),n.data),resolve:Ze(Ze(Ze(Ze({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Ze({},n.params),data:Ze({},n.data),resolve:Ze(Ze({},n.data),n._resolvedData??{})},i&&sO(i)&&(r.resolve[D0]=i.title),r}var up=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[D0]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=dp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=dp(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},D2=class extends S2{url;constructor(e,t){super(t),this.url=e,CI(this,t)}toString(){return oO(this._root)}};function CI(n,e){e.value._routerState=n,e.children.forEach(t=>CI(n,t))}function oO(n){let e=n.children.length>0?` { ${n.children.map(oO).join(", ")} } `:"";return`${n.value}${e}`}function K5(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,pl(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),pl(e.params,t.params)||n.paramsSubject.next(t.params),JZ(e.url,t.url)||n.urlSubject.next(t.url),pl(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _I(n,e){let t=pl(n.params,e.params)&&nY(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_I(n.parent,e.parent))}function sO(n){return typeof n.title=="string"||n.title===null}var DY=new ft(""),aO=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=zt;activateEvents=new fr;deactivateEvents=new fr;attachEvents=new fr;detachEvents=new fr;routerOutletData=pk();parentContexts=Se(T0);location=Se(qs);changeDetector=Se(op);inputBinder=Se(R2,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new dt(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new yI(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xa({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[od]})}return n})(),yI=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===hd?this.route:e===T0?this.childContexts:e===DY?this.outletData:this.parent.get(e,t)}},R2=new ft("");var lO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rr({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ft(0,"router-outlet")},dependencies:[aO],encapsulation:2})}return n})();function II(n){let e=n.children&&n.children.map(II),t=e?ln(Ze({},n),{children:e}):Ze({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=lO),t}function TY(n,e,t){let r=E0(n,e._root,t?t._root:void 0);return new C2(r,e)}function E0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=MY(n,e,t);return new gs(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>E0(n,a)),s}}let r=AY(e.value),i=e.children.map(o=>E0(n,o));return new gs(r,i)}}function MY(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return E0(n,r,i);return E0(n,r)})}function AY(n){return new hd(new ui(n.url),new ui(n.params),new ui(n.queryParams),new ui(n.fragment),new ui(n.data),n.outlet,n.component,n)}var S0=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},cO="ngNavigationCancelingError";function T2(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=pp(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uO(!1,Lo.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function uO(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[cO]=!0,t.cancellationCode=e,t}function RY(n){return hO(n)&&pp(n.url)}function hO(n){return!!n&&n[cO]}var NY=(n,e,t,r)=>cn(i=>(new vI(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),vI=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),K5(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=lp(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=lp(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=lp(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=lp(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fI(o.value.snapshot))}),e.children.length&&this.forwardEvent(new hI(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(K5(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),K5(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},M2=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hp=class{component;route;constructor(e,t){this.component=e,this.route=t}};function PY(n,e,t){let r=n._root,i=e?e._root:null;return m0(r,i,t,[r.value])}function LY(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function vp(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!_S(n)?n:e.get(n):r}function m0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=lp(e);return n.children.forEach(s=>{kY(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>v0(a,t.getContext(s),i)),i}function kY(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=OY(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new M2(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?m0(n,e,a?a.children:null,r,i):m0(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hp(a.outlet.component,s))}else s&&v0(e,a,i),i.canActivateChecks.push(new M2(r)),o.component?m0(n,null,a?a.children:null,r,i):m0(n,null,t,r,i);return i}function OY(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ud(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ud(n.url,e.url)||!pl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_I(n,e)||!pl(n.queryParams,e.queryParams);case"paramsChange":default:return!_I(n,e)}}function v0(n,e,t){let r=lp(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?v0(s,e.children.getContext(o),t):v0(s,null,t):v0(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new hp(e.outlet.component,i)):t.canDeactivateChecks.push(new hp(null,i)):t.canDeactivateChecks.push(new hp(null,i))}function M0(n){return typeof n=="function"}function FY(n){return typeof n=="boolean"}function jY(n){return n&&M0(n.canLoad)}function BY(n){return n&&M0(n.canActivate)}function UY(n){return n&&M0(n.canActivateChild)}function GY(n){return n&&M0(n.canDeactivate)}function zY(n){return n&&M0(n.canMatch)}function dO(n){return n instanceof ec||n?.name==="EmptyError"}var m2=Symbol("INITIAL_VALUE");function _p(){return Ui(n=>zy(n.map(e=>e.pipe(ma(1),Uf(m2)))).pipe(cn(e=>{for(let t of e)if(t!==!0){if(t===m2)return m2;if(t===!1||VY(t))return t}return!0}),cs(e=>e!==m2),ma(1)))}function VY(n){return pp(n)||n instanceof S0}function HY(n,e){return hi(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Rt(ln(Ze({},t),{guardsResult:!0})):qY(s,r,i,n).pipe(hi(a=>a&&FY(a)?WY(r,o,n,e):Rt(a)),cn(a=>ln(Ze({},t),{guardsResult:a})))})}function qY(n,e,t,r){return Er(n).pipe(hi(i=>KY(i.component,i.route,t,e,r)),tc(i=>i!==!0,!0))}function WY(n,e,t,r){return Er(e).pipe(jf(i=>Of(ZY(i.route.parent,r),$Y(i.route,r),XY(n,i.path,t),YY(n,i.route,t))),tc(i=>i!==!0,!0))}function $Y(n,e){return n!==null&&e&&e(new dI(n)),Rt(!0)}function ZY(n,e){return n!==null&&e&&e(new uI(n)),Rt(!0)}function YY(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Rt(!0);let i=r.map(o=>Em(()=>{let s=yp(e)??t,a=vp(o,s),l=BY(a)?a.canActivate(e,n):bo(s,()=>a(e,n));return yc(l).pipe(tc())}));return Rt(i).pipe(_p())}function XY(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>LY(s)).filter(s=>s!==null).map(s=>Em(()=>{let a=s.guards.map(l=>{let c=yp(s.node)??t,u=vp(l,c),d=UY(u)?u.canActivateChild(r,n):bo(c,()=>u(r,n));return yc(d).pipe(tc())});return Rt(a).pipe(_p())}));return Rt(o).pipe(_p())}function KY(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Rt(!0);let s=o.map(a=>{let l=yp(e)??i,c=vp(a,l),u=GY(c)?c.canDeactivate(n,e,t,r):bo(l,()=>c(n,e,t,r));return yc(u).pipe(tc())});return Rt(s).pipe(_p())}function JY(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Rt(!0);let o=i.map(s=>{let a=vp(s,n),l=jY(a)?a.canLoad(e,t):bo(n,()=>a(e,t));return yc(l)});return Rt(o).pipe(_p(),fO(r))}function fO(n){return $E(Yr(e=>{if(typeof e!="boolean")throw T2(n,e)}),cn(e=>e===!0))}function QY(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Rt(!0);let o=i.map(s=>{let a=vp(s,n),l=zY(a)?a.canMatch(e,t):bo(n,()=>a(e,t));return yc(l)});return Rt(o).pipe(_p(),fO(r))}var C0=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},I0=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ap(n){return kf(new C0(n))}function eX(n){return kf(new dt(4e3,!1))}function tX(n){return kf(uO(!1,Lo.GuardRejected))}var wI=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Rt(r);if(i.numberOfChildren>1||!i.children[zt])return eX(`${e.redirectTo}`);i=i.children[zt]}}applyRedirectCommands(e,t,r,i,o){return nX(t,i,o).pipe(cn(s=>{if(s instanceof _c)throw new I0(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new I0(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new _c(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new jn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new dt(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function nX(n,e,t){if(typeof n=="string")return Rt(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d}=e;return yc(bo(t,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:d})))}var xI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rX(n,e,t,r,i){let o=pO(n,e,t);return o.matched?(r=SY(e,r),QY(r,e,t,i).pipe(cn(s=>s===!0?o:Ze({},xI)))):Rt(o)}function pO(n,e,t){if(e.path==="**")return iX(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Ze({},xI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||KZ)(t,n,e);if(!i)return Ze({},xI);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Ze(Ze({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function iX(n){return{matched:!0,parameters:n.length>0?qk(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Gk(n,e,t,r){return t.length>0&&aX(n,t,r)?{segmentGroup:new jn(e,sX(r,new jn(t,n.children))),slicedSegments:[]}:t.length===0&&lX(n,t,r)?{segmentGroup:new jn(n.segments,oX(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new jn(n.segments,n.children),slicedSegments:t}}function oX(n,e,t,r){let i={};for(let o of t)if(N2(n,e,o)&&!r[Ea(o)]){let s=new jn([],{});i[Ea(o)]=s}return Ze(Ze({},r),i)}function sX(n,e){let t={};t[zt]=e;for(let r of n)if(r.path===""&&Ea(r)!==zt){let i=new jn([],{});t[Ea(r)]=i}return t}function aX(n,e,t){return t.some(r=>N2(n,e,r)&&Ea(r)!==zt)}function lX(n,e,t){return t.some(r=>N2(n,e,r))}function N2(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function cX(n,e,t){return e.length===0&&!n.children[t]}var bI=class{};function uX(n,e,t,r,i,o,s="emptyOnly"){return new EI(n,e,t,r,i,s,o).recognize()}var hX=31,EI=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wI(this.urlSerializer,this.urlTree)}noMatchError(e){return new dt(4002,`'${e.segmentGroup}'`)}recognize(){let e=Gk(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(cn(({children:t,rootSnapshot:r})=>{let i=new gs(r,t),o=new D2("",i),s=mY(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new up([],Object.freeze({}),Object.freeze(Ze({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),zt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,zt,t).pipe(cn(r=>({children:r,rootSnapshot:t})),pu(r=>{if(r instanceof I0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof C0?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(cn(s=>s instanceof gs?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Er(o).pipe(jf(s=>{let a=r.children[s],l=CY(t,s);return this.processSegmentGroup(e,l,a,s,i)}),rS((s,a)=>(s.push(...a),s)),gu(null),nS(),hi(s=>{if(s===null)return ap(r);let a=gO(s);return dX(a),Rt(a)}))}processSegment(e,t,r,i,o,s,a){return Er(t).pipe(jf(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(pu(c=>{if(c instanceof C0)return Rt(null);throw c}))),tc(l=>!!l),pu(l=>{if(dO(l))return cX(r,i,o)?Rt(new bI):ap(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Ea(r)!==s&&(s===zt||!N2(i,o,r))?ap(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):ap(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=pO(t,i,o);if(!l)return ap(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hX&&(this.allowRedirects=!1));let h=new up(o,c,Object.freeze(Ze({},this.urlTree.queryParams)),this.urlTree.fragment,zk(i),Ea(i),i.component??i._loadedComponent??null,i,Vk(i)),g=I2(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(g.params),h.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e).pipe(Ui(y=>this.applyRedirects.lineralizeSegments(i,y)),hi(y=>this.processSegment(e,r,t,y.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=rX(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ui(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ui(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,g=new up(f,d,Object.freeze(Ze({},this.urlTree.queryParams)),this.urlTree.fragment,zk(r),Ea(r),r.component??r._loadedComponent??null,r,Vk(r)),_=I2(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let{segmentGroup:y,slicedSegments:v}=Gk(t,f,h,c);if(v.length===0&&y.hasChildren())return this.processChildren(u,c,y,g).pipe(cn(S=>new gs(g,S)));if(c.length===0&&v.length===0)return Rt(new gs(g,[]));let E=Ea(r)===o;return this.processSegment(u,c,y,v,E?zt:o,!0,g).pipe(cn(S=>new gs(g,S instanceof gs?[S]:[])))}))):ap(t)))}getChildConfig(e,t,r){return t.children?Rt({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Rt({routes:t._loadedRoutes,injector:t._loadedInjector}):JY(e,t,r,this.urlSerializer).pipe(hi(i=>i?this.configLoader.loadChildren(e,t).pipe(Yr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):tX(t))):Rt({routes:[],injector:e})}};function dX(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}function fX(n){let e=n.value.routeConfig;return e&&e.path===""}function gO(n){let e=[],t=new Set;for(let r of n){if(!fX(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=gO(r.children);e.push(new gs(r.value,i))}return e.filter(r=>!t.has(r))}function zk(n){return n.data||{}}function Vk(n){return n.resolve||{}}function pX(n,e,t,r,i,o){return hi(s=>uX(n,e,t,r,s.extractedUrl,i,o).pipe(cn(({state:a,tree:l})=>ln(Ze({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function gX(n,e){return hi(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Rt(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of mO(l))s.add(c);let a=0;return Er(s).pipe(jf(l=>o.has(l)?mX(l,r,n,e):(l.data=I2(l,l.parent,n).resolve,Rt(void 0))),Yr(()=>a++),Bf(1),hi(l=>a===s.size?Rt(t):eo))})}function mO(n){let e=n.children.map(t=>mO(t)).flat();return[n,...e]}function mX(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!sO(i)&&(o[D0]=i.title),Em(()=>(n.data=I2(n,n.parent,t).resolve,_X(o,n,e,r).pipe(cn(s=>(n._resolvedData=s,n.data=Ze(Ze({},n.data),s),null)))))}function _X(n,e,t,r){let i=eI(n);if(i.length===0)return Rt({});let o={};return Er(i).pipe(hi(s=>yX(n[s],e,t,r).pipe(tc(),Yr(a=>{if(a instanceof S0)throw T2(new fp,a);o[s]=a}))),Bf(1),cn(()=>o),pu(s=>dO(s)?eo:kf(s)))}function yX(n,e,t,r){let i=yp(e)??r,o=vp(n,i),s=o.resolve?o.resolve(e,t):bo(i,()=>o(e,t));return yc(s)}function J5(n){return Ui(e=>{let t=n(e);return t?Er(t).pipe(cn(()=>e)):Rt(e)})}var _O=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===zt);return r}getResolvedTitleForRoute(t){return t.data[D0]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:()=>Se(vX),providedIn:"root"})}return n})(),vX=(()=>{class n extends _O{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Jt(Ok))};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P2=new ft("",{providedIn:"root",factory:()=>({})}),L2=new ft(""),yO=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Se(C5);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Rt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=yc(bo(t,()=>r.loadComponent())).pipe(cn(vO),Ui(wO),Yr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Sm(()=>{this.componentLoaders.delete(r)})),o=new Af(i,()=>new Ot).pipe(Mf());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Rt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=wX(r,this.compiler,t,this.onLoadEndListener).pipe(Sm(()=>{this.childrenLoaders.delete(r)})),s=new Af(o,()=>new Ot).pipe(Mf());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wX(n,e,t,r){return yc(bo(t,()=>n.loadChildren())).pipe(cn(vO),Ui(wO),hi(i=>i instanceof Xv||Array.isArray(i)?Rt(i):Er(e.compileModuleAsync(i))),cn(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(L2,[],{optional:!0,self:!0}).flat()),{routes:s.map(II),injector:o}}))}function xX(n){return n&&typeof n=="object"&&"default"in n}function vO(n){return xX(n)?n.default:n}function wO(n){return Rt(n)}var DI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:()=>Se(bX),providedIn:"root"})}return n})(),bX=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xO=new ft("");var bO=new ft(""),EO=(()=>{class n{currentNavigation=xn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ot;transitionAbortWithErrorSubject=new Ot;configLoader=Se(yO);environmentInjector=Se(di);destroyRef=Se(va);urlSerializer=Se(A2);rootContexts=Se(T0);location=Se(sp);inputBindingEnabled=Se(R2,{optional:!0})!==null;titleStrategy=Se(_O);options=Se(P2,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Se(DI);createViewTransition=Se(xO,{optional:!0});navigationErrorHandler=Se(bO,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Rt(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new lI(i)),r=i=>this.events.next(new cI(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;dl(()=>{this.transitions?.next(ln(Ze({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new ui(null),this.transitions.pipe(cs(r=>r!==null),Ui(r=>{let i=!1;return Rt(r).pipe(Ui(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Lo.SupersededByNewNavigation),eo;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ln(Ze({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Tu(o.id,this.urlSerializer.serialize(o.rawUrl),"",b2.IgnoredSameUrlNavigation)),o.resolve(!1),eo;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Rt(o).pipe(Ui(l=>(this.events.next(new gp(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?eo:Promise.resolve(l))),pX(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Yr(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=l.urlAfterRedirects,u));let c=new E2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:d,extras:f}=o,h=new gp(l,this.urlSerializer.serialize(c),u,d);this.events.next(h);let g=iO(this.rootComponentType).snapshot;return this.currentTransition=r=ln(Ze({},o),{targetSnapshot:g,urlAfterRedirects:c,extras:ln(Ze({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=c,_)),Rt(r)}else return this.events.next(new Tu(o.id,this.urlSerializer.serialize(o.extractedUrl),"",b2.IgnoredByUrlHandlingStrategy)),o.resolve(!1),eo}),Yr(o=>{let s=new iI(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),cn(o=>(this.currentTransition=r=ln(Ze({},o),{guards:PY(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),HY(this.environmentInjector,o=>this.events.next(o)),Yr(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw T2(this.urlSerializer,o.guardsResult);let s=new oI(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),cs(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Lo.GuardRejected),!1)),J5(o=>{if(o.guards.canActivateChecks.length!==0)return Rt(o).pipe(Yr(s=>{let a=new sI(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ui(s=>{let a=!1;return Rt(s).pipe(gX(this.paramsInheritanceStrategy,this.environmentInjector),Yr({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Lo.NoDataFromResolver)}}))}),Yr(s=>{let a=new aI(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),J5(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let c=yp(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Yr(u=>{a.component=u}),cn(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return zy(s(o.targetSnapshot.root)).pipe(gu(null),ma(1))}),J5(()=>this.afterPreactivation()),Ui(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Er(a).pipe(cn(()=>r)):Rt(r)}),cn(o=>{let s=TY(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ln(Ze({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Yr(()=>{this.events.next(new b0)}),NY(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ma(1),nc(new rn(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(cs(()=>!i&&!r.targetRouterState),Yr(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Lo.Aborted)}))),Yr({next:o=>{i=!0,this.lastSuccessfulNavigation=dl(this.currentNavigation),this.events.next(new Du(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),nc(this.transitionAbortWithErrorSubject.pipe(Yr(o=>{throw o}))),Sm(()=>{i||this.cancelNavigationTransition(r,"",Lo.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),pu(o=>{if(this.destroyed)return r.resolve(!1),eo;if(i=!0,hO(o))this.events.next(new mc(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),RY(o)?this.events.next(new mp(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new x0(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=bo(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof S0){let{message:l,cancellationCode:c}=T2(this.urlSerializer,a);this.events.next(new mc(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new mp(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return eo}))}))}cancelNavigationTransition(t,r,i){let o=new mc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=dl(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EX(n){return n!==y0}var SX=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:()=>Se(CX),providedIn:"root"})}return n})(),SI=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},CX=(()=>{class n extends SI{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Fv(n)))(i||n)}})();static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SO=(()=>{class n{urlSerializer=Se(A2);options=Se(P2,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Se(sp);urlHandlingStrategy=Se(DI);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _c;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof _c?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=iO(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:()=>Se(IX),providedIn:"root"})}return n})(),IX=(()=>{class n extends SO{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof gp?this.updateStateMemento():t instanceof Tu?this.commitTransition(r):t instanceof E2?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof b0?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof mc&&t.code!==Lo.SupersededByNewNavigation&&t.code!==Lo.Redirect?this.restoreHistory(r):t instanceof x0?this.restoreHistory(r,!0):t instanceof Du&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=Ze(Ze({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=Ze(Ze({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Fv(n)))(i||n)}})();static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function CO(n,e){n.events.pipe(cs(t=>t instanceof Du||t instanceof mc||t instanceof x0||t instanceof Tu),cn(t=>t instanceof Du||t instanceof Tu?0:(t instanceof mc?t.code===Lo.Redirect||t.code===Lo.SupersededByNewNavigation:!1)?2:1),cs(t=>t!==2),ma(1)).subscribe(()=>{e()})}var DX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},TI=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Se(_5);stateManager=Se(SO);options=Se(P2,{optional:!0})||{};pendingTasks=Se(cc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Se(EO);urlSerializer=Se(A2);location=Se(sp);urlHandlingStrategy=Se(DI);injector=Se(di);_events=new Ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Se(SX);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Se(L2,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Se(R2,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Tn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=dl(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof mc&&r.code!==Lo.Redirect&&r.code!==Lo.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Du)this.navigated=!0;else if(r instanceof mp){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=Ze({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||EX(i.source)},s);this.scheduleNavigation(a,y0,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}EY(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),y0,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Ze({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(fs)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return dl(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(II),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=Ze(Ze({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=eO(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return tO(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=pp(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,y0,null,r)}navigate(t,r={skipLocationChange:!1}){return MX(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(zh(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=Ze({},DX):r===!1?i=Ze({},TX):i=r,pp(t))return Fk(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Fk(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return CO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MX(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new dt(4008,!1)}var AX=new ft("");function MI(n,...e){return qh([{provide:L2,multi:!0,useValue:n},[],{provide:hd,useFactory:RX,deps:[TI]},{provide:Kv,multi:!0,useFactory:NX},e.map(t=>t.\u0275providers)])}function RX(n){return n.routerState.root}function NX(){let n=Se(bi);return e=>{let t=n.get(cl);if(e!==t.components[0])return;let r=n.get(TI),i=n.get(PX);n.get(LX)===1&&r.initialNavigation(),n.get(kX,null,{optional:!0})?.setUpPreloading(),n.get(AX,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var PX=new ft("",{factory:()=>new Ot}),LX=new ft("",{providedIn:"root",factory:()=>1});var kX=new ft("");var IO=[];var DO={providers:[tC(),D5({eventCoalescing:!0}),MI(IO)]};var Ci={ADD:"add",REMOVE:"remove"};var Sa={PROPERTYCHANGE:"propertychange"};var Je={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};var AI=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},Mu=AI;function TO(n,e,t){let r,i;t=t||ko;let o=0,s=n.length,a=!1;for(;o<s;)r=o+(s-o>>1),i=+t(n[r],e),i<0?o=r+1:(s=r,a=!i);return a?o:~o}function ko(n,e){return n>e?1:n<e?-1:0}function MO(n,e){return n<e?1:n>e?-1:0}function wp(n,e,t){if(n[0]<=e)return 0;let r=n.length;if(e<=n[r-1])return r-1;if(typeof t=="function"){for(let i=1;i<r;++i){let o=n[i];if(o===e)return i;if(o<e)return t(e,n[i-1],o)>0?i-1:i}return r-1}if(t>0){for(let i=1;i<r;++i)if(n[i]<e)return i-1;return r-1}if(t<0){for(let i=1;i<r;++i)if(n[i]<=e)return i;return r-1}for(let i=1;i<r;++i){if(n[i]==e)return i;if(n[i]<e)return n[i-1]-e<e-n[i]?i-1:i}return r-1}function AO(n,e,t){for(;e<t;){let r=n[e];n[e]=n[t],n[t]=r,++e,--t}}function tn(n,e){let t=Array.isArray(e)?e:[e],r=t.length;for(let i=0;i<r;i++)n[n.length]=t[i]}function ro(n,e){let t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function RO(n,e,t){let r=e||ko;return n.every(function(i,o){if(o===0)return!0;let s=r(n[o-1],i);return!(s>0||t&&s===0)})}function Ca(){return!0}function $s(){return!1}function vc(){}function k2(n){let e,t,r;return function(){let i=Array.prototype.slice.call(arguments);return(!t||this!==r||!ro(i,t))&&(r=this,t=i,e=n.apply(this,arguments)),e}}function NO(n){function e(){let t;try{t=n()}catch(r){return Promise.reject(r)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function gl(n){for(let e in n)delete n[e]}function ms(n){let e;for(e in n)return!1;return!e}var RI=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var Kr=RI;var NI=class extends Mu{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;let r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(t)||i.push(t)}dispatchEvent(e){let t=typeof e=="string",r=t?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;let o=t?new Kr(e):e;o.target||(o.target=this.eventTarget_||this);let s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});r in s||(s[r]=0,a[r]=0),++s[r];let l;for(let c=0,u=i.length;c<u;++c)if("handleEvent"in i[c]?l=i[c].handleEvent(o):l=i[c].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--s[r]===0){let c=a[r];for(delete a[r];c--;)this.removeEventListener(r,vc);delete s[r]}return l}disposeInternal(){this.listeners_&&gl(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;let r=this.listeners_[e];if(!r)return;let i=r.indexOf(t);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=vc,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}},Au=NI;function jt(n,e,t,r,i){if(i){let s=t;t=function(a){return n.removeEventListener(e,t),s.call(r??this,a)}}else r&&r!==n&&(t=t.bind(r));let o={target:n,type:e,listener:t};return n.addEventListener(e,t),o}function xp(n,e,t,r){return jt(n,e,t,r,!0)}function sn(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),gl(n))}var bp=class extends Au{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Je.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let r=e.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=jt(this,e[o],t);return i}return jt(this,e,t)}onceInternal(e,t){let r;if(Array.isArray(e)){let i=e.length;r=new Array(i);for(let o=0;o<i;++o)r[o]=xp(this,e[o],t)}else r=xp(this,e,t);return t.ol_key=r,r}unInternal(e,t){let r=t.ol_key;if(r)O2(r);else if(Array.isArray(e))for(let i=0,o=e.length;i<o;++i)this.removeEventListener(e[i],t);else this.removeEventListener(e,t)}};bp.prototype.on;bp.prototype.once;bp.prototype.un;function O2(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)sn(n[e]);else sn(n)}var F2=bp;function Qe(){throw new Error("Unimplemented abstract method.")}var FX=0;function St(n){return n.ol_uid||(n.ol_uid=String(++FX))}var j2=class extends Kr{constructor(e,t,r){super(e),this.key=t,this.oldValue=r}},PI=class extends F2{constructor(e){super(),this.on,this.once,this.un,St(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new j2(r,e,t)),r=Sa.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new j2(r,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,r){let i=this.values_||(this.values_={});if(r)i[e]=t;else{let o=i[e];i[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(let r in e)this.set(r,e[r],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let r=this.values_[e];delete this.values_[e],ms(this.values_)&&(this.values_=null),t||this.notify(e,r)}}},Jr=PI;var PO={LENGTH:"length"},Ep=class extends Kr{constructor(e,t,r){super(e),this.element=t,this.index=r}},LI=class extends Jr{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e??[],this.unique_)for(let r=1,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,r=e.length;t<r;++t)this.push(e[t]);return this}forEach(e){let t=this.array_;for(let r=0,i=t.length;r<i;++r)e(t[r],r,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(PO.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Ep(Ci.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){let t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){let t=this.array_;for(let r=0,i=t.length;r<i;++r)if(t[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;let t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Ep(Ci.REMOVE,t,e)),t}setAt(e,t){let r=this.getLength();if(e>=r){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);let i=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Ep(Ci.REMOVE,i,e)),this.dispatchEvent(new Ep(Ci.ADD,t,e))}updateLength_(){this.set(PO.LENGTH,this.array_.length)}assertUnique_(e,t){let r=this.array_;for(let i=0,o=r.length;i<o;++i)if(r[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},Vi=LI;var kI=class extends Kr{constructor(e,t,r){super(e),this.map=t,this.frameState=r!==void 0?r:null}},Ru=kI;var OI=class extends Ru{constructor(e,t,r,i,o,s){super(e,t,o),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Zs=OI;var mn={SINGLECLICK:"singleclick",CLICK:Je.CLICK,DBLCLICK:Je.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var dd=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",jX=dd.includes("safari")&&!dd.includes("chrom"),NIe=jX&&(dd.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(dd)),LO=dd.includes("webkit")&&!dd.includes("edge"),FI=dd.includes("macintosh"),kO=typeof devicePixelRatio<"u"?devicePixelRatio:1,Or=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,jI=typeof Image<"u"&&Image.prototype.decode;var B2=(function(){let n=!1;try{let e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n})();var A0={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var BI=class extends Au{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;let r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=jt(r,A0.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=jt(r,A0.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Je.TOUCHMOVE,this.boundHandleTouchMove_,B2?{passive:!1}:!1)}emulateClick_(e){let t=new Zs(mn.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Zs(mn.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let r=new Zs(mn.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){let t=e,r=t.pointerId;if(t.type==mn.POINTERUP||t.type==mn.POINTERCANCEL){delete this.trackedTouches_[r];for(let i in this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else(t.type==mn.POINTERDOWN||t.type==mn.POINTERMOVE)&&(this.trackedTouches_[r]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);let t=new Zs(mn.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(sn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);let t=new Zs(mn.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){let r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(jt(r,mn.POINTERMOVE,this.handlePointerMove_,this),jt(r,mn.POINTERUP,this.handlePointerUp_,this),jt(this.element_,mn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(jt(this.element_.getRootNode(),mn.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;let t=new Zs(mn.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;let t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Zs(mn.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){let t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(sn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Je.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(sn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(sn),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},OO=BI;var ml={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};var Hi={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var st={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Vt(n,e){if(!n)throw new Error(e)}var R0=1/0,UI=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,gl(this.queuedElements_)}dequeue(){let e=this.elements_,t=this.priorities_,r=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));let i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){Vt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let t=this.priorityFunction_(e);return t!=R0?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){let t=this.elements_,r=this.priorities_,i=t.length,o=t[e],s=r[e],a=e;for(;e<i>>1;){let l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<i&&r[c]<r[l]?c:l;t[e]=t[u],r[e]=r[u],e=u}t[e]=o,r[e]=s,this.siftDown_(a,e)}siftDown_(e,t){let r=this.elements_,i=this.priorities_,o=r[t],s=i[t];for(;t>e;){let a=this.getParentIndex_(t);if(i[a]>s)r[t]=r[a],i[t]=i[a],t=a;else break}r[t]=o,i[t]=s}reprioritize(){let e=this.priorityFunction_,t=this.elements_,r=this.priorities_,i=0,o=t.length,s,a,l;for(a=0;a<o;++a)s=t[a],l=e(s),l==R0?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=l,t[i++]=s);t.length=i,r.length=i,this.heapify_()}},FO=UI;var GI=class extends FO{constructor(e,t){super(r=>e.apply(null,r),r=>r[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){let t=super.enqueue(e);return t&&e[0].addEventListener(Je.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){let t=e.target,r=t.getState();if(r===st.LOADED||r===st.ERROR||r===st.EMPTY){r!==st.ERROR&&t.removeEventListener(Je.CHANGE,this.boundHandleTileChange_);let i=t.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let r=0;for(;this.tilesLoading_<e&&r<t&&this.getCount()>0;){let i=this.dequeue()[0],o=i.getKey();i.getState()===st.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,i.load())}}},jO=GI;function BO(n,e,t,r,i){if(!n||!(t in n.wantedTiles))return R0;if(!n.wantedTiles[t][e.getKey()])return R0;let o=n.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}var mi={ANIMATING:0,INTERACTING:1};var Ys={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function an(n,e,t){return Math.min(Math.max(n,e),t)}function UO(n,e,t,r,i,o){let s=i-t,a=o-r;if(s!==0||a!==0){let l=((n-t)*s+(e-r)*a)/(s*s+a*a);l>1?(t=i,r=o):l>0&&(t+=s*l,r+=a*l)}return Oo(n,e,t,r)}function Oo(n,e,t,r){let i=t-n,o=r-e;return i*i+o*o}function GO(n){let e=n.length;for(let r=0;r<e;r++){let i=r,o=Math.abs(n[r][r]);for(let a=r+1;a<e;a++){let l=Math.abs(n[a][r]);l>o&&(o=l,i=a)}if(o===0)return null;let s=n[i];n[i]=n[r],n[r]=s;for(let a=r+1;a<e;a++){let l=-n[a][r]/n[r][r];for(let c=r;c<e+1;c++)r==c?n[a][c]=0:n[a][c]+=l*n[r][c]}}let t=new Array(e);for(let r=e-1;r>=0;r--){t[r]=n[r][e]/n[r][r];for(let i=r-1;i>=0;i--)n[i][e]-=n[i][r]*t[r]}return t}function U2(n){return n*180/Math.PI}function _s(n){return n*Math.PI/180}function Ia(n,e){let t=n%e;return t*e<0?t+e:t}function qi(n,e,t){return n+t*(e-n)}function Nu(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}function N0(n,e){return Math.floor(Nu(n,e))}function P0(n,e){return Math.ceil(Nu(n,e))}function G2(n,e,t){if(n>=e&&n<t)return n;let r=t-e;return((n-e)%r+r)%r+e}function zI(n,e,t){return(function(r,i,o,s,a){if(!r)return;if(!i&&!e)return r;let l=e?0:o[0]*i,c=e?0:o[1]*i,u=a?a[0]:0,d=a?a[1]:0,f=n[0]+l/2+u,h=n[2]-l/2+u,g=n[1]+c/2+d,_=n[3]-c/2+d;f>h&&(f=(h+f)/2,h=f),g>_&&(g=(_+g)/2,_=g);let y=an(r[0],f,h),v=an(r[1],g,_);if(s&&t&&i){let E=30*i;y+=-E*Math.log(1+Math.max(0,f-r[0])/E)+E*Math.log(1+Math.max(0,r[0]-h)/E),v+=-E*Math.log(1+Math.max(0,g-r[1])/E)+E*Math.log(1+Math.max(0,r[1]-_)/E)}return[y,v]})}function zO(n){return n}var Qr={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function L0(n){let e=Fr();for(let t=0,r=n.length;t<r;++t)pd(e,n[t]);return e}function BX(n,e,t){let r=Math.min.apply(null,n),i=Math.min.apply(null,e),o=Math.max.apply(null,n),s=Math.max.apply(null,e);return Co(r,i,o,s,t)}function Pu(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function V2(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function Fo(n,e,t){let r,i;return e<n[0]?r=n[0]-e:n[2]<e?r=e-n[2]:r=0,t<n[1]?i=n[1]-t:n[3]<t?i=t-n[3]:i=0,r*r+i*i}function Da(n,e){return k0(n,e[0],e[1])}function fd(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function k0(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function z2(n,e){let t=n[0],r=n[1],i=n[2],o=n[3],s=e[0],a=e[1],l=Qr.UNKNOWN;return s<t?l=l|Qr.LEFT:s>i&&(l=l|Qr.RIGHT),a<r?l=l|Qr.BELOW:a>o&&(l=l|Qr.ABOVE),l===Qr.UNKNOWN&&(l=Qr.INTERSECTING),l}function Fr(){return[1/0,1/0,-1/0,-1/0]}function Co(n,e,t,r,i){return i?(i[0]=n,i[1]=e,i[2]=t,i[3]=r,i):[n,e,t,r]}function wc(n){return Co(1/0,1/0,-1/0,-1/0,n)}function H2(n,e){let t=n[0],r=n[1];return Co(t,r,t,r,e)}function Sp(n,e,t,r,i){let o=wc(i);return VI(o,n,e,t,r)}function xc(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function q2(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function pd(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function VI(n,e,t,r,i){for(;t<r;t+=i)UX(n,e[t],e[t+1]);return n}function UX(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Cp(n,e){let t;return t=e(gd(n)),t||(t=e(md(n)),t)||(t=e(_d(n)),t)||(t=e(ys(n)),t)?t:!1}function O0(n){let e=0;return yl(n)||(e=Ht(n)*pr(n)),e}function gd(n){return[n[0],n[1]]}function md(n){return[n[2],n[1]]}function jo(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function VO(n,e){let t;if(e==="bottom-left")t=gd(n);else if(e==="bottom-right")t=md(n);else if(e==="top-left")t=ys(n);else if(e==="top-right")t=_d(n);else throw new Error("Invalid corner");return t}function F0(n,e,t,r,i){let[o,s,a,l,c,u,d,f]=HI(n,e,t,r);return Co(Math.min(o,a,c,d),Math.min(s,l,u,f),Math.max(o,a,c,d),Math.max(s,l,u,f),i)}function HI(n,e,t,r){let i=e*r[0]/2,o=e*r[1]/2,s=Math.cos(t),a=Math.sin(t),l=i*s,c=i*a,u=o*s,d=o*a,f=n[0],h=n[1];return[f-l+d,h-c-u,f-l-d,h-c+u,f+l-d,h+c+u,f+l+d,h+c-u,f-l+d,h-c-u]}function pr(n){return n[3]-n[1]}function _l(n,e,t){let r=t||Fr();return cr(n,e)?(n[0]>e[0]?r[0]=n[0]:r[0]=e[0],n[1]>e[1]?r[1]=n[1]:r[1]=e[1],n[2]<e[2]?r[2]=n[2]:r[2]=e[2],n[3]<e[3]?r[3]=n[3]:r[3]=e[3]):wc(r),r}function ys(n){return[n[0],n[3]]}function _d(n){return[n[2],n[3]]}function Ht(n){return n[2]-n[0]}function cr(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function yl(n){return n[2]<n[0]||n[3]<n[1]}function HO(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function qO(n,e,t){let r=!1,i=z2(n,e),o=z2(n,t);if(i===Qr.INTERSECTING||o===Qr.INTERSECTING)r=!0;else{let s=n[0],a=n[1],l=n[2],c=n[3],u=e[0],d=e[1],f=t[0],h=t[1],g=(h-d)/(f-u),_,y;o&Qr.ABOVE&&!(i&Qr.ABOVE)&&(_=f-(h-c)/g,r=_>=s&&_<=l),!r&&o&Qr.RIGHT&&!(i&Qr.RIGHT)&&(y=h-(f-l)*g,r=y>=a&&y<=c),!r&&o&Qr.BELOW&&!(i&Qr.BELOW)&&(_=f-(h-a)/g,r=_>=s&&_<=l),!r&&o&Qr.LEFT&&!(i&Qr.LEFT)&&(y=h-(f-s)*g,r=y>=a&&y<=c)}return r}function WO(n,e,t,r){if(yl(n))return wc(t);let i=[];if(r>1){let a=n[2]-n[0],l=n[3]-n[1];for(let c=0;c<r;++c)i.push(n[0]+a*c/r,n[1],n[2],n[1]+l*c/r,n[2]-a*c/r,n[3],n[0],n[3]-l*c/r)}else i=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(i,i,2);let o=[],s=[];for(let a=0,l=i.length;a<l;a+=2)o.push(i[a]),s.push(i[a+1]);return BX(o,s,t)}function qI(n,e){let t=e.getExtent(),r=jo(n);if(e.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){let i=Ht(t),s=Math.floor((r[0]-t[0])/i)*i;n[0]-=s,n[2]-=s}return n}function W2(n,e,t){if(e.canWrapX()){let r=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[r[0],n[1],r[2],n[3]]];qI(n,e);let i=Ht(r);if(Ht(n)>i&&!t)return[[r[0],n[1],r[2],n[3]]];if(n[0]<r[0])return[[n[0]+i,n[1],r[2],n[3]],[r[0],n[1],n[2],n[3]]];if(n[2]>r[2])return[[n[0],n[1],r[2],n[3]],[r[0],n[1],n[2]-i,n[3]]]}return[n]}function Ip(n,e,t){let r=t!==void 0?n.toFixed(t):""+n,i=r.indexOf(".");return i=i===-1?r.length:i,i>e?r:new Array(1+e-i).join("0")+r}function $O(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function ZO(n,e,t){return n?e.replace("{x}",n[0].toFixed(t)).replace("{y}",n[1].toFixed(t)):""}function yd(n,e){let t=!0;for(let r=n.length-1;r>=0;--r)if(n[r]!=e[r]){t=!1;break}return t}function Dp(n,e){let t=Math.cos(e),r=Math.sin(e),i=n[0]*t-n[1]*r,o=n[1]*t+n[0]*r;return n[0]=i,n[1]=o,n}function YO(n,e){return n[0]*=e,n[1]*=e,n}function WI(n,e){let t=n[0]-e[0],r=n[1]-e[1];return t*t+r*r}function $2(n,e){return Math.sqrt(WI(n,e))}function Z2(n,e){if(e.canWrapX()){let t=Ht(e.getExtent()),r=$I(n,e,t);r&&(n[0]-=r*t)}return n}function $I(n,e,t){let r=e.getExtent(),i=0;return e.canWrapX()&&(n[0]<r[0]||n[0]>r[2])&&(t=t||Ht(r),i=Math.floor((n[0]-r[0])/t)),i}function ZI(n){return Math.pow(n,3)}function Bo(n){return 1-ZI(1-n)}function XO(n){return 3*n*n-2*n*n*n}function KO(n){return n}var GX=63710088e-1;function YI(n,e,t){t=t||GX;let r=_s(n[1]),i=_s(e[1]),o=(i-r)/2,s=_s(e[0]-n[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var JO={info:1,warn:2,error:3,none:4},zX=JO.info;function Y2(...n){zX>JO.warn||console.warn(...n)}var bc={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var XI=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||bc[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Lu=XI;var j0=6378137,Tp=Math.PI*j0,VX=[-Tp,-Tp,Tp,Tp],HX=[-180,-85,180,85],X2=j0*Math.log(Math.tan(Math.PI/2)),ku=class extends Lu{constructor(e){super({code:e,units:"m",extent:VX,global:!0,worldExtent:HX,getPointResolution:function(t,r){return t/Math.cosh(r[1]/j0)}})}},KI=[new ku("EPSG:3857"),new ku("EPSG:102100"),new ku("EPSG:102113"),new ku("EPSG:900913"),new ku("http://www.opengis.net/def/crs/EPSG/0/3857"),new ku("http://www.opengis.net/gml/srs/epsg.xml#3857")];function QO(n,e,t,r){let i=n.length;t=t>1?t:2,r=r??t,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let o=0;o<i;o+=r){e[o]=Tp*n[o]/180;let s=j0*Math.log(Math.tan(Math.PI*(+n[o+1]+90)/360));s>X2?s=X2:s<-X2&&(s=-X2),e[o+1]=s}return e}function e8(n,e,t,r){let i=n.length;t=t>1?t:2,r=r??t,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let o=0;o<i;o+=r)e[o]=180*n[o]/Tp,e[o+1]=360*Math.atan(Math.exp(n[o+1]/j0))/Math.PI-90;return e}var qX=6378137,t8=[-180,-90,180,90],WX=Math.PI*qX/180,Ec=class extends Lu{constructor(e,t){super({code:e,units:"degrees",extent:t8,axisOrientation:t,global:!0,metersPerUnit:WX,worldExtent:t8})}},JI=[new Ec("CRS:84"),new Ec("EPSG:4326","neu"),new Ec("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ec("urn:ogc:def:crs:OGC:2:84"),new Ec("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Ec("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ec("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var QI={};function Mp(n){return QI[n]||QI[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function n8(n,e){QI[n]=e}var Ap={};function Ou(n,e,t){let r=n.getCode(),i=e.getCode();r in Ap||(Ap[r]={}),Ap[r][i]=t}function Rp(n,e){return n in Ap&&e in Ap[n]?Ap[n][e]:null}var K2=.9996,Xs=.00669438,Q2=Xs*Xs,ew=Q2*Xs,vd=Xs/(1-Xs),r8=Math.sqrt(1-Xs),Np=(1-r8)/(1+r8),a8=Np*Np,eD=a8*Np,tD=eD*Np,l8=tD*Np,c8=1-Xs/4-3*Q2/64-5*ew/256,$X=3*Xs/8+3*Q2/32+45*ew/1024,ZX=15*Q2/256+45*ew/1024,YX=35*ew/3072,XX=3/2*Np-27/32*eD+269/512*l8,KX=21/16*a8-55/32*tD,JX=151/96*eD-417/128*l8,QX=1097/512*tD,J2=6378137;function eK(n,e,t){let r=n-5e5,s=(t.north?e:e-1e7)/K2/(J2*c8),a=s+XX*Math.sin(2*s)+KX*Math.sin(4*s)+JX*Math.sin(6*s)+QX*Math.sin(8*s),l=Math.sin(a),c=l*l,u=Math.cos(a),d=l/u,f=d*d,h=f*f,g=1-Xs*c,_=Math.sqrt(1-Xs*c),y=J2/_,v=(1-Xs)/g,E=vd*u**2,S=E*E,I=r/(y*K2),R=I*I,V=R*I,j=V*I,F=j*I,k=F*I,N=a-d/v*(R/2-j/24*(5+3*f+10*E-4*S-9*vd))+k/720*(61+90*f+298*E+45*h-252*vd-3*S),A=(I-V/6*(1+2*f+E)+F/120*(5-2*E+28*f-3*S+8*vd+24*h))/u;return A=G2(A+_s(u8(t.number)),-Math.PI,Math.PI),[U2(A),U2(N)]}var i8=-80,o8=84,tK=-180,nK=180;function rK(n,e,t){n=G2(n,tK,nK),e<i8?e=i8:e>o8&&(e=o8);let r=_s(e),i=Math.sin(r),o=Math.cos(r),s=i/o,a=s*s,l=a*a,c=_s(n),u=u8(t.number),d=_s(u),f=J2/Math.sqrt(1-Xs*i**2),h=vd*o**2,g=o*G2(c-d,-Math.PI,Math.PI),_=g*g,y=_*g,v=y*g,E=v*g,S=E*g,I=J2*(c8*r-$X*Math.sin(2*r)+ZX*Math.sin(4*r)-YX*Math.sin(6*r)),R=K2*f*(g+y/6*(1-a+h)+E/120*(5-18*a+l+72*h-58*vd))+5e5,V=K2*(I+f*s*(_/2+v/24*(5-a+9*h+4*h**2)+S/720*(61-58*a+l+600*h-330*vd)));return t.north||(V+=1e7),[R,V]}function u8(n){return(n-1)*6-180+3}var iK=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function h8(n){let e=0;for(let i of iK){let o=n.match(i);if(o){e=parseInt(o[1]);break}}if(!e)return null;let t=0,r=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(r=!0,t=e-32600),t?{number:t,north:r}:null}function s8(n,e){return function(t,r,i,o){let s=t.length;i=i>1?i:2,o=o??i,r||(i>2?r=t.slice():r=new Array(s));for(let a=0;a<s;a+=o){let l=t[a],c=t[a+1],u=n(l,c,e);r[a]=u[0],r[a+1]=u[1]}return r}}function d8(n){return h8(n)?new Lu({code:n,units:"m"}):null}function f8(n){let e=h8(n.getCode());return e?{forward:s8(rK,e),inverse:s8(eK,e)}:null}var oK=[f8],sK=[d8];var rD=!0;function p8(n){rD=!(n===void 0?!0:n)}function iD(n,e){if(e!==void 0){for(let t=0,r=n.length;t<r;++t)e[t]=n[t];e=e}else e=n.slice();return e}function B0(n){n8(n.getCode(),n),Ou(n,n,iD)}function aK(n){n.forEach(B0)}function hn(n){if(typeof n!="string")return n;let e=Mp(n);if(e)return e;for(let t of sK){let r=t(n);if(r)return r}return null}function oD(n,e,t,r){n=hn(n);let i,o=n.getPointResolutionFunc();if(o){if(i=o(e,t),r&&r!==n.getUnits()){let s=n.getMetersPerUnit();s&&(i=i*s/bc[r])}}else{let s=n.getUnits();if(s=="degrees"&&!r||r=="degrees")i=e;else{let a=wd(n,hn("EPSG:4326"));if(!a&&s!=="degrees")i=e*n.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2);let u=YI(c.slice(0,2),c.slice(2,4)),d=YI(c.slice(4,6),c.slice(6,8));i=(u+d)/2}let l=r?bc[r]:n.getMetersPerUnit();l!==void 0&&(i/=l)}}return i}function tw(n){aK(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Ou(e,t,iD)})})}function lK(n,e,t,r){n.forEach(function(i){e.forEach(function(o){Ou(i,o,t),Ou(o,i,r)})})}function rw(n,e){return n?typeof n=="string"?hn(n):n:hn(e)}function nw(n){return(function(e,t,r,i){let o=e.length;r=r!==void 0?r:2,i=i??r,t=t!==void 0?t:new Array(o);for(let s=0;s<o;s+=i){let a=n(e.slice(s,s+r)),l=a.length;for(let c=0,u=i;c<u;++c)t[s+c]=c>=l?e[s+c]:a[c]}return t})}function g8(n,e,t,r){let i=hn(n),o=hn(e);Ou(i,o,nw(t)),Ou(o,i,nw(r))}function m8(n,e){let t=xd(n,e!==void 0?e:"EPSG:3857","EPSG:4326"),r=t[0];return(r<-180||r>180)&&(t[0]=Ia(r+180,360)-180),t}function Fu(n,e){if(n===e)return!0;let t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||wd(n,e)===iD)&&t}function wd(n,e){let t=n.getCode(),r=e.getCode(),i=Rp(t,r);if(i)return i;let o=null,s=null;for(let l of oK)o||(o=l(n)),s||(s=l(e));if(!o&&!s)return null;let a="EPSG:4326";if(s)if(o)i=nD(o.inverse,s.forward);else{let l=Rp(t,a);l&&(i=nD(l,s.forward))}else{let l=Rp(a,r);l&&(i=nD(o.inverse,l))}return i&&(B0(n),B0(e),Ou(n,e,i)),i}function nD(n,e){return function(t,r,i,o){return r=n(t,r,i,o),e(r,r,i,o)}}function Sc(n,e){let t=hn(n),r=hn(e);return wd(t,r)}function xd(n,e,t){let r=Sc(e,t);if(!r){let i=hn(e).getCode(),o=hn(t).getCode();throw new Error(`No transform available between ${i} and ${o}`)}return r(n,void 0,n.length)}function sD(n,e,t,r){let i=Sc(e,t);return WO(n,i,void 0,r)}var Ta=null;function Cc(){return Ta}function U0(n,e){return Ta?xd(n,e,Ta):n}function Uo(n,e){return Ta?xd(n,Ta,e):(rD&&!yd(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(rD=!1,Y2("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function ju(n,e){return Ta?sD(n,e,Ta):n}function Ks(n,e){return Ta?sD(n,Ta,e):n}function _8(n,e){if(!Ta)return n;let t=hn(e).getMetersPerUnit(),r=Ta.getMetersPerUnit();return t&&r?n*t/r:n}function aD(n,e,t){return function(r){let i,o;if(n.canWrapX()){let s=n.getExtent(),a=Ht(s);r=r.slice(0),o=$I(r,n,a),o&&(r[0]=r[0]-o*a),r[0]=an(r[0],s[0],s[2]),r[1]=an(r[1],s[1],s[3]),i=t(r)}else i=t(r);return o&&e.canWrapX()&&(i[0]+=o*Ht(e.getExtent())),i}}function cK(){tw(KI),tw(JI),lK(JI,KI,QO,e8)}cK();var zDe=new Array(6);function Ii(){return[1,0,0,1,0,0]}function y8(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function _r(n,e){let t=e[0],r=e[1];return e[0]=n[0]*t+n[2]*r+n[4],e[1]=n[1]*t+n[3]*r+n[5],e}function Wi(n,e,t,r,i,o,s,a){let l=Math.sin(o),c=Math.cos(o);return n[0]=r*c,n[1]=i*l,n[2]=-r*l,n[3]=i*c,n[4]=s*r*c-a*r*l+e,n[5]=s*i*l+a*i*c+t,n}function ow(n,e){let t=uK(e);Vt(t!==0,"Transformation matrix cannot be inverted");let r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5];return n[0]=s/t,n[1]=-i/t,n[2]=-o/t,n[3]=r/t,n[4]=(o*l-s*a)/t,n[5]=-(r*l-i*a)/t,n}function uK(n){return n[0]*n[3]-n[1]*n[2]}var hK=[1e5,1e5,1e5,1e5,2,2];function v8(n){return"matrix("+n.join(", ")+")"}function iw(n){return n.substring(7,n.length-1).split(",").map(parseFloat)}function w8(n,e){let t=iw(n),r=iw(e);for(let i=0;i<6;++i)if(Math.round((t[i]-r[i])*hK[i])!==0)return!1;return!0}function Go(n,e,t,r,i,o,s){o=o||[],s=s||2;let a=0;for(let l=e;l<t;l+=r){let c=n[l],u=n[l+1];o[a++]=i[0]*c+i[2]*u+i[4],o[a++]=i[1]*c+i[3]*u+i[5];for(let d=2;d<s;d++)o[a++]=n[l+d]}return o&&o.length!=a&&(o.length=a),o}function Pp(n,e,t,r,i,o,s){s=s||[];let a=Math.cos(i),l=Math.sin(i),c=o[0],u=o[1],d=0;for(let f=e;f<t;f+=r){let h=n[f]-c,g=n[f+1]-u;s[d++]=c+h*a-g*l,s[d++]=u+h*l+g*a;for(let _=f+2;_<f+r;++_)s[d++]=n[_]}return s&&s.length!=d&&(s.length=d),s}function x8(n,e,t,r,i,o,s,a){a=a||[];let l=s[0],c=s[1],u=0;for(let d=e;d<t;d+=r){let f=n[d]-l,h=n[d+1]-c;a[u++]=l+i*f,a[u++]=c+o*h;for(let g=d+2;g<d+r;++g)a[u++]=n[g]}return a&&a.length!=u&&(a.length=u),a}function b8(n,e,t,r,i,o,s){s=s||[];let a=0;for(let l=e;l<t;l+=r){s[a++]=n[l]+i,s[a++]=n[l+1]+o;for(let c=l+2;c<l+r;++c)s[a++]=n[c]}return s&&s.length!=a&&(s.length=a),s}var E8=Ii(),dK=[NaN,NaN],lD=class extends Jr{constructor(){super(),this.extent_=Fr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=k2((e,t,r)=>{if(!r)return this.getSimplifiedGeometry(t);let i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Qe()}closestPointXY(e,t,r,i){return Qe()}containsXY(e,t){return this.closestPointXY(e,t,dK,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Qe()}getExtent(e){if(this.extentRevision_!=this.getRevision()){let t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&wc(t),this.extentRevision_=this.getRevision()}return HO(this.extent_,e)}rotate(e,t){Qe()}scale(e,t,r){Qe()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Qe()}getType(){return Qe()}applyTransform(e){Qe()}intersectsExtent(e){return Qe()}translate(e,t){Qe()}transform(e,t){let r=hn(e),i=r.getUnits()=="tile-pixels"?function(o,s,a){let l=r.getExtent(),c=r.getWorldExtent(),u=pr(c)/pr(l);Wi(E8,c[0],c[3],u,-u,0,0,0);let d=Go(o,0,o.length,a,E8,s),f=Sc(r,t);return f?f(d,d,a):d}:Sc(r,t);return this.applyTransform(i),this}},sw=lD;var cD=class extends sw{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Sp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Qe()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=G0(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Qe()}setLayout(e,t,r){let i;if(e)i=G0(e);else{for(let o=0;o<r;++o){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}i=t.length,e=Bu(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){let r=this.getFlatCoordinates();if(r){let i=this.getStride();Pp(r,0,r.length,i,e,t,r),this.changed()}}scale(e,t,r){t===void 0&&(t=e),r||(r=jo(this.getExtent()));let i=this.getFlatCoordinates();if(i){let o=this.getStride();x8(i,0,i.length,o,e,t,r,i),this.changed()}}translate(e,t){let r=this.getFlatCoordinates();if(r){let i=this.getStride();b8(r,0,r.length,i,e,t,r),this.changed()}}};function Bu(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function G0(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function S8(n,e,t){let r=n.getFlatCoordinates();if(!r)return null;let i=n.getStride();return Go(r,0,r.length,i,e,t)}var io=cD;function uD(n,e,t,r){let i=0,o=n[t-r],s=n[t-r+1],a=0,l=0;for(;e<t;e+=r){let c=n[e]-o,u=n[e+1]-s;i+=l*c-a*u,a=c,l=u}return i/2}function hD(n,e,t,r){let i=0;for(let o=0,s=t.length;o<s;++o){let a=t[o];i+=uD(n,e,a,r),e=a}return i}function C8(n,e,t,r){let i=0;for(let o=0,s=t.length;o<s;++o){let a=t[o];i+=hD(n,e,a,r),e=a[a.length-1]}return i}function I8(n,e,t,r,i,o,s){let a=n[e],l=n[e+1],c=n[t]-a,u=n[t+1]-l,d;if(c===0&&u===0)d=e;else{let f=((i-a)*c+(o-l)*u)/(c*c+u*u);if(f>1)d=t;else if(f>0){for(let h=0;h<r;++h)s[h]=qi(n[e+h],n[t+h],f);s.length=r;return}else d=e}for(let f=0;f<r;++f)s[f]=n[d+f];s.length=r}function z0(n,e,t,r,i){let o=n[e],s=n[e+1];for(e+=r;e<t;e+=r){let a=n[e],l=n[e+1],c=Oo(o,s,a,l);c>i&&(i=c),o=a,s=l}return i}function V0(n,e,t,r,i){for(let o=0,s=t.length;o<s;++o){let a=t[o];i=z0(n,e,a,r,i),e=a}return i}function D8(n,e,t,r,i){for(let o=0,s=t.length;o<s;++o){let a=t[o];i=V0(n,e,a,r,i),e=a[a.length-1]}return i}function H0(n,e,t,r,i,o,s,a,l,c,u){if(e==t)return c;let d,f;if(i===0){if(f=Oo(s,a,n[e],n[e+1]),f<c){for(d=0;d<r;++d)l[d]=n[e+d];return l.length=r,f}return c}u=u||[NaN,NaN];let h=e+r;for(;h<t;)if(I8(n,h-r,h,r,s,a,u),f=Oo(s,a,u[0],u[1]),f<c){for(c=f,d=0;d<r;++d)l[d]=u[d];l.length=r,h+=r}else h+=r*Math.max((Math.sqrt(f)-Math.sqrt(c))/i|0,1);if(o&&(I8(n,t-r,e,r,s,a,u),f=Oo(s,a,u[0],u[1]),f<c)){for(c=f,d=0;d<r;++d)l[d]=u[d];l.length=r}return c}function q0(n,e,t,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let d=0,f=t.length;d<f;++d){let h=t[d];c=H0(n,e,h,r,i,o,s,a,l,c,u),e=h}return c}function T8(n,e,t,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let d=0,f=t.length;d<f;++d){let h=t[d];c=q0(n,e,h,r,i,o,s,a,l,c,u),e=h[h.length-1]}return c}function aw(n,e,t,r){for(let i=0,o=t.length;i<o;++i)n[e++]=t[i];return e}function bd(n,e,t,r){for(let i=0,o=t.length;i<o;++i){let s=t[i];for(let a=0;a<r;++a)n[e++]=s[a]}return e}function Uu(n,e,t,r,i){i=i||[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=bd(n,e,t[s],r);i[o++]=l,e=l}return i.length=o,i}function lw(n,e,t,r,i){i=i||[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=Uu(n,e,t[s],r,i[o]);l.length===0&&(l[0]=e),i[o++]=l,e=l[l.length-1]}return i.length=o,i}function Js(n,e,t,r,i){i=i!==void 0?i:[];let o=0;for(let s=e;s<t;s+=r)i[o++]=n.slice(s,s+r);return i.length=o,i}function Gu(n,e,t,r,i){i=i!==void 0?i:[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=t[s];i[o++]=Js(n,e,l,r,i[o]),e=l}return i.length=o,i}function W0(n,e,t,r,i){i=i!==void 0?i:[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=t[s];i[o++]=l.length===1&&l[0]===e?[]:Gu(n,e,l,r,i[o]),e=l[l.length-1]}return i.length=o,i}function Ed(n,e,t,r,i,o,s){let a=(t-e)/r;if(a<3){for(;e<t;e+=r)o[s++]=n[e],o[s++]=n[e+1];return s}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[e,t-r],u=0;for(;c.length>0;){let d=c.pop(),f=c.pop(),h=0,g=n[f],_=n[f+1],y=n[d],v=n[d+1];for(let E=f+r;E<d;E+=r){let S=n[E],I=n[E+1],R=UO(S,I,g,_,y,v);R>h&&(u=E,h=R)}h>i&&(l[(u-e)/r]=1,f+r<u&&c.push(f,u),u+r<d&&c.push(u,d))}for(let d=0;d<a;++d)l[d]&&(o[s++]=n[e+d*r],o[s++]=n[e+d*r+1]);return s}function cw(n,e,t,r,i,o,s,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];s=Ed(n,e,u,r,i,o,s),a.push(s),e=u}return s}function zu(n,e){return e*Math.round(n/e)}function fK(n,e,t,r,i,o,s){if(e==t)return s;let a=zu(n[e],i),l=zu(n[e+1],i);e+=r,o[s++]=a,o[s++]=l;let c,u;do if(c=zu(n[e],i),u=zu(n[e+1],i),e+=r,e==t)return o[s++]=c,o[s++]=u,s;while(c==a&&u==l);for(;e<t;){let d=zu(n[e],i),f=zu(n[e+1],i);if(e+=r,d==c&&f==u)continue;let h=c-a,g=u-l,_=d-a,y=f-l;if(h*y==g*_&&(h<0&&_<h||h==_||h>0&&_>h)&&(g<0&&y<g||g==y||g>0&&y>g)){c=d,u=f;continue}o[s++]=c,o[s++]=u,a=c,l=u,c=d,u=f}return o[s++]=c,o[s++]=u,s}function $0(n,e,t,r,i,o,s,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];s=fK(n,e,u,r,i,o,s),a.push(s),e=u}return s}function M8(n,e,t,r,i,o,s,a){for(let l=0,c=t.length;l<c;++l){let u=t[l],d=[];s=$0(n,e,u,r,i,o,s,d),a.push(d),e=u[u.length-1]}return s}var dD=class n extends io{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new n(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,r,i){return i<Fo(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(z0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),H0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,r,i))}getArea(){return uD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Js(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){let t=[];return t.length=Ed(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=bd(this.flatCoordinates,0,e,this.stride),this.changed()}},fD=dD;var pD=class n extends io{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,i){let o=this.flatCoordinates,s=Oo(e,t,o[0],o[1]);if(s<i){let a=this.stride;for(let l=0;l<a;++l)r[l]=o[l];return r.length=a,s}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return H2(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return k0(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=aw(this.flatCoordinates,0,e,this.stride),this.changed()}},Di=pD;function A8(n,e,t,r,i){return!Cp(i,function(s){return!Vu(n,e,t,r,s[0],s[1])})}function Vu(n,e,t,r,i,o){let s=0,a=n[t-r],l=n[t-r+1];for(;e<t;e+=r){let c=n[e],u=n[e+1];l<=o?u>o&&(c-a)*(o-l)-(i-a)*(u-l)>0&&s++:u<=o&&(c-a)*(o-l)-(i-a)*(u-l)<0&&s--,a=c,l=u}return s!==0}function Z0(n,e,t,r,i,o){if(t.length===0||!Vu(n,e,t[0],r,i,o))return!1;for(let s=1,a=t.length;s<a;++s)if(Vu(n,t[s-1],t[s],r,i,o))return!1;return!0}function R8(n,e,t,r,i,o){if(t.length===0)return!1;for(let s=0,a=t.length;s<a;++s){let l=t[s];if(Z0(n,e,l,r,i,o))return!0;e=l[l.length-1]}return!1}function Y0(n,e,t,r,i,o,s){let a,l,c,u,d,f,h,g=i[o+1],_=[];for(let E=0,S=t.length;E<S;++E){let I=t[E];for(u=n[I-r],f=n[I-r+1],a=e;a<I;a+=r)d=n[a],h=n[a+1],(g<=f&&h<=g||f<=g&&g<=h)&&(c=(g-f)/(h-f)*(d-u)+u,_.push(c)),u=d,f=h}let y=NaN,v=-1/0;for(_.sort(ko),u=_[0],a=1,l=_.length;a<l;++a){d=_[a];let E=Math.abs(d-u);E>v&&(c=(u+d)/2,Z0(n,e,t,r,c,g)&&(y=c,v=E)),u=d}return isNaN(y)&&(y=i[o]),s?(s.push(y,g,v),s):[y,g,v]}function uw(n,e,t,r,i){let o=[];for(let s=0,a=t.length;s<a;++s){let l=t[s];o=Y0(n,e,l,r,i,2*s,o),e=l[l.length-1]}return o}function hw(n,e,t,r,i){let o;for(e+=r;e<t;e+=r)if(o=i(n.slice(e-r,e),n.slice(e,e+r)),o)return o;return!1}function X0(n,e,t,r,i,o){return o=o??VI(Fr(),n,e,t,r),cr(i,o)?o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:hw(n,e,t,r,function(s,a){return qO(i,s,a)}):!1}function N8(n,e,t,r,i){for(let o=0,s=t.length;o<s;++o){if(X0(n,e,t[o],r,i))return!0;e=t[o]}return!1}function gD(n,e,t,r,i){return!!(X0(n,e,t,r,i)||Vu(n,e,t,r,i[0],i[1])||Vu(n,e,t,r,i[0],i[3])||Vu(n,e,t,r,i[2],i[1])||Vu(n,e,t,r,i[2],i[3]))}function mD(n,e,t,r,i){if(!gD(n,e,t[0],r,i))return!1;if(t.length===1)return!0;for(let o=1,s=t.length;o<s;++o)if(A8(n,t[o-1],t[o],r,i)&&!X0(n,t[o-1],t[o],r,i))return!1;return!0}function P8(n,e,t,r,i){for(let o=0,s=t.length;o<s;++o){let a=t[o];if(mD(n,e,a,r,i))return!0;e=a[a.length-1]}return!1}function L8(n,e,t,r){for(;e<t-r;){for(let i=0;i<r;++i){let o=n[e+i];n[e+i]=n[t-r+i],n[t-r+i]=o}e+=r,t-=r}}function _D(n,e,t,r){let i=0,o=n[t-r],s=n[t-r+1];for(;e<t;e+=r){let a=n[e],l=n[e+1];i+=(a-o)*(l+s),o=a,s=l}return i===0?void 0:i>0}function K0(n,e,t,r,i){i=i!==void 0?i:!1;for(let o=0,s=t.length;o<s;++o){let a=t[o],l=_D(n,e,a,r);if(o===0){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=a}return!0}function dw(n,e,t,r,i){for(let o=0,s=t.length;o<s;++o){let a=t[o];if(!K0(n,e,a,r,i))return!1;a.length&&(e=a[a.length-1])}return!0}function Lp(n,e,t,r,i){i=i!==void 0?i:!1;for(let o=0,s=t.length;o<s;++o){let a=t[o],l=_D(n,e,a,r);(o===0?i&&l||!i&&!l:i&&!l||!i&&l)&&L8(n,e,a,r),e=a}return e}function J0(n,e,t,r,i){for(let o=0,s=t.length;o<s;++o)e=Lp(n,e,t[o],r,i);return e}function k8(n,e){let t=[],r=0,i=0,o;for(let s=0,a=e.length;s<a;++s){let l=e[s],c=_D(n,r,l,2);if(o===void 0&&(o=c),c===o)t.push(e.slice(i,s+1));else{if(t.length===0)continue;t[t.length-1].push(e[i])}i=s+1,r=l}return t}var fw=class n extends io{constructor(e,t,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&r?(this.setFlatCoordinates(t,e),this.ends_=r):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?tn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,r,i){return i<Fo(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(V0(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),q0(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,r,i))}containsXY(e,t){return Z0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return hD(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Lp(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Gu(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let e=jo(this.getExtent());this.flatInteriorPoint_=Y0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Di(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new fD(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){let e=this.layout,t=this.flatCoordinates,r=this.ends_,i=[],o=0;for(let s=0,a=r.length;s<a;++s){let l=r[s],c=new fD(t.slice(o,l),e);i.push(c),o=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;K0(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Lp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],r=[];return t.length=$0(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,r),new n(t,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return mD(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let r=Uu(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}},$i=fw;function yD(n){if(yl(n))throw new Error("Cannot create polygon from empty extent");let e=n[0],t=n[1],r=n[2],i=n[3],o=[e,t,e,i,r,i,r,t,e,t];return new fw(o,"XY",[o.length])}function vD(n,e,t,r){let i=Ht(e)/t[0],o=pr(e)/t[1];return r?Math.min(n,Math.max(i,o)):Math.min(n,Math.min(i,o))}function wD(n,e,t){let r=Math.min(n,e),i=50;return r*=Math.log(1+i*Math.max(0,n/e-1))/i+1,t&&(r=Math.max(r,t),r/=Math.log(1+i*Math.max(0,t/n-1))/i+1),an(r,t/2,e*2)}function O8(n,e,t,r){return e=e!==void 0?e:!0,(function(i,o,s,a){if(i!==void 0){let l=n[0],c=n[n.length-1],u=t?vD(l,t,s,r):l;if(a)return e?wD(i,u,c):an(i,c,u);let d=Math.min(u,i),f=Math.floor(wp(n,d,o));return n[f]>u&&f<n.length-1?n[f+1]:n[f]}})}function F8(n,e,t,r,i,o){return r=r!==void 0?r:!0,t=t!==void 0?t:0,(function(s,a,l,c){if(s!==void 0){let u=i?vD(e,i,l,o):e;if(c)return r?wD(s,u,t):an(s,t,u);let d=1e-9,f=Math.ceil(Math.log(e/u)/Math.log(n)-d),h=-a*(.5-d)+.5,g=Math.min(u,s),_=Math.floor(Math.log(e/g)/Math.log(n)+h),y=Math.max(f,_),v=e/Math.pow(n,y);return an(v,t,u)}})}function xD(n,e,t,r,i){return t=t!==void 0?t:!0,(function(o,s,a,l){if(o!==void 0){let c=r?vD(n,r,a,i):n;return!t||!l?an(o,e,c):wD(o,c,e)}})}function kp(n){if(n!==void 0)return 0}function bD(n){if(n!==void 0)return n}function j8(n){let e=2*Math.PI/n;return(function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t})}function B8(n){let e=n===void 0?_s(5):n;return(function(t,r){return r||t===void 0?t:Math.abs(t)<=e?0:t})}var ED=0,CD=class extends Jr{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=rw(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&p8(),e.center&&(e.center=Uo(e.center,this.projection_)),e.extent&&(e.extent=Ks(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){let t=Object.assign({},e);for(let a in Ys)delete t[a];this.setProperties(t,!0);let r=gK(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;let i=pK(e),o=r.constraint,s=mK(e);this.constraints_={center:i,resolution:o,rotation:s},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;let r=this.getCenterInternal();if(r){let i=e||[0,0,0,0];t=t||[0,0,0,0];let o=this.getResolution(),s=o/2*(i[3]-t[3]+t[1]-i[1]),a=o/2*(i[0]-t[0]+t[2]-i[2]);this.setCenterInternal([r[0]+s,r[1]-a])}}getUpdatedOptions_(e){let t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let t=new Array(arguments.length);for(let r=0;r<t.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=Uo(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Uo(i.anchor,this.getProjection())),t[r]=i}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,r;t>1&&typeof arguments[t-1]=="function"&&(r=arguments[t-1],--t);let i=0;for(;i<t&&!this.isDef();++i){let u=arguments[i];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(i===t){r&&pw(r,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;i<t;++i){let u=arguments[i],d={start:o,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||XO,callback:r};if(u.center&&(d.sourceCenter=s,d.targetCenter=u.center.slice(),s=d.targetCenter),u.zoom!==void 0?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(u.zoom),a=d.targetResolution):u.resolution&&(d.sourceResolution=a,d.targetResolution=u.resolution,a=d.targetResolution),u.rotation!==void 0){d.sourceRotation=l;let f=Ia(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+f,l=d.targetRotation}_K(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(mi.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[mi.ANIMATING]>0}getInteracting(){return this.hints_[mi.INTERACTING]>0}cancelAnimations(){this.setHint(mi.ANIMATING,-this.hints_[mi.ANIMATING]);let e;for(let t=0,r=this.animations_.length;t<r;++t){let i=this.animations_[t];if(i[0].callback&&pw(i[0].callback,!1),!e)for(let o=0,s=i.length;o<s;++o){let a=i[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let e=Date.now(),t=!1;for(let r=this.animations_.length-1;r>=0;--r){let i=this.animations_[r],o=!0;for(let s=0,a=i.length;s<a;++s){let l=i[s];if(l.complete)continue;let c=e-l.start,u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):o=!1;let d=l.easing(u);if(l.sourceCenter){let f=l.sourceCenter[0],h=l.sourceCenter[1],g=l.targetCenter[0],_=l.targetCenter[1];this.nextCenter_=l.targetCenter;let y=f+d*(g-f),v=h+d*(_-h);this.targetCenter_=[y,v]}if(l.sourceResolution&&l.targetResolution){let f=d===1?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){let h=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(f,0,h,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let f=d===1?Ia(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){let h=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(h,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(o){this.animations_[r]=null,this.setHint(mi.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let s=i[0].callback;s&&pw(s,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let r,i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-t[0],i[1]-t[1]],Dp(r,e-this.getRotation()),$O(r,t)),r}calculateCenterZoom(e,t){let r,i=this.getCenterInternal(),o=this.getResolution();if(i!==void 0&&o!==void 0){let s=t[0]-e*(t[0]-i[0])/o,a=t[1]-e*(t[1]-i[1])/o;r=[s,a]}return r}getViewportSize_(e){let t=this.viewportSize_;if(e){let r=t[0],i=t[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let e=this.getCenterInternal();return e&&U0(e,this.getProjection())}getCenterInternal(){return this.get(Ys.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){let t=this.calculateExtentInternal(e);return ju(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();let t=this.getCenterInternal();Vt(t,"The view center is not defined");let r=this.getResolution();Vt(r!==void 0,"The view resolution is not defined");let i=this.getRotation();return Vt(i!==void 0,"The view rotation is not defined"),F0(t,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Ys.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(Ks(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();let r=Ht(e)/t[0],i=pr(e)/t[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;let t=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(t/r)/Math.log(e);return(function(o){return t/Math.pow(e,o*i)})}getRotation(){return this.get(Ys.ROTATION)}getValueForResolutionFunction(e){let t=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(r/i)/t;return(function(s){return Math.log(r/s)/t/o})}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e),r=this.padding_;return r&&(t=[t[0]-r[1]-r[3],t[1]-r[0]-r[2]]),t}getState(){let e=this.getProjection(),t=this.getResolution(),r=this.getRotation(),i=this.getCenterInternal(),o=this.padding_;if(o){let s=this.getViewportSizeMinusPadding_();i=SD(i,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],t,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e,t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,r,i;if(this.resolutions_){let o=wp(this.resolutions_,e,1);t=o,r=this.resolutions_[o],o==this.resolutions_.length-1?i=2:i=r/this.resolutions_[o+1]}else r=this.maxResolution_,i=this.zoomFactor_;return t+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];let t=an(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(r,an(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let r;if(Vt(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Vt(!yl(e),"Cannot fit empty extent provided as `geometry`");let i=Ks(e,this.getProjection());r=yD(i)}else if(e.getType()==="Circle"){let i=Ks(e.getExtent(),this.getProjection());r=yD(i),r.rotate(this.getRotation(),jo(i))}else{let i=Cc();i?r=e.clone().transform(i,this.getProjection()):r=e}this.fitInternal(r,t)}rotatedExtentForGeometry(e){let t=this.getRotation(),r=Math.cos(t),i=Math.sin(-t),o=e.getFlatCoordinates(),s=e.getStride(),a=1/0,l=1/0,c=-1/0,u=-1/0;for(let d=0,f=o.length;d<f;d+=s){let h=o[d]*r-o[d+1]*i,g=o[d]*i+o[d+1]*r;a=Math.min(a,h),l=Math.min(l,g),c=Math.max(c,h),u=Math.max(u,g)}return[a,l,c,u]}fitInternal(e,t){t=t||{};let r=t.size;r||(r=this.getViewportSizeMinusPadding_());let i=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1,s;t.minResolution!==void 0?s=t.minResolution:t.maxZoom!==void 0?s=this.getResolutionForZoom(t.maxZoom):s=0;let a=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(a,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);let c=this.getRotation(),u=Math.sin(c),d=Math.cos(c),f=jo(a);f[0]+=(i[1]-i[3])/2*l,f[1]+=(i[0]-i[2])/2*l;let h=f[0]*d-f[1]*u,g=f[1]*d+f[0]*u,_=this.getConstrainedCenter([h,g],l),y=t.callback?t.callback:vc;t.duration!==void 0?this.animateInternal({resolution:l,center:_,duration:t.duration,easing:t.easing},y):(this.targetResolution_=l,this.targetCenter_=_,this.applyTargetState_(!1,!0),pw(y,!0))}centerOn(e,t,r){this.centerOnInternal(Uo(e,this.getProjection()),t,r)}centerOnInternal(e,t,r){this.setCenterInternal(SD(e,t,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,r,i){let o,s=this.padding_;if(s&&e){let a=this.getViewportSizeMinusPadding_(-r),l=SD(e,i,[a[0]/2+s[3],a[1]/2+s[0]],t,r);o=[e[0]-l[0],e[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){let t=U0(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){let t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Uo(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){let r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,i,r);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Uo(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){let r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);t&&(this.targetCenter_=this.calculateCenterRotate(i,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Uo(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){let r=this.getAnimating()||this.getInteracting()||t,i=this.constraints_.rotation(this.targetRotation_,r),o=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,o,r),a=this.constraints_.center(this.targetCenter_,s,o,r,this.calculateCenterShift(this.targetCenter_,s,i,o));this.get(Ys.ROTATION)!==i&&this.set(Ys.ROTATION,i),this.get(Ys.RESOLUTION)!==s&&(this.set(Ys.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Ys.CENTER)||!yd(this.get(Ys.CENTER),a))&&this.set(Ys.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,r){e=e!==void 0?e:200;let i=t||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,i,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!yd(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:e,easing:Bo,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(mi.INTERACTING,1)}endInteraction(e,t,r){r=r&&Uo(r,this.getProjection()),this.endInteractionInternal(e,t,r)}endInteractionInternal(e,t,r){this.getInteracting()&&(this.setHint(mi.INTERACTING,-1),this.resolveConstraints(e,t,r))}getConstrainedCenter(e,t){let r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),r)}getConstrainedZoom(e,t){let r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,t))}getConstrainedResolution(e,t){t=t||0;let r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,r)}};function pw(n,e){setTimeout(function(){n(e)},0)}function pK(n){if(n.extent!==void 0){let t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return zI(n.extent,n.constrainOnlyCenter,t)}let e=rw(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){let t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,zI(t,!1,!1)}return zO}function gK(n){let e,t,r,s=n.minZoom!==void 0?n.minZoom:ED,a=n.maxZoom!==void 0?n.maxZoom:28,l=n.zoomFactor!==void 0?n.zoomFactor:2,c=n.multiWorld!==void 0?n.multiWorld:!1,u=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,d=n.showFullExtent!==void 0?n.showFullExtent:!1,f=rw(n.projection,"EPSG:3857"),h=f.getExtent(),g=n.constrainOnlyCenter,_=n.extent;if(!c&&!_&&f.isGlobal()&&(g=!1,_=h),n.resolutions!==void 0){let y=n.resolutions;t=y[s],r=y[a]!==void 0?y[a]:y[y.length-1],n.constrainResolution?e=O8(y,u,!g&&_,d):e=xD(t,r,u,!g&&_,d)}else{let v=(h?Math.max(Ht(h),pr(h)):360*bc.degrees/f.getMetersPerUnit())/256/Math.pow(2,ED),E=v/Math.pow(2,28-ED);t=n.maxResolution,t!==void 0?s=0:t=v/Math.pow(l,s),r=n.minResolution,r===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?r=t/Math.pow(l,a):r=v/Math.pow(l,a):r=E),a=s+Math.floor(Math.log(t/r)/Math.log(l)),r=t/Math.pow(l,a-s),n.constrainResolution?e=F8(l,t,r,u,!g&&_,d):e=xD(t,r,u,!g&&_,d)}return{constraint:e,maxResolution:t,minResolution:r,minZoom:s,zoomFactor:l}}function mK(n){if(n.enableRotation!==void 0?n.enableRotation:!0){let t=n.constrainRotation;return t===void 0||t===!0?B8():t===!1?bD:typeof t=="number"?j8(t):bD}return kp}function _K(n){return!(n.sourceCenter&&n.targetCenter&&!yd(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function SD(n,e,t,r,i){let o=Math.cos(-i),s=Math.sin(-i),a=n[0]*o-n[1]*s,l=n[1]*o+n[0]*s;a+=(e[0]/2-t[0])*r,l+=(t[1]-e[1]/2)*r,s=-s;let c=a*o-l*s,u=l*o+a*s;return[c,u]}var vs=CD;var Q0="ol-hidden";var Hu="ol-unselectable";var Op="ol-control",ID="ol-collapsed",yK=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),G8=["style","variant","weight","size","lineHeight","family"],gw={normal:400,bold:700},mw=function(n){let e=n.match(yK);if(!e)return null;let t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let r=0,i=G8.length;r<i;++r){let o=e[r+1];o!==void 0&&(t[G8[r]]=typeof o=="string"?o.trim():o)}return isNaN(Number(t.weight))&&t.weight in gw&&(t.weight=gw[t.weight]),t.families=t.family.split(/,\s?/).map(r=>r.trim().replace(/^['"]|['"]$/g,"")),t};function Bn(n,e,t,r){let i;return t&&t.length?i=t.shift():Or?i=new class extends OffscreenCanvas{style={}}(n??300,e??150):i=document.createElement("canvas"),n&&(i.width=n),e&&(i.height=e),i.getContext("2d",r)}var DD;function Fp(){return DD||(DD=Bn(1,1)),DD}function Sd(n){let e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function TD(n,e){let t=e.parentNode;t&&t.replaceChild(n,e)}function z8(n){for(;n.lastChild;)n.lastChild.remove()}function V8(n,e){let t=n.childNodes;for(let r=0;;++r){let i=t[r],o=e[r];if(!i&&!o)break;if(i!==o){if(!i){n.appendChild(o);continue}if(!o){n.removeChild(i),--r;continue}n.insertBefore(o,i)}}}function _w(){return new Proxy({childNodes:[],appendChild:function(e){return this.childNodes.push(e),e},remove:function(){},removeChild:function(e){let t=this.childNodes.indexOf(e);if(t===-1)throw new Error("Node to remove was not found");return this.childNodes.splice(t,1),e},insertBefore:function(e,t){let r=this.childNodes.indexOf(t);if(r===-1)throw new Error("Reference node not found");return this.childNodes.splice(r,0,e),e},style:{}},{get(e,t,r){return t==="firstElementChild"?e.childNodes.length>0?e.childNodes[0]:null:Reflect.get(e,t,r)}})}function Ma(n){return typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas}var MD=class extends Jr{constructor(e){super();let t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,r=this.listenerKeys.length;t<r;++t)sn(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){let t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==vc&&this.listenerKeys.push(jt(e,ml.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}},Ic=MD;var AD=class extends Ic{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;let t=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",s=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;let a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=i):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Je.CLICK,this.handleClick_.bind(this),!1);let c=t+" "+Hu+" "+Op+(this.collapsed_&&this.collapsible_?" "+ID:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){let t=this.getMap().getAllLayers(),r=new Set(t.flatMap(i=>i.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(i=>r.add(i)):r.add(this.attributions_)),!this.overrideCollapsible_){let i=!t.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(i)}return Array.from(r)}updateElement_(e){return Ct(this,null,function*(){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let t=yield Promise.all(this.collectSourceAttributions_(e).map(i=>NO(()=>i))),r=t.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!ro(t,this.renderedAttributions_)){z8(this.ulElement_);for(let i=0,o=t.length;i<o;++i){let s=document.createElement("li");s.innerHTML=t[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=t}})}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(ID),this.collapsed_?TD(this.collapseLabel_,this.label_):TD(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},H8=AD;var RD=class extends Ic{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});let t=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"\u21E7",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));let o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=t+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(Je.CLICK,this.handleClick_.bind(this),!1);let a=t+" "+Hu+" "+Op,l=this.element;l.className=a,l.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Q0)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let t=this.getMap().getView();if(!t)return;let r=t.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Bo}):t.setRotation(0))}render(e){let t=e.frameState;if(!t)return;let r=t.viewState.rotation;if(r!=this.rotation_){let i="rotate("+r+"rad)";if(this.autoHide_){let o=this.element.classList.contains(Q0);!o&&r===0?this.element.classList.add(Q0):o&&r!==0&&this.element.classList.remove(Q0)}this.label_.style.transform=i}this.rotation_=r}},q8=RD;var ND=class extends Ic{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});let t=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",s=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof s=="string"?document.createTextNode(s):s),u.addEventListener(Je.CLICK,this.handleClick_.bind(this,r),!1);let d=document.createElement("button");d.className=o,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof a=="string"?document.createTextNode(a):a),d.addEventListener(Je.CLICK,this.handleClick_.bind(this,-r),!1);let f=t+" "+Hu+" "+Op,h=this.element;h.className=f,h.appendChild(u),h.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){let r=this.getMap().getView();if(!r)return;let i=r.getZoom();if(i!==void 0){let o=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:o,duration:this.duration_,easing:Bo})):r.setZoom(o)}}},W8=ND;function e1(n){n=n||{};let e=new Vi;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new W8(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new q8(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new H8(n.attributionOptions)),e}var PD=class{constructor(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;let e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let r=t-3;for(;r>0&&this.points_[r+2]>e;)r-=3;let i=this.points_[t+2]-this.points_[r+2];if(i<1e3/60)return!1;let o=this.points_[t]-this.points_[r],s=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},$8=PD;var t1={ACTIVE:"active"};var LD=class extends Jr{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(t1.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(t1.ACTIVE,e)}setMap(e){this.map_=e}};function Z8(n,e,t){let r=n.getCenterInternal();if(r){let i=[r[0]+e[0],r[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:KO,center:n.getConstrainedCenter(i)})}}function jp(n,e,t,r){let i=n.getZoom();if(i===void 0)return;let o=n.getConstrainedZoom(i+e),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:r!==void 0?r:250,easing:Bo})}var vl=LD;var kD=class extends vl{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==mn.DBLCLICK){let r=e.originalEvent,i=e.map,o=e.coordinate,s=r.shiftKey?-this.delta_:this.delta_,a=i.getView();jp(a,s,o,this.duration_),r.preventDefault(),t=!0}return!t}},Y8=kD;function n1(n){let e=arguments;return function(t){let r=!0;for(let i=0,o=e.length;i<o&&(r=r&&e[i](t),!!r);++i);return r}}var X8=function(n){let e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},vK=function(n){let e=n.map.getTargetElement(),t=e.getRootNode(),r=n.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(r):e.contains(r)},yw=function(n){let e=n.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?vK(n):!0},Bp=Ca;var vw=function(n){let e=n.originalEvent;return"pointerId"in e&&e.button==0&&!(LO&&FI&&e.ctrlKey)},K8=$s;var Up=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};var J8=function(n){let e=n.originalEvent;return FI?e.metaKey:e.ctrlKey},r1=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ww=function(n){let e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},xw=function(n){let e=n.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"};var Q8=function(n){let e=n.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};var OD=class extends vl{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==mn.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==mn.POINTERUP){let r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==mn.POINTERDOWN){let r=this.handleDownEvent(e);this.handlingDownUpSequence=r,t=this.stopDown(r)}else e.type==mn.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function Gp(n){let e=n.length,t=0,r=0;for(let i=0;i<e;i++)t+=n[i].clientX,r+=n[i].clientY;return{clientX:t/e,clientY:r/e}}var Qs=OD;var FD=class extends Qs{constructor(e){super({stopDown:$s}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let t=e.condition?e.condition:n1(Up,Q8);this.condition_=e.onFocusOnly?n1(yw,t):t,this.noKinetic_=!1}handleDragEvent(e){let t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());let r=this.targetPointers,i=t.getEventPixel(Gp(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){let o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();YO(o,a.getResolution()),Dp(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){let t=e.map,r=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=r.getCenterInternal(),a=t.getPixelFromCoordinateInternal(s),l=t.getCoordinateFromPixelInternal([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:Bo})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){let r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},e6=FD;var jD=class extends Qs{constructor(e){e=e||{},super({stopDown:$s}),this.condition_=e.condition?e.condition:X8,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!xw(e))return;let t=e.map,r=t.getView();if(r.getConstraints().rotation===kp)return;let i=t.getSize(),o=e.pixel,s=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(this.lastAngle_!==void 0){let a=s-this.lastAngle_;r.adjustRotationInternal(-a)}this.lastAngle_=s}handleUpEvent(e){return xw(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return xw(e)&&vw(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},t6=jD;var BD=class extends Mu{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let e=this.startPixel_,t=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+r,i.top=Math.min(e[1],t[1])+r,i.width=Math.abs(t[0]-e[0])+r,i.height=Math.abs(t[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let e=this.startPixel_,t=this.endPixel_,i=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new $i([i])}getGeometry(){return this.geometry_}},n6=BD;var zp={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Cd=class extends Kr{constructor(e,t,r){super(e),this.coordinate=t,this.mapBrowserEvent=r}},UD=class extends Qs{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new n6(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??vw,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,r){let i=r[0]-t[0],o=r[1]-t[1];return i*i+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Cd(zp.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;let t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Cd(t?zp.BOXEND:zp.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Cd(zp.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Cd(zp.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Cd(zp.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}},r6=UD;var GD=class extends r6{constructor(e){e=e||{};let t=e.condition?e.condition:r1;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){let r=this.getMap().getView(),i=this.getGeometry();if(this.out_){let o=r.rotatedExtentForGeometry(i),s=r.getResolutionForExtentInternal(o),a=r.getResolution()/s;i=i.clone(),i.scale(a*a)}r.fitInternal(i,{duration:this.duration_,easing:Bo})}},i6=GD;var qu={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var zD=class extends vl{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Up(t)&&ww(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Je.KEYDOWN){let r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==qu.DOWN||i==qu.LEFT||i==qu.RIGHT||i==qu.UP)){let s=e.map.getView(),a=s.getResolution()*this.pixelDelta_,l=0,c=0;i==qu.DOWN?c=-a:i==qu.LEFT?l=-a:i==qu.RIGHT?l=a:c=a;let u=[l,c];Dp(u,s.getRotation()),Z8(s,u,this.duration_),r.preventDefault(),t=!0}}return!t}},o6=zD;var VD=class extends vl{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!J8(t)&&ww(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Je.KEYDOWN||e.type==Je.KEYPRESS){let r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){let o=e.map,s=i==="+"?this.delta_:-this.delta_,a=o.getView();jp(a,s,void 0,this.duration_),r.preventDefault(),t=!0}}return!t}},s6=VD;var wK=40,xK=300,HD=class extends vl{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;let t=e.condition?e.condition:Bp;this.condition_=e.onFocusOnly?n1(yw,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Je.WHEEL)return!0;let r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let o=i.deltaY;switch(i.deltaMode){case WheelEvent.DOM_DELTA_LINE:o*=wK;break;case WheelEvent.DOM_DELTA_PAGE:o*=xK;break;default:}if(o===0)return!1;this.lastDelta_=o;let s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");let a=r.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?r.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=o;let l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(e){let t=e.getView();t.getAnimating()&&t.cancelAnimations();let r=-an(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),jp(t,r,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},a6=HD;var qD=class extends Qs{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=$s),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0,r=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){let l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=o;let s=e.map,a=s.getView();a.getConstraints().rotation!==kp&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(Gp(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},l6=qD;var WD=class extends Qs{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=$s),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1,r=this.targetPointers[0],i=this.targetPointers[1],o=r.clientX-i.clientX,s=r.clientY-i.clientY,a=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;let l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Gp(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){let r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},c6=WD;function u6(n){n=n||{};let e=new Vi,t=new $8(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new t6),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new Y8({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new e6({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new l6),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new c6({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new o6),e.push(new s6({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new a6({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new i6({duration:n.zoomDuration})),e}var Mn={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var $D=class extends Jr{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;let t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Mn.OPACITY]=e.opacity!==void 0?e.opacity:1,Vt(typeof t[Mn.OPACITY]=="number","Layer opacity must be a number"),t[Mn.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Mn.Z_INDEX]=e.zIndex,t[Mn.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Mn.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Mn.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Mn.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){let t=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return t.opacity=an(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=r===void 0&&!t.managed?1/0:r,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Qe()}getLayerStatesArray(e){return Qe()}getExtent(){return this.get(Mn.EXTENT)}getMaxResolution(){return this.get(Mn.MAX_RESOLUTION)}getMinResolution(){return this.get(Mn.MIN_RESOLUTION)}getMinZoom(){return this.get(Mn.MIN_ZOOM)}getMaxZoom(){return this.get(Mn.MAX_ZOOM)}getOpacity(){return this.get(Mn.OPACITY)}getSourceState(){return Qe()}getVisible(){return this.get(Mn.VISIBLE)}getZIndex(){return this.get(Mn.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Mn.EXTENT,e)}setMaxResolution(e){this.set(Mn.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Mn.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Mn.MAX_ZOOM,e)}setMinZoom(e){this.set(Mn.MIN_ZOOM,e)}setOpacity(e){Vt(typeof e=="number","Layer opacity must be a number"),this.set(Mn.OPACITY,e)}setVisible(e){this.set(Mn.VISIBLE,e)}setZIndex(e){this.set(Mn.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},bw=$D;var Wu={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"},Aa=class extends Kr{constructor(e,t){super(e),this.layer=t}},ZD={LAYERS:"layers"},YD=class n extends bw{constructor(e){e=e||{};let t=Object.assign({},e);delete t.layers;let r=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(ZD.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Vi(r.slice(),{unique:!0}):Vt(typeof r.getArray=="function","Expected `layers` to be an array or a `Collection`"):r=new Vi(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(sn),this.layersListenerKeys_.length=0;let e=this.getLayers();this.layersListenerKeys_.push(jt(e,Ci.ADD,this.handleLayersAdd_,this),jt(e,Ci.REMOVE,this.handleLayersRemove_,this));for(let r in this.listenerKeys_)this.listenerKeys_[r].forEach(sn);gl(this.listenerKeys_);let t=e.getArray();for(let r=0,i=t.length;r<i;r++){let o=t[r];this.registerLayerListeners_(o),this.dispatchEvent(new Aa(Wu.ADDLAYER,o))}this.changed()}registerLayerListeners_(e){let t=[jt(e,Sa.PROPERTYCHANGE,this.handleLayerChange_,this),jt(e,Je.CHANGE,this.handleLayerChange_,this)];e instanceof n&&t.push(jt(e,Wu.ADDLAYER,this.handleLayerGroupAdd_,this),jt(e,Wu.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[St(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Aa(Wu.ADDLAYER,e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Aa(Wu.REMOVELAYER,e.layer))}handleLayersAdd_(e){let t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Aa(Wu.ADDLAYER,t)),this.changed()}handleLayersRemove_(e){let t=e.element,r=St(t);this.listenerKeys_[r].forEach(sn),delete this.listenerKeys_[r],this.dispatchEvent(new Aa(Wu.REMOVELAYER,t)),this.changed()}getLayers(){return this.get(ZD.LAYERS)}setLayers(e){let t=this.getLayers();if(t){let r=t.getArray();for(let i=0,o=r.length;i<o;++i)this.dispatchEvent(new Aa(Wu.REMOVELAYER,r[i]))}this.set(ZD.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){let t=e!==void 0?e:[],r=t.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(t)});let i=this.getLayerState(),o=i.zIndex;!e&&i.zIndex===void 0&&(o=0);for(let s=r,a=t.length;s<a;s++){let l=t[s];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=_l(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=o)}return t}getSourceState(){return"ready"}},i1=YD;var Zi={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var XD=class extends bw{constructor(e){let t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Mn.SOURCE,this.handleSourcePropertyChange_);let r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Mn.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(sn(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let e=this.getSource();e&&(this.sourceChangeKey_=jt(e,Je.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t,r=this.getMapInternal();!e&&r&&(e=r.getView()),e instanceof vs?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&r&&(t.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let i;if(t.layerStatesArray){if(i=t.layerStatesArray.find(s=>s.layer===this),!i)return!1}else i=this.getLayerState();let o=this.getExtent();return o1(i,t.viewState)&&(!o||cr(o,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t=this.getSource()?.getAttributions();if(!t)return[];let r=e instanceof vs?e.getViewStateAndExtent():e,i=t(r);return Array.isArray(i)||(i=[i]),i}render(e,t){let r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){let t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Mn.MAP,e)}getMapInternal(){return this.get(Mn.MAP)}setMap(e){this.mapPrecomposeKey_&&(sn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(sn(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=jt(e,Zi.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=jt(this,Je.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){let t=e.frameState.layerStatesArray,r=this.getLayerState(!1);Vt(!t.some(i=>i.layer===r.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(r)}setSource(e){this.set(Mn.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}};function o1(n,e){if(!n.visible)return!1;let t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;let r=e.zoom;return r>n.minZoom&&r<=n.maxZoom}var Id=XD;function Ew(n,e,t=0,r=n.length-1,i=bK){for(;r>t;){if(r-t>600){let l=r-t+1,c=e-t+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(t,Math.floor(e-c*d/l+f)),g=Math.min(r,Math.floor(e+(l-c)*d/l+f));Ew(n,e,h,g,i)}let o=n[e],s=t,a=r;for(s1(n,t,e),i(n[r],o)>0&&s1(n,t,r);s<a;){for(s1(n,s,a),s++,a--;i(n[s],o)<0;)s++;for(;i(n[a],o)>0;)a--}i(n[t],o)===0?s1(n,t,a):(a++,s1(n,a,r)),a<=e&&(t=a+1),e<=a&&(r=a-1)}}function s1(n,e,t){let r=n[e];n[e]=n[t],n[t]=r}function bK(n,e){return n<e?-1:n>e?1:0}var qp=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data,r=[];if(!Cw(e,t))return r;let i=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){let a=t.children[s],l=t.leaf?i(a):a;Cw(e,l)&&(t.leaf?r.push(a):JD(e,l)?this._all(a,r):o.push(a))}t=o.pop()}return r}collides(e){let t=this.data;if(!Cw(e,t))return!1;let r=[];for(;t;){for(let i=0;i<t.children.length;i++){let o=t.children[i],s=t.leaf?this.toBBox(o):o;if(Cw(e,s)){if(t.leaf||JD(e,s))return!0;r.push(o)}}t=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){let r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Hp([]),this}remove(e,t){if(!e)return this;let r=this.data,i=this.toBBox(e),o=[],s=[],a,l,c;for(;r||o.length;){if(r||(r=o.pop(),l=o[o.length-1],a=s.pop(),c=!0),r.leaf){let u=EK(e,r.children,t);if(u!==-1)return r.children.splice(u,1),o.push(r),this._condense(o),this}!c&&!r.leaf&&JD(r,i)?(o.push(r),s.push(a),a=0,l=r,r=r.children[0]):l?(a++,r=l.children[a],c=!1):r=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let r=[];for(;e;)e.leaf?t.push(...e.children):r.push(...e.children),e=r.pop();return t}_build(e,t,r,i){let o=r-t+1,s=this._maxEntries,a;if(o<=s)return a=Hp(e.slice(t,r+1)),Vp(a,this.toBBox),a;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),a=Hp([]),a.leaf=!1,a.height=i;let l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));h6(e,t,r,c,this.compareMinX);for(let u=t;u<=r;u+=c){let d=Math.min(u+c-1,r);h6(e,u,d,l,this.compareMinY);for(let f=u;f<=d;f+=l){let h=Math.min(f+l-1,d);a.children.push(this._build(e,f,h,i-1))}}return Vp(a,this.toBBox),a}_chooseSubtree(e,t,r,i){for(;i.push(t),!(t.leaf||i.length-1===r);){let o=1/0,s=1/0,a;for(let l=0;l<t.children.length;l++){let c=t.children[l],u=KD(c),d=IK(e,c)-u;d<s?(s=d,o=u<o?u:o,a=c):d===s&&u<o&&(o=u,a=c)}t=a||t.children[0]}return t}_insert(e,t,r){let i=r?e:this.toBBox(e),o=[],s=this._chooseSubtree(i,this.data,t,o);for(s.children.push(e),l1(s,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)}_split(e,t){let r=e[t],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);let s=this._chooseSplitIndex(r,o,i),a=Hp(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,Vp(r,this.toBBox),Vp(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(r,a)}_splitRoot(e,t){this.data=Hp([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Vp(this.data,this.toBBox)}_chooseSplitIndex(e,t,r){let i,o=1/0,s=1/0;for(let a=t;a<=r-t;a++){let l=a1(e,0,a,this.toBBox),c=a1(e,a,r,this.toBBox),u=DK(l,c),d=KD(l)+KD(c);u<o?(o=u,i=a,s=d<s?d:s):u===o&&d<s&&(s=d,i=a)}return i||r-t}_chooseSplitAxis(e,t,r){let i=e.leaf?this.compareMinX:SK,o=e.leaf?this.compareMinY:CK,s=this._allDistMargin(e,t,r,i),a=this._allDistMargin(e,t,r,o);s<a&&e.children.sort(i)}_allDistMargin(e,t,r,i){e.children.sort(i);let o=this.toBBox,s=a1(e,0,t,o),a=a1(e,r-t,r,o),l=Sw(s)+Sw(a);for(let c=t;c<r-t;c++){let u=e.children[c];l1(s,e.leaf?o(u):u),l+=Sw(s)}for(let c=r-t-1;c>=t;c--){let u=e.children[c];l1(a,e.leaf?o(u):u),l+=Sw(a)}return l}_adjustParentBBoxes(e,t,r){for(let i=r;i>=0;i--)l1(t[i],e)}_condense(e){for(let t=e.length-1,r;t>=0;t--)e[t].children.length===0?t>0?(r=e[t-1].children,r.splice(r.indexOf(e[t]),1)):this.clear():Vp(e[t],this.toBBox)}};function EK(n,e,t){if(!t)return e.indexOf(n);for(let r=0;r<e.length;r++)if(t(n,e[r]))return r;return-1}function Vp(n,e){a1(n,0,n.children.length,e,n)}function a1(n,e,t,r,i){i||(i=Hp(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=e;o<t;o++){let s=n.children[o];l1(i,n.leaf?r(s):s)}return i}function l1(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function SK(n,e){return n.minX-e.minX}function CK(n,e){return n.minY-e.minY}function KD(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Sw(n){return n.maxX-n.minX+(n.maxY-n.minY)}function IK(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function DK(n,e){let t=Math.max(n.minX,e.minX),r=Math.max(n.minY,e.minY),i=Math.min(n.maxX,e.maxX),o=Math.min(n.maxY,e.maxY);return Math.max(0,i-t)*Math.max(0,o-r)}function JD(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Cw(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function Hp(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function h6(n,e,t,r,i){let o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=r)continue;let s=e+Math.ceil((t-e)/r/2)*r;Ew(n,s,e,t,i),o.push(e,s,s,t)}}var Dw=[NaN,NaN,NaN,0],QD;function TK(){return QD||(QD=Bn(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),QD}var MK=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,AK=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,RK=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,NK=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Iw(n,e){return n.endsWith("%")?Number(n.substring(0,n.length-1))/e:Number(n)}function u1(n){throw new Error('failed to parse "'+n+'" as color')}function d6(n){if(n.toLowerCase().startsWith("rgb")){let o=n.match(AK)||n.match(MK)||n.match(RK);if(o){let s=o[4],a=100/255;return[an(Iw(o[1],a)+.5|0,0,255),an(Iw(o[2],a)+.5|0,0,255),an(Iw(o[3],a)+.5|0,0,255),s!==void 0?an(Iw(s,100),0,1):1]}u1(n)}if(n.startsWith("#")){if(NK.test(n)){let o=n.substring(1),s=o.length<=4?1:2,a=[0,0,0,255];for(let l=0,c=o.length;l<c;l+=s){let u=parseInt(o.substring(l,l+s),16);s===1&&(u+=u<<4),a[l/s]=u}return a[3]=a[3]/255,a}u1(n)}let e=TK();e.fillStyle="#abcdef";let t=e.fillStyle;e.fillStyle=n,e.fillStyle===t&&(e.fillStyle="#fedcba",t=e.fillStyle,e.fillStyle=n,e.fillStyle===t&&u1(n));let r=e.fillStyle;if(r.startsWith("#")||r.startsWith("rgba"))return d6(r);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);let i=Array.from(e.getImageData(0,0,1,1).data);return i[3]=Nu(i[3]/255,3),i}function f6(n){return typeof n=="string"?n:d1(n)}var PK=1024,c1={},eT=0;function p6(n){if(n.length===4)return n;let e=n.slice();return e[3]=1,e}function tT(n){return n>.0031308?Math.pow(n,1/2.4)*269.025-14.025:n*3294.6}function nT(n){return n>.2068965?Math.pow(n,3):(n-4/29)*(108/841)}function rT(n){return n>10.314724?Math.pow((n+14.025)/269.025,2.4):n/3294.6}function iT(n){return n>.0088564?Math.pow(n,1/3):n/(108/841)+4/29}function oT(n){let e=rT(n[0]),t=rT(n[1]),r=rT(n[2]),i=iT(e*.222488403+t*.716873169+r*.06060791),o=500*(iT(e*.452247074+t*.399439023+r*.148375274)-i),s=200*(i-iT(e*.016863605+t*.117638439+r*.865350722)),a=Math.atan2(s,o)*(180/Math.PI);return[116*i-16,Math.sqrt(o*o+s*s),a<0?a+360:a,n[3]]}function g6(n){let e=(n[0]+16)/116,t=n[1],r=n[2]*Math.PI/180,i=nT(e),o=nT(e+t/500*Math.cos(r)),s=nT(e-t/200*Math.sin(r)),a=tT(o*3.021973625-i*1.617392459-s*.404875592),l=tT(o*-.943766287+i*1.916279586+s*.027607165),c=tT(o*.069407491-i*.22898585+s*1.159737864);return[an(a+.5|0,0,255),an(l+.5|0,0,255),an(c+.5|0,0,255),n[3]]}function h1(n){if(n==="none")return Dw;if(c1.hasOwnProperty(n))return c1[n];if(eT>=PK){let t=0;for(let r in c1)(t++&3)===0&&(delete c1[r],--eT)}let e=d6(n);e.length!==4&&u1(n);for(let t of e)isNaN(t)&&u1(n);return c1[n]=e,++eT,e}function ws(n){return Array.isArray(n)?n:h1(n)}function d1(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let r=n[2];r!=(r|0)&&(r=r+.5|0);let i=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+r+","+i+")"}function sT(n){return n[0]>0&&n[1]>0}function m6(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function Ir(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var Dd=0;var oo=1<<Dd++,dn=1<<Dd++,Io=1<<Dd++,xs=1<<Dd++,Zu=1<<Dd++,f1=1<<Dd++,Tw=Math.pow(2,Dd)-1,cT={[oo]:"boolean",[dn]:"number",[Io]:"string",[xs]:"color",[Zu]:"number[]",[f1]:"size"},LK=Object.keys(cT).map(Number).sort(ko);function kK(n){return n in cT}function p1(n){let e=[];for(let t of LK)g1(n,t)&&e.push(cT[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function g1(n,e){return(n&e)===e}function $u(n,e){return n===e}var Dr=class{constructor(e,t){if(!kK(e))throw new Error(`literal expressions must have a specific type, got ${p1(e)}`);this.type=e,this.value=t}},lT=class{constructor(e,t,...r){this.type=e,this.operator=t,this.args=r}};function uT(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Ti(n,e,t){switch(typeof n){case"boolean":{if($u(e,Io))return new Dr(Io,n?"true":"false");if(!g1(e,oo))throw new Error(`got a boolean, but expected ${p1(e)}`);return new Dr(oo,n)}case"number":{if($u(e,f1))return new Dr(f1,Ir(n));if($u(e,oo))return new Dr(oo,!!n);if($u(e,Io))return new Dr(Io,n.toString());if(!g1(e,dn))throw new Error(`got a number, but expected ${p1(e)}`);return new Dr(dn,n)}case"string":{if($u(e,xs))return new Dr(xs,h1(n));if($u(e,oo))return new Dr(oo,!!n);if(!g1(e,Io))throw new Error(`got a string, but expected ${p1(e)}`);return new Dr(Io,n)}default:}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return WK(n,e,t);for(let r of n)if(typeof r!="number")throw new Error("expected an array of numbers");if($u(e,f1)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new Dr(f1,n)}if($u(e,xs)){if(n.length===3)return new Dr(xs,[...n,1]);if(n.length===4)return new Dr(xs,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!g1(e,Zu))throw new Error(`got an array of numbers, but expected ${p1(e)}`);return new Dr(Zu,n)}var Re={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},OK={[Re.Get]:Tt(Xt(1,1/0),_6),[Re.Var]:Tt(Xt(1,1),FK),[Re.Has]:Tt(Xt(1,1/0),_6),[Re.Id]:Tt(jK,Wp),[Re.Concat]:Tt(Xt(2,1/0),An(Io)),[Re.GeometryType]:Tt(BK,Wp),[Re.LineMetric]:Tt(Wp),[Re.Resolution]:Tt(aT,Wp),[Re.Zoom]:Tt(aT,Wp),[Re.Time]:Tt(aT,Wp),[Re.Any]:Tt(Xt(2,1/0),An(oo)),[Re.All]:Tt(Xt(2,1/0),An(oo)),[Re.Not]:Tt(Xt(1,1),An(oo)),[Re.Equal]:Tt(Xt(2,2),An(Tw)),[Re.NotEqual]:Tt(Xt(2,2),An(Tw)),[Re.GreaterThan]:Tt(Xt(2,2),An(dn)),[Re.GreaterThanOrEqualTo]:Tt(Xt(2,2),An(dn)),[Re.LessThan]:Tt(Xt(2,2),An(dn)),[Re.LessThanOrEqualTo]:Tt(Xt(2,2),An(dn)),[Re.Multiply]:Tt(Xt(2,1/0),y6),[Re.Coalesce]:Tt(Xt(2,1/0),y6),[Re.Divide]:Tt(Xt(2,2),An(dn)),[Re.Add]:Tt(Xt(2,1/0),An(dn)),[Re.Subtract]:Tt(Xt(2,2),An(dn)),[Re.Clamp]:Tt(Xt(3,3),An(dn)),[Re.Mod]:Tt(Xt(2,2),An(dn)),[Re.Pow]:Tt(Xt(2,2),An(dn)),[Re.Abs]:Tt(Xt(1,1),An(dn)),[Re.Floor]:Tt(Xt(1,1),An(dn)),[Re.Ceil]:Tt(Xt(1,1),An(dn)),[Re.Round]:Tt(Xt(1,1),An(dn)),[Re.Sin]:Tt(Xt(1,1),An(dn)),[Re.Cos]:Tt(Xt(1,1),An(dn)),[Re.Atan]:Tt(Xt(1,2),An(dn)),[Re.Sqrt]:Tt(Xt(1,1),An(dn)),[Re.Match]:Tt(Xt(4,1/0),v6,GK),[Re.Between]:Tt(Xt(3,3),An(dn)),[Re.Interpolate]:Tt(Xt(6,1/0),v6,zK),[Re.Case]:Tt(Xt(3,1/0),UK,VK),[Re.In]:Tt(Xt(2,2),HK),[Re.Number]:Tt(Xt(1,1/0),An(Tw)),[Re.String]:Tt(Xt(1,1/0),An(Tw)),[Re.Array]:Tt(Xt(1,1/0),An(dn)),[Re.Color]:Tt(Xt(1,4),An(dn)),[Re.Band]:Tt(Xt(1,3),An(dn)),[Re.Palette]:Tt(Xt(2,2),qK),[Re.ToString]:Tt(Xt(1,1),An(oo|dn|Io|xs))};function _6(n,e,t){let r=n.length-1,i=new Array(r);for(let o=0;o<r;++o){let s=n[o+1];switch(typeof s){case"number":{i[o]=new Dr(dn,s);break}case"string":{i[o]=new Dr(Io,s);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${s}`)}o===0&&t.properties.add(String(s))}return i}function FK(n,e,t){let r=n[1];if(typeof r!="string")throw new Error("expected a string argument for var operation");return t.variables.add(r),[new Dr(Io,r)]}function jK(n,e,t){t.featureId=!0}function BK(n,e,t){t.geometryType=!0}function aT(n,e,t){t.mapState=!0}function Wp(n,e,t){let r=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${r} operation`);return[]}function Xt(n,e){return function(t,r,i){let o=t[0],s=t.length-1;if(n===e){if(s!==n){let a=n===1?"":"s";throw new Error(`expected ${n} argument${a} for ${o}, got ${s}`)}}else if(s<n||s>e){let a=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${a} arguments for ${o}, got ${s}`)}}}function y6(n,e,t){let r=n.length-1,i=new Array(r);for(let o=0;o<r;++o){let s=Ti(n[o+1],e,t);i[o]=s}return i}function An(n){return function(e,t,r){let i=e.length-1,o=new Array(i);for(let s=0;s<i;++s){let a=Ti(e[s+1],n,r);o[s]=a}return o}}function UK(n,e,t){let r=n[0],i=n.length-1;if(i%2===0)throw new Error(`expected an odd number of arguments for ${r}, got ${i} instead`)}function v6(n,e,t){let r=n[0],i=n.length-1;if(i%2===1)throw new Error(`expected an even number of arguments for operation ${r}, got ${i} instead`)}function GK(n,e,t){let r=n.length-1,i=Io|dn|oo,o=Ti(n[1],i,t),s=Ti(n[n.length-1],e,t),a=new Array(r-2);for(let l=0;l<r-2;l+=2){try{let c=Ti(n[l+2],o.type,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{let c=Ti(n[l+3],s.type,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[o,...a,s]}function zK(n,e,t){let r=n[1],i;switch(r[0]){case"linear":i=1;break;case"exponential":let l=r[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);i=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(r)}`)}let o=new Dr(dn,i),s;try{s=Ti(n[2],dn,t)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(n.length-3);for(let l=0;l<a.length;l+=2){try{let c=Ti(n[l+3],dn,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{let c=Ti(n[l+4],e,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[o,s,...a]}function VK(n,e,t){let r=Ti(n[n.length-1],e,t),i=new Array(n.length-1);for(let o=0;o<i.length-1;o+=2){try{let s=Ti(n[o+1],oo,t);i[o]=s}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{let s=Ti(n[o+2],r.type,t);i[o+1]=s}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return i[i.length-1]=r,i}function HK(n,e,t){let r=n[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');let i;if(typeof r[0]=="string"){if(r[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=Io}else i=dn;let o=new Array(r.length);for(let a=0;a<o.length;a++)try{let l=Ti(r[a],i,t);o[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Ti(n[1],i,t),...o]}function qK(n,e,t){let r;try{r=Ti(n[1],dn,t)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}let i=n[2];if(!Array.isArray(i))throw new Error("the second argument of palette must be an array");let o=new Array(i.length);for(let s=0;s<o.length;s++){let a;try{a=Ti(i[s],xs,t)}catch(l){throw new Error(`failed to parse color at index ${s} in palette expression: ${l.message}`)}if(!(a instanceof Dr))throw new Error(`the palette color at index ${s} must be a literal value`);o[s]=a}return[r,...o]}function Tt(...n){return function(e,t,r){let i=e[0],o;for(let s=0;s<n.length;s++){let a=n[s](e,t,r);if(s==n.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");o=a}}return new lT(t,i,...o)}}function WK(n,e,t){let r=n[0],i=OK[r];if(!i)throw new Error(`unknown operator: ${r}`);return i(n,e,t)}function hT(n){if(!n)return"";let e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return hT(n.getGeometries()[0]);default:return""}}function dT(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function wl(n,e,t){let r=Ti(n,e,t);return Ra(r,t)}function Ra(n,e){if(n instanceof Dr){if(n.type===xs&&typeof n.value=="string"){let r=h1(n.value);return function(){return r}}return function(){return n.value}}let t=n.operator;switch(t){case Re.Number:case Re.String:case Re.Coalesce:return $K(n,e);case Re.Get:case Re.Var:case Re.Has:return ZK(n,e);case Re.Id:return r=>r.featureId;case Re.GeometryType:return r=>r.geometryType;case Re.Concat:{let r=n.args.map(i=>Ra(i,e));return i=>"".concat(...r.map(o=>o(i).toString()))}case Re.Resolution:return r=>r.resolution;case Re.Any:case Re.All:case Re.Between:case Re.In:case Re.Not:return XK(n,e);case Re.Equal:case Re.NotEqual:case Re.LessThan:case Re.LessThanOrEqualTo:case Re.GreaterThan:case Re.GreaterThanOrEqualTo:return YK(n,e);case Re.Multiply:case Re.Divide:case Re.Add:case Re.Subtract:case Re.Clamp:case Re.Mod:case Re.Pow:case Re.Abs:case Re.Floor:case Re.Ceil:case Re.Round:case Re.Sin:case Re.Cos:case Re.Atan:case Re.Sqrt:return KK(n,e);case Re.Case:return JK(n,e);case Re.Match:return QK(n,e);case Re.Interpolate:return eJ(n,e);case Re.ToString:return tJ(n,e);default:throw new Error(`Unsupported operator ${t}`)}}function $K(n,e){let t=n.operator,r=n.args.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=Ra(n.args[o],e);switch(t){case Re.Coalesce:return o=>{for(let s=0;s<r;++s){let a=i[s](o);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case Re.Number:case Re.String:return o=>{for(let s=0;s<r;++s){let a=i[s](o);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function ZK(n,e){let r=n.args[0].value;switch(n.operator){case Re.Get:return i=>{let o=n.args,s=i.properties[r];for(let a=1,l=o.length;a<l;++a){let u=o[a].value;s=s[u]}return s};case Re.Var:return i=>i.variables[r];case Re.Has:return i=>{let o=n.args;if(!(r in i.properties))return!1;let s=i.properties[r];for(let a=1,l=o.length;a<l;++a){let u=o[a].value;if(!s||!Object.hasOwn(s,u))return!1;s=s[u]}return!0};default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function YK(n,e){let t=n.operator,r=Ra(n.args[0],e),i=Ra(n.args[1],e);switch(t){case Re.Equal:return o=>r(o)===i(o);case Re.NotEqual:return o=>r(o)!==i(o);case Re.LessThan:return o=>r(o)<i(o);case Re.LessThanOrEqualTo:return o=>r(o)<=i(o);case Re.GreaterThan:return o=>r(o)>i(o);case Re.GreaterThanOrEqualTo:return o=>r(o)>=i(o);default:throw new Error(`Unsupported comparison operator ${t}`)}}function XK(n,e){let t=n.operator,r=n.args.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=Ra(n.args[o],e);switch(t){case Re.Any:return o=>{for(let s=0;s<r;++s)if(i[s](o))return!0;return!1};case Re.All:return o=>{for(let s=0;s<r;++s)if(!i[s](o))return!1;return!0};case Re.Between:return o=>{let s=i[0](o),a=i[1](o),l=i[2](o);return s>=a&&s<=l};case Re.In:return o=>{let s=i[0](o);for(let a=1;a<r;++a)if(s===i[a](o))return!0;return!1};case Re.Not:return o=>!i[0](o);default:throw new Error(`Unsupported logical operator ${t}`)}}function KK(n,e){let t=n.operator,r=n.args.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=Ra(n.args[o],e);switch(t){case Re.Multiply:return o=>{let s=1;for(let a=0;a<r;++a)s*=i[a](o);return s};case Re.Divide:return o=>i[0](o)/i[1](o);case Re.Add:return o=>{let s=0;for(let a=0;a<r;++a)s+=i[a](o);return s};case Re.Subtract:return o=>i[0](o)-i[1](o);case Re.Clamp:return o=>{let s=i[0](o),a=i[1](o);if(s<a)return a;let l=i[2](o);return s>l?l:s};case Re.Mod:return o=>i[0](o)%i[1](o);case Re.Pow:return o=>Math.pow(i[0](o),i[1](o));case Re.Abs:return o=>Math.abs(i[0](o));case Re.Floor:return o=>Math.floor(i[0](o));case Re.Ceil:return o=>Math.ceil(i[0](o));case Re.Round:return o=>Math.round(i[0](o));case Re.Sin:return o=>Math.sin(i[0](o));case Re.Cos:return o=>Math.cos(i[0](o));case Re.Atan:return r===2?o=>Math.atan2(i[0](o),i[1](o)):o=>Math.atan(i[0](o));case Re.Sqrt:return o=>Math.sqrt(i[0](o));default:throw new Error(`Unsupported numeric operator ${t}`)}}function JK(n,e){let t=n.args.length,r=new Array(t);for(let i=0;i<t;++i)r[i]=Ra(n.args[i],e);return i=>{for(let o=0;o<t-1;o+=2)if(r[o](i))return r[o+1](i);return r[t-1](i)}}function QK(n,e){let t=n.args.length,r=new Array(t);for(let i=0;i<t;++i)r[i]=Ra(n.args[i],e);return i=>{let o=r[0](i);for(let s=1;s<t-1;s+=2)if(o===r[s](i))return r[s+1](i);return r[t-1](i)}}function eJ(n,e){let t=n.args.length,r=new Array(t);for(let i=0;i<t;++i)r[i]=Ra(n.args[i],e);return i=>{let o=r[0](i),s=r[1](i),a,l;for(let c=2;c<t;c+=2){let u=r[c](i),d=r[c+1](i),f=Array.isArray(d);if(f&&(d=p6(d)),u>=s)return c===2?d:f?nJ(o,s,a,l,u,d):m1(o,s,a,l,u,d);a=u,l=d}return l}}function tJ(n,e){let t=n.operator,r=n.args.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=Ra(n.args[o],e);switch(t){case Re.ToString:return o=>{let s=i[0](o);return n.args[0].type===xs?d1(s):s.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function m1(n,e,t,r,i,o){let s=i-t;if(s===0)return r;let a=e-t,l=n===1?a/s:(Math.pow(n,a)-1)/(Math.pow(n,s)-1);return r+l*(o-r)}function nJ(n,e,t,r,i,o){if(i-t===0)return r;let a=oT(r),l=oT(o),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let u=[m1(n,e,t,a[0],i,l[0]),m1(n,e,t,a[1],i,l[1]),a[2]+m1(n,e,t,0,i,c),m1(n,e,t,r[3],i,o[3])];return g6(u)}var mt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function w6(n,e,t){let r=n,i=!0,o=!1,s=!1,a=[xp(r,Je.LOAD,function(){s=!0,o||e()})];return r.src&&jI?(o=!0,r.decode().then(function(){i&&e()}).catch(function(l){i&&(s?e():t())})):a.push(xp(r,Je.ERROR,t)),function(){i=!1,a.forEach(sn)}}function rJ(n,e){return new Promise((t,r)=>{function i(){s(),t(n)}function o(){s(),r(new Error("Image load error"))}function s(){n.removeEventListener("load",i),n.removeEventListener("error",o)}n.addEventListener("load",i),n.addEventListener("error",o),e&&(n.src=e)})}function x6(n,e){return e&&(n.src=e),n.src&&jI?new Promise((t,r)=>n.decode().then(()=>t(n)).catch(i=>n.complete&&n.width?t(n):r(i))):rJ(n)}var pT=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(let t in this.cache_){let r=this.cache_[t];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,r){let i=fT(e,t,r);return i in this.cache_?this.cache_[i]:null}getPattern(e,t,r){let i=fT(e,t,r);return i in this.patternCache_?this.patternCache_[i]:null}set(e,t,r,i,o){let s=fT(e,t,r),a=s in this.cache_;this.cache_[s]=i,o&&(i.getImageState()===mt.IDLE&&i.load(),i.getImageState()===mt.LOADING?i.ready().then(()=>{this.patternCache_[s]=Fp().createPattern(i.getImage(1),"repeat")}):this.patternCache_[s]=Fp().createPattern(i.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};function fT(n,e,t){let r=t?ws(t):"null";return e+":"+n+":"+r}var so=new pT;var _1=null,Mw=class extends Au{constructor(e,t,r,i,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=r,this.canvas_={},this.color_=o,this.imageState_=i===void 0?mt.IDLE:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===mt.LOADED){_1||(_1=Bn(1,1,void 0,{willReadFrequently:!0})),_1.drawImage(this.image_,0,0);try{_1.getImageData(0,0,1,1),this.tainted_=!1}catch{_1=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Je.CHANGE)}handleImageError_(){this.imageState_=mt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=mt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let e=this.size_[0],t=this.size_[1],r=Bn(e,t);r.fillRect(0,0,e,t),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===mt.IDLE){this.image_||this.initializeImage_(),this.imageState_=mt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&x6(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==mt.LOADED)return;let t=this.image_,r=Bn(Math.ceil(t.width*e),Math.ceil(t.height*e)),i=r.canvas;r.scale(e,e),r.drawImage(t,0,0),r.globalCompositeOperation="multiply",r.fillStyle=f6(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===mt.LOADED||this.imageState_===mt.ERROR)e();else{let t=()=>{(this.imageState_===mt.LOADED||this.imageState_===mt.ERROR)&&(this.removeEventListener(Je.CHANGE,t),e())};this.addEventListener(Je.CHANGE,t)}})),this.ready_}};function Td(n,e,t,r,i,o){let s=e===void 0?void 0:so.get(e,t,i);return s||(s=new Mw(n,n&&"src"in n?n.src||void 0:e,t,r,i),so.set(e,t,i,s,o)),o&&s&&!so.getPattern(e,t,i)&&so.set(e,t,i,s,o),s}var b6=Mw;function zo(n){return n?Array.isArray(n)?d1(n):typeof n=="object"&&"src"in n?iJ(n):n:null}function iJ(n){if(!n.offset||!n.size)return so.getPattern(n.src,"anonymous",n.color);let e=n.src+":"+n.offset,t=so.getPattern(e,void 0,n.color);if(t)return t;let r=so.get(n.src,"anonymous",null);if(r.getImageState()!==mt.LOADED)return null;let i=Bn(n.size[0],n.size[1]);return i.drawImage(r.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),Td(i.canvas,e,void 0,mt.LOADED,n.color,!0),so.getPattern(e,void 0,n.color)}var Aw="10px sans-serif",_i="#000",xl="round",Vo=[],Ho=0,bl="round",Dc=10,Tc="#000",Yu="center",Ad="middle",Mc=[0,0,0,0],Ac=1,Md=new Jr,y1=null,E6,gT={},oJ=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function sJ(n,e,t){return`${n} ${e} 16px "${t}"`}var S6=(function(){let e,t;function r(o){return Ct(this,null,function*(){yield t.ready;let s=yield t.load(o);if(s.length===0)return!1;let a=mw(o),l=a.families[0].toLowerCase(),c=a.weight;return s.some(u=>{let d=u.family.replace(/^['"]|['"]$/g,"").toLowerCase(),f=gw[u.weight]||u.weight;return d===l&&u.style===a.style&&f==c})})}function i(){return Ct(this,null,function*(){yield t.ready;let o=!0,s=Md.getProperties(),a=Object.keys(s).filter(l=>s[l]<100);for(let l=a.length-1;l>=0;--l){let c=a[l],u=s[c];u<100&&((yield r(c))?(gl(gT),Md.set(c,100)):(u+=10,Md.set(c,u,!0),u<100&&(o=!1)))}e=void 0,o||(e=setTimeout(i,100))})}return function(o){return Ct(this,null,function*(){t||(t=Or?self.fonts:document.fonts);let s=mw(o);if(!s)return;let a=s.families,l=!1;for(let c of a){if(oJ.has(c))continue;let u=sJ(s.style,s.weight,c);Md.get(u)===void 0&&(Md.set(u,0,!0),l=!0)}l&&(clearTimeout(e),e=setTimeout(i,100))})}})(),aJ=(function(){let n;return function(e){let t=gT[e];if(t==null){if(Or){let r=mw(e),i=C6(e,"\u017Dg");t=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);gT[e]=t}return t}})();function C6(n,e){return y1||(y1=Bn(1,1)),n!=E6&&(y1.font=n,E6=y1.font),y1.measureText(e)}function I6(n,e){return C6(n,e).width}function mT(n,e,t){if(e in t)return t[e];let r=e.split(`
`).reduce((i,o)=>Math.max(i,I6(n,o)),0);return t[e]=r,r}function D6(n,e){let t=[],r=[],i=[],o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){let d=e[c];if(d===`
`||c===u){o=Math.max(o,s),i.push(s),s=0,a+=l,l=0;continue}let f=e[c+1]||n.font,h=I6(f,d);t.push(h),s+=h;let g=aJ(f);r.push(g),l=Math.max(l,g)}return{width:o,height:a,widths:t,heights:r,lineWidths:i}}function T6(n,e,t,r,i,o,s,a,l,c,u){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=d=>d.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),r.contextInstructions?(n.translate(l,c),n.scale(u[0],u[1]),lJ(r,n)):u[0]<0||u[1]<0?(n.translate(l,c),n.scale(u[0],u[1]),n.drawImage(r,i,o,s,a,0,0,s,a)):n.drawImage(r,i,o,s,a,l,c,s*u[0],a*u[1]),n.restore()}function lJ(n,e){let t=n.contextInstructions;for(let r=0,i=t.length;r<i;r+=2)Array.isArray(t[r+1])?e[t[r]].apply(e,t[r+1]):e[t[r]]=t[r+1]}var _T=class n{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Ir(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Qe()}getImage(e){return Qe()}getHitDetectionImage(){return Qe()}getPixelRatio(e){return 1}getImageState(){return Qe()}getImageSize(){return Qe()}getOrigin(){return Qe()}getSize(){return Qe()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ir(e)}listenImageChange(e){Qe()}load(){Qe()}unlistenImageChange(e){Qe()}ready(){return Promise.resolve()}},Rw=_T;var yT=class n extends Rw{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?mt.LOADING:mt.LOADED,this.imageState_===mt.LOADING&&this.ready().then(()=>this.imageState_=mt.LOADED),this.render()}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){let e=this.size_,t=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-t[0]/r[0],e[1]/2+t[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.fill_?.getKey(),r=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(","),i=so.get(r,null,null)?.getImage(1);if(!i){let o=this.renderOptions_,s=Math.ceil(o.size*e),a=Bn(s,s);this.draw_(o,a,e),i=a.canvas,so.set(r,null,null,new b6(i,void 0,null,mt.LOADED,null))}return i}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,r){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let i=this.radius,o=this.radius2_===void 0?i:this.radius2_;if(i<o){let V=i;i=o,o=V}let s=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/s,l=o*Math.sin(a),c=Math.sqrt(o*o-l*l),u=i-c,d=Math.sqrt(l*l+u*u),f=d/l;if(e==="miter"&&f<=r)return f*t;let h=t/2/f,g=t/2*(u/d),y=Math.sqrt((i+h)*(i+h)+g*g)-i;if(this.radius2_===void 0||e==="bevel")return y*2;let v=i*Math.sin(a),E=Math.sqrt(i*i-v*v),S=o-E,R=Math.sqrt(v*v+S*S)/v;if(R<=r){let V=R*t/2-o-i;return 2*Math.max(y,V)}return y*2}createRenderOptions(){let e=xl,t=bl,r=0,i=null,o=0,s,a=0;this.stroke_&&(s=zo(this.stroke_.getColor()??Tc),a=this.stroke_.getWidth()??Ac,i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??bl,e=this.stroke_.getLineCap()??xl,r=this.stroke_.getMiterLimit()??Dc);let l=this.calculateLineJoinSize_(t,a,r),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:a,size:u,lineCap:e,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();let e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,r){if(t.scale(r,r),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let i=this.fill_.getColor();i===null&&(i=_i),t.fillStyle=zo(i),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let r=this.fill_.getColor(),i=0;typeof r=="string"&&(r=ws(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0&&(t=Bn(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_,r=this.radius;if(t===1/0)e.arc(0,0,r,0,2*Math.PI);else{let i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(t*=2);let o=this.angle_-Math.PI/2,s=2*Math.PI/t;for(let a=0;a<t;a++){let l=o+a*s,c=a%2===0?r:i;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=_i,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},Nw=yT;var vT=class n extends Nw{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}},El=vT;var wT=class n{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){let t=Td(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===mt.IDLE&&t.load(),t.getImageState()===mt.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){let e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?St(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:ws(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},ei=wT;function M6(n,e,t,r){return t!==void 0&&r!==void 0?[t/n,r/e]:t!==void 0?t/n:r!==void 0?r/e:1}var xT=class n extends Rw{constructor(e){e=e||{};let t=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;let s=e.img!==void 0?e.img:null,a=e.src;Vt(!(a!==void 0&&s),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&s&&(a=s.src||St(s)),Vt(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Vt(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=mt.IDLE:s!==void 0&&("complete"in s?s.complete?l=s.src?mt.LOADED:mt.IDLE:l=mt.LOADING:l=mt.LOADED),this.color_=e.color!==void 0?ws(e.color):null,this.iconImage_=Td(s,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{let d=this.getImage(1);if(d.width&&d.height)c=d.width,u=d.height;else if(d instanceof HTMLImageElement){this.initialOptions_=e;let f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;let h=this.iconImage_.getSize();this.setScale(M6(h[0],h[1],e.width,e.height))};this.listenImageChange(f);return}}c!==void 0&&this.setScale(M6(c,u,e.width,e.height))}}clone(){let e,t,r;return this.initialOptions_?(t=this.initialOptions_.width,r=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:r,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;let i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}let t=this.getDisplacement(),r=this.getScaleArray();return[e[0]-t[0]/r[0],e[1]+t[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){let t=this.getSize(),r=this.iconImage_.getSize();if(!t||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}setSrc(e){this.iconImage_=Td(null,e,this.crossOrigin_,mt.IDLE,this.color_)}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==mt.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){let e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==mt.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Je.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Je.CHANGE,e)}ready(){return this.iconImage_.ready()}},Xu=xT;var bT=class n{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}},yi=bT;var Ku=class n{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=A6,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=A6,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function R6(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(Vt(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}var ET=null;function ST(n,e){if(!ET){let t=new ei({color:"rgba(255,255,255,0.4)"}),r=new yi({color:"#3399CC",width:1.25});ET=[new Ku({image:new El({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return ET}function N6(){let n={},e=[255,255,255,1],t=[0,153,255,1],r=3;return n.Polygon=[new Ku({fill:new ei({color:[255,255,255,.5]})})],n.MultiPolygon=n.Polygon,n.LineString=[new Ku({stroke:new yi({color:e,width:r+2})}),new Ku({stroke:new yi({color:t,width:r})})],n.MultiLineString=n.LineString,n.Circle=n.Polygon.concat(n.LineString),n.Point=[new Ku({image:new El({radius:r*2,fill:new ei({color:t}),stroke:new yi({color:e,width:r/2})}),zIndex:1/0})],n.MultiPoint=n.Point,n.GeometryCollection=n.Polygon.concat(n.LineString,n.Point),n}function A6(n){return n.getGeometry()}var jr=Ku;var cJ="#333",CT=class n{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=Ir(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new ei({color:cJ}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()instanceof ei?this.getFill().clone():this.getFill(),stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ir(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}},v1=CT;function uJ(n){return!0}function O6(n){let e=uT(),t=hJ(n,e),r=dT();return function(i,o){if(r.properties=i.getPropertiesInternal(),r.resolution=o,e.featureId){let s=i.getId();s!==void 0?r.featureId=s:r.featureId=null}return e.geometryType&&(r.geometryType=hT(i.getGeometry())),t(r)}}function TT(n){let e=uT(),t=n.length,r=new Array(t);for(let s=0;s<t;++s)r[s]=IT(n[s],e);let i=dT(),o=new Array(t);return function(s,a){if(i.properties=s.getPropertiesInternal(),i.resolution=a,e.featureId){let c=s.getId();c!==void 0?i.featureId=c:i.featureId=null}let l=0;for(let c=0;c<t;++c){let u=r[c](i);u&&(o[l]=u,l+=1)}return o.length=l,o}}function hJ(n,e){let t=n.length,r=new Array(t);for(let i=0;i<t;++i){let o=n[i],s="filter"in o?wl(o.filter,oo,e):uJ,a;if(Array.isArray(o.style)){let l=o.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=IT(o.style[c],e)}else a=[IT(o.style,e)];r[i]={filter:s,styles:a}}return function(i){let o=[],s=!1;for(let a=0;a<t;++a){let l=r[a].filter;if(l(i)&&!(n[a].else&&s)){s=!0;for(let c of r[a].styles){let u=c(i);u&&o.push(u)}}}return o}}function IT(n,e){let t=w1(n,"",e),r=x1(n,"",e),i=dJ(n,e),o=fJ(n,e),s=qo(n,"z-index",e);if(!t&&!r&&!i&&!o&&!ms(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));let a=new jr;return function(l){let c=!0;if(t){let u=t(l);u&&(c=!1),a.setFill(u)}if(r){let u=r(l);u&&(c=!1),a.setStroke(u)}if(i){let u=i(l);u&&(c=!1),a.setText(u)}if(o){let u=o(l);u&&(c=!1),a.setImage(u)}return s&&a.setZIndex(s(l)),c?null:a}}function w1(n,e,t){let r;if(e+"fill-pattern-src"in n)r=_J(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return o=>null;r=MT(n,e+"fill-color",t)}if(!r)return null;let i=new ei;return function(o){let s=r(o);return s===Dw?null:(i.setColor(s),i)}}function x1(n,e,t){let r=qo(n,e+"stroke-width",t),i=MT(n,e+"stroke-color",t);if(!r&&!i)return null;let o=Rc(n,e+"stroke-line-cap",t),s=Rc(n,e+"stroke-line-join",t),a=F6(n,e+"stroke-line-dash",t),l=qo(n,e+"stroke-line-dash-offset",t),c=qo(n,e+"stroke-miter-limit",t),u=new yi;return function(d){if(i){let f=i(d);if(f===Dw)return null;u.setColor(f)}if(r&&u.setWidth(r(d)),o){let f=o(d);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(f)}if(s){let f=s(d);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(f)}return a&&u.setLineDash(a(d)),l&&u.setLineDashOffset(l(d)),c&&u.setMiterLimit(c(d)),u}}function dJ(n,e){let t="text-",r=Rc(n,t+"value",e);if(!r)return null;let i=w1(n,t,e),o=w1(n,t+"background-",e),s=x1(n,t,e),a=x1(n,t+"background-",e),l=Rc(n,t+"font",e),c=qo(n,t+"max-angle",e),u=qo(n,t+"offset-x",e),d=qo(n,t+"offset-y",e),f=$p(n,t+"overflow",e),h=Rc(n,t+"placement",e),g=qo(n,t+"repeat",e),_=kw(n,t+"scale",e),y=$p(n,t+"rotate-with-view",e),v=qo(n,t+"rotation",e),E=Rc(n,t+"align",e),S=Rc(n,t+"justify",e),I=Rc(n,t+"baseline",e),R=$p(n,t+"keep-upright",e),V=F6(n,t+"padding",e),j=Ow(n,t+"declutter-mode"),F=new v1({declutterMode:j});return function(k){if(F.setText(r(k)),i&&F.setFill(i(k)),o&&F.setBackgroundFill(o(k)),s&&F.setStroke(s(k)),a&&F.setBackgroundStroke(a(k)),l&&F.setFont(l(k)),c&&F.setMaxAngle(c(k)),u&&F.setOffsetX(u(k)),d&&F.setOffsetY(d(k)),f&&F.setOverflow(f(k)),h){let N=h(k);if(N!=="point"&&N!=="line")throw new Error("Expected point or line for text-placement");F.setPlacement(N)}if(g&&F.setRepeat(g(k)),_&&F.setScale(_(k)),y&&F.setRotateWithView(y(k)),v&&F.setRotation(v(k)),E){let N=E(k);if(N!=="left"&&N!=="center"&&N!=="right"&&N!=="end"&&N!=="start")throw new Error("Expected left, right, center, start, or end for text-align");F.setTextAlign(N)}if(S){let N=S(k);if(N!=="left"&&N!=="right"&&N!=="center")throw new Error("Expected left, right, or center for text-justify");F.setJustify(N)}if(I){let N=I(k);if(N!=="bottom"&&N!=="top"&&N!=="middle"&&N!=="alphabetic"&&N!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");F.setTextBaseline(N)}return V&&F.setPadding(V(k)),R&&F.setKeepUpright(R(k)),F}}function fJ(n,e){return"icon-src"in n?pJ(n,e):"shape-points"in n?gJ(n,e):"circle-radius"in n?mJ(n,e):null}function pJ(n,e){let t="icon-",r=t+"src",i=j6(n[r],r),o=Pw(n,t+"anchor",e),s=kw(n,t+"scale",e),a=qo(n,t+"opacity",e),l=Pw(n,t+"displacement",e),c=qo(n,t+"rotation",e),u=$p(n,t+"rotate-with-view",e),d=L6(n,t+"anchor-origin"),f=k6(n,t+"anchor-x-units"),h=k6(n,t+"anchor-y-units"),g=xJ(n,t+"color"),_=vJ(n,t+"cross-origin"),y=wJ(n,t+"offset"),v=L6(n,t+"offset-origin"),E=Lw(n,t+"width"),S=Lw(n,t+"height"),I=yJ(n,t+"size"),R=Ow(n,t+"declutter-mode"),V=new Xu({src:i,anchorOrigin:d,anchorXUnits:f,anchorYUnits:h,color:g,crossOrigin:_,offset:y,offsetOrigin:v,height:S,width:E,size:I,declutterMode:R});return function(j){return a&&V.setOpacity(a(j)),l&&V.setDisplacement(l(j)),c&&V.setRotation(c(j)),u&&V.setRotateWithView(u(j)),s&&V.setScale(s(j)),o&&V.setAnchor(o(j)),V}}function gJ(n,e){let t="shape-",r=t+"points",i=t+"radius",o=DT(n[r],r),s=DT(n[i],i),a=w1(n,t,e),l=x1(n,t,e),c=kw(n,t+"scale",e),u=Pw(n,t+"displacement",e),d=qo(n,t+"rotation",e),f=$p(n,t+"rotate-with-view",e),h=Lw(n,t+"radius2"),g=Lw(n,t+"angle"),_=Ow(n,t+"declutter-mode"),y=new Nw({points:o,radius:s,radius2:h,angle:g,declutterMode:_});return function(v){return a&&y.setFill(a(v)),l&&y.setStroke(l(v)),u&&y.setDisplacement(u(v)),d&&y.setRotation(d(v)),f&&y.setRotateWithView(f(v)),c&&y.setScale(c(v)),y}}function mJ(n,e){let t="circle-",r=w1(n,t,e),i=x1(n,t,e),o=qo(n,t+"radius",e),s=kw(n,t+"scale",e),a=Pw(n,t+"displacement",e),l=qo(n,t+"rotation",e),c=$p(n,t+"rotate-with-view",e),u=Ow(n,t+"declutter-mode"),d=new El({radius:5,declutterMode:u});return function(f){return o&&d.setRadius(o(f)),r&&d.setFill(r(f)),i&&d.setStroke(i(f)),a&&d.setDisplacement(a(f)),l&&d.setRotation(l(f)),c&&d.setRotateWithView(c(f)),s&&d.setScale(s(f)),d}}function qo(n,e,t){if(!(e in n))return;let r=wl(n[e],dn,t);return function(i){return DT(r(i),e)}}function Rc(n,e,t){if(!(e in n))return null;let r=wl(n[e],Io,t);return function(i){return j6(r(i),e)}}function _J(n,e,t){let r=Rc(n,e+"pattern-src",t),i=P6(n,e+"pattern-offset",t),o=P6(n,e+"pattern-size",t),s=MT(n,e+"color",t);return function(a){return{src:r(a),offset:i&&i(a),size:o&&o(a),color:s&&s(a)}}}function $p(n,e,t){if(!(e in n))return null;let r=wl(n[e],oo,t);return function(i){let o=r(i);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function MT(n,e,t){if(!(e in n))return null;let r=wl(n[e],xs,t);return function(i){return B6(r(i),e)}}function F6(n,e,t){if(!(e in n))return null;let r=wl(n[e],Zu,t);return function(i){return b1(r(i),e)}}function Pw(n,e,t){if(!(e in n))return null;let r=wl(n[e],Zu,t);return function(i){let o=b1(r(i),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function P6(n,e,t){if(!(e in n))return null;let r=wl(n[e],Zu,t);return function(i){return U6(r(i),e)}}function kw(n,e,t){if(!(e in n))return null;let r=wl(n[e],Zu|dn,t);return function(i){return bJ(r(i),e)}}function Lw(n,e){let t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function yJ(n,e){let t=n[e];if(t!==void 0){if(typeof t=="number")return Ir(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function vJ(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function L6(n,e){let t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function k6(n,e){let t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function wJ(n,e){let t=n[e];if(t!==void 0)return b1(t,e)}function Ow(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function xJ(n,e){let t=n[e];if(t!==void 0)return B6(t,e)}function b1(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);let t=n.length;for(let r=0;r<t;++r)if(typeof n[r]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function j6(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function DT(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function B6(n,e){if(typeof n=="string")return n;let t=b1(n,e),r=t.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function U6(n,e){let t=b1(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function bJ(n,e){return typeof n=="number"?n:U6(n,e)}var G6={RENDER_ORDER:"renderOrder"},AT=class extends Id{constructor(e){e=e||{};let t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(G6.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){let r=this.getDeclutter();r in e.declutter||(e.declutter[r]=new qp(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(G6.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?ST:e;let t=EJ(e);this.styleFunction_=e===null?void 0:R6(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}};function EJ(n){if(n===void 0)return ST;if(!n)return null;if(typeof n=="function"||n instanceof jr)return n;if(!Array.isArray(n))return TT([n]);if(n.length===0)return[];let e=n.length,t=n[0];if(t instanceof jr){let i=new Array(e);for(let o=0;o<e;++o){let s=n[o];if(!(s instanceof jr))throw new Error("Expected a list of style instances");i[o]=s}return i}if("style"in t){let i=new Array(e);for(let o=0;o<e;++o){let s=n[o];if(!("style"in s))throw new Error("Expected a list of rules with a style property");i[o]=s}return O6(i)}return TT(n)}var Fw=AT;var RT=class extends Kr{constructor(e,t,r,i){super(e),this.inversePixelTransform=t,this.frameState=r,this.context=i}},jw=RT;var NT=class extends Mu{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Qe()}calculateMatrices2D(e){let t=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Wi(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),ow(i,r)}forEachFeatureAtCoordinate(e,t,r,i,o,s,a,l){let c,u=t.viewState;function d(I,R,V,j){return o.call(s,R,I?V:null,j)}let f=u.projection,h=Z2(e.slice(),f),g=[[0,0]];if(f.canWrapX()&&i){let I=f.getExtent(),R=Ht(I);g.push([-R,0],[R,0])}let _=t.layerStatesArray,y=_.length,v=[],E=[];for(let I=0;I<g.length;I++)for(let R=y-1;R>=0;--R){let V=_[R],j=V.layer;if(j.hasRenderer()&&o1(V,u)&&a.call(l,j)){let F=j.getRenderer(),k=j.getSource();if(F&&k){let N=k.getWrapX()?h:e,A=d.bind(null,V.managed);E[0]=N[0]+g[I][0],E[1]=N[1]+g[I][1],c=F.forEachFeatureAtCoordinate(E,t,r,A,v)}if(c)return c}}if(v.length===0)return;let S=1/v.length;return v.forEach((I,R)=>I.distanceSq+=R*S),v.sort((I,R)=>I.distanceSq-R.distanceSq),v.some(I=>c=I.callback(I.feature,I.layer,I.geometry)),c}hasFeatureAtCoordinate(e,t,r,i,o,s){return this.forEachFeatureAtCoordinate(e,t,r,i,Ca,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(e){Qe()}scheduleExpireIconCache(e){so.canExpireCache()&&e.postRenderFunctions.push(SJ)}};function SJ(n,e){so.expire()}var z6=NT;var PT=class extends z6{constructor(e){super(e),this.fontChangeListenerKey_=jt(Md,Sa.PROPERTYCHANGE,e.redrawText,e),this.element_=Or?_w():document.createElement("div");let t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Hu+" ol-layers";let r=e.getViewport();r&&r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){let r=this.getMap();if(r.hasListener(e)){let i=new jw(e,void 0,t);r.dispatchEvent(i)}}disposeInternal(){sn(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Zi.PRECOMPOSE,e);let t=e.layerStatesArray.sort((c,u)=>c.zIndex-u.zIndex);t.some(c=>c.layer instanceof Fw&&c.layer.getDeclutter())&&(e.declutter={});let i=e.viewState;this.children_.length=0;let o=[],s=null;for(let c=0,u=t.length;c<u;++c){let d=t[c];e.layerIndex=c;let f=d.layer,h=f.getSourceState();if(!o1(d,i)||h!="ready"&&h!="undefined"){f.unrender();continue}let g=f.render(e,s);g&&(g!==s&&(this.children_.push(g),s=g),o.push(d))}this.declutter(e,o),V8(this.element_,this.children_);let l=this.getMap().getTargetElement();if(Ma(l)){let c=l.getContext("2d");for(let u of this.children_){let d=u.firstElementChild||u,f=u.style.backgroundColor;if(f&&(!Ma(d)||d.width>0)&&(c.fillStyle=f,c.fillRect(0,0,l.width,l.height)),Ma(d)&&d.width>0){let h=u.style.opacity||d.style.opacity;c.globalAlpha=h===""?1:Number(h);let g=d.style.transform;if(g)c.setTransform(...iw(g));else{let _=parseFloat(d.style.width)/d.width,y=parseFloat(d.style.height)/d.height;c.setTransform(_,0,0,y,0,0)}c.drawImage(d,0,0)}}c.globalAlpha=1,c.setTransform(1,0,0,1,0,0)}this.dispatchRenderEvent(Zi.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let r=t.length-1;r>=0;--r){let i=t[r],o=i.layer;o.getDeclutter()&&o.renderDeclutter(e,i)}t.forEach(r=>r.layer.renderDeferred(e))}}},V6=PT;function H6(n){if(n instanceof Id){n.setMapInternal(null);return}n instanceof i1&&n.getLayers().forEach(H6)}function q6(n,e){if(n instanceof Id){n.setMapInternal(e);return}if(n instanceof i1){let t=n.getLayers().getArray();for(let r=0,i=t.length;r<i;++r)q6(t[r],e)}}var LT=class extends Jr{constructor(e){super(),e=e||{},this.on,this.once,this.un;let t=CJ(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:kO,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Ii(),this.pixelToCoordinateTransform_=Ii(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,Or||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,Or||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=t.controls||(Or?new Vi:e1()),this.interactions=t.interactions||(Or?new Vi:u6({onFocusOnly:!0})),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new jO(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Hi.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Hi.VIEW,this.handleViewChanged_),this.addChangeListener(Hi.SIZE,this.handleSizeChanged_),this.addChangeListener(Hi.TARGET,this.handleTargetChanged_),this.setProperties(t.values);let r=this;e.view&&!(e.view instanceof vs)&&e.view.then(function(i){r.setView(new vs(i))}),this.controls.addEventListener(Ci.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(Ci.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(Ci.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(Ci.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(Ci.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(Ci.REMOVE,i=>{let o=i.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){q6(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){let t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_?.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,r){if(!this.frameState_||!this.renderer_)return;let i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};let o=r.hitTolerance!==void 0?r.hitTolerance:0,s=r.layerFilter!==void 0?r.layerFilter:Ca,a=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,a,t,null,s,null)}getFeaturesAtPixel(e,t){let r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},t),r}getAllLayers(){let e=[];function t(r){r.forEach(function(i){i instanceof i1?t(i.getLayers()):e.push(i)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;let r=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};let i=t.layerFilter!==void 0?t.layerFilter:Ca,o=t.hitTolerance!==void 0?t.hitTolerance:0,s=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,o,s,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){let r=this.viewport_.getBoundingClientRect(),i=this.getSize(),o=r.width/i[0],s=r.height/i[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-r.left)/o,(a.clientY-r.top)/s]}getTarget(){return this.get(Hi.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return U0(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){let t=this.frameState_;return t?_r(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){let t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Hi.LAYERGROUP)}setLayers(e){let t=this.getLayerGroup();if(e instanceof Vi){t.setLayers(e);return}let r=t.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,r=e.length;t<r;++t){let i=e[t];if(!i.visible)continue;let o=i.layer.getRenderer();if(o&&!o.ready)return!0;let s=i.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){let t=Uo(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){let t=this.frameState_;return t?_r(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Hi.SIZE)}getView(){return this.get(Hi.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,r,i){return BO(this.frameState_,e,t,r,i)}handleBrowserEvent(e,t){t=t||e.type;let r=new Zs(t,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;let t=e.originalEvent,r=t.type;if(r===A0.POINTERDOWN||r===Je.WHEEL||r===Je.KEYDOWN){let i=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():i,s=t.target,a=o instanceof ShadowRoot?o.host===s?o.host.ownerDocument:o:o===i?i.documentElement:o;if(this.overlayContainerStopEvent_.contains(s)||!a.contains(s))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){let i=this.getInteractions().getArray().slice();for(let o=i.length-1;o>=0;o--){let s=i[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){let e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let i=this.maxTilesLoading_,o=i;if(e){let s=e.viewHints;if(s[mi.ANIMATING]||s[mi.INTERACTING]){let a=Date.now()-e.time>8;i=a?0:8,o=a?0:2}}t.getTilesLoading()<i&&(t.reprioritize(),t.loadMoreTiles(i,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Zi.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Zi.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Ru(ml.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Ru(ml.LOADSTART,this,e))));let r=this.postRenderFunctions_;if(e)for(let i=0,o=r.length;i<o;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)sn(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Je.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Je.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!Ma(this.targetElement_)){this.resizeObserver_?.unobserve(this.targetElement_);let r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}let e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{if(Ma(t)||t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new V6(this)),!Ma(t)){this.mapBrowserEventHandler_=new OO(this,this.moveTolerance_);for(let i in mn)this.mapBrowserEventHandler_.addEventListener(mn[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Je.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Je.WHEEL,this.boundHandleBrowserEvent_,B2?{passive:!1}:!1);let r;if(this.keyboardEventTarget_)r=this.keyboardEventTarget_;else{let i=t.getRootNode();r=i instanceof ShadowRoot?i.host:t}if(this.targetChangeHandlerKeys_=[jt(r,Je.KEYDOWN,this.handleBrowserEvent,this),jt(r,Je.KEYPRESS,this.handleBrowserEvent,this)],t instanceof HTMLElement){let i=t.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_?.observe(t)}}this.updateSize()}}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(sn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(sn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=jt(e,Sa.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=jt(e,Je.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(sn),this.layerGroupPropertyListenerKeys_=null);let e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Aa("addlayer",e)),this.layerGroupPropertyListenerKeys_=[jt(e,Sa.PROPERTYCHANGE,this.render,this),jt(e,Je.CHANGE,this.render,this),jt(e,"addlayer",this.handleLayerAdd_,this),jt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;let e=this.frameState_.layerStatesArray;for(let t=0,r=e.length;t<r;++t){let i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){H6(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){let t=this.getSize(),r=this.getView(),i=this.frameState_,o=null;if(t!==void 0&&sT(t)&&r&&r.isDef()){let s=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:F0(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:St(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=F0(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i&&(!this.previousExtent_||!yl(this.previousExtent_)&&!xc(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Ru(ml.MOVESTART,this,i)),this.previousExtent_=wc(this.previousExtent_)),this.previousExtent_&&!o.viewHints[mi.ANIMATING]&&!o.viewHints[mi.INTERACTING]&&!xc(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Ru(ml.MOVEEND,this,o)),V2(o.extent,this.previousExtent_))),this.dispatchEvent(new Ru(ml.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(ml.LOADSTART)||this.hasListener(ml.LOADEND)||this.hasListener(Zi.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){let t=this.getLayerGroup();t&&this.handleLayerRemove_(new Aa("removelayer",t)),this.set(Hi.LAYERGROUP,e)}setSize(e){this.set(Hi.SIZE,e)}setTarget(e){this.set(Hi.TARGET,e)}setView(e){if(!e||e instanceof vs){this.set(Hi.VIEW,e);return}this.set(Hi.VIEW,new vs);let t=this;e.then(function(r){t.setView(new vs(r))})}updateSize(){let e=this.getTargetElement(),t;if(e){let i,o;if(Ma(e))i=e.width,o=e.height;else{let s=getComputedStyle(e);i=e.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),o=e.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth)}!isNaN(i)&&!isNaN(o)&&(t=[Math.max(0,i),Math.max(0,o)],!sT(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Y2("No map visible because the map container's width or height are 0."))}let r=this.getSize();t&&(!r||!ro(t,r))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){let t=this.getView();t&&t.setViewportSize(e)}};function CJ(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);let t={},r=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new i1({layers:n.layers});t[Hi.LAYERGROUP]=r,t[Hi.TARGET]=n.target,t[Hi.VIEW]=n.view instanceof vs?n.view:new vs;let i;n.controls!==void 0&&(Array.isArray(n.controls)?i=new Vi(n.controls.slice()):(Vt(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=n.controls));let o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new Vi(n.interactions.slice()):(Vt(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=n.interactions));let s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new Vi(n.overlays.slice()):(Vt(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),s=n.overlays):s=new Vi,{controls:i,interactions:o,keyboardEventTarget:e,overlays:s,values:t}}var W6=LT;var kT=class extends Au{constructor(e,t,r){super(),r=r||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(Je.CHANGE)}release(){this.setState(st.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==st.EMPTY){if(this.state!==st.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Qe()}getAlpha(e,t){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=t,this.transitionStarts_[e]=r;else if(r===-1)return 1;let i=t-r+1e3/60;return i>=this.transition_?1:ZI(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}},Zp=kT;function Bw(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}var IJ=new Error("disposed");var DJ=[256,256],OT=class extends Zp{constructor(e){let t=st.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;let e=Bw(this.data_);return e?[e.width,e.height]:DJ}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==st.IDLE&&this.state!==st.ERROR)return;this.state=st.LOADING,this.changed();let e=this;this.loader_().then(function(t){e.data_=t,e.state=st.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=st.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(IJ),this.controller_=null),super.disposeInternal()}},FT=OT;var jT=class extends Zp{constructor(e,t,r,i,o,s){super(e,t,s),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_,Or?this.image_=new OffscreenCanvas(1,1):(this.image_=new Image,i!==null&&(this.image_.crossOrigin=i)),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=st.LOADED,this.unlistenImage_(),this.changed()}getCrossOrigin(){return this.crossOrigin_}handleImageError_(){this.state=st.ERROR,this.unlistenImage_(),this.image_=TJ(),this.changed()}handleImageLoad_(){if(Or)this.state=st.LOADED;else{let e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=st.LOADED:this.state=st.EMPTY}this.unlistenImage_(),this.changed()}load(){this.state==st.ERROR&&(this.state=st.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==st.IDLE&&(this.state=st.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=w6(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};function TJ(){let n=Bn(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var Uw=jT;var Gw=class{constructor(e,t,r,i){this.minX=e,this.maxX=t,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}};function Rd(n,e,t,r,i){return i!==void 0?(i.minX=n,i.maxX=e,i.minY=t,i.maxY=r,i):new Gw(n,e,t,r)}var zw=Gw;var BT,Nd=[];function $6(n,e,t,r,i){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(r,i),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,r)+1,Math.max(t,i)),n.restore()}function UT(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function MJ(){if(BT===void 0){let n=Bn(6,6,Nd);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",$6(n,4,5,4,0),$6(n,4,5,0,5);let e=n.getImageData(0,0,3,3).data;BT=UT(e,0)||UT(e,4)||UT(e,8),Sd(n),Nd.push(n.canvas)}return BT}function Z6(n,e,t,r){let i=xd(t,e,n),o=oD(e,r,t),s=e.getMetersPerUnit();s!==void 0&&(o*=s);let a=n.getMetersPerUnit();a!==void 0&&(o/=a);let l=n.getExtent();if(!l||Da(l,i)){let c=oD(n,o,i)/o;isFinite(c)&&c>0&&(o/=c)}return o}function Y6(n,e,t,r){let i=jo(t),o=Z6(n,e,i,r);return(!isFinite(o)||o<=0)&&Cp(t,function(s){return o=Z6(n,e,s,r),isFinite(o)&&o>0}),o}function X6(n,e,t,r,i,o,s,a,l,c,u,d,f,h){let g=Bn(Math.round(t*n),Math.round(t*e),Nd);if(d||(g.imageSmoothingEnabled=!1),l.length===0)return g.canvas;g.scale(t,t);function _(R){return Math.round(R*t)/t}g.globalCompositeOperation="lighter";let y=Fr();l.forEach(function(R,V,j){q2(y,R.extent)});let v,E=t/r,S=(d?1:1+Math.pow(2,-24))/E;if(!f||l.length!==1||c!==0){if(v=Bn(Math.round(Ht(y)*E),Math.round(pr(y)*E),Nd),d||(v.imageSmoothingEnabled=!1),i&&h){let R=(i[0]-y[0])*E,V=-(i[3]-y[3])*E,j=Ht(i)*E,F=pr(i)*E;v.rect(R,V,j,F),v.clip()}l.forEach(function(R,V,j){if(R.image.width>0&&R.image.height>0){if(R.clipExtent){v.save();let x=(R.clipExtent[0]-y[0])*E,O=-(R.clipExtent[3]-y[3])*E,$=Ht(R.clipExtent)*E,Z=pr(R.clipExtent)*E;v.rect(d?x:Math.round(x),d?O:Math.round(O),d?$:Math.round(x+$)-Math.round(x),d?Z:Math.round(O+Z)-Math.round(O)),v.clip()}let F=(R.extent[0]-y[0])*E,k=-(R.extent[3]-y[3])*E,N=Ht(R.extent)*E,A=pr(R.extent)*E;v.drawImage(R.image,c,c,R.image.width-2*c,R.image.height-2*c,d?F:Math.round(F),d?k:Math.round(k),d?N:Math.round(F+N)-Math.round(F),d?A:Math.round(k+A)-Math.round(k)),R.clipExtent&&v.restore()}})}let I=ys(s);return a.getTriangles().forEach(function(R,V,j){let F=R.source,k=R.target,N=F[0][0],A=F[0][1],x=F[1][0],O=F[1][1],$=F[2][0],Z=F[2][1],se=_((k[0][0]-I[0])/o),K=_(-(k[0][1]-I[1])/o),te=_((k[1][0]-I[0])/o),W=_(-(k[1][1]-I[1])/o),ee=_((k[2][0]-I[0])/o),pe=_(-(k[2][1]-I[1])/o),M=N,z=A;N=0,A=0,x-=M,O-=z,$-=M,Z-=z;let Q=[[x,O,0,0,te-se],[$,Z,0,0,ee-se],[0,0,x,O,W-K],[0,0,$,Z,pe-K]],ne=GO(Q);if(!ne)return;if(g.save(),g.beginPath(),MJ()||!d){g.moveTo(te,W);let le=4,ye=se-te,_e=K-W;for(let Ce=0;Ce<le;Ce++)g.lineTo(te+_((Ce+1)*ye/le),W+_(Ce*_e/(le-1))),Ce!=le-1&&g.lineTo(te+_((Ce+1)*ye/le),W+_((Ce+1)*_e/(le-1)));g.lineTo(ee,pe)}else g.moveTo(te,W),g.lineTo(se,K),g.lineTo(ee,pe);g.clip(),g.transform(ne[0],ne[2],ne[1],ne[3],se,K),g.translate(y[0]-M,y[3]-z);let re;if(v)re=v.canvas,g.scale(S,-S);else{let le=l[0],ye=le.extent;re=le.image,g.scale(Ht(ye)/re.width,-pr(ye)/re.height)}g.drawImage(re,0,0),g.restore()}),v&&(Sd(v),Nd.push(v.canvas)),u&&(g.save(),g.globalCompositeOperation="source-over",g.strokeStyle="black",g.lineWidth=1,a.getTriangles().forEach(function(R,V,j){let F=R.target,k=(F[0][0]-I[0])/o,N=-(F[0][1]-I[1])/o,A=(F[1][0]-I[0])/o,x=-(F[1][1]-I[1])/o,O=(F[2][0]-I[0])/o,$=-(F[2][1]-I[1])/o;g.beginPath(),g.moveTo(A,x),g.lineTo(k,N),g.lineTo(O,$),g.closePath(),g.stroke()}),g.restore()),g.canvas}var AJ=10,K6=.25,GT=class{constructor(e,t,r,i,o,s,a){this.sourceProj_=e,this.targetProj_=t;let l={},c=a?nw(S=>_r(a,xd(S,this.targetProj_,this.sourceProj_))):Sc(this.targetProj_,this.sourceProj_);this.transformInv_=function(S){let I=S[0]+"/"+S[1];return l[I]||(l[I]=c(S)),l[I]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Ht(i)>=Ht(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ht(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ht(this.targetProj_.getExtent()):null;let u=ys(r),d=_d(r),f=md(r),h=gd(r),g=this.transformInv_(u),_=this.transformInv_(d),y=this.transformInv_(f),v=this.transformInv_(h),E=AJ+(s?Math.max(0,Math.ceil(Math.log2(O0(r)/(s*s*256*256)))):0);if(this.addQuad_(u,d,f,h,g,_,y,v,E),this.wrapsXInSource_){let S=1/0;this.triangles_.forEach(function(I,R,V){S=Math.min(S,I.source[0][0],I.source[1][0],I.source[2][0])}),this.triangles_.forEach(I=>{if(Math.max(I.source[0][0],I.source[1][0],I.source[2][0])-S>this.sourceWorldWidth_/2){let R=[[I.source[0][0],I.source[0][1]],[I.source[1][0],I.source[1][1]],[I.source[2][0],I.source[2][1]]];R[0][0]-S>this.sourceWorldWidth_/2&&(R[0][0]-=this.sourceWorldWidth_),R[1][0]-S>this.sourceWorldWidth_/2&&(R[1][0]-=this.sourceWorldWidth_),R[2][0]-S>this.sourceWorldWidth_/2&&(R[2][0]-=this.sourceWorldWidth_);let V=Math.min(R[0][0],R[1][0],R[2][0]);Math.max(R[0][0],R[1][0],R[2][0])-V<this.sourceWorldWidth_/2&&(I.source=R)}})}l={}}addTriangle_(e,t,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[e,t,r]})}addQuad_(e,t,r,i,o,s,a,l,c){let u=L0([o,s,a,l]),d=this.sourceWorldWidth_?Ht(u)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&d>.5&&d<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let y=L0([e,t,r,i]);g=Ht(y)/this.targetWorldWidth_>K6||g}!h&&this.sourceProj_.isGlobal()&&d&&(g=d>K6||g)}if(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!cr(u,this.maxSourceExtent_))return;let _=0;if(!g&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)g=!0;else if(_=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),_!=1&&_!=2&&_!=4&&_!=8)return}if(c>0){if(!g){let y=[(e[0]+r[0])/2,(e[1]+r[1])/2],v=this.transformInv_(y),E;h?E=(Ia(o[0],f)+Ia(a[0],f))/2-Ia(v[0],f):E=(o[0]+a[0])/2-v[0];let S=(o[1]+a[1])/2-v[1];g=E*E+S*S>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){let y=[(t[0]+r[0])/2,(t[1]+r[1])/2],v=this.transformInv_(y),E=[(i[0]+e[0])/2,(i[1]+e[1])/2],S=this.transformInv_(E);this.addQuad_(e,t,y,E,o,s,v,S,c-1),this.addQuad_(E,y,r,i,S,v,a,l,c-1)}else{let y=[(e[0]+t[0])/2,(e[1]+t[1])/2],v=this.transformInv_(y),E=[(r[0]+i[0])/2,(r[1]+i[1])/2],S=this.transformInv_(E);this.addQuad_(e,y,E,i,o,v,S,l,c-1),this.addQuad_(y,t,r,E,v,s,a,S,c-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(_&11)==0&&this.addTriangle_(e,r,i,o,a,l),(_&14)==0&&this.addTriangle_(e,r,t,o,a,s),_&&((_&13)==0&&this.addTriangle_(t,i,e,s,l,o),(_&7)==0&&this.addTriangle_(t,i,r,s,l,a))}calculateSourceExtent(){let e=Fr();return this.triangles_.forEach(function(t,r,i){let o=t.source;pd(e,o[0]),pd(e,o[1]),pd(e,o[2])}),e}getTriangles(){return this.triangles_}},J6=GT;var zT=class extends Zp{constructor(e,t,r,i,o,s,a,l,c,u,d,f){super(o,st.IDLE,f),this.renderEdges_=d!==void 0?d:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=i,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;let h=i.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),_=this.sourceTileGrid_.getExtent(),y=g?_l(h,g):h;if(O0(y)===0){this.state=st.EMPTY;return}let v=e.getExtent();v&&(_?_=_l(_,v):_=v);let E=i.getResolution(this.wrappedTileCoord_[0]),S=Y6(e,r,y,E);if(!isFinite(S)||S<=0){this.state=st.EMPTY;return}let I=u!==void 0?u:.5;if(this.triangulation_=new J6(e,r,y,_,S*I,E),this.triangulation_.getTriangles().length===0){this.state=st.EMPTY;return}this.sourceZ_=t.getZForResolution(S);let R=this.triangulation_.calculateSourceExtent();if(_&&(e.canWrapX()?(R[1]=an(R[1],_[1],_[3]),R[3]=an(R[3],_[1],_[3])):R=_l(R,_)),!O0(R))this.state=st.EMPTY;else{let V=0,j=0;e.canWrapX()&&(V=Ht(v),j=Math.floor((R[0]-v[0])/V)),W2(R.slice(),e,!0).forEach(k=>{let N=t.getTileRangeForExtentAndZ(k,this.sourceZ_);for(let A=N.minX;A<=N.maxX;A++)for(let x=N.minY;x<=N.maxY;x++){let O=c(this.sourceZ_,A,x,a);if(O){let $=j*V;this.sourceTiles_.push({tile:O,offset:$})}}++j}),this.sourceTiles_.length===0&&(this.state=st.EMPTY)}}getImage(){return this.canvas_}reproject_(){let e=[];if(this.sourceTiles_.forEach(t=>{let r=t.tile;if(r&&r.getState()==st.LOADED){let i=this.sourceTileGrid_.getTileCoordExtent(r.tileCoord);i[0]+=t.offset,i[2]+=t.offset;let o=this.clipExtent_?.slice();o&&(o[0]+=t.offset,o[2]+=t.offset),e.push({extent:i,clipExtent:o,image:r.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=st.ERROR;else{let t=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(t),i=typeof r=="number"?r:r[0],o=typeof r=="number"?r:r[1],s=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=X6(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=st.LOADED}this.changed()}load(){if(this.state==st.IDLE){this.state=st.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let r=t.getState();if(r==st.IDLE||r==st.LOADING){e++;let i=jt(t,Je.CHANGE,o=>{let s=t.getState();(s==st.LOADED||s==st.ERROR||s==st.EMPTY)&&(sn(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},r,i){t.getState()==st.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(sn),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Sd(this.canvas_.getContext("2d")),Nd.push(this.canvas_),this.canvas_=null),super.release()}},Vw=zT;var VT=class{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){let e=this.pop();e instanceof Mu&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){let r=this.entries_[e];return Vt(r!==void 0,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){let t=this.entries_[e];return Vt(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){let e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.key_;return e}getValues(){let e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){let e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Vt(!(e in this.entries_),"Tried to set a value for a key that is used already");let r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}},HT=VT;function Yp(n,e,t,r){return r!==void 0?(r[0]=n,r[1]=e,r[2]=t,r):[n,e,t]}function RJ(n,e,t){return n+"/"+e+"/"+t}function Xp(n,e,t,r,i){return`${St(n)},${e},${RJ(t,r,i)}`}function Q6(n){return NJ(n[0],n[1],n[2])}function NJ(n,e,t){return(e<<n)+t}function eF(n,e){let t=n[0],r=n[1],i=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;let o=e.getFullTileRange(t);return o?o.containsXY(r,i):!0}var qT=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Fp(),{get:(e,t)=>{if(typeof Fp()[t]=="function")return this.push_(t),this.pushMethodArgs_},set:(e,t,r)=>(this.push_(t,r),!0)})}push_(...e){let t=this.instructions_,r=this.zIndex+this.offset_;t[r]||(t[r]=[]),t[r].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let r=0,i=t.length;r<i;++r){let o=t[r];if(typeof o=="function"){o(e);continue}let s=t[++r];if(typeof e[o]=="function")e[o](...s);else{if(typeof s=="function"){e[o]=s(e);continue}e[o]=s}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},Hw=qT;var PJ=5,WT=class extends F2{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=PJ}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Qe()}getData(e){return null}prepareFrame(e){return Qe()}renderFrame(e,t){return Qe()}forEachFeatureAtCoordinate(e,t,r,i,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){let t=e.target;(t.getState()===mt.LOADED||t.getState()===mt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=mt.LOADED&&t!=mt.ERROR&&e.addEventListener(Je.CHANGE,this.boundHandleImageChange_),t==mt.IDLE&&(e.load(),t=e.getState()),t==mt.LOADED}renderIfReadyAndVisible(){let e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},tF=WT;var ZT=[],Kp=null;function LJ(){Kp=Bn(1,1,void 0,{willReadFrequently:!0})}var $T=class extends tF{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Ii(),this.pixelTransform=Ii(),this.inversePixelTransform=Ii(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,r){Kp||LJ(),Kp.clearRect(0,0,1,1);let i;try{Kp.drawImage(e,t,r,1,1,0,0,1,1),i=Kp.getImageData(0,0,1,1).data}catch{return Kp=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,t,r){let i=this.getLayer().getClassName(),o,s;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&ro(ws(e.style.backgroundColor),ws(r)))){let a=e.firstElementChild;Ma(a)&&(s=a.getContext("2d"))}if(s&&w8(s.canvas.style.transform,t)?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=Or?_w():document.createElement("div"),o.className=i;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=Bn();let l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,t,r){let i=ys(r),o=_d(r),s=md(r),a=gd(r);_r(t.coordinateToPixelTransform,i),_r(t.coordinateToPixelTransform,o),_r(t.coordinateToPixelTransform,s),_r(t.coordinateToPixelTransform,a);let l=this.inversePixelTransform;_r(l,i),_r(l,o),_r(l,s),_r(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){let r=e.extent,i=e.viewState.resolution,o=e.viewState.rotation,s=e.pixelRatio,a=Math.round(Ht(r)/i*s),l=Math.round(pr(r)/i*s);Wi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/s,1/s,o,-a/2,-l/2),ow(this.inversePixelTransform,this.pixelTransform);let c=v8(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){let u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,t,r){let i=this.getLayer();if(i.hasListener(e)){let o=new jw(e,this.inversePixelTransform,r,t);i.dispatchEvent(o)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(Zi.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(Zi.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Hw),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Zi.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Zi.POSTRENDER,this.context,e))}getRenderTransform(e,t,r,i,o,s,a){let l=o/2,c=s/2,u=i/t,d=-u,f=-e[0]+a,h=-e[1];return Wi(this.tempTransform,l,c,u,d,-r,f,h)}disposeInternal(){delete this.frameState,super.disposeInternal()}},qw=$T;function YT(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;let r=n[t],i=r.has(e);return i||r.add(e),!i}function kJ(n,e,t){let r=n[t];return r?r.delete(e):!1}function nF(n,e){let t=n.layerStatesArray[n.layerIndex];t.extent&&(e=_l(e,Ks(t.extent,n.viewState.projection)));let r=t.layer.getRenderSource();if(!r.getWrapX()){let i=r.getTileGridForProjection(n.viewState.projection).getExtent();i&&(e=_l(e,i))}return e}var XT=class extends qw{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Fr(),this.tempTileRange_=new zw(0,0,0,0),this.tempTileCoord_=Yp(0,0,0);let r=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new HT(r),this.sourceTileCache_=null,this.maxStaleKeys=r*.5}getTileCache(){return this.tileCache_}getSourceTileCache(){return this.sourceTileCache_||(this.sourceTileCache_=new HT(512)),this.sourceTileCache_}getOrCreateTile(e,t,r,i){let o=this.tileCache_,a=this.getLayer().getSource(),l=Xp(a,a.getKey(),e,t,r),c;if(o.containsKey(l))c=o.get(l);else{let u=i.viewState.projection,d=a.getProjection();if(c=a.getTile(e,t,r,i.pixelRatio,u,!d||Fu(d,u)?void 0:this.getSourceTileCache()),!c)return null;o.set(l,c)}return c}getTile(e,t,r,i){let o=this.getOrCreateTile(e,t,r,i);return o||null}getData(e){let t=this.frameState;if(!t)return null;let r=this.getLayer(),i=_r(t.pixelToCoordinateTransform,e.slice()),o=r.getExtent();if(o&&!Da(o,i))return null;let s=t.viewState,a=r.getRenderSource(),l=a.getTileGridForProjection(s.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let u=l.getZForResolution(s.resolution);u>=l.getMinZoom();--u){let d=l.getTileCoordForCoordAndZ(i,u),f=this.getTile(u,d[1],d[2],t);if(!f||f.getState()!==st.LOADED)continue;let h=l.getOrigin(u),g=Ir(l.getTileSize(u)),_=l.getResolution(u),y;if(f instanceof Uw||f instanceof Vw)y=f.getImage();else if(f instanceof FT){if(y=Bw(f.getData()),!y)continue}else continue;let v=Math.floor(c*((i[0]-h[0])/_-d[1]*g[0])),E=Math.floor(c*((h[1]-i[1])/_-d[2]*g[1])),S=Math.round(c*a.getGutterForProjection(s.projection));return this.getImageData(y,v+S,E+S)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;let t=this.getLayer().getSource();if(!t)return!1;let r=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==r&&(this.renderedSourceRevision_=r,this.renderedSourceKey_===t.getKey()&&(this.tileCache_.clear(),this.sourceTileCache_?.clear())):this.renderedSourceRevision_=r,!0}enqueueTilesForNextExtent(){return!0}enqueueTiles(e,t,r,i,o){let s=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(s.projection),u=St(l);u in e.wantedTiles||(e.wantedTiles[u]={});let d=e.wantedTiles[u],f=a.getMapInternal(),h=Math.max(r-o,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection)),g=s.rotation,_=g?HI(s.center,s.resolution,g,e.size):void 0;for(let y=r;y>=h;--y){let v=c.getTileRangeForExtentAndZ(t,y,this.tempTileRange_),E=c.getResolution(y);for(let S=v.minX;S<=v.maxX;++S)for(let I=v.minY;I<=v.maxY;++I){if(g&&!c.tileCoordIntersectsViewport([y,S,I],_))continue;let R=this.getTile(y,S,I,e);if(!R||!YT(i,R,y))continue;let j=R.getKey();if(d[j]=!0,R.getState()===st.IDLE&&!e.tileQueue.isKeyQueued(j)){let F=Yp(y,S,I,this.tempTileCoord_);e.tileQueue.enqueue([R,u,c.getTileCoordCenter(F),E])}}}}findStaleTile_(e,t){let r=this.tileCache_,i=e[0],o=e[1],s=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let c=Xp(this.getLayer().getSource(),a[l],i,o,s);if(r.containsKey(c)){let u=r.peek(c);if(u.getState()===st.LOADED)return u.endTransition(St(this)),YT(t,u,i),!0}}return!1}findAltTiles_(e,t,r,i){let o=e.getTileRangeForTileCoordAndZ(t,r,this.tempTileRange_);if(!o)return!1;let s=!0,a=this.tileCache_,l=this.getLayer().getRenderSource(),c=l.getKey();for(let u=o.minX;u<=o.maxX;++u)for(let d=o.minY;d<=o.maxY;++d){let f=Xp(l,c,r,u,d),h=!1;if(a.containsKey(f)){let g=a.peek(f);g.getState()===st.LOADED&&(YT(i,g,r),h=!0)}h||(s=!1)}return s}renderFrame(e,t){this.renderComplete=!0;let r=e.layerStatesArray[e.layerIndex],i=e.viewState,o=i.projection,s=i.resolution,a=i.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),d=u.getTileGridForProjection(o),f=d.getZForResolution(s,u.zDirection),h=d.getResolution(f),g=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==g&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=g):this.renderedSourceKey_=g;let _=e.extent,y=u.getTilePixelRatio(l);this.prepareContainer(e,t);let v=this.context.canvas.width,E=this.context.canvas.height,S=r.extent&&Ks(r.extent,o);S&&(_=_l(_,Ks(r.extent,o)));let I=h*v/2/y,R=h*E/2/y,V=[a[0]-I,a[1]-R,a[0]+I,a[1]+R],j={};this.renderedTiles.length=0;let F=c.getPreload();if(e.nextExtent&&this.enqueueTilesForNextExtent()){let te=d.getZForResolution(i.nextResolution,u.zDirection),W=nF(e,e.nextExtent);this.enqueueTiles(e,W,te,j,F)}let k=nF(e,_);if(this.enqueueTiles(e,k,f,j,0),F>0&&setTimeout(()=>{this.enqueueTiles(e,k,f-1,j,F-1)},0),!(f in j))return this.container;let N=St(this),A=e.time;for(let te of j[f]){let W=te.getState();if(W===st.EMPTY)continue;let ee=te.tileCoord;if(W===st.LOADED&&te.getAlpha(N,A)===1){te.endTransition(N);continue}if(W!==st.ERROR&&(this.renderComplete=!1),this.findStaleTile_(ee,j)){kJ(j,te,f),e.animate=!0;continue}if(this.findAltTiles_(d,ee,f+1,j))continue;let z=d.getMinZoom();for(let Q=f-1;Q>=z&&!this.findAltTiles_(d,ee,Q,j);--Q);}let x=h/s*l/y,O=this.getRenderContext(e);Wi(this.tempTransform,v/2,E/2,x,x,0,-v/2,-E/2),r.extent&&this.clipUnrotated(O,e,S),u.getInterpolate()||(O.imageSmoothingEnabled=!1),this.preRender(O,e);let $=Object.keys(j).map(Number);$.sort(ko);let Z,se=[],K=[];for(let te=$.length-1;te>=0;--te){let W=$[te],ee=u.getTilePixelSize(W,l,o),M=d.getResolution(W)/h,z=ee[0]*M*x,Q=ee[1]*M*x,ne=d.getTileCoordForCoordAndZ(ys(V),W),re=d.getTileCoordExtent(ne),le=_r(this.tempTransform,[y*(re[0]-V[0])/h,y*(V[3]-re[3])/h]),ye=y*u.getGutterForProjection(o);for(let _e of j[W]){if(_e.getState()!==st.LOADED)continue;let Ce=_e.tileCoord,Le=ne[1]-Ce[1],T=Math.round(le[0]-(Le-1)*z),de=ne[2]-Ce[2],he=Math.round(le[1]-(de-1)*Q),C=Math.round(le[0]-Le*z),G=Math.round(le[1]-de*Q),ie=T-C,ve=he-G,ce=$.length===1,ae=!1;Z=[C,G,C+ie,G,C+ie,G+ve,C,G+ve];for(let xe=0,De=se.length;xe<De;++xe)if(!ce&&W<K[xe]){let be=se[xe];cr([C,G,C+ie,G+ve],[be[0],be[3],be[4],be[7]])&&(ae||(O.save(),ae=!0),O.beginPath(),O.moveTo(Z[0],Z[1]),O.lineTo(Z[2],Z[3]),O.lineTo(Z[4],Z[5]),O.lineTo(Z[6],Z[7]),O.moveTo(be[6],be[7]),O.lineTo(be[4],be[5]),O.lineTo(be[2],be[3]),O.lineTo(be[0],be[1]),O.clip())}se.push(Z),K.push(W),this.drawTile(_e,e,C,G,ie,ve,ye,ce),ae&&O.restore(),this.renderedTiles.unshift(_e),this.updateUsedTiles(e.usedTiles,u,_e)}}if(this.renderedResolution=h,this.extentChanged=!this.renderedExtent_||!xc(this.renderedExtent_,V),this.renderedExtent_=V,this.renderedPixelRatio=l,this.postRender(this.context,e),r.extent&&O.restore(),O.imageSmoothingEnabled=!0,this.renderComplete){let te=(W,ee)=>{let pe=St(u),M=ee.wantedTiles[pe],z=M?Object.keys(M).length:0;this.updateCacheSize(z),this.tileCache_.expireCache(),this.sourceTileCache_?.expireCache()};e.postRenderFunctions.push(te)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,r,i,o,s,a,l){let c;if(e instanceof FT){if(c=Bw(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;let u=this.getRenderContext(t),d=St(this),f=t.layerStatesArray[t.layerIndex],h=f.opacity*(l?e.getAlpha(d,t.time):1),g=h!==u.globalAlpha;g&&(u.save(),u.globalAlpha=h),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,r,i,o,s),g&&u.restore(),h!==f.opacity?t.animate=!0:l&&e.endTransition(d)}getImage(){let e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,r){let i=St(t);i in e||(e[i]={}),e[i][r.getKey()]=!0}},rF=XT;var E1={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var KT=class extends Id{constructor(e){e=e||{};let t=Object.assign({},e),r=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=r,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(E1.PRELOAD)}setPreload(e){this.set(E1.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(E1.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(E1.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}},iF=KT;var JT=class extends iF{constructor(e){super(e)}createRenderer(){return new rF(this,{cacheSize:this.getCacheSize()})}},QT=JT;var eM=class{drawCustom(e,t,r,i,o){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,r){}drawFeature(e,t,r){}drawGeometryCollection(e,t,r){}drawLineString(e,t,r){}drawMultiLineString(e,t,r){}drawMultiPoint(e,t,r){}drawMultiPolygon(e,t,r){}drawPoint(e,t,r){}drawPolygon(e,t,r){}drawText(e,t,r){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},Ww=eM;var S1={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},C1=[S1.FILL],Sl=[S1.STROKE],Nc=[S1.BEGIN_PATH],tM=[S1.CLOSE_PATH],_t=S1;var nM=class extends Ww{constructor(e,t,r,i){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let t=this.pixelRatio;return t==1?e:e.map(function(r){return r*t})}appendFlatPointCoordinates(e,t){let r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,o=this.coordinates,s=o.length;for(let a=0,l=e.length;a<l;a+=t)i[0]=e[a],i[1]=e[a+1],Da(r,i)&&(o[s++]=i[0],o[s++]=i[1]);return s}appendFlatLineCoordinates(e,t,r,i,o,s){let a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();s&&(t+=i);let u=e[t],d=e[t+1],f=this.tmpCoordinate_,h=!0,g,_,y;for(g=t+i;g<r;g+=i)f[0]=e[g],f[1]=e[g+1],y=z2(c,f),y!==_?(h&&(a[l++]=u,a[l++]=d,h=!1),a[l++]=f[0],a[l++]=f[1]):y===Qr.INTERSECTING?(a[l++]=f[0],a[l++]=f[1],h=!1):h=!0,u=f[0],d=f[1],_=y;return(o&&h||g===t+i)&&(a[l++]=u,a[l++]=d),l}drawCustomCoordinates_(e,t,r,i,o){for(let s=0,a=r.length;s<a;++s){let l=r[s],c=this.appendFlatLineCoordinates(e,t,l,i,!1,!1);o.push(c),t=l}return t}drawCustom(e,t,r,i,o){this.beginGeometry(e,t,o);let s=e.getType(),a=e.getStride(),l=this.coordinates.length,c,u,d,f,h;switch(s){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),f=[];let g=e.getEndss();h=0;for(let _=0,y=g.length;_<y;++_){let v=[];h=this.drawCustomCoordinates_(c,h,g[_],a,v),f.push(v)}this.instructions.push([_t.CUSTOM,l,f,e,r,W0,o]),this.hitDetectionInstructions.push([_t.CUSTOM,l,f,e,i||r,W0,o]);break;case"Polygon":case"MultiLineString":d=[],c=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),h=this.drawCustomCoordinates_(c,0,e.getEnds(),a,d),this.instructions.push([_t.CUSTOM,l,d,e,r,Gu,o]),this.hitDetectionInstructions.push([_t.CUSTOM,l,d,e,i||r,Gu,o]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([_t.CUSTOM,l,u,e,r,Js,o]),this.hitDetectionInstructions.push([_t.CUSTOM,l,u,e,i||r,Js,o]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([_t.CUSTOM,l,u,e,r,Js,o]),this.hitDetectionInstructions.push([_t.CUSTOM,l,u,e,i||r,Js,o]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([_t.CUSTOM,l,u,e,r,void 0,o]),this.hitDetectionInstructions.push([_t.CUSTOM,l,u,e,i||r,void 0,o]);break;default:}this.endGeometry(t)}beginGeometry(e,t,r){this.beginGeometryInstruction1_=[_t.BEGIN_GEOMETRY,t,0,e,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[_t.BEGIN_GEOMETRY,t,0,e,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e=this.hitDetectionInstructions;e.reverse();let t,r=e.length,i,o,s=-1;for(t=0;t<r;++t)i=e[t],o=i[0],o==_t.END_GEOMETRY?s=t:o==_t.BEGIN_GEOMETRY&&(i[2]=t,AO(this.hitDetectionInstructions,s,t),s=-1)}fillStyleToState(e,t={}){if(e){let r=e.getColor();t.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,t.fillStyle=zo(r||_i)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){let r=e.getColor();t.strokeStyle=zo(r||Tc);let i=e.getLineCap();t.lineCap=i!==void 0?i:xl;let o=e.getLineDash();t.lineDash=o?o.slice():Vo;let s=e.getLineDashOffset();t.lineDashOffset=s||Ho;let a=e.getLineJoin();t.lineJoin=a!==void 0?a:bl;let l=e.getWidth();t.lineWidth=l!==void 0?l:Ac;let c=e.getMiterLimit();t.miterLimit=c!==void 0?c:Dc,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){let r=this.state;this.fillStyleToState(e,r),this.strokeStyleToState(t,r)}createFill(e){let t=e.fillStyle,r=[_t.SET_FILL_STYLE,t];return typeof t!="string"&&r.push(e.fillPatternScale),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[_t.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){let r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(this.instructions.push(t.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,t){let r=e.strokeStyle,i=e.lineCap,o=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||o!=e.currentLineDash&&!ro(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(t.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let t=[_t.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=V2(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;Pu(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},Cl=nM;var rM=class extends Cl{constructor(e,t,r,i){super(e,t,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,r){if(!this.image_||this.maxExtent&&!Da(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,r);let i=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([_t.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([_t.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,r){if(!this.image_)return;this.beginGeometry(e,t,r);let i=e.getFlatCoordinates(),o=[];for(let l=0,c=i.length;l<c;l+=e.getStride())(!this.maxExtent||Da(this.maxExtent,i.slice(l,l+2)))&&o.push(i[l],i[l+1]);let s=this.coordinates.length,a=this.appendFlatPointCoordinates(o,2);this.instructions.push([_t.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([_t.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){let r=e.getAnchor(),i=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},oF=rM;var iM=class extends Cl{constructor(e,t,r,i){super(e,t,r,i)}drawFlatCoordinates_(e,t,r,i){let o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,t,r,i,!1,!1),a=[_t.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),r}drawLineString(e,t,r){let i=this.state,o=i.strokeStyle,s=i.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t,r),this.hitDetectionInstructions.push([_t.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Vo,Ho],Nc);let a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(Sl),this.endGeometry(t)}drawMultiLineString(e,t,r){let i=this.state,o=i.strokeStyle,s=i.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t,r),this.hitDetectionInstructions.push([_t.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Vo,Ho],Nc);let a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride(),u=0;for(let d=0,f=a.length;d<f;++d)u=this.drawFlatCoordinates_(l,u,a[d],c);this.hitDetectionInstructions.push(Sl),this.endGeometry(t)}finish(){let e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Sl),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Sl),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Nc)}},sF=iM;var oM=class extends Cl{constructor(e,t,r,i){super(e,t,r,i)}drawFlatCoordinatess_(e,t,r,i){let o=this.state,s=o.fillStyle!==void 0,a=o.strokeStyle!==void 0,l=r.length;this.instructions.push(Nc),this.hitDetectionInstructions.push(Nc);for(let c=0;c<l;++c){let u=r[c],d=this.coordinates.length,f=this.appendFlatLineCoordinates(e,t,u,i,!0,!a),h=[_t.MOVE_TO_LINE_TO,d,f];this.instructions.push(h),this.hitDetectionInstructions.push(h),a&&(this.instructions.push(tM),this.hitDetectionInstructions.push(tM)),t=u}return s&&(this.instructions.push(C1),this.hitDetectionInstructions.push(C1)),a&&(this.instructions.push(Sl),this.hitDetectionInstructions.push(Sl)),t}drawCircle(e,t,r){let i=this.state,o=i.fillStyle,s=i.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([_t.SET_FILL_STYLE,_i]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([_t.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Vo,Ho]);let a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let u=[_t.CIRCLE,c];this.instructions.push(Nc,u),this.hitDetectionInstructions.push(Nc,u),i.fillStyle!==void 0&&(this.instructions.push(C1),this.hitDetectionInstructions.push(C1)),i.strokeStyle!==void 0&&(this.instructions.push(Sl),this.hitDetectionInstructions.push(Sl)),this.endGeometry(t)}drawPolygon(e,t,r){let i=this.state,o=i.fillStyle,s=i.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([_t.SET_FILL_STYLE,_i]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([_t.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Vo,Ho]);let a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(t)}drawMultiPolygon(e,t,r){let i=this.state,o=i.fillStyle,s=i.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([_t.SET_FILL_STYLE,_i]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([_t.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Vo,Ho]);let a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride(),u=0;for(let d=0,f=a.length;d<f;++d)u=this.drawFlatCoordinatess_(l,u,a[d],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(e!==0){let t=this.coordinates;for(let r=0,i=t.length;r<i;++r)t[r]=zu(t[r],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}},sM=oM;function aF(n,e,t,r,i){let o=[],s=t,a=0,l=e.slice(t,2);for(;a<n&&s+i<r;){let[c,u]=l.slice(-2),d=e[s+i],f=e[s+i+1],h=Math.sqrt((d-c)*(d-c)+(f-u)*(f-u));if(a+=h,a>=n){let g=(n-a+h)/h,_=qi(c,d,g),y=qi(u,f,g);l.push(_,y),o.push(l),l=[_,y],a==n&&(s+=i),a=0}else if(a<n)l.push(e[s+i],e[s+i+1]),s+=i;else{let g=h-a,_=qi(c,d,g/h),y=qi(u,f,g/h);l.push(_,y),o.push(l),l=[_,y],a=0,s+=i}}return a>0&&o.push(l),o}function lF(n,e,t,r,i){let o=t,s=t,a=0,l=0,c=t,u,d,f,h,g,_,y,v,E,S;for(d=t;d<r;d+=i){let I=e[d],R=e[d+1];g!==void 0&&(E=I-g,S=R-_,h=Math.sqrt(E*E+S*S),y!==void 0&&(l+=f,u=Math.acos((y*E+v*S)/(f*h)),u>n&&(l>a&&(a=l,o=c,s=d),l=0,c=d-i)),f=h,y=E,v=S),g=I,_=R}return l+=h,l>a?[c,d]:[o,s]}var I1={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},aM=class extends Cl{constructor(e,t,r,i){super(e,t,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[_i]={fillStyle:_i},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,r){let i=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!i&&!o)return;let a=this.coordinates,l=a.length,c=e.getType(),u=null,d=e.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!cr(this.maxExtent,e.getExtent()))return;let f;if(u=e.getFlatCoordinates(),c=="LineString")f=[u.length];else if(c=="MultiLineString")f=e.getEnds();else if(c=="Polygon")f=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){let y=e.getEndss();f=[];for(let v=0,E=y.length;v<E;++v)f.push(y[v][0])}this.beginGeometry(e,t,r);let h=s.repeat,g=h?void 0:s.textAlign,_=0;for(let y=0,v=f.length;y<v;++y){let E;h?E=aF(h*this.resolution,u,_,f[y],d):E=[u.slice(_,f[y])];for(let S=0,I=E.length;S<I;++S){let R=E[S],V=0,j=R.length;if(g==null){let k=lF(s.maxAngle,R,0,R.length,2);V=k[0],j=k[1]}for(let k=V;k<j;k+=d)a.push(R[k],R[k+1]);let F=a.length;_=f[y],this.drawChars_(l,F),l=F}}this.endGeometry(t)}else{let f=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),d=2;break;case"Polygon":u=e.getFlatInteriorPoint(),s.overflow||f.push(u[2]/this.resolution),d=3;break;case"MultiPolygon":let I=e.getFlatInteriorPoints();u=[];for(let R=0,V=I.length;R<V;R+=3)s.overflow||f.push(I[R+2]/this.resolution),u.push(I[R],I[R+1]);if(u.length===0)return;d=2;break;default:}let h=this.appendFlatPointCoordinates(u,d);if(h===l)return;if(f&&(h-l)/2!==u.length/d){let I=l/2;f=f.filter((R,V)=>{let j=a[(I+V)*2]===u[V*d]&&a[(I+V)*2+1]===u[V*d+1];return j||--I,j})}this.saveTextStates_();let g=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,_=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(e,t,r);let y=s.padding;if(y!=Mc&&(s.scale[0]<0||s.scale[1]<0)){let I=s.padding[0],R=s.padding[1],V=s.padding[2],j=s.padding[3];s.scale[0]<0&&(R=-R,j=-j),s.scale[1]<0&&(I=-I,V=-V),y=[I,R,V,j]}let v=this.pixelRatio;this.instructions.push([_t.DRAW_IMAGE,l,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,y==Mc?Mc:y.map(function(I){return I*v}),g,_,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);let E=1/v,S=g?g.slice(0):null;S&&(S[1]=_i),this.hitDetectionInstructions.push([_t.DRAW_IMAGE,l,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[E,E],NaN,this.declutterMode_,this.declutterImageWithText_,y,S,_,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?_i:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(t)}}saveTextStates_(){let e=this.textStrokeState_,t=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));let o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||Yu,justify:t.justify,textBaseline:t.textBaseline||Ad,scale:t.scale});let s=this.fillKey_;r&&(s in this.fillStates||(this.fillStates[s]={fillStyle:r.fillStyle}))}drawChars_(e,t){let r=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,c=I1[i.textBaseline],u=this.textOffsetY_*l,d=this.text_,f=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([_t.DRAW_CHARS,e,t,c,i.overflow,a,i.maxAngle,l,u,o,f*l,d,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([_t.DRAW_CHARS,e,t,c,i.overflow,a&&_i,i.maxAngle,l,u,o,f*l,d,s,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let r,i,o;if(!e)this.text_="";else{let s=e.getFill();s?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=zo(s.getColor()||_i)):(i=null,this.textFillState_=i);let a=e.getStroke();if(!a)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);let _=a.getLineDash(),y=a.getLineDashOffset(),v=a.getWidth(),E=a.getMiterLimit();o.lineCap=a.getLineCap()||xl,o.lineDash=_?_.slice():Vo,o.lineDashOffset=y===void 0?Ho:y,o.lineJoin=a.getLineJoin()||bl,o.lineWidth=v===void 0?Ac:v,o.miterLimit=E===void 0?Dc:E,o.strokeStyle=zo(a.getColor()||Tc)}r=this.textState_;let l=e.getFont()||Aw;S6(l);let c=e.getScaleArray();r.overflow=e.getOverflow(),r.font=l,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||Ad,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||Mc,r.scale=c===void 0?[1,1]:c;let u=e.getOffsetX(),d=e.getOffsetY(),f=e.getRotateWithView(),h=e.getKeepUpright(),g=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=d===void 0?0:d,this.textRotateWithView_=f===void 0?!1:f,this.textKeepUpright_=h===void 0?!0:h,this.textRotation_=g===void 0?0:g,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:St(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?typeof i.fillStyle=="string"?i.fillStyle:"|"+St(i.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},cF=aM;var OJ={Circle:sM,Default:Cl,Image:oF,LineString:sF,Polygon:sM,Text:cF},lM=class{constructor(e,t,r,i){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){let e={};for(let t in this.buildersByZIndex_){e[t]=e[t]||{};let r=this.buildersByZIndex_[t];for(let i in r){let o=r[i].finish();e[t][i]=o}}return e}getBuilder(e,t){let r=e!==void 0?e.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let o=i[t];if(o===void 0){let s=OJ[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o}},uF=lM;function Jp(n,e,t,r){let i=n[e],o=n[e+1],s=0;for(let a=e+r;a<t;a+=r){let l=n[a],c=n[a+1];s+=Math.sqrt((l-i)*(l-i)+(c-o)*(c-o)),i=l,o=c}return s}function hF(n,e,t,r,i,o,s,a,l,c,u,d,f=!0){let h=n[e],g=n[e+1],_=0,y=0,v=0,E=0;function S(){_=h,y=g,e+=r,h=n[e],g=n[e+1],E+=v,v=Math.sqrt((h-_)*(h-_)+(g-y)*(g-y))}do S();while(e<t-r&&E+v<o);let I=v===0?0:(o-E)/v,R=qi(_,h,I),V=qi(y,g,I),j=e-r,F=E,k=o+a*l(c,i,u);for(;e<t-r&&E+v<k;)S();I=v===0?0:(k-E)/v;let N=qi(_,h,I),A=qi(y,g,I),x=!1;if(f)if(d){let K=[R,V,N,A];Pp(K,0,4,2,d,K,K),x=K[0]>K[2]}else x=R>N;let O=Math.PI,$=[],Z=j+r===e;e=j,v=0,E=F,h=n[e],g=n[e+1];let se;if(Z){S(),se=Math.atan2(g-y,h-_),x&&(se+=se>0?-O:O);let K=(N+R)/2,te=(A+V)/2;return $[0]=[K,te,(k-o)/2,se,i],$}i=i.replace(/\n/g," ");for(let K=0,te=i.length;K<te;){S();let W=Math.atan2(g-y,h-_);if(x&&(W+=W>0?-O:O),se!==void 0){let ne=W-se;if(ne+=ne>O?-2*O:ne<-O?2*O:0,Math.abs(ne)>s)return null}se=W;let ee=K,pe=0;for(;K<te;++K){let ne=x?te-K-1:K,re=a*l(c,i[ne],u);if(e+r<t&&E+v<o+pe+re/2)break;pe+=re}if(K===ee)continue;let M=x?i.substring(te-ee,te-K):i.substring(ee,K);I=v===0?0:(o+pe/2-E)/v;let z=qi(_,h,I),Q=qi(y,g,I);$.push([z,Q,pe/2,W,M]),o+=pe}return $}var Qp=Fr(),Ju=[],Pc=[],Lc=[],Qu=[];function dF(n){return n[3].declutterBox}var fF=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");function cM(n,e){return e==="start"?e=fF.test(n)?"right":"left":e==="end"&&(e=fF.test(n)?"left":"right"),I1[e]}function FJ(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}function jJ(n,e,t){return t%2===0&&(n+=e),n}var uM=class{constructor(e,t,r,i,o){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=Ii(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new Hw:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,r,i){let o=e+t+r+i;if(this.labels_[o])return this.labels_[o];let s=i?this.strokeStates[i]:null,a=r?this.fillStates[r]:null,l=this.textStates[t],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],d=l.justify?I1[l.justify]:cM(Array.isArray(e)?e[0]:e,l.textAlign||Yu),f=i&&s.lineWidth?s.lineWidth:0,h=Array.isArray(e)?e:String(e).split(`
`).reduce(FJ,[]),{width:g,height:_,widths:y,heights:v,lineWidths:E}=D6(l,h),S=g+f,I=[],R=(S+2)*u[0],V=(_+f)*u[1],j={width:R<0?Math.floor(R):Math.ceil(R),height:V<0?Math.floor(V):Math.ceil(V),contextInstructions:I};(u[0]!=1||u[1]!=1)&&I.push("scale",u),i&&(I.push("strokeStyle",s.strokeStyle),I.push("lineWidth",f),I.push("lineCap",s.lineCap),I.push("lineJoin",s.lineJoin),I.push("miterLimit",s.miterLimit),I.push("setLineDash",[s.lineDash]),I.push("lineDashOffset",s.lineDashOffset)),r&&I.push("fillStyle",a.fillStyle),I.push("textBaseline","middle"),I.push("textAlign","center");let F=.5-d,k=d*S+F*f,N=[],A=[],x=0,O=0,$=0,Z=0,se;for(let K=0,te=h.length;K<te;K+=2){let W=h[K];if(W===`
`){O+=x,x=0,k=d*S+F*f,++Z;continue}let ee=h[K+1]||l.font;ee!==se&&(i&&N.push("font",ee),r&&A.push("font",ee),se=ee),x=Math.max(x,v[$]);let pe=[W,k+F*y[$]+d*(y[$]-E[Z]),.5*(f+x)+O];k+=y[$],i&&N.push("strokeText",pe),r&&A.push("fillText",pe),++$}return Array.prototype.push.apply(I,N),Array.prototype.push.apply(I,A),this.labels_[o]=j,j}replayTextBackground_(e,t,r,i,o,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,t),s&&(this.alignAndScaleFill_=s[2],e.fillStyle=s[1],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,r,i,o,s,a,l,c,u,d,f,h,g,_,y){a*=f[0],l*=f[1];let v=r-a,E=i-l,S=o+c>e?e-c:o,I=s+u>t?t-u:s,R=g[3]+S*f[0]+g[1],V=g[0]+I*f[1]+g[2],j=v-g[3],F=E-g[0];(_||d!==0)&&(Ju[0]=j,Qu[0]=j,Ju[1]=F,Pc[1]=F,Pc[0]=j+R,Lc[0]=Pc[0],Lc[1]=F+V,Qu[1]=Lc[1]);let k;return d!==0?(k=Wi(Ii(),r,i,1,1,d,-r,-i),_r(k,Ju),_r(k,Pc),_r(k,Lc),_r(k,Qu),Co(Math.min(Ju[0],Pc[0],Lc[0],Qu[0]),Math.min(Ju[1],Pc[1],Lc[1],Qu[1]),Math.max(Ju[0],Pc[0],Lc[0],Qu[0]),Math.max(Ju[1],Pc[1],Lc[1],Qu[1]),Qp)):Co(Math.min(j,j+R),Math.min(F,F+V),Math.max(j,j+R),Math.max(F,F+V),Qp),h&&(v=Math.round(v),E=Math.round(E)),{drawImageX:v,drawImageY:E,drawImageW:S,drawImageH:I,originX:c,originY:u,declutterBox:{minX:Qp[0],minY:Qp[1],maxX:Qp[2],maxY:Qp[3],value:y},canvasTransform:k,scale:f}}replayImageOrLabel_(e,t,r,i,o,s,a){let l=!!(s||a),c=i.declutterBox,u=a?a[2]*i.scale[0]/2:0;return c.minX-u<=t[0]&&c.maxX+u>=0&&c.minY-u<=t[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,Ju,Pc,Lc,Qu,s,a),T6(e,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){let t=this.alignAndScaleFill_;if(t){let r=_r(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(r[0]%i,r[1]%i),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,r,i){let o=this.textStates[t],s=this.createLabel(e,t,i,r),a=this.strokeStates[r],l=this.pixelRatio,c=cM(Array.isArray(e)?e[0]:e,o.textAlign||Yu),u=I1[o.textBaseline||Ad],d=a&&a.lineWidth?a.lineWidth:0,f=s.width/l-2*o.scale[0],h=c*f+2*(.5-c)*d,g=u*s.height/l+2*(.5-u)*d;return{label:s,anchorX:h,anchorY:g}}execute_(e,t,r,i,o,s,a,l){let c=this.zIndexContext_,u;this.pixelCoordinates_&&ro(r,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Go(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),y8(this.renderedTransform_,r));let d=0,f=i.length,h=0,g,_,y,v,E,S,I,R,V,j,F,k,N,A=0,x=0,O=this.coordinateCache_,$=this.viewRotation_,Z=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,se={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:$},K=this.instructions!=i||this.overlaps?0:200,te,W,ee,pe;for(;d<f;){let M=i[d];switch(M[0]){case _t.BEGIN_GEOMETRY:te=M[1],pe=M[3],te.getGeometry()?a!==void 0&&!cr(a,pe.getExtent())?d=M[2]+1:++d:d=M[2],c&&(c.zIndex=M[4]);break;case _t.BEGIN_PATH:A>K&&(this.fill_(e),A=0),x>K&&(e.stroke(),x=0),!A&&!x&&(e.beginPath(),E=NaN,S=NaN),++d;break;case _t.CIRCLE:h=M[1];let Q=u[h],ne=u[h+1],re=u[h+2],le=u[h+3],ye=re-Q,_e=le-ne,Ce=Math.sqrt(ye*ye+_e*_e);e.moveTo(Q+Ce,ne),e.arc(Q,ne,Ce,0,2*Math.PI,!0),++d;break;case _t.CLOSE_PATH:e.closePath(),++d;break;case _t.CUSTOM:h=M[1],g=M[2];let Le=M[3],T=M[4],de=M[5];se.geometry=Le,se.feature=te,d in O||(O[d]=[]);let he=O[d];de?de(u,h,g,2,he):(he[0]=u[h],he[1]=u[h+1],he.length=2),c&&(c.zIndex=M[6]),T(he,se),++d;break;case _t.DRAW_IMAGE:h=M[1],g=M[2],V=M[3],_=M[4],y=M[5];let C=M[6],G=M[7],ie=M[8],ve=M[9],ce=M[10],ae=M[11],xe=M[12],De=M[13];v=M[14]||"declutter";let be=M[15];if(!V&&M.length>=20){j=M[19],F=M[20],k=M[21],N=M[22];let Hr=this.drawLabelWithPointPlacement_(j,F,k,N);V=Hr.label,M[3]=V;let hr=M[23];_=(Hr.anchorX-hr)*this.pixelRatio,M[4]=_;let wr=M[24];y=(Hr.anchorY-wr)*this.pixelRatio,M[5]=y,C=V.height,M[6]=C,De=V.width,M[13]=De}let Ve;M.length>25&&(Ve=M[25]);let Ke,He,yt;M.length>17?(Ke=M[16],He=M[17],yt=M[18]):(Ke=Mc,He=null,yt=null),ce&&Z?ae+=$:!ce&&!Z&&(ae-=$);let Lt=0;for(;h<g;h+=2){if(Ve&&Ve[Lt++]<De/this.pixelRatio)continue;let Hr=this.calculateImageOrLabelDimensions_(V.width,V.height,u[h],u[h+1],De,C,_,y,ie,ve,ae,xe,o,Ke,!!He||!!yt,te),hr=[e,t,V,Hr,G,He,yt];if(l){let wr,Mr,nt;if(be){let pn=g-h;if(!be[pn]){be[pn]={args:hr,declutterMode:v};continue}let Wn=be[pn];wr=Wn.args,Mr=Wn.declutterMode,delete be[pn],nt=dF(wr)}let ni,ri;if(wr&&(Mr!=="declutter"||!l.collides(nt))&&(ni=!0),(v!=="declutter"||!l.collides(Hr.declutterBox))&&(ri=!0),Mr==="declutter"&&v==="declutter"){let pn=ni&&ri;ni=pn,ri=pn}ni&&(Mr!=="none"&&l.insert(nt),this.replayImageOrLabel_.apply(this,wr)),ri&&(v!=="none"&&l.insert(Hr.declutterBox),this.replayImageOrLabel_.apply(this,hr))}else this.replayImageOrLabel_.apply(this,hr)}++d;break;case _t.DRAW_CHARS:let Ye=M[1],bt=M[2],qe=M[3],qn=M[4];N=M[5];let nn=M[6],wt=M[7],Nt=M[8];k=M[9];let Ln=M[10];j=M[11],Array.isArray(j)&&(j=j.reduce(jJ,"")),F=M[12];let ut=[M[13],M[13]];v=M[14]||"declutter";let kn=M[15],pt=this.textStates[F],gt=pt.font,fn=[pt.scale[0]*wt,pt.scale[1]*wt],kt;gt in this.widths_?kt=this.widths_[gt]:(kt={},this.widths_[gt]=kt);let vt=Jp(u,Ye,bt,2),En=Math.abs(fn[0])*mT(gt,j,kt);if(qn||En<=vt){let Hr=this.textStates[F].textAlign,hr=(vt-En)*cM(j,Hr),wr=hF(u,Ye,bt,2,j,hr,nn,Math.abs(fn[0]),mT,gt,kt,Z?0:this.viewRotation_,kn);e:if(wr){let Mr=[],nt,ni,ri,pn,Wn;if(k)for(nt=0,ni=wr.length;nt<ni;++nt){Wn=wr[nt],ri=Wn[4],pn=this.createLabel(ri,F,"",k),_=Wn[2]+(fn[0]<0?-Ln:Ln),y=qe*pn.height+(.5-qe)*2*Ln*fn[1]/fn[0]-Nt;let Dn=this.calculateImageOrLabelDimensions_(pn.width,pn.height,Wn[0],Wn[1],pn.width,pn.height,_,y,0,0,Wn[3],ut,!1,Mc,!1,te);if(l&&v==="declutter"&&l.collides(Dn.declutterBox))break e;Mr.push([e,t,pn,Dn,1,null,null])}if(N)for(nt=0,ni=wr.length;nt<ni;++nt){Wn=wr[nt],ri=Wn[4],pn=this.createLabel(ri,F,N,""),_=Wn[2],y=qe*pn.height-Nt;let Dn=this.calculateImageOrLabelDimensions_(pn.width,pn.height,Wn[0],Wn[1],pn.width,pn.height,_,y,0,0,Wn[3],ut,!1,Mc,!1,te);if(l&&v==="declutter"&&l.collides(Dn.declutterBox))break e;Mr.push([e,t,pn,Dn,1,null,null])}l&&v!=="none"&&l.load(Mr.map(dF));for(let Dn=0,qr=Mr.length;Dn<qr;++Dn)this.replayImageOrLabel_.apply(this,Mr[Dn])}}++d;break;case _t.END_GEOMETRY:if(s!==void 0){te=M[1];let Hr=s(te,pe,v);if(Hr)return Hr}++d;break;case _t.FILL:K?A++:this.fill_(e),++d;break;case _t.MOVE_TO_LINE_TO:for(h=M[1],g=M[2],W=u[h],ee=u[h+1],e.moveTo(W,ee),E=W+.5|0,S=ee+.5|0,h+=2;h<g;h+=2)W=u[h],ee=u[h+1],I=W+.5|0,R=ee+.5|0,(h==g-2||I!==E||R!==S)&&(e.lineTo(W,ee),E=I,S=R);++d;break;case _t.SET_FILL_STYLE:this.alignAndScaleFill_=M[2],A&&(this.fill_(e),A=0,x&&(e.stroke(),x=0)),e.fillStyle=M[1],++d;break;case _t.SET_STROKE_STYLE:x&&(e.stroke(),x=0),this.setStrokeStyle_(e,M),++d;break;case _t.STROKE:K?x++:e.stroke(),++d;break;default:++d;break}}A&&this.fill_(e),x&&e.stroke()}execute(e,t,r,i,o,s){this.viewRotation_=i,this.execute_(e,t,r,this.instructions,o,void 0,void 0,s)}executeHitDetection(e,t,r,i,o){return this.viewRotation_=r,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,i,o)}},pF=uM;var eh=["Polygon","Circle","LineString","Image","Text","Default"],fM=["Image","Text"],gF=eh.filter(n=>!fM.includes(n)),dM=class{constructor(e,t,r,i,o,s,a){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Ii(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,a)}clip(e,t){let r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e,t){for(let r in e){let i=this.executorsByZIndex_[r];i===void 0&&(i={},this.executorsByZIndex_[r]=i);let o=e[r];for(let s in o){let a=o[s];i[s]=new pF(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(let t in this.executorsByZIndex_){let r=this.executorsByZIndex_[t];for(let i=0,o=e.length;i<o;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,t,r,i,o,s){i=Math.round(i);let a=i*2+1,l=Wi(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-r,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=Bn(a,a));let u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let d;this.renderBuffer_!==void 0&&(d=Fr(),pd(d,e),Pu(d,t*(this.renderBuffer_+i),d));let f=BJ(i),h;function g(R,V,j){let F=u.getImageData(0,0,a,a).data;for(let k=0,N=f.length;k<N;k++)if(F[f[k]]>0){if(!s||j==="none"||h!=="Image"&&h!=="Text"||s.includes(R)){let A=(f[k]-3)/4,x=i-A%a,O=i-(A/a|0),$=o(R,V,x*x+O*O);if($)return $}u.clearRect(0,0,a,a);break}}let _=Object.keys(this.executorsByZIndex_).map(Number);_.sort(ko);let y,v,E,S,I;for(y=_.length-1;y>=0;--y){let R=_[y].toString();for(E=this.executorsByZIndex_[R],v=eh.length-1;v>=0;--v)if(h=eh[v],S=E[h],S!==void 0&&(I=S.executeHitDetection(u,l,r,g,d),I))return I}}getClipCoords(e){let t=this.maxExtent_;if(!t)return null;let r=t[0],i=t[1],o=t[2],s=t[3],a=[r,i,r,s,o,s,o,i];return Go(a,0,8,2,e,a),a}isEmpty(){return ms(this.executorsByZIndex_)}execute(e,t,r,i,o,s,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?MO:ko),s=s||eh;let c=eh.length;for(let u=0,d=l.length;u<d;++u){let f=l[u].toString(),h=this.executorsByZIndex_[f];for(let g=0,_=s.length;g<_;++g){let y=s[g],v=h[y];if(v!==void 0){let E=a===null?void 0:v.getZIndexContext(),S=E?E.getContext():e,I=this.maxExtent_&&y!=="Image"&&y!=="Text";if(I&&(S.save(),this.clip(S,r)),!E||y==="Text"||y==="Image"?v.execute(S,t,r,i,o,a):E.pushFunction(R=>v.execute(R,t,r,i,o,a)),I&&S.restore(),E){E.offset();let R=l[u]*c+eh.indexOf(y);this.deferredZIndexContexts_[R]||(this.deferredZIndexContexts_[R]=[]),this.deferredZIndexContexts_[R].push(E)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(ko);for(let r=0,i=t.length;r<i;++r)e[t[r]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),e[t[r]].length=0}},hM={};function BJ(n){if(hM[n]!==void 0)return hM[n];let e=n*2+1,t=n*n,r=new Array(t+1);for(let o=0;o<=n;++o)for(let s=0;s<=n;++s){let a=o*o+s*s;if(a>t)break;let l=r[a];l||(l=[],r[a]=l),l.push(((n+o)*e+(n+s))*4+3),o>0&&l.push(((n-o)*e+(n+s))*4+3),s>0&&(l.push(((n+o)*e+(n-s))*4+3),o>0&&l.push(((n-o)*e+(n-s))*4+3))}let i=[];for(let o=0,s=r.length;o<s;++o)r[o]&&i.push(...r[o]);return hM[n]=i,i}var mF=dM;var pM=class extends Ww{constructor(e,t,r,i,o,s,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=r,this.transform_=i,this.transformRotation_=i?Nu(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Ii()}drawImages_(e,t,r,i){if(!this.image_)return;let o=Go(e,t,r,i,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,d=o.length;u<d;u+=2){let f=o[u]-this.imageAnchorX_,h=o[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let g=f+this.imageAnchorX_,_=h+this.imageAnchorY_;Wi(a,g,_,1,1,c,-g,-_),s.save(),s.transform.apply(s,a),s.translate(g,_),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,h,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(e,t,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let o=Go(e,t,r,i,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<r;t+=i){let l=o[t]+this.textOffsetX_,c=o[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(l-this.textOffsetX_,c-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c))}}moveToLineTo_(e,t,r,i,o){let s=this.context_,a=Go(e,t,r,i,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let c=2;c<l;c+=2)s.lineTo(a[c],a[c+1]);return o&&s.closePath(),r}drawRings_(e,t,r,i){for(let o=0,s=r.length;o<s;++o)t=this.moveToLineTo_(e,t,r[o],i,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cr(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=S8(e,this.transform_,this.pixelCoordinates_),r=t[2]-t[0],i=t[3]-t[1],o=Math.sqrt(r*r+i*i),s=this.context_;s.beginPath(),s.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}drawFeature(e,t){let r=t.getGeometryFunction()(e);r&&(this.setStyle(t),this.drawGeometry(r))}drawGeometryCollection(e){let t=e.getGeometriesArray();for(let r=0,i=t.length;r<i;++r)this.drawGeometry(t[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),this.text_!==""&&this.drawText_(t,0,t.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),this.text_!==""&&this.drawText_(t,0,t.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cr(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,r=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){let t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getExtent();if(cr(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let r=this.context_,i=e.getFlatCoordinates(),o=0,s=e.getEnds(),a=e.getStride();r.beginPath();for(let l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(i,o,s[l],a,!1);r.stroke()}if(this.text_!==""){let r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_,r=e.getOrientedFlatCoordinates(),i=0,o=e.getEndss(),s=e.getStride();t.beginPath();for(let a=0,l=o.length;a<l;++a){let c=o[a];i=this.drawRings_(r,i,c,s)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){let t=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let t=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,t.lineCap=e.lineCap),ro(r.lineDash,e.lineDash)||t.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let t=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:Yu;r?(r.font!=e.font&&(r.font=e.font,t.font=e.font),r.textAlign!=i&&(r.textAlign=i,t.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=i,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{let r=e.getColor();this.fillState_={fillStyle:zo(r||_i)}}if(!t)this.strokeState_=null;else{let r=t.getColor(),i=t.getLineCap(),o=t.getLineDash(),s=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),u=o||Vo;this.strokeState_={lineCap:i!==void 0?i:xl,lineDash:this.pixelRatio_===1?u:u.map(d=>d*this.pixelRatio_),lineDashOffset:(s||Ho)*this.pixelRatio_,lineJoin:a!==void 0?a:bl,lineWidth:(l!==void 0?l:Ac)*this.pixelRatio_,miterLimit:c!==void 0?c:Dc,strokeStyle:zo(r||Tc)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}let r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=t[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/r,s[1]*this.pixelRatio_/r],this.imageWidth_=t[0]*r}setTextStyle(e){if(!e)this.text_="";else{let t=e.getFill();if(!t)this.textFillState_=null;else{let h=t.getColor();this.textFillState_={fillStyle:zo(h||_i)}}let r=e.getStroke();if(!r)this.textStrokeState_=null;else{let h=r.getColor(),g=r.getLineCap(),_=r.getLineDash(),y=r.getLineDashOffset(),v=r.getLineJoin(),E=r.getWidth(),S=r.getMiterLimit();this.textStrokeState_={lineCap:g!==void 0?g:xl,lineDash:_||Vo,lineDashOffset:y||Ho,lineJoin:v!==void 0?v:bl,lineWidth:E!==void 0?E:Ac,miterLimit:S!==void 0?S:Dc,strokeStyle:zo(h||Tc)}}let i=e.getFont(),o=e.getOffsetX(),s=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),d=e.getTextAlign(),f=e.getTextBaseline();this.textState_={font:i!==void 0?i:Aw,textAlign:d!==void 0?d:Yu,textBaseline:f!==void 0?f:Ad},this.text_=u!==void 0?Array.isArray(u)?u.reduce((h,g,_)=>h+=_%2?" ":g,""):u:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}},_F=pM;var Na=.5;function yF(n,e,t,r,i,o,s,a,l){let c=l?ju(i,l):i,u=n[0]*Na,d=n[1]*Na,f=Bn(u,d);f.imageSmoothingEnabled=!1;let h=f.canvas,g=new _F(f,Na,i,null,s,a,l?wd(Cc(),l):null),_=t.length,y=Math.floor((256*256*256-1)/_),v={};for(let S=1;S<=_;++S){let I=t[S-1],R=I.getStyleFunction()||r;if(!R)continue;let V=R(I,o);if(!V)continue;Array.isArray(V)||(V=[V]);let F=(S*y).toString(16).padStart(7,"#00000");for(let k=0,N=V.length;k<N;++k){let A=V[k],x=A.getGeometryFunction()(I);if(!x||!cr(c,x.getExtent()))continue;let O=A.clone(),$=O.getFill();$&&$.setColor(F);let Z=O.getStroke();Z&&(Z.setColor(F),Z.setLineDash(null)),O.setText(void 0);let se=A.getImage();if(se){let ee=se.getImageSize();if(!ee)continue;let pe=Bn(ee[0],ee[1],void 0,{alpha:!1}),M=pe.canvas;pe.fillStyle=F,pe.fillRect(0,0,M.width,M.height),O.setImage(new Xu({img:M,anchor:se.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:se.getOrigin(),opacity:1,size:se.getSize(),scale:se.getScale(),rotation:se.getRotation(),rotateWithView:se.getRotateWithView()}))}let K=O.getZIndex()||0,te=v[K];te||(te={},v[K]=te,te.Polygon=[],te.Circle=[],te.LineString=[],te.Point=[]);let W=x.getType();if(W==="GeometryCollection"){let ee=x.getGeometriesArrayRecursive();for(let pe=0,M=ee.length;pe<M;++pe){let z=ee[pe];te[z.getType().replace("Multi","")].push(z,O)}}else te[W.replace("Multi","")].push(x,O)}}let E=Object.keys(v).map(Number).sort(ko);for(let S=0,I=E.length;S<I;++S){let R=v[E[S]];for(let V in R){let j=R[V];for(let F=0,k=j.length;F<k;F+=2){g.setStyle(j[F+1]);for(let N=0,A=e.length;N<A;++N)g.setTransform(e[N]),g.drawGeometry(j[F])}}}return f.getImageData(0,0,h.width,h.height)}function vF(n,e,t){let r=[];if(t){let i=Math.floor(Math.round(n[0])*Na),o=Math.floor(Math.round(n[1])*Na),s=(an(i,0,t.width-1)+an(o,0,t.height-1)*t.width)*4,a=t.data[s],l=t.data[s+1],u=t.data[s+2]+256*(l+256*a),d=Math.floor((256*256*256-1)/e.length);u&&u%d===0&&r.push(e[u/d-1])}return r}var UJ=.5,wF={Point:$J,LineString:HJ,Polygon:YJ,MultiPoint:ZJ,MultiLineString:qJ,MultiPolygon:WJ,GeometryCollection:VJ,Circle:GJ};function xF(n,e){return parseInt(St(n),10)-parseInt(St(e),10)}function gM(n,e){let t=mM(n,e);return t*t}function mM(n,e){return UJ*n/e}function GJ(n,e,t,r,i){let o=t.getFill(),s=t.getStroke();if(o||s){let l=n.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(e,r,i)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r)}}function _M(n,e,t,r,i,o,s,a){let l=[],c=t.getImage();if(c){let f=!0,h=c.getImageState();h==mt.LOADED||h==mt.ERROR?f=!1:h==mt.IDLE&&c.load(),f&&l.push(c.ready())}let u=t.getFill();u&&u.loading()&&l.push(u.ready());let d=l.length>0;return d&&Promise.all(l).then(()=>i(null)),zJ(n,e,t,r,o,s,a),d}function zJ(n,e,t,r,i,o,s){let a=t.getGeometryFunction()(e);if(!a)return;let l=a.simplifyTransformed(r,i);if(t.getRenderer())bF(n,l,t,e,s);else{let u=wF[l.getType()];u(n,l,t,e,s,o)}}function bF(n,e,t,r,i){if(e.getType()=="GeometryCollection"){let s=e.getGeometries();for(let a=0,l=s.length;a<l;++a)bF(n,s[a],t,r,i);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,r,t.getRenderer(),t.getHitDetectionRenderer(),i)}function VJ(n,e,t,r,i,o){let s=e.getGeometriesArray(),a,l;for(a=0,l=s.length;a<l;++a){let c=wF[s[a].getType()];c(n,s[a],t,r,i,o)}}function HJ(n,e,t,r,i){let o=t.getStroke();if(o){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,r,i)}let s=t.getText();if(s&&s.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,r,i)}}function qJ(n,e,t,r,i){let o=t.getStroke();if(o){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,r,i)}let s=t.getText();if(s&&s.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,r,i)}}function WJ(n,e,t,r,i){let o=t.getFill(),s=t.getStroke();if(s||o){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(e,r,i)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r,i)}}function $J(n,e,t,r,i,o){let s=t.getImage(),a=t.getText(),l=a&&a.getText(),c=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=mt.LOADED)return;let u=n.getBuilder(t.getZIndex(),"Image");u.setImageStyle(s,c),u.drawPoint(e,r,i)}if(l){let u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,r,i)}}function ZJ(n,e,t,r,i,o){let s=t.getImage(),a=s&&s.getOpacity()!==0,l=t.getText(),c=l&&l.getText(),u=o&&a&&c?{}:void 0;if(a){if(s.getImageState()!=mt.LOADED)return;let d=n.getBuilder(t.getZIndex(),"Image");d.setImageStyle(s,u),d.drawMultiPoint(e,r,i)}if(c){let d=n.getBuilder(t.getZIndex(),"Text");d.setTextStyle(l,u),d.drawText(e,r,i)}}function YJ(n,e,t,r,i){let o=t.getFill(),s=t.getStroke();if(o||s){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(e,r,i)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r,i)}}var yM=class extends qw{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Fr(),this.wrappedRenderedExtent_=Fr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,r){let i=t.extent,o=t.viewState,s=o.center,a=o.resolution,l=o.projection,c=o.rotation,u=l.getExtent(),d=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),h=t.pixelRatio,g=t.viewHints,_=!(g[mi.ANIMATING]||g[mi.INTERACTING]),y=this.context,v=Math.round(Ht(i)/a*h),E=Math.round(pr(i)/a*h),S=d.getWrapX()&&l.canWrapX(),I=S?Ht(u):null,R=S?Math.ceil((i[2]-u[2])/I)+1:1,V=S?Math.floor((i[0]-u[0])/I):0;do{let j=this.getRenderTransform(s,a,0,h,v,E,V*I);t.declutter&&(j=j.slice(0)),e.execute(y,[y.canvas.width,y.canvas.height],j,c,_,r===void 0?eh:r?fM:gF,r?f&&t.declutter[f]:void 0)}while(++V<R)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Bn(this.context.canvas.width,this.context.canvas.height,ZT))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){let e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Sd(this.context),ZT.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){let r=e.layerStatesArray[e.layerIndex];this.opacity_=r.opacity;let i=e.viewState;this.prepareContainer(e,t);let o=this.context,s=this.replayGroup_,a=s&&!s.isEmpty();if(!a&&!(this.getLayer().hasListener(Zi.PRERENDER)||this.getLayer().hasListener(Zi.POSTRENDER)))return this.container;this.setDrawContext_(),this.preRender(o,e);let l=i.projection;if(this.clipped_=!1,a&&r.extent&&this.clipping){let c=Ks(r.extent,l);a=cr(c,e.extent),this.clipped_=a&&!fd(c,e.extent),this.clipped_&&this.clipUnrotated(o,e,c)}return a&&this.renderWorlds(s,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let r=this.frameState.size.slice(),i=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],d=r[0]*Na,f=r[1]*Na;u.push(this.getRenderTransform(i,o,s,Na,d,f,0).slice());let h=c.getSource(),g=a.getExtent();if(h.getWrapX()&&a.canWrapX()&&!fd(g,l)){let y=l[0],v=Ht(g),E=0,S;for(;y<g[0];)--E,S=v*E,u.push(this.getRenderTransform(i,o,s,Na,d,f,S).slice()),y+=v;for(E=0,y=l[2];y>g[2];)++E,S=v*E,u.push(this.getRenderTransform(i,o,s,Na,d,f,S).slice()),y-=v}let _=Cc();this.hitDetectionImageData_=yF(r,u,this.renderedFeatures_,c.getStyleFunction(),l,o,s,gM(o,this.renderedPixelRatio_),_?a:null)}t(vF(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,r,i,o){if(!this.replayGroup_)return;let s=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),c={},u=function(f,h,g){let _=St(f),y=c[_];if(y){if(y!==!0&&g<y.distanceSq){if(g===0)return c[_]=!0,o.splice(o.lastIndexOf(y),1),i(f,l,h);y.geometry=h,y.distanceSq=g}}else{if(g===0)return c[_]=!0,i(f,l,h);o.push(c[_]={feature:f,layer:l,geometry:h,distanceSq:g,callback:i})}},d=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,s,a,r,u,d?t.declutter?.[d]?.all().map(f=>f.value):null)}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let t=this.getLayer(),r=t.getSource();if(!r)return!1;let i=e.viewHints[mi.ANIMATING],o=e.viewHints[mi.INTERACTING],s=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!s&&i||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=e.extent,c=e.viewState,u=c.projection,d=c.resolution,f=e.pixelRatio,h=t.getRevision(),g=t.getRenderBuffer(),_=t.getRenderOrder();_===void 0&&(_=xF);let y=c.center.slice(),v=Pu(l,g*d),E=v.slice(),S=[v.slice()],I=u.getExtent();if(r.getWrapX()&&u.canWrapX()&&!fd(I,e.extent)){let Z=Ht(I),se=Math.max(Ht(v)/2,Z);v[0]=I[0]-se,v[2]=I[2]+se,Z2(y,u);let K=qI(S[0],u);K[0]<I[0]&&K[2]<I[2]?S.push([K[0]+Z,K[1],K[2]+Z,K[3]]):K[0]>I[0]&&K[2]>I[2]&&S.push([K[0]-Z,K[1],K[2]-Z,K[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==h&&this.renderedRenderOrder_==_&&this.renderedFrameDeclutter_===!!e.declutter&&fd(this.wrappedRenderedExtent_,v))return ro(this.renderedExtent_,E)||(this.hitDetectionImageData_=null,this.renderedExtent_=E),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let R=new uF(mM(d,f),v,d,f),V=Cc(),j;if(V){for(let Z=0,se=S.length;Z<se;++Z){let K=S[Z],te=ju(K,u);r.loadFeatures(te,_8(d,u),V)}j=wd(V,u)}else for(let Z=0,se=S.length;Z<se;++Z)r.loadFeatures(S[Z],d,u);let F=gM(d,f),k=!0,N=(Z,se)=>{let K,te=Z.getStyleFunction()||t.getStyleFunction();if(te&&(K=te(Z,d)),K){let W=this.renderFeature(Z,F,K,R,j,this.getLayer().getDeclutter(),se);k=k&&!W}},A=ju(v,u),x=r.getFeaturesInExtent(A);_&&x.sort(_);for(let Z=0,se=x.length;Z<se;++Z)N(x[Z],Z);this.renderedFeatures_=x,this.ready=k;let O=R.finish(),$=new mF(v,d,f,r.getOverlaps(),O,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=h,this.renderedRenderOrder_=_,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=E,this.wrappedRenderedExtent_=v,this.renderedCenter_=y,this.renderedProjection_=u,this.renderedPixelRatio_=f,this.replayGroup_=$,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,r,i,o,s,a){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let c=0,u=r.length;c<u;++c)l=_M(i,e,r[c],t,this.boundHandleStyleImageChange_,o,s,a)||l;else l=_M(i,e,r,t,this.boundHandleStyleImageChange_,o,s,a);return l}},EF=yM;var vM=class extends Fw{constructor(e){super(e)}createRenderer(){return new EF(this)}},Pd=vM;var XJ=!1;function KJ(n,e,t,r,i,o,s){let a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,r,i):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=XJ,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?o(e.readFeatures(u,{extent:t,featureProjection:i}),e.readProjection(u)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function wM(n,e){return function(t,r,i,o,s){KJ(n,e,t,r,i,(a,l)=>{this.addFeatures(a),o!==void 0&&o(a)},()=>{this.changed(),s!==void 0&&s()})}}function SF(n,e){return[[-1/0,-1/0,1/0,1/0]]}var xM=class n extends Jr{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){let t=e;this.setGeometry(t)}else{let t=e;this.setProperties(t)}}clone(){let e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(sn(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=jt(e,Je.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?JJ(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function JJ(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(Vt(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}var Br=xM;function $w(n,e,t,r){let i=[],o=Fr();for(let s=0,a=t.length;s<a;++s){let l=t[s];o=Sp(n,e,l[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return i}function Ld(n,e,t,r,i,o,s){let a,l,c=(t-e)/r;if(c===1)a=e;else if(c===2)a=e,l=i;else if(c!==0){let u=n[e],d=n[e+1],f=0,h=[0];for(let y=e+r;y<t;y+=r){let v=n[y],E=n[y+1];f+=Math.sqrt((v-u)*(v-u)+(E-d)*(E-d)),h.push(f),u=v,d=E}let g=i*f,_=TO(h,g);_<0?(l=(g-h[-_-2])/(h[-_-1]-h[-_-2]),a=e+(-_-2)*r):a=e+_*r}s=s>1?s:2,o=o||new Array(s);for(let u=0;u<s;++u)o[u]=a===void 0?NaN:l===void 0?n[a+u]:qi(n[a+u],n[a+r+u],l);return o}function Zw(n,e,t,r,i,o){if(t==e)return null;let s;if(i<n[e+r-1])return o?(s=n.slice(e,e+r),s[r-1]=i,s):null;if(n[t-1]<i)return o?(s=n.slice(t-r,t),s[r-1]=i,s):null;if(i==n[e+r-1])return n.slice(e,e+r);let a=e/r,l=t/r;for(;a<l;){let f=a+l>>1;i<n[(f+1)*r-1]?l=f:a=f+1}let c=n[a*r-1];if(i==c)return n.slice((a-1)*r,(a-1)*r+r);let u=n[(a+1)*r-1],d=(i-c)/(u-c);s=[];for(let f=0;f<r-1;++f)s.push(qi(n[(a-1)*r+f],n[a*r+f],d));return s.push(i),s}function CF(n,e,t,r,i,o,s){if(s)return Zw(n,e,t[t.length-1],r,i,o);let a;if(i<n[r-1])return o?(a=n.slice(0,r),a[r-1]=i,a):null;if(n[n.length-1]<i)return o?(a=n.slice(n.length-r),a[r-1]=i,a):null;for(let l=0,c=t.length;l<c;++l){let u=t[l];if(e!=u){if(i<n[e+r-1])return null;if(i<=n[u-1])return Zw(n,e,u,r,i,!1);e=u}}return null}var Yw=class n extends io{constructor(e,t,r){super(),r!==void 0&&t===void 0?this.setFlatCoordinates(r,e):(t=t||0,this.setCenterAndRadius(e,t,r))}clone(){let e=new n(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,i){let o=this.flatCoordinates,s=e-o[0],a=t-o[1],l=s*s+a*a;if(l<i){if(l===0)for(let c=0;c<this.stride;++c)r[c]=o[c];else{let c=this.getRadius()/Math.sqrt(l);r[0]=o[0]+c*s,r[1]=o[1]+c*a;for(let u=2;u<this.stride;++u)r[u]=o[u]}return r.length=this.stride,l}return i}containsXY(e,t){let r=this.flatCoordinates,i=e-r[0],o=t-r[1];return i*i+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){let t=this.flatCoordinates,r=t[this.stride]-t[0];return Co(t[0]-r,t[1]-r,t[0]+r,t[1]+r,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){let e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){let t=this.getExtent();if(cr(e,t)){let r=this.getCenter();return e[0]<=r[0]&&e[2]>=r[0]||e[1]<=r[1]&&e[3]>=r[1]?!0:Cp(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){let t=this.stride,r=this.flatCoordinates[t]-this.flatCoordinates[0],i=e.slice();i[t]=i[0]+r;for(let o=1;o<t;++o)i[t+o]=e[o];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(e,t,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]);let i=this.flatCoordinates,o=aw(i,0,e,this.stride);i[o++]=i[0]+t;for(let s=1,a=this.stride;s<a;++s)i[o++]=i[s];i.length=o,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){let r=this.getCenter(),i=this.getStride();this.setCenter(Pp(r,0,r.length,i,e,t,r)),this.changed()}};Yw.prototype.transform;var IF=Yw;var EM=class n extends sw{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(sn),this.changeEventsKeys_.length=0}listenGeometriesChange_(){let e=this.geometries_;for(let t=0,r=e.length;t<r;++t)this.changeEventsKeys_.push(jt(e[t],Je.CHANGE,this.changed,this))}clone(){let e=new n(bM(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,r,i){if(i<Fo(this.getExtent(),e,t))return i;let o=this.geometries_;for(let s=0,a=o.length;s<a;++s)i=o[s].closestPointXY(e,t,r,i);return i}containsXY(e,t){let r=this.geometries_;for(let i=0,o=r.length;i<o;++i)if(r[i].containsXY(e,t))return!0;return!1}computeExtent(e){wc(e);let t=this.geometries_;for(let r=0,i=t.length;r<i;++r)q2(e,t[r].getExtent());return e}getGeometries(){return bM(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[],t=this.geometries_;for(let r=0,i=t.length;r<i;++r)t[r].getType()===this.getType()?e=e.concat(t[r].getGeometriesArrayRecursive()):e.push(t[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=[],r=this.geometries_,i=!1;for(let o=0,s=r.length;o<s;++o){let a=r[o],l=a.getSimplifiedGeometry(e);t.push(l),l!==a&&(i=!0)}return i?new n(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){let t=this.geometries_;for(let r=0,i=t.length;r<i;++r)if(t[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){let r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].rotate(e,t);this.changed()}scale(e,t,r){r||(r=jo(this.getExtent()));let i=this.geometries_;for(let o=0,s=i.length;o<s;++o)i[o].scale(e,t,r);this.changed()}setGeometries(e){this.setGeometriesArray(bM(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){let t=this.geometries_;for(let r=0,i=t.length;r<i;++r)t[r].applyTransform(e);this.changed()}translate(e,t){let r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}};function bM(n){return n.map(e=>e.clone())}var Yi=EM;var SM=class n extends io{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){tn(this.flatCoordinates,e),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,i){return i<Fo(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(z0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),H0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,r,i))}forEachSegment(e){return hw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,Zw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Js(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Ld(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Jp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){let t=[];return t.length=Ed(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return X0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=bd(this.flatCoordinates,0,e,this.stride),this.changed()}},vi=SM;var CM=class n extends io{constructor(e,t,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&r)this.setFlatCoordinates(t,e),this.ends_=r;else{let i=e,o=[],s=[];for(let l=0,c=i.length;l<c;++l){let u=i[l];tn(o,u.getFlatCoordinates()),s.push(o.length)}let a=i.length===0?this.getLayout():i[0].getLayout();this.setFlatCoordinates(a,o),this.ends_=s}}appendLineString(e){tn(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,r,i){return i<Fo(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(V0(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),q0(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,r,i))}getCoordinateAtM(e,t,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,r=r!==void 0?r:!1,CF(this.flatCoordinates,0,this.ends_,this.stride,e,t,r))}getCoordinates(){return Gu(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new vi(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){let e=this.flatCoordinates,t=this.ends_,r=this.layout,i=[],o=0;for(let s=0,a=t.length;s<a;++s){let l=t[s],c=new vi(e.slice(o,l),r);i.push(c),o=l}return i}getLength(){let e=this.ends_,t=0,r=0;for(let i=0,o=e.length;i<o;++i)r+=Jp(this.flatCoordinates,t,e[i],this.stride),t=e[i];return r}getFlatMidpoints(){let e=[],t=this.flatCoordinates,r=0,i=this.ends_,o=this.stride;for(let s=0,a=i.length;s<a;++s){let l=i[s],c=Ld(t,r,l,o,.5);tn(e,c),r=l}return e}getSimplifiedGeometryInternal(e){let t=[],r=[];return t.length=cw(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,r),new n(t,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return N8(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let r=Uu(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}},Wo=CM;var IM=class n extends io{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){tn(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,i){if(i<Fo(this.getExtent(),e,t))return i;let o=this.flatCoordinates,s=this.stride;for(let a=0,l=o.length;a<l;a+=s){let c=Oo(e,t,o[a],o[a+1]);if(c<i){i=c;for(let u=0;u<s;++u)r[u]=o[a+u];r.length=s}}return i}getCoordinates(){return Js(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){let t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Di(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){let e=this.flatCoordinates,t=this.layout,r=this.stride,i=[];for(let o=0,s=e.length;o<s;o+=r){let a=new Di(e.slice(o,o+r),t);i.push(a)}return i}getType(){return"MultiPoint"}intersectsExtent(e){let t=this.flatCoordinates,r=this.stride;for(let i=0,o=t.length;i<o;i+=r){let s=t[i],a=t[i+1];if(k0(e,s,a))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=bd(this.flatCoordinates,0,e,this.stride),this.changed()}},Pa=IM;var DM=class n extends io{constructor(e,t,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=e,o=[],s=[];for(let a=0,l=i.length;a<l;++a){let c=i[a],u=o.length,d=c.getEnds();for(let f=0,h=d.length;f<h;++f)d[f]+=u;tn(o,c.getFlatCoordinates()),s.push(d)}t=i.length===0?this.getLayout():i[0].getLayout(),e=o,r=s}t!==void 0&&r?(this.setFlatCoordinates(t,e),this.endss_=r):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{let r=this.flatCoordinates.length;tn(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let i=0,o=t.length;i<o;++i)t[i]+=r}this.endss_.push(t),this.changed()}clone(){let e=this.endss_.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=this.endss_[i].slice();let r=new n(this.flatCoordinates.slice(),this.layout,t);return r.applyProperties(this),r}closestPointXY(e,t,r,i){return i<Fo(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(D8(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),T8(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,i))}containsXY(e,t){return R8(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return C8(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),J0(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,W0(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){let e=$w(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=uw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Pa(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;dw(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=J0(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],r=[];return t.length=M8(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,r),new n(t,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{let o=this.endss_[e-1];t=o[o.length-1]}let r=this.endss_[e].slice(),i=r[r.length-1];if(t!==0)for(let o=0,s=r.length;o<s;++o)r[o]-=t;return new $i(this.flatCoordinates.slice(t,i),this.layout,r)}getPolygons(){let e=this.layout,t=this.flatCoordinates,r=this.endss_,i=[],o=0;for(let s=0,a=r.length;s<a;++s){let l=r[s].slice(),c=l[l.length-1];if(o!==0)for(let d=0,f=l.length;d<f;++d)l[d]-=o;let u=new $i(t.slice(o,c),e,l);i.push(u),o=c}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return P8(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);let r=lw(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{let i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}},La=DM;var DF=Ii(),D1=class n{constructor(e,t,r,i,o,s){this.styleFunction,this.extent_,this.id_=s,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r||null,this.properties_=o,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?H2(this.flatCoordinates_):Sp(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=jo(this.getExtent());this.flatInteriorPoints_=Y0(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=k8(this.flatCoordinates_,this.ends_),t=$w(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=uw(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Ld(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,t=0,r=this.ends_;for(let i=0,o=r.length;i<o;++i){let s=r[i],a=Ld(e,t,s,2,.5);tn(this.flatMidpoints_,a),t=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=hn(e);let t=e.getExtent(),r=e.getWorldExtent();if(t&&r){let i=pr(r)/pr(t);Wi(DF,r[0],r[3],i,-i,0,0,0),Go(this.flatCoordinates_,0,this.flatCoordinates_.length,2,DF,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new n(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=k2((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);let r=this.simplifiedGeometry_.getFlatCoordinates(),i;switch(this.type_){case"LineString":r.length=Ed(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,r,0),i=[r.length];break;case"MultiLineString":i=[],r.length=cw(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,r,0,i);break;case"Polygon":i=[],r.length=$0(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),r,0,i);break;default:}return i&&(this.simplifiedGeometry_=new n(this.type_,r,i,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}};D1.prototype.getFlatCoordinates=D1.prototype.getOrientedFlatCoordinates;var ka=D1;var TM=class{constructor(e){this.rbush_=new qp(e),this.items_={}}insert(e,t){let r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[St(t)]=r}load(e,t){let r=new Array(t.length);for(let i=0,o=t.length;i<o;i++){let s=e[i],a=t[i],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};r[i]=l,this.items_[St(a)]=l}this.rbush_.load(r)}remove(e){let t=St(e),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null}update(e,t){let r=this.items_[St(t)],i=[r.minX,r.minY,r.maxX,r.maxY];xc(i,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){let t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let r;for(let i=0,o=e.length;i<o;i++)if(r=t(e[i]),r)return r;return r}isEmpty(){return ms(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let t=this.rbush_.toJSON();return Co(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(let t in e.items_)this.items_[t]=e.items_[t]}},MM=TM;var AM=class extends Jr{constructor(e){super(),this.projection=hn(e.projection),this.attributions_=TF(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;let t=this;this.viewPromise_=new Promise(function(r,i){t.viewResolver=r,t.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=TF(e),this.changed()}setState(e){this.state_=e,this.changed()}};function TF(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}var Xw=AM;var bs={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};var Il=class extends Kr{constructor(e,t,r){super(e),this.feature=t,this.features=r}},RM=class extends Xw{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=vc,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Vt(this.format_,"`format` must be set when `url` is set"),this.loader_=wM(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:SF;let t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new MM:null,this.loadedExtentsRtree_=new MM,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!t&&r===void 0&&(r=new Vi(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=St(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let r=e.getGeometry();if(r){let i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Il(bs.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof ka||(this.featureChangeKeys_[e]=[jt(t,Je.CHANGE,this.handleFeatureChange_,this),jt(t,Sa.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let r=!0;if(t.getId()!==void 0){let i=String(t.getId());if(!(i in this.idIndex_))this.idIndex_[i]=t;else if(t instanceof ka){let o=this.idIndex_[i];o instanceof ka?Array.isArray(o)?o.push(t):this.idIndex_[i]=[o,t]:r=!1}else r=!1}return r&&(Vt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],r=[],i=[];for(let o=0,s=e.length;o<s;o++){let a=e[o],l=St(a);this.addToIndex_(l,a)&&r.push(a)}for(let o=0,s=r.length;o<s;o++){let a=r[o],l=St(a);this.setupChangeEvents_(l,a);let c=a.getGeometry();if(c){let u=c.getExtent();t.push(u),i.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(bs.ADDFEATURE))for(let o=0,s=r.length;o<s;o++)this.dispatchEvent(new Il(bs.ADDFEATURE,r[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(bs.ADDFEATURE,function(r){t||(t=!0,e.push(r.feature),t=!1)}),this.addEventListener(bs.REMOVEFEATURE,function(r){t||(t=!0,e.remove(r.feature),t=!1)}),e.addEventListener(Ci.ADD,r=>{t||(t=!0,this.addFeature(r.element),t=!1)}),e.addEventListener(Ci.REMOVE,r=>{t||(t=!0,this.removeFeature(r.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(sn);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(r=>{this.removeFeatureInternal(r)});for(let r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new Il(bs.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){let o=i.getGeometry();if(o instanceof ka||o.intersectsCoordinate(e))return t(i)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(r){let i=r.getGeometry();if(i instanceof ka||i.intersectsExtent(e)){let o=t(r);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ms(this.nullGeometryFeatures_)||tn(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){t.push(r)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);let i=W2(e,t);return[].concat(...i.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let r=e[0],i=e[1],o=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return t=t||Ca,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){let u=c.getGeometry(),d=a;if(a=u instanceof ka?0:u.closestPointXY(r,i,s,a),a<d){o=c;let f=Math.sqrt(a);l[0]=r-f,l[1]=i-f,l[2]=r+f,l[3]=i+f}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,r=St(t),i=t.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);else{let s=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(s,t)):this.featuresRtree_&&this.featuresRtree_.update(s,t)}let o=t.getId();if(o!==void 0){let s=o.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new Il(bs.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return t!==void 0?t in this.idIndex_:St(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ms(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,r){let i=this.loadedExtentsRtree_,o=this.strategy_(e,t,r);for(let s=0,a=o.length;s<a;++s){let l=o[s];i.forEachInExtent(l,function(u){return fd(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Il(bs.FEATURESLOADSTART)),this.loader_.call(this,l,t,r,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new Il(bs.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Il(bs.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t=this.loadedExtentsRtree_,r=t.forEachInExtent(e,function(i){if(xc(i.extent,e))return i});r&&t.remove(r)}removeFeatures(e){let t=!1;for(let r=0,i=e.length;r<i;++r)t=this.removeFeatureInternal(e[r])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=St(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(sn),delete this.featureChangeKeys_[t];let i=e.getId();if(i!==void 0){let o=i.toString(),s=this.idIndex_[o];s===e?delete this.idIndex_[o]:Array.isArray(s)&&(s.splice(s.indexOf(e),1),s.length===1&&(this.idIndex_[o]=s[0]))}return delete this.uidIndex_[t],this.hasListener(bs.REMOVEFEATURE)&&this.dispatchEvent(new Il(bs.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(let t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Vt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(wM(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}},kc=RM;var eg=[0,0,0],th=5,NM=class{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Vt(RO(this.resolutions_,(i,o)=>o-i,!0),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let i=0,o=this.resolutions_.length-1;i<o;++i)if(!t)t=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Vt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ys(r)),Vt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Vt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:256,Vt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,o)=>{let s=new zw(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){let a=this.getTileRangeForExtentAndZ(r,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,t,r){let i=this.getTileRangeForExtentAndZ(e,t);for(let o=i.minX,s=i.maxX;o<=s;++o)for(let a=i.minY,l=i.maxY;a<=l;++a)r([t,o,a])}forEachTileCoordParentTileRange(e,t,r,i){let o,s,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(s=e[1],a=e[2]):l=this.getTileCoordExtent(e,i);c>=this.minZoom;){if(s!==void 0&&a!==void 0?(s=Math.floor(s/2),a=Math.floor(a/2),o=Rd(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(l,c,r),t(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){let o=e[1]*2,s=e[2]*2;return Rd(o,o+1,s,s+1,t)}let i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,r){if(t>this.maxZoom||t<this.minZoom)return null;let i=e[0],o=e[1],s=e[2];if(t===i)return Rd(o,s,o,s,r);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,t-i),c=Math.floor(o*l),u=Math.floor(s*l);if(t<i)return Rd(c,c,u,u,r);let d=Math.floor(l*(o+1))-1,f=Math.floor(l*(s+1))-1;return Rd(c,d,u,f,r)}let a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,r)}getTileRangeForExtentAndZ(e,t,r){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,eg);let i=eg[1],o=eg[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,eg);let s=eg[1],a=eg[2];return Rd(i,s,o,a,r)}getTileCoordCenter(e){let t=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Ir(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*r,t[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,t){let r=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=Ir(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*o[0]*i,a=r[1]-(e[2]+1)*o[1]*i,l=s+o[0]*i,c=a+o[1]*i;return Co(s,a,l,c,t)}getTileCoordForCoordAndResolution(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)}getTileCoordForXYAndResolution_(e,t,r,i,o){let s=this.getZForResolution(r),a=r/this.getResolution(s),l=this.getOrigin(s),c=Ir(this.getTileSize(s),this.tmpSize_),u=a*(e-l[0])/r/c[0],d=a*(l[1]-t)/r/c[1];return i?(u=P0(u,th)-1,d=P0(d,th)-1):(u=N0(u,th),d=N0(d,th)),Yp(s,u,d,o)}getTileCoordForXYAndZ_(e,t,r,i,o){let s=this.getOrigin(r),a=this.getResolution(r),l=Ir(this.getTileSize(r),this.tmpSize_),c=(e-s[0])/a/l[0],u=(s[1]-t)/a/l[1];return i?(c=P0(c,th)-1,u=P0(u,th)-1):(c=N0(c,th),u=N0(u,th)),Yp(r,c,u,o)}getTileCoordForCoordAndZ(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){let r=wp(this.resolutions_,e,t||0);return an(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return gD(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){let t=this.resolutions_.length,r=new Array(t);for(let i=this.minZoom;i<t;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}},PM=NM;function Kw(n){let e=n.getDefaultTileGrid();return e||(e=eQ(n),n.setDefaultTileGrid(e)),e}function MF(n,e,t){let r=e[0],i=n.getTileCoordCenter(e),o=Jw(t);if(!Da(o,i)){let s=Ht(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,n.getTileCoordForCoordAndZ(i,r)}return e}function QJ(n,e,t,r){r=r!==void 0?r:"top-left";let i=RF(n,e,t);return new PM({extent:n,origin:VO(n,r),resolutions:i,tileSize:t})}function AF(n){let e=n||{},t=e.extent||hn("EPSG:3857").getExtent(),r={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:RF(t,e.maxZoom,e.tileSize,e.maxResolution)};return new PM(r)}function RF(n,e,t,r){e=e!==void 0?e:42,t=Ir(t!==void 0?t:256);let i=pr(n),o=Ht(n);r=r>0?r:Math.max(o/t[0],i/t[1]);let s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=r/Math.pow(2,l);return a}function eQ(n,e,t,r){let i=Jw(n);return QJ(i,e,t,r)}function Jw(n){n=hn(n);let e=n.getExtent();if(!e){let t=180*bc.degrees/n.getMetersPerUnit();e=Co(-t,-t,t,t)}return e}var tQ=/\{z\}/g,nQ=/\{x\}/g,rQ=/\{y\}/g,iQ=/\{-y\}/g;function NF(n,e,t,r,i){return n.replace(tQ,e.toString()).replace(nQ,t.toString()).replace(rQ,r.toString()).replace(iQ,function(){if(i===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-r).toString()})}function PF(n){let e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){let r=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o;for(o=r;o<=i;++o)e.push(n.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){let r=parseInt(t[2],10);for(let i=parseInt(t[1],10);i<=r;i++)e.push(n.replace(t[0],i.toString()));return e}return e.push(n),e}function oQ(n,e){return(function(t,r,i){if(!t)return;let o,s=t[0];if(e){let a=e.getFullTileRange(s);a&&(o=a.getHeight()-1)}return NF(n,s,t[1],t[2],o)})}function LF(n,e){let t=n.length,r=new Array(t);for(let i=0;i<t;++i)r[i]=oQ(n[i],e);return sQ(r)}function sQ(n){return n.length===1?n[0]:(function(e,t,r){if(!e)return;let i=Q6(e),o=Ia(i,n.length);return n[o](e,t,r)})}var LM=class extends Xw{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;let t=[256,256];this.tileGrid&&Ir(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||St(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){let t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,r,i,o,s){return Qe()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Kw(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,r){let i=this.getTileGridForProjection(r),o=this.getTilePixelRatio(t),s=Ir(i.getTileSize(e),this.tmpSize);return o==1?s:m6(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){let r=t!==void 0?t:this.getProjection(),i=t!==void 0?this.getTileGridForProjection(r):this.tileGrid||this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=MF(i,e,r)),eF(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}},Qw=class extends Kr{constructor(e,t){super(e),this.tile=t}},kF=LM;var ex={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var kM=class n extends kF{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===n.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){let t=e.target,r=St(t),i=t.getState(),o;i==st.LOADING?(this.tileLoadingKeys_[r]=!0,o=ex.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],o=i==st.ERROR?ex.TILELOADERROR:i==st.LOADED?ex.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new Qw(o,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){let t=PF(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;let t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(LF(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,r){}},OF=kM;var OM=class extends OF{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:FM,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Uw,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!Fu(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){let t=this.getProjection();if(this.tileGrid&&(!t||Fu(t,e)))return this.tileGrid;let r=St(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Kw(e)),this.tileGridForProjection[r]}createTile_(e,t,r,i,o,s){let a=[e,t,r],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,i,o):void 0,u=new this.tileClass(a,c!==void 0?st.IDLE:st.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(Je.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,r,i,o,s){let a=this.getProjection();if(!a||!o||Fu(a,o))return this.getTileInternal(e,t,r,i,a||o);let l=[e,t,r],c=this.getKey(),u=this.getTileGridForProjection(a),d=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(l,o),h=new Vw(a,u,o,d,l,f,this.getTilePixelRatio(i),this.getGutter(),(g,_,y,v)=>this.getTileInternal(g,_,y,v,a,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return h.key=c,h}getTileInternal(e,t,r,i,o,s){let a=this.getKey(),l=Xp(this,a,e,t,r);if(s&&s.containsKey(l))return s.get(l);let c=this.createTile_(e,t,r,i,o,a);return s?.set(l,c),c}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){let r=hn(e);if(r){let i=St(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}};function FM(n,e){if(Or){let t=n.getCrossOrigin(),r="same-origin",i="same-origin";t==="anonymous"||t===""?(r="cors",i="omit"):t==="use-credentials"&&(r="cors",i="include"),fetch(e,{mode:r,credentials:i}).then(o=>{if(!o.ok)throw new Error(`HTTP ${o.status}`);return o.blob()}).then(o=>createImageBitmap(o)).then(o=>{let s=n.getImage();s.width=o.width,s.height=o.height,s.getContext("2d").drawImage(o,0,0),o.close?.(),s.dispatchEvent(new Event("load"))}).catch(()=>{n.getImage().dispatchEvent(new Event("error"))});return}n.getImage().src=e}var FF=OM;var jM=class extends FF{constructor(e){e=e||{};let t=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:AF({extent:Jw(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}},tx=jM;var UM='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',BM=class extends tx{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[UM];let r=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:(o,s)=>{let a=o.getImage();!Or&&a instanceof HTMLImageElement&&(a.referrerPolicy="origin-when-cross-origin"),(e.tileLoadFunction||FM)(o,s)},transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}},jF=BM;var GM=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Br,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let r=t.dataProjection?hn(t.dataProjection):this.readProjection(e);t.extent&&r&&r.getUnits()==="tile-pixels"&&(r=hn(r),r.setWorldExtent(t.extent)),t={dataProjection:r,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Qe()}readFeature(e,t){return Qe()}readFeatures(e,t){return Qe()}readGeometry(e,t){return Qe()}readProjection(e){return Qe()}writeFeature(e,t){return Qe()}writeFeatures(e,t){return Qe()}writeGeometry(e,t){return Qe()}},tg=GM;function Xi(n,e,t){let r=t?hn(t.featureProjection):null,i=t?hn(t.dataProjection):null,o=n;if(r&&i&&!Fu(r,i)){e&&(o=n.clone());let s=e?r:i,a=e?i:r;s.getUnits()==="tile-pixels"?o.transform(s,a):o.applyTransform(Sc(s,a))}if(e&&t&&t.decimals!==void 0){let s=Math.pow(10,t.decimals),a=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*s)/s;return l};o===n&&(o=n.clone()),o.applyTransform(a)}return o}var aQ={Point:Di,LineString:vi,Polygon:$i,MultiPoint:Pa,MultiLineString:Wo,MultiPolygon:La};function lQ(n,e,t){return Array.isArray(e[0])?(dw(n,0,e,t)||(n=n.slice(),J0(n,0,e,t)),n):(K0(n,0,e,t)||(n=n.slice(),Lp(n,0,e,t)),n)}function zM(n,e){let t=n.geometry;if(!t)return[];if(Array.isArray(t))return t.map(o=>zM(ln(Ze({},n),{geometry:o}))).flat();let r=t.type==="MultiPolygon"?"Polygon":t.type;if(r==="GeometryCollection"||r==="Circle")throw new Error("Unsupported geometry type: "+r);let i=t.layout.length;return Xi(new ka(r,r==="Polygon"?lQ(t.flatCoordinates,t.ends,i):t.flatCoordinates,t.ends?.flat(),i,n.properties||{},n.id).enableSimplifyTransformed(),!1,e)}function nx(n,e){if(!n)return null;if(Array.isArray(n)){let r=n.map(i=>nx(i,e));return new Yi(r)}let t=aQ[n.type];return Xi(new t(n.flatCoordinates,n.layout||"XY",n.ends),!1,e)}var VM=class extends tg{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(rx(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(rx(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Qe()}readFeaturesFromObject(e,t){return Qe()}readGeometry(e,t){return this.readGeometryFromObject(rx(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Qe()}readProjection(e){return this.readProjectionFromObject(rx(e))}readProjectionFromObject(e){return Qe()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Qe()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Qe()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Qe()}};function rx(n){if(typeof n=="string"){let e=JSON.parse(n);return e||null}return n!==null?n:null}var BF=VM;var HM=class extends BF{constructor(e){e=e||{},super(),this.dataProjection=hn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=hn(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let r=null;e.type==="Feature"?r=e:r={type:"Feature",geometry:e,properties:null};let i=WM(r.geometry,t);if(this.featureClass===ka)return zM({geometry:i,id:r.id,properties:r.properties},t);let o=new Br;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&r.geometry_name&&o.setGeometryName(r.geometry_name),o.setGeometry(nx(i,t)),"id"in r&&o.setId(r.id),r.properties&&o.setProperties(r.properties,!0),o}readFeaturesFromObject(e,t){let r=e,i=null;if(r.type==="FeatureCollection"){let o=e;i=[];let s=o.features;for(let a=0,l=s.length;a<l;++a){let c=this.readFeatureFromObject(s[a],t);c&&i.push(c)}}else i=[this.readFeatureFromObject(e,t)];return i.flat()}readGeometryFromObject(e,t){return cQ(e,t)}readProjectionFromObject(e){let t=e.crs,r;if(t)if(t.type=="name")r=hn(t.properties.name);else if(t.type==="EPSG")r=hn("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else r=this.dataProjection;return r}writeFeatureObject(e,t){t=this.adaptOptions(t);let r={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(r.id=i),!e.hasProperties())return r;let o=e.getProperties(),s=e.getGeometry();return s&&(r.geometry=qM(s,t),delete o[e.getGeometryName()]),ms(o)||(r.properties=o),r}writeFeaturesObject(e,t){t=this.adaptOptions(t);let r=[];for(let i=0,o=e.length;i<o;++i)r.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,t){return qM(e,this.adaptOptions(t))}};function WM(n,e){if(!n)return null;let t;switch(n.type){case"Point":{t=hQ(n);break}case"LineString":{t=dQ(n);break}case"Polygon":{t=mQ(n);break}case"MultiPoint":{t=pQ(n);break}case"MultiLineString":{t=fQ(n);break}case"MultiPolygon":{t=gQ(n);break}case"GeometryCollection":{t=uQ(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return t}function cQ(n,e){let t=WM(n,e);return nx(t,e)}function uQ(n,e){return n.geometries.map(function(r){return WM(r,e)})}function hQ(n){let e=n.coordinates;return{type:"Point",flatCoordinates:e,layout:Bu(e.length)}}function dQ(n){let e=n.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:Bu(e[0]?.length||2)}}function fQ(n){let e=n.coordinates,t=e[0]?.[0]?.length||2,r=[],i=Uu(r,0,e,t);return{type:"MultiLineString",flatCoordinates:r,ends:i,layout:Bu(t)}}function pQ(n){let e=n.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:Bu(e[0]?.length||2)}}function gQ(n){let e=n.coordinates,t=[],r=e[0]?.[0]?.[0].length||2,i=lw(t,0,e,r);return{type:"MultiPolygon",flatCoordinates:t,ends:i,layout:Bu(r)}}function mQ(n){let e=n.coordinates,t=[],r=e[0]?.[0]?.length,i=Uu(t,0,e,r);return{type:"Polygon",flatCoordinates:t,ends:i,layout:Bu(r)}}function qM(n,e){n=Xi(n,!0,e);let t=n.getType(),r;switch(t){case"Point":{r=bQ(n,e);break}case"LineString":{r=yQ(n,e);break}case"Polygon":{r=EQ(n,e);break}case"MultiPoint":{r=wQ(n,e);break}case"MultiLineString":{r=vQ(n,e);break}case"MultiPolygon":{r=xQ(n,e);break}case"GeometryCollection":{r=_Q(n,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return r}function _Q(n,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:n.getGeometriesArray().map(function(r){return qM(r,e)})}}function yQ(n,e){return{type:"LineString",coordinates:n.getCoordinates()}}function vQ(n,e){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function wQ(n,e){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function xQ(n,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function bQ(n,e){return{type:"Point",coordinates:n.getCoordinates()}}function EQ(n,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}var $o=HM;var ng="http://www.w3.org/2001/XMLSchema-instance";function Oc(n,e){return kd().createElementNS(n,e)}function Es(n,e){return UF(n,e,[]).join("")}function UF(n,e,t){if(n.nodeType==Node.CDATA_SECTION_NODE||n.nodeType==Node.TEXT_NODE)e?t.push(String(n.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(n.nodeValue);else{let r;for(r=n.firstChild;r;r=r.nextSibling)UF(r,e,t)}return t}function ea(n){return"documentElement"in n}function ta(n){return new DOMParser().parseFromString(n,"application/xml")}function YM(n,e){return(function(t,r){let i=n.call(e??this,t,r);if(i!==void 0){let o=r[r.length-1];tn(o,i)}})}function Ss(n,e){return(function(t,r){let i=n.call(e??this,t,r);i!==void 0&&r[r.length-1].push(i)})}function ix(n,e){return(function(t,r){let i=n.call(e??this,t,r);i!==void 0&&(r[r.length-1]=i)})}function Pe(n,e,t){return(function(r,i){let o=n.call(t??this,r,i);if(o!==void 0){let s=i[i.length-1],a=e!==void 0?e:r.localName;s[a]=o}})}function Ge(n,e){return(function(t,r,i){n.call(e??this,t,r,i),i[i.length-1].node.appendChild(t)})}function XM(n,e){let t,r;return function(i,o,s){if(t===void 0){t={};let a={};a[i.localName]=n,t[i.namespaceURI]=a,r=Cs(i.localName)}GF(t,r,o,s)}}function Cs(n,e){return(function(t,r,i){let s=r[r.length-1].node,a=n;a===void 0&&(a=i);let l=e!==void 0?e:s.namespaceURI;return Oc(l,a)})}var Mi=Cs();function ao(n,e){let t=e.length,r=new Array(t);for(let i=0;i<t;++i)r[i]=n[e[i]];return r}function $e(n,e,t){t=t!==void 0?t:{};let r,i;for(r=0,i=n.length;r<i;++r)t[n[r]]=e;return t}function Dl(n,e,t,r){let i;for(i=e.firstElementChild;i;i=i.nextElementSibling){let o=n[i.namespaceURI];if(o!==void 0){let s=o[i.localName];s!==void 0&&s.call(r,i,t)}}}function on(n,e,t,r,i){return r.push(n),Dl(e,t,r,i),r.pop()}function GF(n,e,t,r,i,o){let s=(i!==void 0?i:t).length,a,l;for(let c=0;c<s;++c)a=t[c],a!==void 0&&(l=e.call(o,a,r,i!==void 0?i[c]:void 0),l!==void 0&&n[l.namespaceURI][l.localName].call(o,l,a,r))}function Hn(n,e,t,r,i,o,s){return i.push(n),GF(e,t,r,i,o,s),i.pop()}var $M;function zF(){return $M===void 0&&typeof XMLSerializer<"u"&&($M=new XMLSerializer),$M}var ZM;function kd(){return ZM===void 0&&typeof document<"u"&&(ZM=document.implementation.createDocument("","",null)),ZM}var KM=class extends tg{constructor(){super(),this.xmlSerializer_=zF()}getType(){return"xml"}readFeature(e,t){if(!e)return null;if(typeof e=="string"){let r=ta(e);return this.readFeatureFromDocument(r,t)}return ea(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){let r=this.readFeaturesFromDocument(e,t);return r.length>0?r[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if(typeof e=="string"){let r=ta(e);return this.readFeaturesFromDocument(r,t)}return ea(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){let r=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&tn(r,this.readFeaturesFromNode(i,t));return r}readFeaturesFromNode(e,t){return Qe()}readGeometry(e,t){if(!e)return null;if(typeof e=="string"){let r=ta(e);return this.readGeometryFromDocument(r,t)}return ea(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if(typeof e=="string"){let t=ta(e);return this.readProjectionFromDocument(t)}return ea(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){let r=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(r)}writeFeatureNode(e,t){return null}writeFeatures(e,t){let r=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(r)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){let r=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(r)}writeGeometryNode(e,t){return null}},ox=KM;function Fc(n){let e=Es(n,!1);return SQ(e)}function SQ(n){let e=/^\s*(true|1)|(false|0)\s*$/.exec(n);if(e)return e[1]!==void 0||!1}function T1(n){let e=Es(n,!1),t=Date.parse(e);return isNaN(t)?void 0:t/1e3}function bn(n){let e=Es(n,!1);return CQ(e)}function CQ(n){let e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(n);if(e)return parseFloat(e[1])}function rg(n){let e=Es(n,!1);return IQ(e)}function IQ(n){let e=/^\s*(\d+)\s*$/.exec(n);if(e)return parseInt(e[1],10)}function $t(n){return Es(n,!1).trim()}function Od(n,e){In(n,e?"1":"0")}function DQ(n,e){n.appendChild(kd().createCDATASection(e))}function VF(n,e){let t=new Date(e*1e3),r=t.getUTCFullYear()+"-"+Ip(t.getUTCMonth()+1,2)+"-"+Ip(t.getUTCDate(),2)+"T"+Ip(t.getUTCHours(),2)+":"+Ip(t.getUTCMinutes(),2)+":"+Ip(t.getUTCSeconds(),2)+"Z";n.appendChild(kd().createTextNode(r))}function lo(n,e){let t=e.toPrecision();n.appendChild(kd().createTextNode(t))}function M1(n,e){let t=e.toString();n.appendChild(kd().createTextNode(t))}var TQ=/^\s/,MQ=/\s$/,AQ=/(\n|\t|\r|<|&| {2})/;function In(n,e){typeof e=="string"&&(TQ.test(e)||MQ.test(e)||AQ.test(e))?e.split("]]>").forEach((t,r,i)=>{r<i.length-1&&(t+="]]"),r>0&&(t=">"+t),DQ(n,t)}):n.appendChild(kd().createTextNode(e))}var jc=["http://www.google.com/kml/ext/2.2"],at=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],RQ="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",HF={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},NQ=$e(at,{ExtendedData:u7,Region:h7,MultiGeometry:Pe(a7,"geometry"),LineString:Pe(o7,"geometry"),LinearRing:Pe(s7,"geometry"),Point:Pe(l7,"geometry"),Polygon:Pe(c7,"geometry"),Style:Pe(lA),StyleMap:pee,address:Pe($t),description:Pe($t),name:Pe($t),open:Pe(Fc),phoneNumber:Pe($t),styleUrl:Pe(e7),visibility:Pe(Fc)},$e(jc,{MultiTrack:Pe(tee,"geometry"),Track:Pe(i7,"geometry")})),PQ=$e(at,{ExtendedData:u7,Region:h7,Link:Iee,address:Pe($t),description:Pe($t),name:Pe($t),open:Pe(Fc),phoneNumber:Pe($t),visibility:Pe(Fc)}),LQ=$e(at,{href:Pe(QF)}),kQ=$e(at,{Altitude:Pe(bn),Longitude:Pe(bn),Latitude:Pe(bn),Tilt:Pe(bn),AltitudeMode:Pe($t),Heading:Pe(bn),Roll:Pe(bn)}),XF=$e(at,{LatLonAltBox:vee,Lod:xee}),OQ=$e(at,["Document","Placemark"]),FQ=$e(at,{Document:Ge(Lee),Placemark:Ge(p7)}),ig,ax=null;var eA,A1,R1,N1,cx,tA=null;var sA,nA=null;var rA,Fd=null;var qF=null;var iA=null;function ux(n){return 32/Math.min(n[0],n[1])}function jQ(){ig=[255,255,255,1],ax=new ei({color:ig}),eA=[20,2],A1="pixels",R1="pixels",N1=[64,64],cx="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",tA=new Xu({anchor:eA,anchorOrigin:"bottom-left",anchorXUnits:A1,anchorYUnits:R1,crossOrigin:"anonymous",rotation:0,scale:ux(N1),size:N1,src:cx}),sA="NO_IMAGE",nA=new yi({color:ig,width:1}),rA=new yi({color:[51,51,51,1],width:2}),Fd=new v1({font:"bold 16px Helvetica",fill:ax,stroke:rA,scale:.8}),qF=new jr({fill:ax,image:tA,text:Fd,stroke:nA,zIndex:0}),iA=[qF]}var sx;function BQ(n){return n}var oA=class extends ox{constructor(e){super(),e=e||{},iA||jQ(),this.dataProjection=hn("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:iA,this.extractStyles_=e.extractStyles!==void 0?e.extractStyles:!0,this.writeStyles_=e.writeStyles!==void 0?e.writeStyles:!0,this.sharedStyles_={},this.showPointNames_=e.showPointNames!==void 0?e.showPointNames:!0,this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:BQ,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,t){let r=$e(at,{Document:YM(this.readDocumentOrFolder_,this),Folder:YM(this.readDocumentOrFolder_,this),Placemark:Ss(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),i=on([],r,e,t,this);if(i)return i}readPlacemark_(e,t){let r=on({geometry:null},NQ,e,t,this);if(!r)return;let i=new Br,o=e.getAttribute("id");o!==null&&i.setId(o);let s=t[0],a=r.geometry;if(a&&Xi(a,!1,s),i.setGeometry(a),delete r.geometry,this.extractStyles_){let l=r.Style,c=r.styleUrl,u=GQ(l,c,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);i.setStyle(u)}return delete r.Style,i.setProperties(r,!0),i}readSharedStyle_(e,t){let r=e.getAttribute("id");if(r!==null){let i=lA.call(this,e,t);if(i){let o,s=e.baseURI;(!s||s=="about:blank")&&(s=window.location.href),s?o=new URL("#"+r,s).href:o="#"+r,this.sharedStyles_[o]=i}}}readSharedStyleMap_(e,t){let r=e.getAttribute("id");if(r===null)return;let i=n7.call(this,e,t);if(!i)return;let o,s=e.baseURI;(!s||s=="about:blank")&&(s=window.location.href),s?o=new URL("#"+r,s).href:o="#"+r,this.sharedStyles_[o]=i}readFeatureFromNode(e,t){if(!at.includes(e.namespaceURI))return null;let r=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return r||null}readFeaturesFromNode(e,t){if(!at.includes(e.namespaceURI))return[];let r,i=e.localName;if(i=="Document"||i=="Folder")return r=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]),r||[];if(i=="Placemark"){let o=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return o?[o]:[]}if(i=="kml"){r=[];for(let o=e.firstElementChild;o;o=o.nextElementSibling){let s=this.readFeaturesFromNode(o,t);s&&tn(r,s)}return r}return[]}readName(e){if(e){if(typeof e=="string"){let t=ta(e);return this.readNameFromDocument(t)}return ea(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}readNameFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){let r=this.readNameFromNode(t);if(r)return r}}readNameFromNode(e){for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(at.includes(t.namespaceURI)&&t.localName=="name")return $t(t);for(let t=e.firstElementChild;t;t=t.nextElementSibling){let r=t.localName;if(at.includes(t.namespaceURI)&&(r=="Document"||r=="Folder"||r=="Placemark"||r=="kml")){let i=this.readNameFromNode(t);if(i)return i}}}readNetworkLinks(e){let t=[];if(typeof e=="string"){let r=ta(e);tn(t,this.readNetworkLinksFromDocument(r))}else ea(e)?tn(t,this.readNetworkLinksFromDocument(e)):tn(t,this.readNetworkLinksFromNode(e));return t}readNetworkLinksFromDocument(e){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&tn(t,this.readNetworkLinksFromNode(r));return t}readNetworkLinksFromNode(e){let t=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(at.includes(r.namespaceURI)&&r.localName=="NetworkLink"){let i=on({},PQ,r,[]);t.push(i)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){let i=r.localName;at.includes(r.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")&&tn(t,this.readNetworkLinksFromNode(r))}return t}readRegion(e){let t=[];if(typeof e=="string"){let r=ta(e);tn(t,this.readRegionFromDocument(r))}else ea(e)?tn(t,this.readRegionFromDocument(e)):tn(t,this.readRegionFromNode(e));return t}readRegionFromDocument(e){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&tn(t,this.readRegionFromNode(r));return t}readRegionFromNode(e){let t=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(at.includes(r.namespaceURI)&&r.localName=="Region"){let i=on({},XF,r,[]);t.push(i)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){let i=r.localName;at.includes(r.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")&&tn(t,this.readRegionFromNode(r))}return t}readCamera(e){let t=[];if(typeof e=="string"){let r=ta(e);tn(t,this.readCameraFromDocument(r))}else ea(e)?tn(t,this.readCameraFromDocument(e)):tn(t,this.readCameraFromNode(e));return t}readCameraFromDocument(e){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType===Node.ELEMENT_NODE&&tn(t,this.readCameraFromNode(r));return t}readCameraFromNode(e){let t=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(at.includes(r.namespaceURI)&&r.localName==="Camera"){let i=on({},kQ,r,[]);t.push(i)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){let i=r.localName;at.includes(r.namespaceURI)&&(i==="Document"||i==="Folder"||i==="Placemark"||i==="kml")&&tn(t,this.readCameraFromNode(r))}return t}writeFeaturesNode(e,t){t=this.adaptOptions(t);let r=Oc(at[4],"kml"),i="http://www.w3.org/2000/xmlns/";r.setAttributeNS(i,"xmlns:gx",jc[0]),r.setAttributeNS(i,"xmlns:xsi",ng),r.setAttributeNS(ng,"xsi:schemaLocation",RQ);let o={node:r},s={};e.length>1?s.Document=e:e.length==1&&(s.Placemark=e[0]);let a=OQ[r.namespaceURI],l=ao(s,a);return Hn(o,FQ,Mi,l,[t],a,this),r}};function UQ(n,e){let t=[0,0],r="start",i=n.getImage();if(i){let a=i.getSize();if(a&&a.length==2){let l=i.getScaleArray(),c=i.getAnchor();t[0]=l[0]*(a[0]-c[0]),t[1]=l[1]*(a[1]/2-c[1]),r="left"}}let o=n.getText();return o?(o=o.clone(),o.setFont(o.getFont()||Fd.getFont()),o.setScale(o.getScale()||Fd.getScale()),o.setFill(o.getFill()||Fd.getFill()),o.setStroke(o.getStroke()||rA)):o=Fd.clone(),o.setText(e),o.setOffsetX(t[0]),o.setOffsetY(t[1]),o.setTextAlign(r),new jr({image:i,text:o})}function GQ(n,e,t,r,i){return(function(o,s){let a=i,l="",c=[];if(a){let d=o.getGeometry();if(d)if(d instanceof Yi)c=d.getGeometriesArrayRecursive().filter(function(f){let h=f.getType();return h==="Point"||h==="MultiPoint"}),a=c.length>0;else{let f=d.getType();a=f==="Point"||f==="MultiPoint"}}a&&(l=o.get("name"),a=a&&!!l,a&&/&[^&]+;/.test(l)&&(sx||(sx=document.createElement("textarea")),sx.innerHTML=l,l=sx.value));let u=t;if(n?u=n:e&&(u=KF(e,t,r)),a){let d=UQ(u[0],l);if(c.length>0){d.setGeometry(new Yi(c));let f=new jr({geometry:u[0].getGeometry(),image:null,fill:u[0].getFill(),stroke:u[0].getStroke(),text:null});return[d,f].concat(u.slice(1))}return d}return u})}function KF(n,e,t){return Array.isArray(n)?n:typeof n=="string"?KF(t[n],e,t):e}function hx(n){let e=Es(n,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(t){let r=t[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}}function JF(n){let e=Es(n,!1),t=[];e=e.replace(/\s*,\s*/g,",");let r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i,i;for(;i=r.exec(e);){let o=parseFloat(i[1]),s=parseFloat(i[2]),a=i[3]?parseFloat(i[3]):0;t.push(o,s,a),e=e.substr(i[0].length)}if(e==="")return t}function QF(n){let e=Es(n,!1).trim(),t=n.baseURI;return(!t||t=="about:blank")&&(t=window.location.href),t?new URL(e,t).href:e}function e7(n){let e=Es(n,!1).trim().replace(/^(?!.*#)/,"#"),t=n.baseURI;return(!t||t=="about:blank")&&(t=window.location.href),t?new URL(e,t).href:e}function zQ(n){let e=n.getAttribute("xunits"),t=n.getAttribute("yunits"),r;return e!=="insetPixels"?t!=="insetPixels"?r="bottom-left":r="top-left":t!=="insetPixels"?r="bottom-right":r="top-right",{x:parseFloat(n.getAttribute("x")),xunits:HF[e],y:parseFloat(n.getAttribute("y")),yunits:HF[t],origin:r}}function t7(n){return bn(n)}var VQ=$e(at,{Pair:fee});function n7(n,e){return on(void 0,VQ,n,e,this)}var HQ=$e(at,{Icon:Pe(iee),color:Pe(hx),heading:Pe(bn),hotSpot:Pe(zQ),scale:Pe(t7)});function qQ(n,e){let t=on({},HQ,n,e);if(!t)return;let r=e[e.length-1],i="Icon"in t?t.Icon:{},o=!("Icon"in t)||Object.keys(i).length>0,s,a=i.href;a?s=a:o&&(s=cx);let l,c,u,d="bottom-left",f=t.hotSpot;f?(l=[f.x,f.y],c=f.xunits,u=f.yunits,d=f.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(s)&&(s.includes("pushpin")?(l=eA,c=A1,u=R1):s.includes("arrow-reverse")?(l=[54,42],c=A1,u=R1):s.includes("paddle")&&(l=[32,1],c=A1,u=R1));let h,g=i.x,_=i.y;g!==void 0&&_!==void 0&&(h=[g,_]);let y,v=i.w,E=i.h;v!==void 0&&E!==void 0&&(y=[v,E]);let S,I=t.heading;I!==void 0&&(S=_s(I));let R=t.scale,V=t.color;if(o){s==cx&&(y=N1);let j=new Xu({anchor:l,anchorOrigin:d,anchorXUnits:c,anchorYUnits:u,crossOrigin:this.crossOrigin_,offset:h,offsetOrigin:"bottom-left",rotation:S,scale:R,size:y,src:this.iconUrlFunction_(s),color:V}),F=j.getScaleArray()[0],k=j.getSize();if(k===null){let N=j.getImageState();if(N===mt.IDLE||N===mt.LOADING){let A=function(){let x=j.getImageState();if(!(x===mt.IDLE||x===mt.LOADING)){let O=j.getSize();if(O&&O.length==2){let $=ux(O);j.setScale(F*$)}j.unlistenImageChange(A)}};j.listenImageChange(A),N===mt.IDLE&&j.load()}}else if(k.length==2){let N=ux(k);j.setScale(F*N)}r.imageStyle=j}else r.imageStyle=sA}var WQ=$e(at,{color:Pe(hx),scale:Pe(t7)});function $Q(n,e){let t=on({},WQ,n,e);if(!t)return;let r=e[e.length-1],i=new v1({fill:new ei({color:"color"in t?t.color:ig}),scale:t.scale});r.textStyle=i}var ZQ=$e(at,{color:Pe(hx),width:Pe(bn)});function YQ(n,e){let t=on({},ZQ,n,e);if(!t)return;let r=e[e.length-1],i=new yi({color:"color"in t?t.color:ig,width:"width"in t?t.width:1});r.strokeStyle=i}var XQ=$e(at,{color:Pe(hx),fill:Pe(Fc),outline:Pe(Fc)});function KQ(n,e){let t=on({},XQ,n,e);if(!t)return;let r=e[e.length-1],i=new ei({color:"color"in t?t.color:ig});r.fillStyle=i;let o=t.fill;o!==void 0&&(r.fill=o);let s=t.outline;s!==void 0&&(r.outline=s)}var JQ=$e(at,{coordinates:ix(JF)});function r7(n,e){return on(null,JQ,n,e)}function QQ(n,e){let r=e[e.length-1].coordinates,i=Es(n,!1),s=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i);if(s){let a=parseFloat(s[1]),l=parseFloat(s[2]),c=parseFloat(s[3]);r.push([a,l,c])}else r.push([])}var eee=$e(jc,{Track:Ss(i7)});function tee(n,e){let t=on([],eee,n,e);if(t)return new Wo(t)}var nee=$e(at,{when:Dee},$e(jc,{coord:QQ}));function i7(n,e){let t=on({coordinates:[],whens:[]},nee,n,e);if(!t)return;let r=[],i=t.coordinates,o=t.whens;for(let s=0,a=Math.min(i.length,o.length);s<a;++s)i[s].length==3&&r.push(i[s][0],i[s][1],i[s][2],o[s]);return new vi(r,"XYZM")}var ree=$e(at,{href:Pe(QF)},$e(jc,{x:Pe(bn),y:Pe(bn),w:Pe(bn),h:Pe(bn)}));function iee(n,e){let t=on({},ree,n,e);return t||null}var oee=$e(at,{coordinates:ix(JF)});function aA(n,e){return on(null,oee,n,e)}var dx=$e(at,{extrude:Pe(Fc),tessellate:Pe(Fc),altitudeMode:Pe($t)});function o7(n,e){let t=on({},dx,n,e),r=aA(n,e);if(r){let i=new vi(r,"XYZ");return i.setProperties(t,!0),i}}function s7(n,e){let t=on({},dx,n,e),r=aA(n,e);if(r){let i=new $i(r,"XYZ",[r.length]);return i.setProperties(t,!0),i}}var see=$e(at,{LineString:Ss(o7),LinearRing:Ss(s7),MultiGeometry:Ss(a7),Point:Ss(l7),Polygon:Ss(c7)});function a7(n,e){let t=on([],see,n,e);if(!t)return null;if(t.length===0)return new Yi(t);let r,i=!0,o=t[0].getType(),s;for(let a=1,l=t.length;a<l;++a)if(s=t[a],s.getType()!=o){i=!1;break}if(i){let a,l;if(o=="Point"){let c=t[0];a=c.getLayout(),l=c.getFlatCoordinates();for(let u=1,d=t.length;u<d;++u)s=t[u],tn(l,s.getFlatCoordinates());r=new Pa(l,a),JM(r,t)}else if(o=="LineString")r=new Wo(t),JM(r,t);else if(o=="Polygon")r=new La(t),JM(r,t);else if(o=="GeometryCollection"||o.startsWith("Multi"))r=new Yi(t);else throw new Error("Unknown geometry type found")}else r=new Yi(t);return r}function l7(n,e){let t=on({},dx,n,e),r=aA(n,e);if(r){let i=new Di(r,"XYZ");return i.setProperties(t,!0),i}}var aee=$e(at,{innerBoundaryIs:Eee,outerBoundaryIs:Cee});function c7(n,e){let t=on({},dx,n,e),r=on([null],aee,n,e);if(r&&r[0]){let i=r[0],o=[i.length];for(let a=1,l=r.length;a<l;++a)tn(i,r[a]),o.push(i.length);let s=new $i(i,"XYZ",o);return s.setProperties(t,!0),s}}var lee=$e(at,{IconStyle:qQ,LabelStyle:$Q,LineStyle:YQ,PolyStyle:KQ});function lA(n,e){let t=on({},lee,n,e,this);if(!t)return null;let r="fillStyle"in t?t.fillStyle:ax,i=t.fill;i!==void 0&&!i&&(r=null);let o;"imageStyle"in t?t.imageStyle!=sA&&(o=t.imageStyle):o=tA;let s="textStyle"in t?t.textStyle:Fd,a="strokeStyle"in t?t.strokeStyle:nA,l=t.outline;return l!==void 0&&!l?[new jr({geometry:function(c){let u=c.getGeometry(),d=u.getType();if(d==="GeometryCollection"){let f=u;return new Yi(f.getGeometriesArrayRecursive().filter(function(h){let g=h.getType();return g!=="Polygon"&&g!=="MultiPolygon"}))}if(d!=="Polygon"&&d!=="MultiPolygon")return u},fill:r,image:o,stroke:a,text:s,zIndex:void 0}),new jr({geometry:function(c){let u=c.getGeometry(),d=u.getType();if(d==="GeometryCollection"){let f=u;return new Yi(f.getGeometriesArrayRecursive().filter(function(h){let g=h.getType();return g==="Polygon"||g==="MultiPolygon"}))}if(d==="Polygon"||d==="MultiPolygon")return u},fill:r,stroke:null,zIndex:void 0})]:[new jr({fill:r,image:o,stroke:a,text:s,zIndex:void 0})]}function JM(n,e){let t=e.length,r=new Array(e.length),i=new Array(e.length),o=new Array(e.length),s,a,l;s=!1,a=!1,l=!1;for(let c=0;c<t;++c){let u=e[c];r[c]=u.get("extrude"),i[c]=u.get("tessellate"),o[c]=u.get("altitudeMode"),s=s||r[c]!==void 0,a=a||i[c]!==void 0,l=l||o[c]}s&&n.set("extrude",r),a&&n.set("tessellate",i),l&&n.set("altitudeMode",o)}var cee=$e(at,{displayName:Pe($t),value:Pe($t)});function uee(n,e){let t=n.getAttribute("name");Dl(cee,n,e);let r=e[e.length-1];t&&r.displayName?r[t]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:t!==null?r[t]=r.value:r.displayName!==null&&(r[r.displayName]=r.value),delete r.value}var hee=$e(at,{Data:uee,SchemaData:mee});function u7(n,e){Dl(hee,n,e)}function h7(n,e){Dl(XF,n,e)}var dee=$e(at,{Style:Pe(lA),key:Pe($t),styleUrl:Pe(e7)});function fee(n,e){let t=on({},dee,n,e,this);if(!t)return;let r=t.key;if(r&&r=="normal"){let i=t.styleUrl;i&&(e[e.length-1]=i);let o=t.Style;o&&(e[e.length-1]=o)}}function pee(n,e){let t=n7.call(this,n,e);if(!t)return;let r=e[e.length-1];if(Array.isArray(t))r.Style=t;else if(typeof t=="string")r.styleUrl=t;else throw new Error("`styleMapValue` has an unknown type")}var gee=$e(at,{SimpleData:_ee});function mee(n,e){Dl(gee,n,e)}function _ee(n,e){let t=n.getAttribute("name");if(t!==null){let r=$t(n),i=e[e.length-1];i[t]=r}}var yee=$e(at,{altitudeMode:Pe($t),minAltitude:Pe(bn),maxAltitude:Pe(bn),north:Pe(bn),south:Pe(bn),east:Pe(bn),west:Pe(bn)});function vee(n,e){let t=on({},yee,n,e);if(!t)return;let r=e[e.length-1],i=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];r.extent=i,r.altitudeMode=t.altitudeMode,r.minAltitude=parseFloat(t.minAltitude),r.maxAltitude=parseFloat(t.maxAltitude)}var wee=$e(at,{minLodPixels:Pe(bn),maxLodPixels:Pe(bn),minFadeExtent:Pe(bn),maxFadeExtent:Pe(bn)});function xee(n,e){let t=on({},wee,n,e);if(!t)return;let r=e[e.length-1];r.minLodPixels=parseFloat(t.minLodPixels),r.maxLodPixels=parseFloat(t.maxLodPixels),r.minFadeExtent=parseFloat(t.minFadeExtent),r.maxFadeExtent=parseFloat(t.maxFadeExtent)}var bee=$e(at,{LinearRing:Ss(r7)});function Eee(n,e){let t=on([],bee,n,e);t.length>0&&e[e.length-1].push(...t)}var See=$e(at,{LinearRing:ix(r7)});function Cee(n,e){let t=on(void 0,See,n,e);if(t){let r=e[e.length-1];r[0]=t}}function Iee(n,e){Dl(LQ,n,e)}function Dee(n,e){let r=e[e.length-1].whens,i=Es(n,!1),o=Date.parse(i);r.push(isNaN(o)?0:o)}function fx(n,e){let t=ws(e),i=[(t.length==4?t[3]:1)*255,t[2],t[1],t[0]];for(let o=0;o<4;++o){let s=Math.floor(i[o]).toString(16);i[o]=s.length==1?"0"+s:s}In(n,i.join(""))}function Tee(n,e,t){let r=t[t.length-1],i=r.layout,o=r.stride,s;if(i=="XY"||i=="XYM")s=2;else if(i=="XYZ"||i=="XYZM")s=3;else throw new Error("Invalid geometry layout");let a=e.length,l="";if(a>0){l+=e[0];for(let c=1;c<s;++c)l+=","+e[c];for(let c=o;c<a;c+=o){l+=" "+e[c];for(let u=1;u<s;++u)l+=","+e[c+u]}}In(n,l)}var lx=$e(at,{Data:Ge(Mee),value:Ge(Ree),displayName:Ge(Aee)});function Mee(n,e,t){n.setAttribute("name",e.name);let r={node:n},i=e.value;typeof i=="object"?(i!==null&&i.displayName&&Hn(r,lx,Mi,[i.displayName],t,["displayName"]),i!==null&&i.value&&Hn(r,lx,Mi,[i.value],t,["value"])):Hn(r,lx,Mi,[i],t,["value"])}function Aee(n,e){In(n,e)}function Ree(n,e){In(n,e)}var Nee=$e(at,{Placemark:Ge(p7)}),Pee=function(n,e,t){let r=e[e.length-1].node;return Oc(r.namespaceURI,"Placemark")};function Lee(n,e,t){Hn({node:n},Nee,Pee,e,t,void 0,this)}var kee=Cs("Data");function Oee(n,e,t){let r={node:n},i=e.names,o=e.values,s=i.length;for(let a=0;a<s;a++)Hn(r,lx,kee,[{name:i[a],value:o[a]}],t)}var WF=$e(at,["href"],$e(jc,["x","y","w","h"])),$F=$e(at,{href:Ge(In)},$e(jc,{x:Ge(lo),y:Ge(lo),w:Ge(lo),h:Ge(lo)})),Fee=function(n,e,t){return Oc(jc[0],"gx:"+t)};function jee(n,e,t){let r={node:n},i=t[t.length-1].node,o=WF[i.namespaceURI],s=ao(e,o);Hn(r,$F,Mi,s,t,o),o=WF[jc[0]],s=ao(e,o),Hn(r,$F,Fee,s,t,o)}var Bee=$e(at,["scale","heading","Icon","color","hotSpot"]),Uee=$e(at,{Icon:Ge(jee),color:Ge(fx),heading:Ge(lo),hotSpot:Ge(fte),scale:Ge(m7)});function Gee(n,e,t){let r={node:n},i={},o=e.getSrc(),s=e.getSize(),a=e.getImageSize(),l={href:o};if(s){l.w=s[0],l.h=s[1];let y=e.getAnchor(),v=e.getOrigin();if(v&&a&&v[0]!==0&&v[1]!==s[1]&&(l.x=v[0],l.y=a[1]-(v[1]+s[1])),y&&(y[0]!==s[0]/2||y[1]!==s[1]/2)){let E={x:y[0],xunits:"pixels",y:s[1]-y[1],yunits:"pixels"};i.hotSpot=E}}i.Icon=l;let c=e.getScaleArray()[0],u=s;if(u===null&&(u=N1),u.length==2){let y=ux(u);c=c/y}c!==1&&(i.scale=c);let d=e.getRotation();d!==0&&(i.heading=d);let f=e.getColor();f&&(i.color=f);let h=t[t.length-1].node,g=Bee[h.namespaceURI],_=ao(i,g);Hn(r,Uee,Mi,_,t,g)}var zee=$e(at,["color","scale"]),Vee=$e(at,{color:Ge(fx),scale:Ge(m7)});function Hee(n,e,t){let r={node:n},i={},o=e.getFill();o&&(i.color=o.getColor());let s=e.getScale();s&&s!==1&&(i.scale=s);let a=t[t.length-1].node,l=zee[a.namespaceURI],c=ao(i,l);Hn(r,Vee,Mi,c,t,l)}var qee=$e(at,["color","width"]),Wee=$e(at,{color:Ge(fx),width:Ge(lo)});function $ee(n,e,t){let r={node:n},i={color:e.getColor(),width:Number(e.getWidth())||1},o=t[t.length-1].node,s=qee[o.namespaceURI],a=ao(i,s);Hn(r,Wee,Mi,a,t,s)}var Zee={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},d7=function(n,e,t){if(n){let r=e[e.length-1].node;return Oc(r.namespaceURI,Zee[n.getType()])}},Yee=Cs("Point"),Xee=Cs("LineString"),Kee=Cs("LinearRing"),Jee=Cs("Polygon"),Qee=$e(at,{LineString:Ge(og),Point:Ge(og),Polygon:Ge(g7),GeometryCollection:Ge(f7)});function f7(n,e,t){let r={node:n},i=e.getType(),o=[],s;if(i==="GeometryCollection")e.getGeometriesArrayRecursive().forEach(function(a){let l=a.getType();if(l==="MultiPoint")o=o.concat(a.getPoints());else if(l==="MultiLineString")o=o.concat(a.getLineStrings());else if(l==="MultiPolygon")o=o.concat(a.getPolygons());else if(l==="Point"||l==="LineString"||l==="Polygon")o.push(a);else throw new Error("Unknown geometry type")}),s=d7;else if(i==="MultiPoint")o=e.getPoints(),s=Yee;else if(i==="MultiLineString")o=e.getLineStrings(),s=Xee;else if(i==="MultiPolygon")o=e.getPolygons(),s=Jee;else throw new Error("Unknown geometry type");Hn(r,Qee,s,o,t)}var ete=$e(at,{LinearRing:Ge(og)});function ZF(n,e,t){Hn({node:n},ete,Kee,[e],t)}var QM=$e(at,{ExtendedData:Ge(Oee),MultiGeometry:Ge(f7),LineString:Ge(og),LinearRing:Ge(og),Point:Ge(og),Polygon:Ge(g7),Style:Ge(dte),address:Ge(In),description:Ge(In),name:Ge(In),open:Ge(Od),phoneNumber:Ge(In),styleUrl:Ge(In),visibility:Ge(Od)}),tte=$e(at,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),nte=Cs("ExtendedData");function p7(n,e,t){let r={node:n};e.getId()&&n.setAttribute("id",e.getId());let i=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;let s=Object.keys(i||{}).sort().filter(function(h){return!o[h]}),a=e.getStyleFunction();if(a){let h=a(e,0);if(h){let g=Array.isArray(h)?h:[h],_=g;if(e.getGeometry()&&(_=g.filter(function(y){let v=y.getGeometryFunction()(e);if(v){let E=v.getType();return E==="GeometryCollection"?v.getGeometriesArrayRecursive().filter(function(S){let I=S.getType();return I==="Point"||I==="MultiPoint"}).length:E==="Point"||E==="MultiPoint"}})),this.writeStyles_){let y=g,v=g;e.getGeometry()&&(y=g.filter(function(E){let S=E.getGeometryFunction()(e);if(S){let I=S.getType();return I==="GeometryCollection"?S.getGeometriesArrayRecursive().filter(function(R){let V=R.getType();return V==="LineString"||V==="MultiLineString"}).length:I==="LineString"||I==="MultiLineString"}}),v=g.filter(function(E){let S=E.getGeometryFunction()(e);if(S){let I=S.getType();return I==="GeometryCollection"?S.getGeometriesArrayRecursive().filter(function(R){let V=R.getType();return V==="Polygon"||V==="MultiPolygon"}).length:I==="Polygon"||I==="MultiPolygon"}})),i.Style={pointStyles:_,lineStyles:y,polyStyles:v}}if(_.length&&i.name===void 0){let y=_[0].getText();y&&(i.name=y.getText())}}}let l=t[t.length-1].node,c=tte[l.namespaceURI],u=ao(i,c);if(Hn(r,QM,Mi,u,t,c),s.length>0){let h=ao(i,s);Hn(r,QM,nte,[{names:s,values:h}],t)}let d=t[0],f=e.getGeometry();f&&(f=Xi(f,!0,d)),Hn(r,QM,d7,[f],t)}var rte=$e(at,["extrude","tessellate","altitudeMode","coordinates"]),ite=$e(at,{extrude:Ge(Od),tessellate:Ge(Od),altitudeMode:Ge(In),coordinates:Ge(Tee)});function og(n,e,t){let r=e.getFlatCoordinates(),i={node:n};i.layout=e.getLayout(),i.stride=e.getStride();let o=e.getProperties();o.coordinates=r;let s=t[t.length-1].node,a=rte[s.namespaceURI],l=ao(o,a);Hn(i,ite,Mi,l,t,a)}var ote=$e(at,["color","fill","outline"]),YF=$e(at,{outerBoundaryIs:Ge(ZF),innerBoundaryIs:Ge(ZF)}),ste=Cs("innerBoundaryIs"),ate=Cs("outerBoundaryIs");function g7(n,e,t){let r=e.getLinearRings(),i=r.shift(),o={node:n};Hn(o,YF,ste,r,t),Hn(o,YF,ate,[i],t)}var lte=$e(at,{color:Ge(fx),fill:Ge(Od),outline:Ge(Od)});function cte(n,e,t){let r={node:n},i=e.getFill(),o=e.getStroke(),s={color:i?i.getColor():void 0,fill:i?void 0:!1,outline:o?void 0:!1},a=t[t.length-1].node,l=ote[a.namespaceURI],c=ao(s,l);Hn(r,lte,Mi,c,t,l)}function m7(n,e){lo(n,Math.round(e*1e6)/1e6)}var ute=$e(at,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),hte=$e(at,{IconStyle:Ge(Gee),LabelStyle:Ge(Hee),LineStyle:Ge($ee),PolyStyle:Ge(cte)});function dte(n,e,t){let r={node:n},i={};if(e.pointStyles.length){let l=e.pointStyles[0].getText();l&&(i.LabelStyle=l);let c=e.pointStyles[0].getImage();c&&typeof c.getSrc=="function"&&(i.IconStyle=c)}if(e.lineStyles.length){let l=e.lineStyles[0].getStroke();l&&(i.LineStyle=l)}if(e.polyStyles.length){let l=e.polyStyles[0].getStroke();l&&!i.LineStyle&&(i.LineStyle=l),i.PolyStyle=e.polyStyles[0]}let o=t[t.length-1].node,s=ute[o.namespaceURI],a=ao(i,s);Hn(r,hte,Mi,a,t,s)}function fte(n,e){n.setAttribute("x",String(e.x)),n.setAttribute("y",String(e.y)),n.setAttribute("xunits",e.xunits),n.setAttribute("yunits",e.yunits)}var px=oA;var gx=class{type="kml";import(e){return Ct(this,null,function*(){let t=yield e.text(),r=new px({extractStyles:!1}).readFeatures(t);return{geojson:new $o().writeFeaturesObject(r),crs:"EPSG:4326"}})}};function _7(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)n("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),n("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");n("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),n("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]}var Oa=1,Fa=2,Bc=3,y7=4,P1=5,cA=6378137,v7=6356752314e-3,uA=.0066943799901413165,jd=484813681109536e-20,Me=Math.PI/2,w7=.16666666666666666,x7=.04722222222222222,b7=.022156084656084655,Fe=1e-10,Xn=.017453292519943295,wi=57.29577951308232,_n=Math.PI/4,nh=Math.PI*2,yr=3.14159265359;var Zo={};Zo.greenwich=0;Zo.lisbon=-9.131906111111;Zo.paris=2.337229166667;Zo.bogota=-74.080916666667;Zo.madrid=-3.687938888889;Zo.rome=12.452333333333;Zo.bern=7.439583333333;Zo.jakarta=106.807719444444;Zo.ferro=-17.666666666667;Zo.brussels=4.367975;Zo.stockholm=18.058277777778;Zo.athens=23.7163375;Zo.oslo=10.722916666667;var E7=Zo;var S7={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var C7=/[\s_\-\/\(\)]/g;function Is(n,e){if(n[e])return n[e];for(var t=Object.keys(n),r=e.toLowerCase().replace(C7,""),i=-1,o,s;++i<t.length;)if(o=t[i],s=o.toLowerCase().replace(C7,""),s===r)return n[o]}function L1(n){var e={},t=n.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),r,i,o,s={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*Xn},lat_1:function(a){e.lat1=a*Xn},lat_2:function(a){e.lat2=a*Xn},lat_ts:function(a){e.lat_ts=a*Xn},lon_0:function(a){e.long0=a*Xn},lon_1:function(a){e.long1=a*Xn},lon_2:function(a){e.long2=a*Xn},alpha:function(a){e.alpha=parseFloat(a)*Xn},gamma:function(a){e.rectified_grid_angle=parseFloat(a)*Xn},lonc:function(a){e.longc=a*Xn},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=Is(S7,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*Xn},pm:function(a){var l=Is(E7,a);e.from_greenwich=(l||parseFloat(a))*Xn},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0},over:function(){e.over=!0}};for(r in t)i=t[r],r in s?(o=s[r],typeof o=="function"?o(i):e[o]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e.projStr=n,e}var hA=class{static getId(e){let t=e.find(r=>Array.isArray(r)&&r[0]==="ID");return t&&t.length>=3?{authority:t[1],code:parseInt(t[2],10)}:null}static convertUnit(e,t="unit"){if(!e||e.length<3)return{type:t,name:"unknown",conversion_factor:null};let r=e[1],i=parseFloat(e[2])||null,o=e.find(a=>Array.isArray(a)&&a[0]==="ID"),s=o?{authority:o[1],code:parseInt(o[2],10)}:null;return{type:t,name:r,conversion_factor:i,id:s}}static convertAxis(e){let t=e[1]||"Unknown",r,i=t.match(/^\((.)\)$/);if(i){let c=i[1].toUpperCase();if(c==="E")r="east";else if(c==="N")r="north";else if(c==="U")r="up";else throw new Error(`Unknown axis abbreviation: ${c}`)}else r=e[2]?e[2].toLowerCase():"unknown";let o=e.find(c=>Array.isArray(c)&&c[0]==="ORDER"),s=o?parseInt(o[1],10):null,a=e.find(c=>Array.isArray(c)&&(c[0]==="LENGTHUNIT"||c[0]==="ANGLEUNIT"||c[0]==="SCALEUNIT")),l=this.convertUnit(a);return{name:t,direction:r,unit:l,order:s}}static extractAxes(e){return e.filter(t=>Array.isArray(t)&&t[0]==="AXIS").map(t=>this.convertAxis(t)).sort((t,r)=>(t.order||0)-(r.order||0))}static convert(e,t={}){switch(e[0]){case"PROJCRS":t.type="ProjectedCRS",t.name=e[1],t.base_crs=e.find(h=>Array.isArray(h)&&h[0]==="BASEGEOGCRS")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="BASEGEOGCRS")):null,t.conversion=e.find(h=>Array.isArray(h)&&h[0]==="CONVERSION")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="CONVERSION")):null;let r=e.find(h=>Array.isArray(h)&&h[0]==="CS");r&&(t.coordinate_system={type:r[1],axis:this.extractAxes(e)});let i=e.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT");if(i){let h=this.convertUnit(i);t.coordinate_system.unit=h}t.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":t.type="GeographicCRS",t.name=e[1];let o=e.find(h=>Array.isArray(h)&&(h[0]==="DATUM"||h[0]==="ENSEMBLE"));if(o){let h=this.convert(o);o[0]==="ENSEMBLE"?t.datum_ensemble=h:t.datum=h;let g=e.find(_=>Array.isArray(_)&&_[0]==="PRIMEM");g&&g[1]!=="Greenwich"&&(h.prime_meridian={name:g[1],longitude:parseFloat(g[2])})}t.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},t.id=this.getId(e);break;case"DATUM":t.type="GeodeticReferenceFrame",t.name=e[1],t.ellipsoid=e.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":t.type="DatumEnsemble",t.name=e[1],t.members=e.filter(h=>Array.isArray(h)&&h[0]==="MEMBER").map(h=>({type:"DatumEnsembleMember",name:h[1],id:this.getId(h)}));let s=e.find(h=>Array.isArray(h)&&h[0]==="ENSEMBLEACCURACY");s&&(t.accuracy=parseFloat(s[1]));let a=e.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID");a&&(t.ellipsoid=this.convert(a)),t.id=this.getId(e);break;case"ELLIPSOID":t.type="Ellipsoid",t.name=e[1],t.semi_major_axis=parseFloat(e[2]),t.inverse_flattening=parseFloat(e[3]);let l=e.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT"),t):null;break;case"CONVERSION":t.type="Conversion",t.name=e[1],t.method=e.find(h=>Array.isArray(h)&&h[0]==="METHOD")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="METHOD")):null,t.parameters=e.filter(h=>Array.isArray(h)&&h[0]==="PARAMETER").map(h=>this.convert(h));break;case"METHOD":t.type="Method",t.name=e[1],t.id=this.getId(e);break;case"PARAMETER":t.type="Parameter",t.name=e[1],t.value=parseFloat(e[2]),t.unit=this.convertUnit(e.find(h=>Array.isArray(h)&&(h[0]==="LENGTHUNIT"||h[0]==="ANGLEUNIT"||h[0]==="SCALEUNIT"))),t.id=this.getId(e);break;case"BOUNDCRS":t.type="BoundCRS";let c=e.find(h=>Array.isArray(h)&&h[0]==="SOURCECRS");if(c){let h=c.find(g=>Array.isArray(g));t.source_crs=h?this.convert(h):null}let u=e.find(h=>Array.isArray(h)&&h[0]==="TARGETCRS");if(u){let h=u.find(g=>Array.isArray(g));t.target_crs=h?this.convert(h):null}let d=e.find(h=>Array.isArray(h)&&h[0]==="ABRIDGEDTRANSFORMATION");d?t.transformation=this.convert(d):t.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(t.type="Transformation",t.name=e[1],t.method=e.find(h=>Array.isArray(h)&&h[0]==="METHOD")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="METHOD")):null,t.parameters=e.filter(h=>Array.isArray(h)&&(h[0]==="PARAMETER"||h[0]==="PARAMETERFILE")).map(h=>{if(h[0]==="PARAMETER")return this.convert(h);if(h[0]==="PARAMETERFILE")return{name:h[1],value:h[2],id:{authority:"EPSG",code:8656}}}),t.parameters.length===7){let h=t.parameters[6];h.name==="Scale difference"&&(h.value=Math.round((h.value-1)*1e12)/1e6)}t.id=this.getId(e);break;case"AXIS":t.coordinate_system||(t.coordinate_system={type:"unspecified",axis:[]}),t.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":let f=this.convertUnit(e,"LinearUnit");t.coordinate_system&&t.coordinate_system.axis&&t.coordinate_system.axis.forEach(h=>{h.unit||(h.unit=f)}),f.conversion_factor&&f.conversion_factor!==1&&t.semi_major_axis&&(t.semi_major_axis={value:t.semi_major_axis,unit:f});break;default:t.keyword=e[0];break}return t}},mx=hA;var dA=class extends mx{static convert(e,t={}){return super.convert(e,t),t.coordinate_system&&t.coordinate_system.subtype==="Cartesian"&&delete t.coordinate_system,t.usage&&delete t.usage,t}},I7=dA;var fA=class extends mx{static convert(e,t={}){super.convert(e,t);let r=e.find(o=>Array.isArray(o)&&o[0]==="CS");r&&(t.coordinate_system={subtype:r[1],axis:this.extractAxes(e)});let i=e.find(o=>Array.isArray(o)&&o[0]==="USAGE");if(i){let o=i.find(l=>Array.isArray(l)&&l[0]==="SCOPE"),s=i.find(l=>Array.isArray(l)&&l[0]==="AREA"),a=i.find(l=>Array.isArray(l)&&l[0]==="BBOX");t.usage={},o&&(t.usage.scope=o[1]),s&&(t.usage.area=s[1]),a&&(t.usage.bbox=a.slice(1))}return t}},D7=fA;function pte(n){return n.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(n.find(e=>Array.isArray(e)&&e[0]==="CS")||n[0]==="BOUNDCRS"||n[0]==="PROJCRS"||n[0]==="GEOGCRS","2015")}function T7(n){return(pte(n)==="2019"?D7:I7).convert(n)}function M7(n){let e=n.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var A7=yte,k1=1,R7=2,N7=3,_x=4,P7=5,pA=-1,gte=/\s/,mte=/[A-Za-z]/,_te=/[A-Za-z84_]/,yx=/[,\]]/,L7=/[\d\.E\-\+]/;function Uc(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=k1}Uc.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==_x)for(;gte.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case k1:return this.neutral(n);case R7:return this.keyword(n);case _x:return this.quoted(n);case P7:return this.afterquote(n);case N7:return this.number(n);case pA:return}};Uc.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=_x;return}if(yx.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)};Uc.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=k1;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=k1,this.currentObject=this.stack.pop(),this.currentObject||(this.state=pA);return}};Uc.prototype.number=function(n){if(L7.test(n)){this.word+=n;return}if(yx.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)};Uc.prototype.quoted=function(n){if(n==='"'){this.state=P7;return}this.word+=n};Uc.prototype.keyword=function(n){if(_te.test(n)){this.word+=n;return}if(n==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=k1;return}if(yx.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)};Uc.prototype.neutral=function(n){if(mte.test(n)){this.word=n,this.state=R7;return}if(n==='"'){this.word="",this.state=_x;return}if(L7.test(n)){this.word=n,this.state=N7;return}if(yx.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)};Uc.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===pA)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function yte(n){var e=new Uc(n);return e.output()}function gA(n,e,t){Array.isArray(e)&&(t.unshift(e),e=null);var r=e?{}:n,i=t.reduce(function(o,s){return Bd(s,o),o},r);e&&(n[e]=i)}function Bd(n,e){if(!Array.isArray(n)){e[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){e[t]={},Bd(n[0],e[t]);return}e[t]=n[0];return}if(!n.length){e[t]=!0;return}if(t==="TOWGS84"){e[t]=n;return}if(t==="AXIS"){t in e||(e[t]=[]),e[t].push(n);return}Array.isArray(t)||(e[t]={});var r;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&Bd(n[2],e[t]);return;case"SPHEROID":case"ELLIPSOID":e[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&Bd(n[3],e[t]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":n[0]=["name",n[0]],gA(e,t,n);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":n[0]=["name",n[0]],gA(e,t,n),e[t].type=t;return;default:for(r=-1;++r<n.length;)if(!Array.isArray(n[r]))return Bd(n,e[t]);return gA(e,t,n)}}var vte=.017453292519943295;function na(n){return n*vte}function vx(n){let e=(n.projName||"").toLowerCase().replace(/_/g," ");!n.long0&&n.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(n.lat0=na(n.lat1>0?90:-90),n.lat_ts=n.lat1,delete n.lat1):!n.lat_ts&&n.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(n.lat_ts=n.lat0,n.lat0=na(n.lat0>0?90:-90),delete n.lat1)}function k7(n){let e={units:null,to_meter:void 0};return typeof n=="string"?(e.units=n.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):n&&n.name&&(e.units=n.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=n.conversion_factor),e}function O7(n){return typeof n=="object"?n.value*n.unit.conversion_factor:n}function F7(n,e){n.ellipsoid.radius?(e.a=n.ellipsoid.radius,e.rf=0):(e.a=O7(n.ellipsoid.semi_major_axis),n.ellipsoid.inverse_flattening!==void 0?e.rf=n.ellipsoid.inverse_flattening:n.ellipsoid.semi_major_axis!==void 0&&n.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-O7(n.ellipsoid.semi_minor_axis))))}function O1(n,e={}){return!n||typeof n!="object"?n:n.type==="BoundCRS"?(O1(n.source_crs,e),n.transformation&&(n.transformation.method&&n.transformation.method.name==="NTv2"?e.nadgrids=n.transformation.parameters[0].value:e.datum_params=n.transformation.parameters.map(t=>t.value)),e):(Object.keys(n).forEach(t=>{let r=n[t];if(r!==null)switch(t){case"name":if(e.srsCode)break;e.name=r,e.srsCode=r;break;case"type":r==="GeographicCRS"?e.projName="longlat":r==="ProjectedCRS"&&n.conversion&&n.conversion.method&&(e.projName=n.conversion.method.name);break;case"datum":case"datum_ensemble":r.ellipsoid&&(e.ellps=r.ellipsoid.name,F7(r,e)),r.prime_meridian&&(e.from_greenwich=r.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=r.name,F7(r,e);break;case"prime_meridian":e.long0=(r.longitude||0)*Math.PI/180;break;case"coordinate_system":if(r.axis){if(e.axis=r.axis.map(i=>{let o=i.direction;if(o==="east")return"e";if(o==="north")return"n";if(o==="west")return"w";if(o==="south")return"s";throw new Error(`Unknown axis direction: ${o}`)}).join("")+"u",r.unit){let{units:i,to_meter:o}=k7(r.unit);e.units=i,e.to_meter=o}else if(r.axis[0]&&r.axis[0].unit){let{units:i,to_meter:o}=k7(r.axis[0].unit);e.units=i,e.to_meter=o}}break;case"id":r.authority&&r.code&&(e.title=r.authority+":"+r.code);break;case"conversion":r.method&&r.method.name&&(e.projName=r.method.name),r.parameters&&r.parameters.forEach(i=>{let o=i.name.toLowerCase().replace(/\s+/g,"_"),s=i.value;i.unit&&i.unit.conversion_factor?e[o]=s*i.unit.conversion_factor:i.unit==="degree"?e[o]=s*Math.PI/180:e[o]=s});break;case"unit":r.name&&(e.units=r.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),r.conversion_factor&&(e.to_meter=r.conversion_factor);break;case"base_crs":O1(r,e),e.datumCode=r.id?r.id.authority+"_"+r.id.code:r.name;break;default:break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),vx(e),e)}var wte=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function xte(n,e){var t=e[0],r=e[1];!(t in n)&&r in n&&(n[t]=n[r],e.length===3&&(n[t]=e[2](n[t])))}function j7(n){for(var e=Object.keys(n),t=0,r=e.length;t<r;++t){var i=e[t];wte.indexOf(i)!==-1&&bte(n[i]),typeof n[i]=="object"&&j7(n[i])}}function bte(n){if(n.AUTHORITY){var e=Object.keys(n.AUTHORITY)[0];e&&e in n.AUTHORITY&&(n.title=e+":"+n.AUTHORITY[e])}if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var t="",r=0,i=n.AXIS.length;r<i;++r){var o=[n.AXIS[r][0].toLowerCase(),n.AXIS[r][1].toLowerCase()];o[0].indexOf("north")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="north"?t+="n":o[0].indexOf("south")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="south"?t+="s":o[0].indexOf("east")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="east"?t+="e":(o[0].indexOf("west")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(n.axis=t)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var s=n.GEOGCS;n.type==="GEOGCS"&&(s=n),s&&(s.DATUM?n.datumCode=s.DATUM.name.toLowerCase():n.datumCode=s.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),n.datumCode==="new_zealand_1949"&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode==="belge_1972"&&(n.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(n.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=s.DATUM.SPHEROID.a,n.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(n.datum_params=s.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a),n.rectified_grid_angle&&(n.rectified_grid_angle=na(n.rectified_grid_angle));function a(u){var d=n.to_meter||1;return u*d}var l=function(u){return xte(n,u)},c=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",na],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",na],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",na],["lat0","latitude_of_origin",na],["lat0","standard_parallel_1",na],["lat1","standard_parallel_1",na],["lat2","standard_parallel_2",na],["azimuth","Azimuth"],["alpha","azimuth",na],["srsCode","name"]];c.forEach(l),vx(n)}function sg(n){if(typeof n=="object")return O1(n);let e=M7(n);var t=A7(n);if(e==="WKT2"){let o=T7(t);return O1(o)}var r=t[0],i={};return Bd(t,i),j7(i),i[r]}function Yo(n){var e=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?Yo[n]=L1(arguments[1]):Yo[n]=sg(arguments[1]):t&&typeof t=="object"&&!("projName"in t)?Yo[n]=sg(arguments[1]):(Yo[n]=t,t||delete Yo[n])}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(r){return Array.isArray(r)?Yo.apply(e,r):Yo(r)});if(typeof n=="string"){if(n in Yo)return Yo[n]}else"EPSG"in n?Yo["EPSG:"+n.EPSG]=n:"ESRI"in n?Yo["ESRI:"+n.ESRI]=n:"IAU2000"in n?Yo["IAU2000:"+n.IAU2000]=n:console.log(n);return}}_7(Yo);var ag=Yo;function Ete(n){return typeof n=="string"}function Ste(n){return n in ag}function Cte(n){return n.indexOf("+")!==0&&n.indexOf("[")!==-1||typeof n=="object"&&!("srsCode"in n)}var Ite=["3857","900913","3785","102113"];function Dte(n){var e=Is(n,"authority");if(e){var t=Is(e,"epsg");return t&&Ite.indexOf(t)>-1}}function Tte(n){var e=Is(n,"extension");if(e)return Is(e,"proj4")}function Mte(n){return n[0]==="+"}function Ate(n){if(Ete(n)){if(Ste(n))return ag[n];if(Cte(n)){var e=sg(n);if(Dte(e))return ag["EPSG:3857"];var t=Tte(e);return t?L1(t):e}if(Mte(n))return L1(n)}else return"projName"in n?n:sg(n)}var B7=Ate;function mA(n,e){n=n||{};var t,r;if(!e)return n;for(r in e)t=e[r],t!==void 0&&(n[r]=t);return n}function co(n,e,t){var r=n*e;return t/Math.sqrt(1-r*r)}function Tl(n){return n<0?-1:1}function je(n,e){return e||Math.abs(n)<=yr?n:n-Tl(n)*nh}function Do(n,e,t){var r=n*t,i=.5*n;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Me-e))/r}function Gc(n,e){for(var t=.5*n,r,i,o=Me-2*Math.atan(e),s=0;s<=15;s++)if(r=n*Math.sin(o),i=Me-2*Math.atan(e*Math.pow((1-r)/(1+r),t))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999}function Rte(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=co(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Nte(n){var e=n.x,t=n.y;if(t*wi>90&&t*wi<-90&&e*wi>180&&e*wi<-180)return null;var r,i;if(Math.abs(Math.abs(t)-Me)<=Fe)return null;if(this.sphere)r=this.x0+this.a*this.k0*je(e-this.long0,this.over),i=this.y0+this.a*this.k0*Math.log(Math.tan(_n+.5*t));else{var o=Math.sin(t),s=Do(this.e,t,o);r=this.x0+this.a*this.k0*je(e-this.long0,this.over),i=this.y0-this.a*this.k0*Math.log(s)}return n.x=r,n.y=i,n}function Pte(n){var e=n.x-this.x0,t=n.y-this.y0,r,i;if(this.sphere)i=Me-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var o=Math.exp(-t/(this.a*this.k0));if(i=Gc(this.e,o),i===-9999)return null}return r=je(this.long0+e/(this.a*this.k0),this.over),n.x=r,n.y=i,n}var Lte=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"],U7={init:Rte,forward:Nte,inverse:Pte,names:Lte};function kte(){}function G7(n){return n}var _A=["longlat","identity"],z7={init:kte,forward:G7,inverse:G7,names:_A};var Ote=[U7,z7],Ud={},lg=[];function V7(n,e){var t=lg.length;return n.names?(lg[t]=n,n.names.forEach(function(r){Ud[r.toLowerCase()]=t}),this):(console.log(e),!0)}function yA(n){return n.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function Fte(n){if(!n)return!1;var e=n.toLowerCase();if(typeof Ud[e]<"u"&&lg[Ud[e]]||(e=yA(e),e in Ud&&lg[Ud[e]]))return lg[Ud[e]]}function jte(){Ote.forEach(V7)}var H7={start:jte,add:V7,get:Fte};var Bte={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},vA=Bte;var Ute=vA.WGS84;function q7(n,e,t,r){var i=n*n,o=e*e,s=(i-o)/i,a=0;r?(n*=1-s*(w7+s*(x7+s*b7)),i=n*n,s=0):a=Math.sqrt(s);var l=(i-o)/o;return{es:s,e:a,ep2:l}}function W7(n,e,t,r,i){if(!n){var o=Is(vA,r);o||(o=Ute),n=o.a,e=o.b,t=o.rf}return t&&!e&&(e=(1-1/t)*n),(t===0||Math.abs(n-e)<Fe)&&(i=!0,e=n),{a:n,b:e,rf:t,sphere:i}}var xx={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for($7 in xx)wx=xx[$7],wx.datumName&&(xx[wx.datumName]=wx);var wx,$7,Z7=xx;function Gte(n,e,t,r,i,o,s){var a={};return n===void 0||n==="none"?a.datum_type=P1:a.datum_type=y7,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Oa),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Fa,a.datum_params[3]*=jd,a.datum_params[4]*=jd,a.datum_params[5]*=jd,a.datum_params[6]=a.datum_params[6]/1e6+1)),s&&(a.datum_type=Bc,a.grids=s),a.a=t,a.b=r,a.es=i,a.ep2=o,a}var Y7=Gte;var xA={};function bA(n,e,t){return e instanceof ArrayBuffer?zte(n,e,t):{ready:Vte(n,e)}}function zte(n,e,t){var r=!0;t!==void 0&&t.includeErrorFields===!1&&(r=!1);var i=new DataView(e),o=qte(i),s=Wte(i,o),a=$te(i,s,o,r),l={header:s,subgrids:a};return xA[n]=l,l}function Vte(n,e){return Ct(this,null,function*(){for(var t=[],r=yield e.getImageCount(),i=r-1;i>=0;i--){var o=yield e.getImage(i),s=yield o.readRasters(),a=s,l=[o.getWidth(),o.getHeight()],c=o.getBoundingBox().map(X7),u=[o.fileDirectory.ModelPixelScale[0],o.fileDirectory.ModelPixelScale[1]].map(X7),d=c[0]+(l[0]-1)*u[0],f=c[3]-(l[1]-1)*u[1],h=a[0],g=a[1],_=[];for(let E=l[1]-1;E>=0;E--)for(let S=l[0]-1;S>=0;S--){var y=E*l[0]+S;_.push([-rh(g[y]),rh(h[y])])}t.push({del:u,lim:l,ll:[-d,f],cvs:_})}var v={header:{nSubgrids:r},subgrids:t};return xA[n]=v,v})}function K7(n){if(n===void 0)return null;var e=n.split(",");return e.map(Hte)}function Hte(n){if(n.length===0)return null;var e=n[0]==="@";return e&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:n,mandatory:!e,grid:xA[n]||null,isNull:!1}}function X7(n){return n*Math.PI/180}function rh(n){return n/3600*Math.PI/180}function qte(n){var e=n.getInt32(8,!1);return e===11?!1:(e=n.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Wte(n,e){return{nFields:n.getInt32(8,e),nSubgridFields:n.getInt32(24,e),nSubgrids:n.getInt32(40,e),shiftType:wA(n,56,64).trim(),fromSemiMajorAxis:n.getFloat64(120,e),fromSemiMinorAxis:n.getFloat64(136,e),toSemiMajorAxis:n.getFloat64(152,e),toSemiMinorAxis:n.getFloat64(168,e)}}function wA(n,e,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(e,t)))}function $te(n,e,t,r){for(var i=176,o=[],s=0;s<e.nSubgrids;s++){var a=Yte(n,i,t),l=Xte(n,i,a,t,r),c=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);o.push({ll:[rh(a.lowerLongitude),rh(a.lowerLatitude)],del:[rh(a.longitudeInterval),rh(a.latitudeInterval)],lim:[c,u],count:a.gridNodeCount,cvs:Zte(l)});var d=16;r===!1&&(d=8),i+=176+a.gridNodeCount*d}return o}function Zte(n){return n.map(function(e){return[rh(e.longitudeShift),rh(e.latitudeShift)]})}function Yte(n,e,t){return{name:wA(n,e+8,e+16).trim(),parent:wA(n,e+24,e+24+8).trim(),lowerLatitude:n.getFloat64(e+72,t),upperLatitude:n.getFloat64(e+88,t),lowerLongitude:n.getFloat64(e+104,t),upperLongitude:n.getFloat64(e+120,t),latitudeInterval:n.getFloat64(e+136,t),longitudeInterval:n.getFloat64(e+152,t),gridNodeCount:n.getInt32(e+168,t)}}function Xte(n,e,t,r,i){var o=e+176,s=16;i===!1&&(s=8);for(var a=[],l=0;l<t.gridNodeCount;l++){var c={latitudeShift:n.getFloat32(o+l*s,r),longitudeShift:n.getFloat32(o+l*s+4,r)};i!==!1&&(c.latitudeAccuracy=n.getFloat32(o+l*s+8,r),c.longitudeAccuracy=n.getFloat32(o+l*s+12,r)),a.push(c)}return a}function cg(n,e){if(!(this instanceof cg))return new cg(n);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(c){if(c)throw c};var t=B7(n);if(typeof t!="object"){e("Could not parse to valid json: "+n);return}var r=cg.projections.get(t.projName);if(!r){e("Could not get projection name from: "+n);return}if(t.datumCode&&t.datumCode!=="none"){var i=Is(Z7,t.datumCode);i&&(t.datum_params=t.datum_params||(i.towgs84?i.towgs84.split(","):null),t.ellps=i.ellipse,t.datumName=i.datumName?i.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var o=W7(t.a,t.b,t.rf,t.ellps,t.sphere),s=q7(o.a,o.b,o.rf,t.R_A),a=K7(t.nadgrids),l=t.datum||Y7(t.datumCode,t.datum_params,o.a,o.b,s.es,s.ep2,a);mA(this,t),mA(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}cg.projections=H7;cg.projections.start();var ja=cg;function J7(n,e){return n.datum_type!==e.datum_type||n.a!==e.a||Math.abs(n.es-e.es)>5e-11?!1:n.datum_type===Oa?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]:n.datum_type===Fa?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]&&n.datum_params[3]===e.datum_params[3]&&n.datum_params[4]===e.datum_params[4]&&n.datum_params[5]===e.datum_params[5]&&n.datum_params[6]===e.datum_params[6]:!0}function bx(n,e,t){var r=n.x,i=n.y,o=n.z?n.z:0,s,a,l,c;if(i<-Me&&i>-1.001*Me)i=-Me;else if(i>Me&&i<1.001*Me)i=Me;else{if(i<-Me)return{x:-1/0,y:-1/0,z:n.z};if(i>Me)return{x:1/0,y:1/0,z:n.z}}return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(i),c=Math.cos(i),l=a*a,s=t/Math.sqrt(1-e*l),{x:(s+o)*c*Math.cos(r),y:(s+o)*c*Math.sin(r),z:(s*(1-e)+o)*a}}function Ex(n,e,t,r){var i=1e-12,o=i*i,s=30,a,l,c,u,d,f,h,g,_,y,v,E,S,I=n.x,R=n.y,V=n.z?n.z:0,j,F,k;if(a=Math.sqrt(I*I+R*R),l=Math.sqrt(I*I+R*R+V*V),a/t<i){if(j=0,l/t<i)return F=Me,k=-r,{x:n.x,y:n.y,z:n.z}}else j=Math.atan2(R,I);c=V/l,u=a/l,d=1/Math.sqrt(1-e*(2-e)*u*u),g=u*(1-e)*d,_=c*d,S=0;do S++,h=t/Math.sqrt(1-e*_*_),k=a*g+V*_-h*(1-e*_*_),f=e*h/(h+k),d=1/Math.sqrt(1-f*(2-f)*u*u),y=u*(1-f)*d,v=c*d,E=v*g-y*_,g=y,_=v;while(E*E>o&&S<s);return F=Math.atan(v/Math.abs(y)),{x:j,y:F,z:k}}function Q7(n,e,t){if(e===Oa)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(e===Fa){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6];return{x:c*(n.x-l*n.y+a*n.z)+r,y:c*(l*n.x+n.y-s*n.z)+i,z:c*(-a*n.x+s*n.y+n.z)+o}}}function ej(n,e,t){if(e===Oa)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(e===Fa){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=(n.x-r)/c,d=(n.y-i)/c,f=(n.z-o)/c;return{x:u+l*d-a*f,y:-l*u+d+s*f,z:a*u-s*d+f}}}function Sx(n){return n===Oa||n===Fa}function rj(n,e,t){if(J7(n,e)||n.datum_type===P1||e.datum_type===P1)return t;var r=n.a,i=n.es;if(n.datum_type===Bc){var o=tj(n,!1,t);if(o!==0)return;r=cA,i=uA}var s=e.a,a=e.b,l=e.es;if(e.datum_type===Bc&&(s=cA,a=v7,l=uA),i===l&&r===s&&!Sx(n.datum_type)&&!Sx(e.datum_type))return t;if(t=bx(t,i,r),Sx(n.datum_type)&&(t=Q7(t,n.datum_type,n.datum_params)),Sx(e.datum_type)&&(t=ej(t,e.datum_type,e.datum_params)),t=Ex(t,l,s,a),e.datum_type===Bc){var c=tj(e,!0,t);if(c!==0)return}return t}function tj(n,e,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-t.x,y:t.y},i={x:Number.NaN,y:Number.NaN},o=[];e:for(var s=0;s<n.grids.length;s++){var a=n.grids[s];if(o.push(a.name),a.isNull){i=r;break}if(a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,u=l.length;c<u;c++){var d=l[c],f=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,h=d.ll[0]-f,g=d.ll[1]-f,_=d.ll[0]+(d.lim[0]-1)*d.del[0]+f,y=d.ll[1]+(d.lim[1]-1)*d.del[1]+f;if(!(g>r.y||h>r.x||y<r.y||_<r.x)&&(i=Kte(r,e,d),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*wi+" "+r.y*wi+" tried: '"+o+"'"),-1):(t.x=-i.x,t.y=i.y,0)}function Kte(n,e,t){var r={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return r;var i={x:n.x,y:n.y};i.x-=t.ll[0],i.y-=t.ll[1],i.x=je(i.x-Math.PI)+Math.PI;var o=nj(i,t);if(e){if(isNaN(o.x))return r;o.x=i.x-o.x,o.y=i.y-o.y;var s=9,a=1e-12,l,c;do{if(c=nj(o,t),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(c.x+o.x),y:i.y-(c.y+o.y)},o.x+=l.x,o.y+=l.y}while(s--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=je(o.x+t.ll[0]),r.y=o.y+t.ll[1]}else isNaN(o.x)||(r.x=n.x+o.x,r.y=n.y+o.y);return r}function nj(n,e){var t={x:n.x/e.del[0],y:n.y/e.del[1]},r={x:Math.floor(t.x),y:Math.floor(t.y)},i={x:t.x-1*r.x,y:t.y-1*r.y},o={x:Number.NaN,y:Number.NaN},s;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return o;s=r.y*e.lim[0]+r.x;var a={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var l={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var c={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var u={x:e.cvs[s][0],y:e.cvs[s][1]},d=i.x*i.y,f=i.x*(1-i.y),h=(1-i.x)*(1-i.y),g=(1-i.x)*i.y;return o.x=h*a.x+f*l.x+g*u.x+d*c.x,o.y=h*a.y+f*l.y+g*u.y+d*c.y,o}function EA(n,e,t){var r=t.x,i=t.y,o=t.z||0,s,a,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&t.z===void 0))switch(l===0?(s=r,"ew".indexOf(n.axis[l])!==-1?a="x":a="y"):l===1?(s=i,"ns".indexOf(n.axis[l])!==-1?a="y":a="x"):(s=o,a="z"),n.axis[l]){case"e":c[a]=s;break;case"w":c[a]=-s;break;case"n":c[a]=s;break;case"s":c[a]=-s;break;case"u":t[a]!==void 0&&(c.z=s);break;case"d":t[a]!==void 0&&(c.z=-s);break;default:return null}return c}function Cx(n){var e={x:n[0],y:n[1]};return n.length>2&&(e.z=n[2]),n.length>3&&(e.m=n[3]),e}function oj(n){ij(n.x),ij(n.y)}function ij(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function Jte(n,e){return(n.datum.datum_type===Oa||n.datum.datum_type===Fa||n.datum.datum_type===Bc)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Oa||e.datum.datum_type===Fa||e.datum.datum_type===Bc)&&n.datumCode!=="WGS84"}function Gd(n,e,t,r){var i;Array.isArray(t)?t=Cx(t):t={x:t.x,y:t.y,z:t.z,m:t.m};var o=t.z!==void 0;if(oj(t),n.datum&&e.datum&&Jte(n,e)&&(i=new ja("WGS84"),t=Gd(n,i,t,r),n=i),r&&n.axis!=="enu"&&(t=EA(n,!1,t)),n.projName==="longlat")t={x:t.x*Xn,y:t.y*Xn,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=rj(n.datum,e.datum,t),!!t)return t=t,e.from_greenwich&&(t={x:t.x-e.from_greenwich,y:t.y,z:t.z||0}),e.projName==="longlat"?t={x:t.x*wi,y:t.y*wi,z:t.z||0}:(t=e.forward(t),e.to_meter&&(t={x:t.x/e.to_meter,y:t.y/e.to_meter,z:t.z||0})),r&&e.axis!=="enu"?EA(e,!0,t):(t&&!o&&delete t.z,t)}var sj=ja("WGS84");function SA(n,e,t,r){var i,o,s;return Array.isArray(t)?(i=Gd(n,e,t,r)||{x:NaN,y:NaN},t.length>2?typeof n.name<"u"&&n.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(t.slice(3)):[i.x,i.y,t[2]].concat(t.slice(3)):[i.x,i.y].concat(t.slice(2)):[i.x,i.y]):(o=Gd(n,e,t,r),s=Object.keys(t),s.length===2||s.forEach(function(a){if(typeof n.name<"u"&&n.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;o[a]=t[a]}),o)}function Ix(n){return n instanceof ja?n:typeof n=="object"&&"oProj"in n?n.oProj:ja(n)}function Qte(n,e,t){var r,i,o=!1,s;return typeof e>"u"?(i=Ix(n),r=sj,o=!0):(typeof e.x<"u"||Array.isArray(e))&&(t=e,i=Ix(n),r=sj,o=!0),r||(r=Ix(n)),i||(i=Ix(e)),t?SA(r,i,t):(s={forward:function(a,l){return SA(r,i,a,l)},inverse:function(a,l){return SA(i,r,a,l)}},o&&(s.oProj=i),s)}var aj=Qte;var lj=6,uj="AJSAJS",hj="AFAFAF",ug=65,Xo=73,ra=79,F1=86,j1=90,dj={forward:IA,inverse:ene,toPoint:DA};function IA(n,e){return e=e||5,rne(tne({lat:n[1],lon:n[0]}),e)}function ene(n){var e=TA(pj(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function DA(n){var e=TA(pj(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function CA(n){return n*(Math.PI/180)}function cj(n){return 180*(n/Math.PI)}function tne(n){var e=n.lat,t=n.lon,r=6378137,i=.00669438,o=.9996,s,a,l,c,u,d,f,h=CA(e),g=CA(t),_,y;y=Math.floor((t+180)/6)+1,t===180&&(y=60),e>=56&&e<64&&t>=3&&t<12&&(y=32),e>=72&&e<84&&(t>=0&&t<9?y=31:t>=9&&t<21?y=33:t>=21&&t<33?y=35:t>=33&&t<42&&(y=37)),s=(y-1)*6-180+3,_=CA(s),a=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(h)*Math.sin(h)),c=Math.tan(h)*Math.tan(h),u=a*Math.cos(h)*Math.cos(h),d=Math.cos(h)*(g-_),f=r*((1-i/4-3*i*i/64-5*i*i*i/256)*h-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*h)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*h)-35*i*i*i/3072*Math.sin(6*h));var v=o*l*(d+(1-c+u)*d*d*d/6+(5-18*c+c*c+72*u-58*a)*d*d*d*d*d/120)+5e5,E=o*(f+l*Math.tan(h)*(d*d/2+(5-c+9*u+4*u*u)*d*d*d*d/24+(61-58*c+c*c+600*u-330*a)*d*d*d*d*d*d/720));return e<0&&(E+=1e7),{northing:Math.round(E),easting:Math.round(v),zoneNumber:y,zoneLetter:nne(e)}}function TA(n){var e=n.northing,t=n.easting,r=n.zoneLetter,i=n.zoneNumber;if(i<0||i>60)return null;var o=.9996,s=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),u,d,f,h,g,_,y,v,E,S=t-5e5,I=e;r<"N"&&(I-=1e7),y=(i-1)*6-180+3,l=a/(1-a),_=I/o,v=_/(s*(1-a/4-3*a*a/64-5*a*a*a/256)),E=v+(3*c/2-27*c*c*c/32)*Math.sin(2*v)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*v)+151*c*c*c/96*Math.sin(6*v),u=s/Math.sqrt(1-a*Math.sin(E)*Math.sin(E)),d=Math.tan(E)*Math.tan(E),f=l*Math.cos(E)*Math.cos(E),h=s*(1-a)/Math.pow(1-a*Math.sin(E)*Math.sin(E),1.5),g=S/(u*o);var R=E-u*Math.tan(E)/h*(g*g/2-(5+3*d+10*f-4*f*f-9*l)*g*g*g*g/24+(61+90*d+298*f+45*d*d-252*l-3*f*f)*g*g*g*g*g*g/720);R=cj(R);var V=(g-(1+2*d+f)*g*g*g/6+(5-2*f+28*d-3*f*f+8*l+24*d*d)*g*g*g*g*g/120)/Math.cos(E);V=y+cj(V);var j;if(n.accuracy){var F=TA({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});j={top:F.lat,right:F.lon,bottom:R,left:V}}else j={lat:R,lon:V};return j}function nne(n){var e="Z";return 84>=n&&n>=72?e="X":72>n&&n>=64?e="W":64>n&&n>=56?e="V":56>n&&n>=48?e="U":48>n&&n>=40?e="T":40>n&&n>=32?e="S":32>n&&n>=24?e="R":24>n&&n>=16?e="Q":16>n&&n>=8?e="P":8>n&&n>=0?e="N":0>n&&n>=-8?e="M":-8>n&&n>=-16?e="L":-16>n&&n>=-24?e="K":-24>n&&n>=-32?e="J":-32>n&&n>=-40?e="H":-40>n&&n>=-48?e="G":-48>n&&n>=-56?e="F":-56>n&&n>=-64?e="E":-64>n&&n>=-72?e="D":-72>n&&n>=-80&&(e="C"),e}function rne(n,e){var t="00000"+n.easting,r="00000"+n.northing;return n.zoneNumber+n.zoneLetter+ine(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,e)+r.substr(r.length-5,e)}function ine(n,e,t){var r=fj(t),i=Math.floor(n/1e5),o=Math.floor(e/1e5)%20;return one(i,o,r)}function fj(n){var e=n%lj;return e===0&&(e=lj),e}function one(n,e,t){var r=t-1,i=uj.charCodeAt(r),o=hj.charCodeAt(r),s=i+n-1,a=o+e,l=!1;s>j1&&(s=s-j1+ug-1,l=!0),(s===Xo||i<Xo&&s>Xo||(s>Xo||i<Xo)&&l)&&s++,(s===ra||i<ra&&s>ra||(s>ra||i<ra)&&l)&&(s++,s===Xo&&s++),s>j1&&(s=s-j1+ug-1),a>F1?(a=a-F1+ug-1,l=!0):l=!1,(a===Xo||o<Xo&&a>Xo||(a>Xo||o<Xo)&&l)&&a++,(a===ra||o<ra&&a>ra||(a>ra||o<ra)&&l)&&(a++,a===Xo&&a++),a>F1&&(a=a-F1+ug-1);var c=String.fromCharCode(s)+String.fromCharCode(a);return c}function pj(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var e=n.length,t=null,r="",i,o=0;!/[A-Z]/.test(i=n.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+n;r+=i,o++}var s=parseInt(r,10);if(o===0||o+3>e)throw"MGRSPoint bad conversion from: "+n;var a=n.charAt(o++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+n;t=n.substring(o,o+=2);for(var l=fj(s),c=sne(t.charAt(0),l),u=ane(t.charAt(1),l);u<lne(a);)u+=2e6;var d=e-o;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var f=d/2,h=0,g=0,_,y,v,E,S;return f>0&&(_=1e5/Math.pow(10,f),y=n.substring(o,o+f),h=parseFloat(y)*_,v=n.substring(o+f),g=parseFloat(v)*_),E=h+c,S=g+u,{easting:E,northing:S,zoneLetter:a,zoneNumber:s,accuracy:_}}function sne(n,e){for(var t=uj.charCodeAt(e-1),r=1e5,i=!1;t!==n.charCodeAt(0);){if(t++,t===Xo&&t++,t===ra&&t++,t>j1){if(i)throw"Bad character: "+n;t=ug,i=!0}r+=1e5}return r}function ane(n,e){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=hj.charCodeAt(e-1),r=0,i=!1;t!==n.charCodeAt(0);){if(t++,t===Xo&&t++,t===ra&&t++,t>F1){if(i)throw"Bad character: "+n;t=ug,i=!0}r+=1e5}return r}function lne(n){var e;switch(n){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+n}function hg(n,e,t){if(!(this instanceof hg))return new hg(n,e,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof e>"u"){var r=n.split(",");this.x=parseFloat(r[0]),this.y=parseFloat(r[1]),this.z=parseFloat(r[2])||0}else this.x=n,this.y=e,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}hg.fromMGRS=function(n){return new hg(DA(n))};hg.prototype.toMGRS=function(n){return IA([this.x,this.y],n)};var gj=hg;var cne=1,une=.25,mj=.046875,_j=.01953125,yj=.01068115234375,hne=.75,dne=.46875,fne=.013020833333333334,pne=.007120768229166667,gne=.3645833333333333,mne=.005696614583333333,_ne=.3076171875;function dg(n){var e=[];e[0]=cne-n*(une+n*(mj+n*(_j+n*yj))),e[1]=n*(hne-n*(mj+n*(_j+n*yj)));var t=n*n;return e[2]=t*(dne-n*(fne+n*pne)),t*=n,e[3]=t*(gne-n*mne),e[4]=t*n*_ne,e}function Ml(n,e,t,r){return t*=e,e*=e,r[0]*n-t*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var yne=20;function fg(n,e,t){for(var r=1/(1-e),i=n,o=yne;o;--o){var s=Math.sin(i),a=1-e*s*s;if(a=(Ml(i,s,Math.cos(i),t)-n)*(a*Math.sqrt(a))*r,i-=a,Math.abs(a)<Fe)return i}return i}function vne(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=dg(this.es),this.ml0=Ml(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function wne(n){var e=n.x,t=n.y,r=je(e-this.long0,this.over),i,o,s,a=Math.sin(t),l=Math.cos(t);if(this.es){var u=l*r,d=Math.pow(u,2),f=this.ep2*Math.pow(l,2),h=Math.pow(f,2),g=Math.abs(l)>Fe?Math.tan(t):0,_=Math.pow(g,2),y=Math.pow(_,2);i=1-this.es*Math.pow(a,2),u=u/Math.sqrt(i);var v=Ml(t,a,l,this.en);o=this.a*(this.k0*u*(1+d/6*(1-_+f+d/20*(5-18*_+y+14*f-58*_*f+d/42*(61+179*y-y*_-479*_)))))+this.x0,s=this.a*(this.k0*(v-this.ml0+a*r*u/2*(1+d/12*(5-_+9*f+4*h+d/30*(61+y-58*_+270*f-330*_*f+d/56*(1385+543*y-y*_-3111*_))))))+this.y0}else{var c=l*Math.sin(r);if(Math.abs(Math.abs(c)-1)<Fe)return 93;if(o=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,s=l*Math.cos(r)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(s),c>=1){if(c-1>Fe)return 93;s=0}else s=Math.acos(s);t<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return n.x=o,n.y=s,n}function xne(n){var e,t,r,i,o=(n.x-this.x0)*(1/this.a),s=(n.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,t=fg(e,this.es,this.en),Math.abs(t)<Me){var d=Math.sin(t),f=Math.cos(t),h=Math.abs(f)>Fe?Math.tan(t):0,g=this.ep2*Math.pow(f,2),_=Math.pow(g,2),y=Math.pow(h,2),v=Math.pow(y,2);e=1-this.es*Math.pow(d,2);var E=o*Math.sqrt(e)/this.k0,S=Math.pow(E,2);e=e*h,r=t-e*S/(1-this.es)*.5*(1-S/12*(5+3*y-9*g*y+g-4*_-S/30*(61+90*y-252*g*y+45*v+46*g-S/56*(1385+3633*y+4095*v+1574*v*y)))),i=je(this.long0+E*(1-S/6*(1+2*y+g-S/20*(5+28*y+24*v+8*g*y+6*g-S/42*(61+662*y+1320*v+720*v*y))))/f,this.over)}else r=Me*Tl(s),i=0;else{var a=Math.exp(o/this.k0),l=.5*(a-1/a),c=this.lat0+s/this.k0,u=Math.cos(c);e=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(l,2))),r=Math.asin(e),s<0&&(r=-r),l===0&&u===0?i=0:i=je(Math.atan2(l,u)+this.long0,this.over)}return n.x=i,n.y=r,n}var bne=["Fast_Transverse_Mercator","Fast Transverse Mercator"],pg={init:vne,forward:wne,inverse:xne,names:bne};function Dx(n){var e=Math.exp(n);return e=(e-1/e)/2,e}function ti(n,e){n=Math.abs(n),e=Math.abs(e);var t=Math.max(n,e),r=Math.min(n,e)/(t||1);return t*Math.sqrt(1+Math.pow(r,2))}function vj(n){var e=1+n,t=e-1;return t===0?n:n*Math.log(e)/t}function wj(n){var e=Math.abs(n);return e=vj(e*(1+e/(ti(1,e)+1))),n<0?-e:e}function Tx(n,e){for(var t=2*Math.cos(2*e),r=n.length-1,i=n[r],o=0,s;--r>=0;)s=-o+t*i+n[r],o=i,i=s;return e+s*Math.sin(2*e)}function xj(n,e){for(var t=2*Math.cos(e),r=n.length-1,i=n[r],o=0,s;--r>=0;)s=-o+t*i+n[r],o=i,i=s;return Math.sin(e)*s}function bj(n){var e=Math.exp(n);return e=(e+1/e)/2,e}function MA(n,e,t){for(var r=Math.sin(e),i=Math.cos(e),o=Dx(t),s=bj(t),a=2*i*s,l=-2*r*o,c=n.length-1,u=n[c],d=0,f=0,h=0,g,_;--c>=0;)g=f,_=d,f=u,d=h,u=-g+a*f-l*d+n[c],h=-_+l*f+a*d;return a=r*s,l=i*o,[a*u-l*h,a*h+l*u]}function Ene(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(pg.init.apply(this),this.forward=pg.forward,this.inverse=pg.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),e=n/(2-n),t=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),t=t*e,this.cgb[1]=t*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=t*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),t=t*e,this.cgb[2]=t*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=t*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),t=t*e,this.cgb[3]=t*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=t*(1237/630+e*(-12/5+e*(-24832/14175))),t=t*e,this.cgb[4]=t*(4174/315+e*(-144838/6237)),this.cbg[4]=t*(-734/315+e*(109598/31185)),t=t*e,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=t*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=t*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),t=t*e,this.utg[2]=t*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=t*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),t=t*e,this.utg[3]=t*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=t*(49561/161280+e*(-179/168+e*(6601661/7257600))),t=t*e,this.utg[4]=t*(-4583/161280+e*(108847/3991680)),this.gtu[4]=t*(34729/80640+e*(-3418889/1995840)),t=t*e,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var r=Tx(this.cbg,this.lat0);this.Zb=-this.Qn*(r+xj(this.gtu,2*r))}function Sne(n){var e=je(n.x-this.long0,this.over),t=n.y;t=Tx(this.cbg,t);var r=Math.sin(t),i=Math.cos(t),o=Math.sin(e),s=Math.cos(e);t=Math.atan2(r,s*i),e=Math.atan2(o*i,ti(r,i*s)),e=wj(Math.tan(e));var a=MA(this.gtu,2*t,2*e);t=t+a[0],e=e+a[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*t+this.Zb)+this.y0):(l=1/0,c=1/0),n.x=l,n.y=c,n}function Cne(n){var e=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var o=MA(this.utg,2*t,2*e);t=t+o[0],e=e+o[1],e=Math.atan(Dx(e));var s=Math.sin(t),a=Math.cos(t),l=Math.sin(e),c=Math.cos(e);t=Math.atan2(s*c,ti(l,c*a)),e=Math.atan2(l,c*a),r=je(e+this.long0,this.over),i=Tx(this.cgb,t)}else r=1/0,i=1/0;return n.x=r,n.y=i,n}var Ine=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"],gg={init:Ene,forward:Sne,inverse:Cne,names:Ine};function Ej(n,e){if(n===void 0){if(n=Math.floor((je(e)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n}var Dne="etmerc";function Tne(){var n=Ej(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*Xn,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,gg.init.apply(this),this.forward=gg.forward,this.inverse=gg.inverse}var Mne=["Universal Transverse Mercator System","utm"],Sj={init:Tne,names:Mne,dependsOn:Dne};function Mx(n,e){return Math.pow((1-n)/(1+n),e)}var Ane=20;function Rne(){var n=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+_n)/(Math.pow(Math.tan(.5*this.lat0+_n),this.C)*Mx(this.e*n,this.ratexp))}function Nne(n){var e=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+_n),this.C)*Mx(this.e*Math.sin(t),this.ratexp))-Me,n.x=this.C*e,n}function Pne(n){for(var e=1e-14,t=n.x/this.C,r=n.y,i=Math.pow(Math.tan(.5*r+_n)/this.K,1/this.C),o=Ane;o>0&&(r=2*Math.atan(i*Mx(this.e*Math.sin(n.y),-.5*this.e))-Me,!(Math.abs(r-n.y)<e));--o)n.y=r;return o?(n.x=t,n.y=r,n):null}var Lne=["gauss"],Ax={init:Rne,forward:Nne,inverse:Pne,names:Lne};function kne(){Ax.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function One(n){var e,t,r,i;return n.x=je(n.x-this.long0,this.over),Ax.forward.apply(this,[n]),e=Math.sin(n.y),t=Math.cos(n.y),r=Math.cos(n.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*t*r),n.x=i*t*Math.sin(n.x),n.y=i*(this.cosc0*e-this.sinc0*t*r),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function Fne(n){var e,t,r,i,o;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,o=ti(n.x,n.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),t=Math.cos(s),i=Math.asin(t*this.sinc0+n.y*e*this.cosc0/o),r=Math.atan2(n.x*e,o*this.cosc0*t-n.y*this.sinc0*e)}else i=this.phic0,r=0;return n.x=r,n.y=i,Ax.inverse.apply(this,[n]),n.x=je(n.x+this.long0,this.over),n}var jne=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],Cj={init:kne,forward:One,inverse:Fne,names:jne};function AA(n,e,t){return e*=t,Math.tan(.5*(Me+n))*Math.pow((1-e)/(1+e),.5*t)}function Bne(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Fe&&(this.k0=.5*(1+Tl(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Fe&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Fe&&Math.abs(Math.cos(this.lat_ts))>Fe&&(this.k0=.5*this.cons*co(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Do(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=co(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(AA(this.lat0,this.sinlat0,this.e))-Me,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Une(n){var e=n.x,t=n.y,r=Math.sin(t),i=Math.cos(t),o,s,a,l,c,u,d=je(e-this.long0,this.over);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Fe&&Math.abs(t+this.lat0)<=Fe?(n.x=NaN,n.y=NaN,n):this.sphere?(o=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(d)),n.x=this.a*o*i*Math.sin(d)+this.x0,n.y=this.a*o*(this.coslat0*r-this.sinlat0*i*Math.cos(d))+this.y0,n):(s=2*Math.atan(AA(t,r,this.e))-Me,l=Math.cos(s),a=Math.sin(s),Math.abs(this.coslat0)<=Fe?(c=Do(this.e,t*this.con,this.con*r),u=2*this.a*this.k0*c/this.cons,n.x=this.x0+u*Math.sin(e-this.long0),n.y=this.y0-this.con*u*Math.cos(e-this.long0),n):(Math.abs(this.sinlat0)<Fe?(o=2*this.a*this.k0/(1+l*Math.cos(d)),n.y=o*a):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),n.y=o*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),n.x=o*l*Math.sin(d)+this.x0,n))}function Gne(n){n.x-=this.x0,n.y-=this.y0;var e,t,r,i,o,s=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,t=this.lat0,s<=Fe?(n.x=e,n.y=t,n):(t=Math.asin(Math.cos(a)*this.sinlat0+n.y*Math.sin(a)*this.coslat0/s),Math.abs(this.coslat0)<Fe?this.lat0>0?e=je(this.long0+Math.atan2(n.x,-1*n.y),this.over):e=je(this.long0+Math.atan2(n.x,n.y),this.over):e=je(this.long0+Math.atan2(n.x*Math.sin(a),s*this.coslat0*Math.cos(a)-n.y*this.sinlat0*Math.sin(a)),this.over),n.x=e,n.y=t,n)}else if(Math.abs(this.coslat0)<=Fe){if(s<=Fe)return t=this.lat0,e=this.long0,n.x=e,n.y=t,n;n.x*=this.con,n.y*=this.con,r=s*this.cons/(2*this.a*this.k0),t=this.con*Gc(this.e,r),e=this.con*je(this.con*this.long0+Math.atan2(n.x,-1*n.y),this.over)}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Fe?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+n.y*Math.sin(i)*this.cosX0/s),e=je(this.long0+Math.atan2(n.x*Math.sin(i),s*this.cosX0*Math.cos(i)-n.y*this.sinX0*Math.sin(i)),this.over)),t=-1*Gc(this.e,Math.tan(.5*(Me+o)));return n.x=e,n.y=t,n}var zne=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"],Ij={init:Bne,forward:Une,inverse:Gne,names:zne,ssfn_:AA};function Vne(){var n=this.lat0;this.lambda0=this.long0;var e=Math.sin(n),t=this.a,r=this.rf,i=1/r,o=2*i-Math.pow(i,2),s=this.e=Math.sqrt(o);this.R=this.k0*t*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+n/2)),c=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*l+this.alpha*s/2*c}function Hne(n){var e=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),r=-this.alpha*(e+t)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(n.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return n.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,n.x=this.R*s+this.x0,n}function qne(n){for(var e=n.x-this.x0,t=n.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,l=0,c=o,u=-1e3,d=0;Math.abs(c-u)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return n.x=a,n.y=c,n}var Wne=["somerc"],Dj={init:Vne,forward:Hne,inverse:qne,names:Wne};var mg=1e-7;function $ne(n){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.projName=="object"?Object.keys(n.projName)[0]:n.projName;return"no_uoff"in n||"no_off"in n||e.indexOf(t)!==-1||e.indexOf(yA(t))!==-1}function Zne(){var n,e,t,r,i,o,s,a,l,c,u=0,d,f=0,h=0,g=0,_=0,y=0,v=0;this.no_off=$ne(this),this.no_rot="no_rot"in this;var E=!1;"alpha"in this&&(E=!0);var S=!1;if("rectified_grid_angle"in this&&(S=!0),E&&(v=this.alpha),S&&(u=this.rectified_grid_angle),E||S)f=this.longc;else if(h=this.long1,_=this.lat1,g=this.long2,y=this.lat2,Math.abs(_-y)<=mg||(n=Math.abs(_))<=mg||Math.abs(n-Me)<=mg||Math.abs(Math.abs(this.lat0)-Me)<=mg||Math.abs(Math.abs(y)-Me)<=mg)throw new Error;var I=1-this.es;e=Math.sqrt(I),Math.abs(this.lat0)>Fe?(a=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*a*a,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/I),this.A=this.B*this.k0*e/n,r=this.B*e/(t*Math.sqrt(n)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Do(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),E||S?(E?(d=Math.asin(Math.sin(v)/r),S||(u=v)):(d=u,v=Math.asin(r*Math.sin(d))),this.lam0=f-Math.asin(.5*(i-1/i)*Math.tan(d))/this.B):(o=Math.pow(Do(this.e,_,Math.sin(_)),this.B),s=Math.pow(Do(this.e,y,Math.sin(y)),this.B),i=this.E/o,l=(s-o)/(s+o),c=this.E*this.E,c=(c-s*o)/(c+s*o),n=h-g,n<-Math.PI?g-=nh:n>Math.PI&&(g+=nh),this.lam0=je(.5*(h+g)-Math.atan(c*Math.tan(.5*this.B*(h-g))/l)/this.B,this.over),d=Math.atan(2*Math.sin(this.B*je(h-this.lam0,this.over))/(i-1/i)),u=v=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(_n-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(_n+i))}function Yne(n){var e={},t,r,i,o,s,a,l,c;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-Me)>Fe){if(s=this.E/Math.pow(Do(this.e,n.y,Math.sin(n.y)),this.B),a=1/s,t=.5*(s-a),r=.5*(s+a),o=Math.sin(this.B*n.x),i=(t*this.singam-o*this.cosgam)/r,Math.abs(Math.abs(i)-1)<Fe)throw new Error;c=.5*this.ArB*Math.log((1-i)/(1+i)),a=Math.cos(this.B*n.x),Math.abs(a)<mg?l=this.A*n.x:l=this.ArB*Math.atan2(t*this.cosgam+o*this.singam,a)}else c=n.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*n.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Xne(n){var e,t,r,i,o,s,a,l={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,e=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,e=n.y*this.cosrot+n.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*t),i=.5*(r-1/r),o=.5*(r+1/r),s=Math.sin(this.BrA*e),a=(s*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(a)-1)<Fe)l.x=0,l.y=a<0?-Me:Me;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Gc(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var Kne=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],Tj={init:Zne,forward:Yne,inverse:Xne,names:Kne};function Jne(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Fe)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var e=Math.sin(this.lat1),t=Math.cos(this.lat1),r=co(this.e,e,t),i=Do(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=co(this.e,o,s),l=Do(this.e,this.lat2,o),c=Math.abs(Math.abs(this.lat0)-Me)<Fe?0:Do(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Fe?this.ns=Math.log(r/a)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Qne(n){var e=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=Fe&&(t=Tl(t)*(Me-2*Fe));var r=Math.abs(Math.abs(t)-Me),i,o;if(r>Fe)i=Do(this.e,t,Math.sin(t)),o=this.a*this.f0*Math.pow(i,this.ns);else{if(r=t*this.ns,r<=0)return null;o=0}var s=this.ns*je(e-this.long0,this.over);return n.x=this.k0*(o*Math.sin(s))+this.x0,n.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,n}function ere(n){var e,t,r,i,o,s=(n.x-this.x0)/this.k0,a=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),t=1):(e=-Math.sqrt(s*s+a*a),t=-1);var l=0;if(e!==0&&(l=Math.atan2(t*s,t*a)),e!==0||this.ns>0){if(t=1/this.ns,r=Math.pow(e/(this.a*this.f0),t),i=Gc(this.e,r),i===-9999)return null}else i=-Me;return o=je(l/this.ns+this.long0,this.over),n.x=o,n.y=i,n}var tre=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"],Mj={init:Jne,forward:Qne,inverse:ere,names:tre};function nre(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function rre(n){var e,t,r,i,o,s,a,l=n.x,c=n.y,u=je(l-this.long0,this.over);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(r)),o=Math.asin(Math.cos(t)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),n.y=a*Math.cos(s)/1,n.x=a*Math.sin(s)/1,this.czech||(n.y*=-1,n.x*=-1),n}function ire(n){var e,t,r,i,o,s,a,l,c=n.x;n.x=n.y,n.y=c,this.czech||(n.y*=-1,n.x*=-1),s=Math.sqrt(n.x*n.x+n.y*n.y),o=Math.atan2(n.y,n.x),i=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),t=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),n.x=this.long0-t/this.alfa,a=e,l=0;var u=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-n.y)<1e-10&&(l=1),a=n.y,u+=1;while(l===0&&u<15);return u>=15?null:n}var ore=["Krovak","krovak"],Aj={init:nre,forward:rre,inverse:ire,names:ore};function xi(n,e,t,r,i){return n*i-e*Math.sin(2*i)+t*Math.sin(4*i)-r*Math.sin(6*i)}function zc(n){return 1-.25*n*(1+n/16*(3+1.25*n))}function Vc(n){return .375*n*(1+.25*n*(1+.46875*n))}function Hc(n){return .05859375*n*n*(1+.75*n)}function qc(n){return n*n*n*(35/3072)}function B1(n,e,t){var r=e*t;return n/Math.sqrt(1-r*r)}function Ko(n){return Math.abs(n)<Me?n:n-Tl(n)*Math.PI}function zd(n,e,t,r,i){var o,s;o=n/e;for(var a=0;a<15;a++)if(s=(n-(e*o-t*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*t*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}function sre(){this.sphere||(this.e0=zc(this.es),this.e1=Vc(this.es),this.e2=Hc(this.es),this.e3=qc(this.es),this.ml0=this.a*xi(this.e0,this.e1,this.e2,this.e3,this.lat0))}function are(n){var e,t,r=n.x,i=n.y;if(r=je(r-this.long0,this.over),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),t=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=B1(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),u=c*c,d=this.es*s*s/(1-this.es),f=this.a*xi(this.e0,this.e1,this.e2,this.e3,i);e=a*c*(1-u*l*(1/6-(8-l+8*d)*u/120)),t=f-this.ml0+a*o/s*u*(.5+(5-l+6*d)*u/24)}return n.x=e+this.x0,n.y=t+this.y0,n}function lre(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,r,i;if(this.sphere){var o=t+this.lat0;r=Math.asin(Math.sin(o)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(o))}else{var s=this.ml0/this.a+t,a=zd(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-Me)<=Fe)return n.x=this.long0,n.y=Me,t<0&&(n.y*=-1),n;var l=B1(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(a),2),d=e*this.a/l,f=d*d;r=a-l*Math.tan(a)/c*d*d*(.5-(1+3*u)*d*d/24),i=d*(1-f*(u/3+(1+3*u)*u*f/15))/Math.cos(a)}return n.x=je(i+this.long0,this.over),n.y=Ko(r),n}var cre=["Cassini","Cassini_Soldner","cass"],Rj={init:sre,forward:are,inverse:lre,names:cre};function Ba(n,e){var t;return n>1e-7?(t=n*e,(1-n*n)*(e/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*e}var RA=1,NA=2,PA=3,Rx=4;function ure(){var n=Math.abs(this.lat0);if(Math.abs(n-Me)<Fe?this.mode=this.lat0<0?RA:NA:Math.abs(n)<Fe?this.mode=PA:this.mode=Rx,this.es>0){var e;switch(this.qp=Ba(this.e,1),this.mmf=.5/(1-this.es),this.apa=vre(this.es),this.mode){case NA:this.dd=1;break;case RA:this.dd=1;break;case PA:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case Rx:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Ba(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===Rx&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function hre(n){var e,t,r,i,o,s,a,l,c,u,d=n.x,f=n.y;if(d=je(d-this.long0,this.over),this.sphere){if(o=Math.sin(f),u=Math.cos(f),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+u*r:1+this.sinph0*o+this.cosph0*u*r,t<=Fe)return null;t=Math.sqrt(2/t),e=t*u*Math.sin(d),t*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.lat0)<Fe)return null;t=_n-f*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),e=t*Math.sin(d),t*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(d),i=Math.sin(d),o=Math.sin(f),s=Ba(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=Me+f,s=this.qp-s;break;case this.S_POLE:c=f-Me,s=this.qp+s;break}if(Math.abs(c)<Fe)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?t=this.ymf*c*(this.cosb1*a-this.sinb1*l*r):t=(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,e=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*i,t=r*(this.mode===this.S_POLE?c:-c)):e=t=0;break}}return n.x=this.a*e+this.x0,n.y=this.a*t+this.y0,n}function dre(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,r,i,o,s,a,l,c;if(this.sphere){var u=0,d,f=0;if(d=Math.sqrt(e*e+t*t),i=d*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(i),u=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=Fe?0:Math.asin(t*f/d),e*=f,t=u*d;break;case this.OBLIQ:i=Math.abs(d)<=Fe?this.lat0:Math.asin(u*this.sinph0+t*f*this.cosph0/d),e*=f*this.cosph0,t=(u-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:t=-t,i=Me-i;break;case this.S_POLE:i-=Me;break}r=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,t)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,t*=this.dd,l=Math.sqrt(e*e+t*t),l<Fe)return n.x=this.long0,n.y=this.lat0,n;s=2*Math.asin(.5*l/this.rq),o=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(c=o*this.sinb1+t*s*this.cosb1/l,a=this.qp*c,t=l*this.cosb1*o-t*this.sinb1*s):(c=t*s/l,a=this.qp*c,t=l*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),a=e*e+t*t,!a)return n.x=this.long0,n.y=this.lat0,n;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(e,t),i=wre(Math.asin(c),this.apa)}return n.x=je(this.long0+r,this.over),n.y=i,n}var fre=.3333333333333333,pre=.17222222222222222,gre=.10257936507936508,mre=.06388888888888888,_re=.0664021164021164,yre=.016415012942191543;function vre(n){var e,t=[];return t[0]=n*fre,e=n*n,t[0]+=e*pre,t[1]=e*mre,e*=n,t[0]+=e*gre,t[1]+=e*_re,t[2]=e*yre,t}function wre(n,e){var t=n+n;return n+e[0]*Math.sin(t)+e[1]*Math.sin(t+t)+e[2]*Math.sin(t+t+t)}var xre=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Nj={init:ure,forward:hre,inverse:dre,names:xre,S_POLE:RA,N_POLE:NA,EQUIT:PA,OBLIQ:Rx};function Jo(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)}function bre(){Math.abs(this.lat1+this.lat2)<Fe||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=co(this.e3,this.sin_po,this.cos_po),this.qs1=Ba(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=co(this.e3,this.sin_po,this.cos_po),this.qs2=Ba(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ba(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Fe?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Ere(n){var e=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var r=Ba(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*je(e-this.long0,this.over),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return n.x=s,n.y=a,n}function Sre(n){var e,t,r,i,o,s;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(e=Math.sqrt(n.x*n.x+n.y*n.y),r=1):(e=-Math.sqrt(n.x*n.x+n.y*n.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*n.x,r*n.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(t=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,t)),o=je(i/this.ns0+this.long0,this.over),n.x=o,n.y=s,n}function Cre(n,e){var t,r,i,o,s,a=Jo(.5*e);if(n<Fe)return a;for(var l=n*n,c=1;c<=25;c++)if(t=Math.sin(a),r=Math.cos(a),i=n*t,o=1-i*i,s=.5*o*o/r*(e/(1-l)-t/o+.5/n*Math.log((1-i)/(1+i))),a=a+s,Math.abs(s)<=1e-7)return a;return null}var Ire=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"],Pj={init:bre,forward:Ere,inverse:Sre,names:Ire,phi1z:Cre};function Dre(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Tre(n){var e,t,r,i,o,s,a,l,c=n.x,u=n.y;return r=je(c-this.long0,this.over),e=Math.sin(u),t=Math.cos(u),i=Math.cos(r),s=this.sin_p14*e+this.cos_p14*t*i,o=1,s>0||Math.abs(s)<=Fe?(a=this.x0+this.a*o*t*Math.sin(r)/s,l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*t*i)/s):(a=this.x0+this.infinity_dist*t*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*t*i)),n.x=a,n.y=l,n}function Mre(n){var e,t,r,i,o,s;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(e=Math.sqrt(n.x*n.x+n.y*n.y))?(i=Math.atan2(e,this.rc),t=Math.sin(i),r=Math.cos(i),s=Jo(r*this.sin_p14+n.y*t*this.cos_p14/e),o=Math.atan2(n.x*t,e*this.cos_p14*r-n.y*this.sin_p14*t),o=je(this.long0+o,this.over)):(s=this.phic0,o=0),n.x=o,n.y=s,n}var Are=["gnom"],Lj={init:Dre,forward:Tre,inverse:Mre,names:Are};function kj(n,e){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(e)-t)<1e-6)return e<0?-1*Me:Me;for(var r=Math.asin(.5*e),i,o,s,a,l=0;l<30;l++)if(o=Math.sin(r),s=Math.cos(r),a=n*o,i=Math.pow(1-a*a,2)/(2*s)*(e/(1-n*n)-o/(1-a*a)+.5/n*Math.log((1-a)/(1+a))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function Rre(){this.sphere||(this.k0=co(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Nre(n){var e=n.x,t=n.y,r,i,o=je(e-this.long0,this.over);if(this.sphere)r=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var s=Ba(this.e,Math.sin(t));r=this.x0+this.a*this.k0*o,i=this.y0+this.a*s*.5/this.k0}return n.x=r,n.y=i,n}function Pre(n){n.x-=this.x0,n.y-=this.y0;var e,t;return this.sphere?(e=je(this.long0+n.x/this.a/Math.cos(this.lat_ts),this.over),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=kj(this.e,2*n.y*this.k0/this.a),e=je(this.long0+n.x/(this.a*this.k0),this.over)),n.x=e,n.y=t,n}var Lre=["cea"],Oj={init:Rre,forward:Nre,inverse:Pre,names:Lre};function kre(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Ore(n){var e=n.x,t=n.y,r=je(e-this.long0,this.over),i=Ko(t-this.lat0);return n.x=this.x0+this.a*r*this.rc,n.y=this.y0+this.a*i,n}function Fre(n){var e=n.x,t=n.y;return n.x=je(this.long0+(e-this.x0)/(this.a*this.rc),this.over),n.y=Ko(this.lat0+(t-this.y0)/this.a),n}var jre=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"],Fj={init:kre,forward:Ore,inverse:Fre,names:jre};var jj=20;function Bre(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=zc(this.es),this.e1=Vc(this.es),this.e2=Hc(this.es),this.e3=qc(this.es),this.ml0=this.a*xi(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Ure(n){var e=n.x,t=n.y,r,i,o,s=je(e-this.long0,this.over);if(o=s*Math.sin(t),this.sphere)Math.abs(t)<=Fe?(r=this.a*s,i=-1*this.a*this.lat0):(r=this.a*Math.sin(o)/Math.tan(t),i=this.a*(Ko(t-this.lat0)+(1-Math.cos(o))/Math.tan(t)));else if(Math.abs(t)<=Fe)r=this.a*s,i=-1*this.ml0;else{var a=B1(this.a,this.e,Math.sin(t))/Math.tan(t);r=a*Math.sin(o),i=this.a*xi(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+a*(1-Math.cos(o))}return n.x=r+this.x0,n.y=i+this.y0,n}function Gre(n){var e,t,r,i,o,s,a,l,c;if(r=n.x-this.x0,i=n.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Fe)e=je(r/this.a+this.long0,this.over),t=0;else{s=this.lat0+i/this.a,a=r*r/this.a/this.a+s*s,l=s;var u;for(o=jj;o;--o)if(u=Math.tan(l),c=-1*(s*(l*u+1)-l-.5*(l*l+a)*u)/((l-s)/u-1),l+=c,Math.abs(c)<=Fe){t=l;break}e=je(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(t),this.over)}else if(Math.abs(i+this.ml0)<=Fe)t=0,e=je(this.long0+r/this.a,this.over);else{s=(this.ml0+i)/this.a,a=r*r/this.a/this.a+s*s,l=s;var d,f,h,g,_;for(o=jj;o;--o)if(_=this.e*Math.sin(l),d=Math.sqrt(1-_*_)*Math.tan(l),f=this.a*xi(this.e0,this.e1,this.e2,this.e3,l),h=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=f/this.a,c=(s*(d*g+1)-g-.5*d*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*s*g)/(4*d)+(s-g)*(d*h-2/Math.sin(2*l))-h),l-=c,Math.abs(c)<=Fe){t=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),e=je(this.long0+Math.asin(r*d/this.a)/Math.sin(t),this.over)}return n.x=e,n.y=t,n}var zre=["Polyconic","American_Polyconic","poly"],Bj={init:Bre,forward:Ure,inverse:Gre,names:zre};function Vre(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Hre(n){var e,t=n.x,r=n.y,i=r-this.lat0,o=t-this.long0,s=i/jd*1e-5,a=o,l=1,c=0;for(e=1;e<=10;e++)l=l*s,c=c+this.A[e]*l;var u=c,d=a,f=1,h=0,g,_,y=0,v=0;for(e=1;e<=6;e++)g=f*u-h*d,_=h*u+f*d,f=g,h=_,y=y+this.B_re[e]*f-this.B_im[e]*h,v=v+this.B_im[e]*f+this.B_re[e]*h;return n.x=v*this.a+this.x0,n.y=y*this.a+this.y0,n}function qre(n){var e,t=n.x,r=n.y,i=t-this.x0,o=r-this.y0,s=o/this.a,a=i/this.a,l=1,c=0,u,d,f=0,h=0;for(e=1;e<=6;e++)u=l*s-c*a,d=c*s+l*a,l=u,c=d,f=f+this.C_re[e]*l-this.C_im[e]*c,h=h+this.C_im[e]*l+this.C_re[e]*c;for(var g=0;g<this.iterations;g++){var _=f,y=h,v,E,S=s,I=a;for(e=2;e<=6;e++)v=_*f-y*h,E=y*f+_*h,_=v,y=E,S=S+(e-1)*(this.B_re[e]*_-this.B_im[e]*y),I=I+(e-1)*(this.B_im[e]*_+this.B_re[e]*y);_=1,y=0;var R=this.B_re[1],V=this.B_im[1];for(e=2;e<=6;e++)v=_*f-y*h,E=y*f+_*h,_=v,y=E,R=R+e*(this.B_re[e]*_-this.B_im[e]*y),V=V+e*(this.B_im[e]*_+this.B_re[e]*y);var j=R*R+V*V;f=(S*R+I*V)/j,h=(I*R-S*V)/j}var F=f,k=h,N=1,A=0;for(e=1;e<=9;e++)N=N*F,A=A+this.D[e]*N;var x=this.lat0+A*jd*1e5,O=this.long0+k;return n.x=O,n.y=x,n}var Wre=["New_Zealand_Map_Grid","nzmg"],Uj={init:Vre,forward:Hre,inverse:qre,names:Wre};function $re(){}function Zre(n){var e=n.x,t=n.y,r=je(e-this.long0,this.over),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=i,n.y=o,n}function Yre(n){n.x-=this.x0,n.y-=this.y0;var e=je(this.long0+n.x/this.a,this.over),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=e,n.y=t,n}var Xre=["Miller_Cylindrical","mill"],Gj={init:$re,forward:Zre,inverse:Yre,names:Xre};var Kre=20;function Jre(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=dg(this.es)}function Qre(n){var e,t,r=n.x,i=n.y;if(r=je(r-this.long0,this.over),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var o=this.n*Math.sin(i),s=Kre;s;--s){var a=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<Fe)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),t=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);t=this.a*Ml(i,l,c,this.en),e=this.a*r*c/Math.sqrt(1-this.es*l*l)}return n.x=e,n.y=t,n}function eie(n){var e,t,r,i;return n.x-=this.x0,r=n.x/this.a,n.y-=this.y0,e=n.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=Jo((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Jo(Math.sin(e)/this.n)),r=je(r+this.long0,this.over),e=Ko(e)):(e=fg(n.y/this.a,this.es,this.en),i=Math.abs(e),i<Me?(i=Math.sin(e),t=this.long0+n.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=je(t,this.over)):i-Fe<Me&&(r=this.long0)),n.x=r,n.y=e,n}var tie=["Sinusoidal","sinu"],zj={init:Jre,forward:Qre,inverse:eie,names:tie};function nie(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function rie(n){for(var e=n.x,t=n.y,r=je(e-this.long0,this.over),i=t,o=Math.PI*Math.sin(t);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<Fe)break}i/=2,Math.PI/2-Math.abs(t)<Fe&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return n.x=a,n.y=l,n}function iie(n){var e,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),e=Math.asin(t);var r=je(this.long0+n.x/(.900316316158*this.a*Math.cos(e)),this.over);r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),t=(2*e+Math.sin(2*e))/Math.PI,Math.abs(t)>1&&(t=1);var i=Math.asin(t);return n.x=r,n.y=i,n}var oie=["Mollweide","moll"],Vj={init:nie,forward:rie,inverse:iie,names:oie};function sie(){Math.abs(this.lat1+this.lat2)<Fe||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=zc(this.es),this.e1=Vc(this.es),this.e2=Hc(this.es),this.e3=qc(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=co(this.e,this.sin_phi,this.cos_phi),this.ml1=xi(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Fe?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=co(this.e,this.sin_phi,this.cos_phi),this.ml2=xi(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=xi(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function aie(n){var e=n.x,t=n.y,r;if(this.sphere)r=this.a*(this.g-t);else{var i=xi(this.e0,this.e1,this.e2,this.e3,t);r=this.a*(this.g-i)}var o=this.ns*je(e-this.long0,this.over),s=this.x0+r*Math.sin(o),a=this.y0+this.rh-r*Math.cos(o);return n.x=s,n.y=a,n}function lie(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var e,t,r,i;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),e=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),e=-1);var o=0;if(t!==0&&(o=Math.atan2(e*n.x,e*n.y)),this.sphere)return i=je(this.long0+o/this.ns,this.over),r=Ko(this.g-t/this.a),n.x=i,n.y=r,n;var s=this.g-t/this.a;return r=zd(s,this.e0,this.e1,this.e2,this.e3),i=je(this.long0+o/this.ns,this.over),n.x=i,n.y=r,n}var cie=["Equidistant_Conic","eqdc"],Hj={init:sie,forward:aie,inverse:lie,names:cie};function uie(){this.R=this.a}function hie(n){var e=n.x,t=n.y,r=je(e-this.long0,this.over),i,o;Math.abs(t)<=Fe&&(i=this.x0+this.R*r,o=this.y0);var s=Jo(2*Math.abs(t/Math.PI));(Math.abs(r)<=Fe||Math.abs(Math.abs(t)-Me)<=Fe)&&(i=this.x0,t>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*s):o=this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(s),u=Math.cos(s),d=u/(c+u-1),f=d*d,h=d*(2/c-1),g=h*h,_=Math.PI*this.R*(a*(d-g)+Math.sqrt(l*(d-g)*(d-g)-(g+l)*(f-g)))/(g+l);r<0&&(_=-_),i=this.x0+_;var y=l+d;return _=Math.PI*this.R*(h*y-a*Math.sqrt((g+l)*(l+1)-y*y))/(g+l),t>=0?o=this.y0+_:o=this.y0-_,n.x=i,n.y=o,n}function die(n){var e,t,r,i,o,s,a,l,c,u,d,f,h;return n.x-=this.x0,n.y-=this.y0,d=Math.PI*this.R,r=n.x/d,i=n.y/d,o=r*r+i*i,s=-Math.abs(i)*(1+o),a=s-2*i*i+r*r,l=-2*s+1+2*i*i+o*o,h=i*i/l+(2*a*a*a/l/l/l-9*s*a/l/l)/27,c=(s-a*a/3/l)/l,u=2*Math.sqrt(-c/3),d=3*h/c/u,Math.abs(d)>1&&(d>=0?d=1:d=-1),f=Math.acos(d)/3,n.y>=0?t=(-u*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:t=-(-u*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,Math.abs(r)<Fe?e=this.long0:e=je(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r,this.over),n.x=e,n.y=t,n}var fie=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"],qj={init:uie,forward:hie,inverse:die,names:fie};function Wj(n,e,t,r,i,o){let s=r-e,a=Math.atan((1-o)*Math.tan(n)),l=Math.atan((1-o)*Math.tan(t)),c=Math.sin(a),u=Math.cos(a),d=Math.sin(l),f=Math.cos(l),h=s,g,_=100,y,v,E,S,I,R,V,j,F,k,N,A,x,O;do{if(y=Math.sin(h),v=Math.cos(h),E=Math.sqrt(f*y*(f*y)+(u*d-c*f*v)*(u*d-c*f*v)),E===0)return{azi1:0,s12:0};S=c*d+u*f*v,I=Math.atan2(E,S),R=u*f*y/E,V=1-R*R,j=V!==0?S-2*c*d/V:0,F=o/16*V*(4+o*(4-3*V)),g=h,h=s+(1-F)*o*R*(I+F*E*(j+F*S*(-1+2*j*j)))}while(Math.abs(h-g)>1e-12&&--_>0);return _===0?{azi1:NaN,s12:NaN}:(k=V*(i*i-i*(1-o)*(i*(1-o)))/(i*(1-o)*(i*(1-o))),N=1+k/16384*(4096+k*(-768+k*(320-175*k))),A=k/1024*(256+k*(-128+k*(74-47*k))),x=A*E*(j+A/4*(S*(-1+2*j*j)-A/6*j*(-3+4*E*E)*(-3+4*j*j))),O=i*(1-o)*N*(I-x),{azi1:Math.atan2(f*y,u*d-c*f*v),s12:O})}function $j(n,e,t,r,i,o){let s=Math.atan((1-o)*Math.tan(n)),a=Math.sin(s),l=Math.cos(s),c=Math.sin(t),u=Math.cos(t),d=Math.atan2(a,l*u),f=l*c,h=1-f*f,g=h*(i*i-i*(1-o)*(i*(1-o)))/(i*(1-o)*(i*(1-o))),_=1+g/16384*(4096+g*(-768+g*(320-175*g))),y=g/1024*(256+g*(-128+g*(74-47*g))),v=r/(i*(1-o)*_),E,S=100,I,R,V,j;do I=Math.cos(2*d+v),R=Math.sin(v),V=Math.cos(v),j=y*R*(I+y/4*(V*(-1+2*I*I)-y/6*I*(-3+4*R*R)*(-3+4*I*I))),E=v,v=r/(i*(1-o)*_)+j;while(Math.abs(v-E)>1e-12&&--S>0);if(S===0)return{lat2:NaN,lon2:NaN};let F=a*R-l*V*u,k=Math.atan2(a*V+l*R*u,(1-o)*Math.sqrt(f*f+F*F)),N=Math.atan2(R*c,l*V-a*R*u),A=o/16*h*(4+o*(4-3*h)),x=N-(1-A)*o*f*(v+A*R*(I+A*V*(-1+2*I*I))),O=e+x;return{lat2:k,lon2:O}}function pie(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function gie(n){var e=n.x,t=n.y,r=Math.sin(n.y),i=Math.cos(n.y),o=je(e-this.long0,this.over),s,a,l,c,u,d,f,h,g,_,y;return this.sphere?Math.abs(this.sin_p12-1)<=Fe?(n.x=this.x0+this.a*(Me-t)*Math.sin(o),n.y=this.y0-this.a*(Me-t)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=Fe?(n.x=this.x0+this.a*(Me+t)*Math.sin(o),n.y=this.y0+this.a*(Me+t)*Math.cos(o),n):(g=this.sin_p12*r+this.cos_p12*i*Math.cos(o),f=Math.acos(g),h=f?f/Math.sin(f):1,n.x=this.x0+this.a*h*i*Math.sin(o),n.y=this.y0+this.a*h*(this.cos_p12*r-this.sin_p12*i*Math.cos(o)),n):(s=zc(this.es),a=Vc(this.es),l=Hc(this.es),c=qc(this.es),Math.abs(this.sin_p12-1)<=Fe?(u=this.a*xi(s,a,l,c,Me),d=this.a*xi(s,a,l,c,t),n.x=this.x0+(u-d)*Math.sin(o),n.y=this.y0-(u-d)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=Fe?(u=this.a*xi(s,a,l,c,Me),d=this.a*xi(s,a,l,c,t),n.x=this.x0+(u+d)*Math.sin(o),n.y=this.y0+(u+d)*Math.cos(o),n):Math.abs(e)<Fe&&Math.abs(t-this.lat0)<Fe?(n.x=n.y=0,n):(_=Wj(this.lat0,this.long0,t,e,this.a,this.f),y=_.azi1,n.x=_.s12*Math.sin(y),n.y=_.s12*Math.cos(y),n))}function mie(n){n.x-=this.x0,n.y-=this.y0;var e,t,r,i,o,s,a,l,c,u,d,f,h,g,_,y;return this.sphere?(e=Math.sqrt(n.x*n.x+n.y*n.y),e>2*Me*this.a?void 0:(t=e/this.a,r=Math.sin(t),i=Math.cos(t),o=this.long0,Math.abs(e)<=Fe?s=this.lat0:(s=Jo(i*this.sin_p12+n.y*r*this.cos_p12/e),a=Math.abs(this.lat0)-Me,Math.abs(a)<=Fe?this.lat0>=0?o=je(this.long0+Math.atan2(n.x,-n.y),this.over):o=je(this.long0-Math.atan2(-n.x,n.y),this.over):o=je(this.long0+Math.atan2(n.x*r,e*this.cos_p12*i-n.y*this.sin_p12*r),this.over)),n.x=o,n.y=s,n)):(l=zc(this.es),c=Vc(this.es),u=Hc(this.es),d=qc(this.es),Math.abs(this.sin_p12-1)<=Fe?(f=this.a*xi(l,c,u,d,Me),e=Math.sqrt(n.x*n.x+n.y*n.y),h=f-e,s=zd(h/this.a,l,c,u,d),o=je(this.long0+Math.atan2(n.x,-1*n.y),this.over),n.x=o,n.y=s,n):Math.abs(this.sin_p12+1)<=Fe?(f=this.a*xi(l,c,u,d,Me),e=Math.sqrt(n.x*n.x+n.y*n.y),h=e-f,s=zd(h/this.a,l,c,u,d),o=je(this.long0+Math.atan2(n.x,n.y),this.over),n.x=o,n.y=s,n):(g=Math.atan2(n.x,n.y),_=Math.sqrt(n.x*n.x+n.y*n.y),y=$j(this.lat0,this.long0,g,_,this.a,this.f),n.x=y.lon2,n.y=y.lat2,n))}var _ie=["Azimuthal_Equidistant","aeqd"],Zj={init:pie,forward:gie,inverse:mie,names:_ie};function yie(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function vie(n){var e,t,r,i,o,s,a,l,c=n.x,u=n.y;return r=je(c-this.long0,this.over),e=Math.sin(u),t=Math.cos(u),i=Math.cos(r),s=this.sin_p14*e+this.cos_p14*t*i,o=1,(s>0||Math.abs(s)<=Fe)&&(a=this.a*o*t*Math.sin(r),l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*t*i)),n.x=a,n.y=l,n}function wie(n){var e,t,r,i,o,s,a;return n.x-=this.x0,n.y-=this.y0,e=Math.sqrt(n.x*n.x+n.y*n.y),t=Jo(e/this.a),r=Math.sin(t),i=Math.cos(t),s=this.long0,Math.abs(e)<=Fe?(a=this.lat0,n.x=s,n.y=a,n):(a=Jo(i*this.sin_p14+n.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-Me,Math.abs(o)<=Fe?(this.lat0>=0?s=je(this.long0+Math.atan2(n.x,-n.y),this.over):s=je(this.long0-Math.atan2(-n.x,n.y),this.over),n.x=s,n.y=a,n):(s=je(this.long0+Math.atan2(n.x*r,e*this.cos_p14*i-n.y*this.sin_p14*r),this.over),n.x=s,n.y=a,n))}var xie=["ortho"],Yj={init:yie,forward:vie,inverse:wie,names:xie};var vr={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Un={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function bie(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Me-_n/2?this.face=vr.TOP:this.lat0<=-(Me-_n/2)?this.face=vr.BOTTOM:Math.abs(this.long0)<=_n?this.face=vr.FRONT:Math.abs(this.long0)<=Me+_n?this.face=this.long0>0?vr.RIGHT:vr.LEFT:this.face=vr.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Eie(n){var e={x:0,y:0},t,r,i,o,s,a,l={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,r=n.x,this.face===vr.TOP)o=Me-t,r>=_n&&r<=Me+_n?(l.value=Un.AREA_0,i=r-Me):r>Me+_n||r<=-(Me+_n)?(l.value=Un.AREA_1,i=r>0?r-yr:r+yr):r>-(Me+_n)&&r<=-_n?(l.value=Un.AREA_2,i=r+Me):(l.value=Un.AREA_3,i=r);else if(this.face===vr.BOTTOM)o=Me+t,r>=_n&&r<=Me+_n?(l.value=Un.AREA_0,i=-r+Me):r<_n&&r>=-_n?(l.value=Un.AREA_1,i=-r):r<-_n&&r>=-(Me+_n)?(l.value=Un.AREA_2,i=-r-Me):(l.value=Un.AREA_3,i=r>0?-r+yr:-r-yr);else{var c,u,d,f,h,g,_;this.face===vr.RIGHT?r=_g(r,+Me):this.face===vr.BACK?r=_g(r,+yr):this.face===vr.LEFT&&(r=_g(r,-Me)),f=Math.sin(t),h=Math.cos(t),g=Math.sin(r),_=Math.cos(r),c=h*_,u=h*g,d=f,this.face===vr.FRONT?(o=Math.acos(c),i=Nx(o,d,u,l)):this.face===vr.RIGHT?(o=Math.acos(u),i=Nx(o,d,-c,l)):this.face===vr.BACK?(o=Math.acos(-c),i=Nx(o,d,-u,l)):this.face===vr.LEFT?(o=Math.acos(-u),i=Nx(o,d,c,l)):(o=i=0,l.value=Un.AREA_0)}return a=Math.atan(12/yr*(i+Math.acos(Math.sin(i)*Math.cos(_n))-Me)),s=Math.sqrt((1-Math.cos(o))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Un.AREA_1?a+=Me:l.value===Un.AREA_2?a+=yr:l.value===Un.AREA_3&&(a+=1.5*yr),e.x=s*Math.cos(a),e.y=s*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,n.x=e.x,n.y=e.y,n}function Sie(n){var e={lam:0,phi:0},t,r,i,o,s,a,l,c,u,d={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,r=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?d.value=Un.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(d.value=Un.AREA_1,t-=Me):n.x<0&&-n.x>=Math.abs(n.y)?(d.value=Un.AREA_2,t=t<0?t+yr:t-yr):(d.value=Un.AREA_3,t+=Me),u=yr/12*Math.tan(t),s=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(s),i=Math.cos(t),o=Math.tan(r),l=1-i*i*o*o*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===vr.TOP)c=Math.acos(l),e.phi=Me-c,d.value===Un.AREA_0?e.lam=a+Me:d.value===Un.AREA_1?e.lam=a<0?a+yr:a-yr:d.value===Un.AREA_2?e.lam=a-Me:e.lam=a;else if(this.face===vr.BOTTOM)c=Math.acos(l),e.phi=c-Me,d.value===Un.AREA_0?e.lam=-a+Me:d.value===Un.AREA_1?e.lam=-a:d.value===Un.AREA_2?e.lam=-a-Me:e.lam=a<0?-a-yr:-a+yr;else{var f,h,g;f=l,u=f*f,u>=1?g=0:g=Math.sqrt(1-u)*Math.sin(a),u+=g*g,u>=1?h=0:h=Math.sqrt(1-u),d.value===Un.AREA_1?(u=h,h=-g,g=u):d.value===Un.AREA_2?(h=-h,g=-g):d.value===Un.AREA_3&&(u=h,h=g,g=-u),this.face===vr.RIGHT?(u=f,f=-h,h=u):this.face===vr.BACK?(f=-f,h=-h):this.face===vr.LEFT&&(u=f,f=h,h=-u),e.phi=Math.acos(-g)-Me,e.lam=Math.atan2(h,f),this.face===vr.RIGHT?e.lam=_g(e.lam,-Me):this.face===vr.BACK?e.lam=_g(e.lam,-yr):this.face===vr.LEFT&&(e.lam=_g(e.lam,+Me))}if(this.es!==0){var _,y,v;_=e.phi<0?1:0,y=Math.tan(e.phi),v=this.b/Math.sqrt(y*y+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-v*v)/(this.one_minus_f*v)),_&&(e.phi=-e.phi)}return e.lam+=this.long0,n.x=e.lam,n.y=e.phi,n}function Nx(n,e,t,r){var i;return n<Fe?(r.value=Un.AREA_0,i=0):(i=Math.atan2(e,t),Math.abs(i)<=_n?r.value=Un.AREA_0:i>_n&&i<=Me+_n?(r.value=Un.AREA_1,i-=Me):i>Me+_n||i<=-(Me+_n)?(r.value=Un.AREA_2,i=i>=0?i-yr:i+yr):(r.value=Un.AREA_3,i+=Me)),i}function _g(n,e){var t=n+e;return t<-yr?t+=nh:t>+yr&&(t-=nh),t}var Cie=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],Xj={init:bie,forward:Eie,inverse:Sie,names:Cie};var LA=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],U1=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Kj=.8487,Jj=1.3523,Qj=wi/5,Iie=1/Qj,yg=18,Px=function(n,e){return n[0]+e*(n[1]+e*(n[2]+e*n[3]))},Die=function(n,e){return n[1]+e*(2*n[2]+e*3*n[3])};function Tie(n,e,t,r){for(var i=e;r;--r){var o=n(i);if(i-=o,Math.abs(o)<t)break}return i}function Mie(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Aie(n){var e=je(n.x-this.long0,this.over),t=Math.abs(n.y),r=Math.floor(t*Qj);r<0?r=0:r>=yg&&(r=yg-1),t=wi*(t-Iie*r);var i={x:Px(LA[r],t)*e,y:Px(U1[r],t)};return n.y<0&&(i.y=-i.y),i.x=i.x*this.a*Kj+this.x0,i.y=i.y*this.a*Jj+this.y0,i}function Rie(n){var e={x:(n.x-this.x0)/(this.a*Kj),y:Math.abs(n.y-this.y0)/(this.a*Jj)};if(e.y>=1)e.x/=LA[yg][0],e.y=n.y<0?-Me:Me;else{var t=Math.floor(e.y*yg);for(t<0?t=0:t>=yg&&(t=yg-1);;)if(U1[t][0]>e.y)--t;else if(U1[t+1][0]<=e.y)++t;else break;var r=U1[t],i=5*(e.y-r[0])/(U1[t+1][0]-r[0]);i=Tie(function(o){return(Px(r,o)-e.y)/Die(r,o)},i,Fe,100),e.x/=Px(LA[t],i),e.y=(5*t+i)*Xn,n.y<0&&(e.y=-e.y)}return e.x=je(e.x+this.long0,this.over),e}var Nie=["Robinson","robin"],e9={init:Mie,forward:Aie,inverse:Rie,names:Nie};function Pie(){this.name="geocent"}function Lie(n){var e=bx(n,this.es,this.a);return e}function kie(n){var e=Ex(n,this.es,this.a,this.b);return e}var Oie=["Geocentric","geocentric","geocent","Geocent"],t9={init:Pie,forward:Lie,inverse:kie,names:Oie};var uo={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},G1={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Fie(){if(Object.keys(G1).forEach((function(t){if(typeof this[t]>"u")this[t]=G1[t].def;else{if(G1[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);G1[t].num&&(this[t]=parseFloat(this[t]))}G1[t].degrees&&(this[t]=this[t]*Xn)}).bind(this)),Math.abs(Math.abs(this.lat0)-Me)<Fe?this.mode=this.lat0<0?uo.S_POLE:uo.N_POLE:Math.abs(this.lat0)<Fe?this.mode=uo.EQUIT:(this.mode=uo.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(n),this.sw=Math.sin(n)}function jie(n){n.x-=this.long0;var e=Math.sin(n.y),t=Math.cos(n.y),r=Math.cos(n.x),i,o;switch(this.mode){case uo.OBLIQ:o=this.sinph0*e+this.cosph0*t*r;break;case uo.EQUIT:o=t*r;break;case uo.S_POLE:o=-e;break;case uo.N_POLE:o=e;break}switch(o=this.pn1/(this.p-o),i=o*t*Math.sin(n.x),this.mode){case uo.OBLIQ:o*=this.cosph0*e-this.sinph0*t*r;break;case uo.EQUIT:o*=e;break;case uo.N_POLE:o*=-(t*r);break;case uo.S_POLE:o*=t*r;break}var s,a;return s=o*this.cg+i*this.sg,a=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-o*this.sg)*this.cw*a,o=s*a,n.x=i*this.a,n.y=o*this.a,n}function Bie(n){n.x/=this.a,n.y/=this.a;var e={x:n.x,y:n.y},t,r,i;i=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*i,r=this.pn1*n.y*this.cw*i,n.x=t*this.cg+r*this.sg,n.y=r*this.cg-t*this.sg;var o=ti(n.x,n.y);if(Math.abs(o)<Fe)e.x=0,e.y=n.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case uo.OBLIQ:e.y=Math.asin(s*this.sinph0+n.y*a*this.cosph0/o),n.y=(s-this.sinph0*Math.sin(e.y))*o,n.x*=a*this.cosph0;break;case uo.EQUIT:e.y=Math.asin(n.y*a/o),n.y=s*o,n.x*=a;break;case uo.N_POLE:e.y=Math.asin(s),n.y=-n.y;break;case uo.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(n.x,n.y)}return n.x=e.x+this.long0,n.y=e.y,n}var Uie=["Tilted_Perspective","tpers"],n9={init:Fie,forward:jie,inverse:Bie,names:Uie};function Gie(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var n=1-this.es,e=1/n;this.radius_p=Math.sqrt(n),this.radius_p2=n,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function zie(n){var e=n.x,t=n.y,r,i,o,s;if(e=e-this.long0,this.shape==="ellipse"){t=Math.atan(this.radius_p2*Math.tan(t));var a=this.radius_p/ti(this.radius_p*Math.cos(t),Math.sin(t));if(i=a*Math.cos(e)*Math.cos(t),o=a*Math.sin(e)*Math.cos(t),s=a*Math.sin(t),(this.radius_g-i)*i-o*o-s*s*this.radius_p_inv2<0)return n.x=Number.NaN,n.y=Number.NaN,n;r=this.radius_g-i,this.flip_axis?(n.x=this.radius_g_1*Math.atan(o/ti(s,r)),n.y=this.radius_g_1*Math.atan(s/r)):(n.x=this.radius_g_1*Math.atan(o/r),n.y=this.radius_g_1*Math.atan(s/ti(o,r)))}else this.shape==="sphere"&&(r=Math.cos(t),i=Math.cos(e)*r,o=Math.sin(e)*r,s=Math.sin(t),r=this.radius_g-i,this.flip_axis?(n.x=this.radius_g_1*Math.atan(o/ti(s,r)),n.y=this.radius_g_1*Math.atan(s/r)):(n.x=this.radius_g_1*Math.atan(o/r),n.y=this.radius_g_1*Math.atan(s/ti(o,r))));return n.x=n.x*this.a,n.y=n.y*this.a,n}function Vie(n){var e=-1,t=0,r=0,i,o,s,a;if(n.x=n.x/this.a,n.y=n.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*ti(1,r)):(t=Math.tan(n.x/this.radius_g_1),r=Math.tan(n.y/this.radius_g_1)*ti(1,t));var l=r/this.radius_p;if(i=t*t+l*l+e*e,o=2*this.radius_g*e,s=o*o-4*i*this.C,s<0)return n.x=Number.NaN,n.y=Number.NaN,n;a=(-o-Math.sqrt(s))/(2*i),e=this.radius_g+a*e,t*=a,r*=a,n.x=Math.atan2(t,e),n.y=Math.atan(r*Math.cos(n.x)/e),n.y=Math.atan(this.radius_p_inv2*Math.tan(n.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*Math.sqrt(1+r*r)):(t=Math.tan(n.x/this.radius_g_1),r=Math.tan(n.y/this.radius_g_1)*Math.sqrt(1+t*t)),i=t*t+r*r+e*e,o=2*this.radius_g*e,s=o*o-4*i*this.C,s<0)return n.x=Number.NaN,n.y=Number.NaN,n;a=(-o-Math.sqrt(s))/(2*i),e=this.radius_g+a*e,t*=a,r*=a,n.x=Math.atan2(t,e),n.y=Math.atan(r*Math.cos(n.x)/e)}return n.x=n.x+this.long0,n}var Hie=["Geostationary Satellite View","Geostationary_Satellite","geos"],r9={init:Gie,forward:zie,inverse:Vie,names:Hie};var z1=1.340264,V1=-.081106,H1=893e-6,q1=.003796,Lx=Math.sqrt(3)/2;function qie(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function Wie(n){var e=je(n.x-this.long0,this.over),t=n.y,r=Math.asin(Lx*Math.sin(t)),i=r*r,o=i*i*i;return n.x=e*Math.cos(r)/(Lx*(z1+3*V1*i+o*(7*H1+9*q1*i))),n.y=r*(z1+V1*i+o*(H1+q1*i)),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function $ie(n){n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a;var e=1e-9,t=12,r=n.y,i,o,s,a,l,c;for(c=0;c<t&&(i=r*r,o=i*i*i,s=r*(z1+V1*i+o*(H1+q1*i))-n.y,a=z1+3*V1*i+o*(7*H1+9*q1*i),r-=l=s/a,!(Math.abs(l)<e));++c);return i=r*r,o=i*i*i,n.x=Lx*n.x*(z1+3*V1*i+o*(7*H1+9*q1*i))/Math.cos(r),n.y=Math.asin(Math.sin(r)/Lx),n.x=je(n.x+this.long0,this.over),n}var Zie=["eqearth","Equal Earth","Equal_Earth"],i9={init:qie,forward:Wie,inverse:$ie,names:Zie};var W1=1e-10;function Yie(){var n;if(this.phi1=this.lat1,Math.abs(this.phi1)<W1)throw new Error;this.es?(this.en=dg(this.es),this.m1=Ml(this.phi1,this.am1=Math.sin(this.phi1),n=Math.cos(this.phi1),this.en),this.am1=n/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Kie,this.forward=Xie):(Math.abs(this.phi1)+W1>=Me?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Qie,this.forward=Jie)}function Xie(n){var e=je(n.x-(this.long0||0),this.over),t=n.y,r,i,o;return r=this.am1+this.m1-Ml(t,i=Math.sin(t),o=Math.cos(t),this.en),i=o*e/(r*Math.sqrt(1-this.es*i*i)),n.x=r*Math.sin(i),n.y=this.am1-r*Math.cos(i),n.x=this.a*n.x+(this.x0||0),n.y=this.a*n.y+(this.y0||0),n}function Kie(n){n.x=(n.x-(this.x0||0))/this.a,n.y=(n.y-(this.y0||0))/this.a;var e,t,r,i;if(t=ti(n.x,n.y=this.am1-n.y),i=fg(this.am1+this.m1-t,this.es,this.en),(e=Math.abs(i))<Me)e=Math.sin(i),r=t*Math.atan2(n.x,n.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else if(Math.abs(e-Me)<=W1)r=0;else throw new Error;return n.x=je(r+(this.long0||0),this.over),n.y=Ko(i),n}function Jie(n){var e=je(n.x-(this.long0||0),this.over),t=n.y,r,i;return i=this.cphi1+this.phi1-t,Math.abs(i)>W1?(n.x=i*Math.sin(r=e*Math.cos(t)/i),n.y=this.cphi1-i*Math.cos(r)):n.x=n.y=0,n.x=this.a*n.x+(this.x0||0),n.y=this.a*n.y+(this.y0||0),n}function Qie(n){n.x=(n.x-(this.x0||0))/this.a,n.y=(n.y-(this.y0||0))/this.a;var e,t,r=ti(n.x,n.y=this.cphi1-n.y);if(t=this.cphi1+this.phi1-r,Math.abs(t)>Me)throw new Error;return Math.abs(Math.abs(t)-Me)<=W1?e=0:e=r*Math.atan2(n.x,n.y)/Math.cos(t),n.x=je(e+(this.long0||0),this.over),n.y=Ko(t),n}var eoe=["bonne","Bonne (Werner lat_1=90)"],o9={init:Yie,names:eoe};var s9={OBLIQUE:{forward:ooe,inverse:aoe},TRANSVERSE:{forward:soe,inverse:loe}},kx={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function toe(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=_A.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);let n=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),e=ja(n);if(!e)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);e.long0=0,this.obliqueProjection=e;let t,r=Object.keys(kx),i=a=>{if(typeof this[a]>"u")return;let l=parseFloat(this[a])*Xn;if(isNaN(l))throw new Error("Invalid value for "+a+": "+this[a]);return l};for(let a=0;a<r.length;a++){let l=r[a],c=kx[l],u=Object.entries(c);if(u.some(([f])=>typeof this[f]<"u")){t=c;for(let f=0;f<u.length;f++){let[h,g]=u[f],_=i(h);if(typeof _>"u")throw new Error("Missing parameter: "+h+".");this[g]=_}break}}if(!t)throw new Error("No valid parameters provided for ob_tran projection.");let{lamp:o,phip:s}=ioe(this,t);this.lamp=o,Math.abs(s)>Fe?(this.cphip=Math.cos(s),this.sphip=Math.sin(s),this.projectionType=s9.OBLIQUE):this.projectionType=s9.TRANSVERSE}function noe(n){return this.projectionType.forward(this,n)}function roe(n){return this.projectionType.inverse(this,n)}function ioe(n,e){let t,r;if(e===kx.ROTATE){let i=n.oLongC,o=n.oLatC,s=n.oAlpha;if(Math.abs(Math.abs(o)-Me)<=Fe)throw new Error("Invalid value for o_lat_c: "+n.o_lat_c+" should be < 90\xB0");r=i+Math.atan2(-1*Math.cos(s),-1*Math.sin(s)*Math.sin(o)),t=Math.asin(Math.cos(o)*Math.sin(s))}else if(e===kx.NEW_POLE)r=n.oLongP,t=n.oLatP;else{let i=n.oLong1,o=n.oLat1,s=n.oLong2,a=n.oLat2,l=Math.abs(o);if(Math.abs(o)>Me-Fe)throw new Error("Invalid value for o_lat_1: "+n.o_lat_1+" should be < 90\xB0");if(Math.abs(a)>Me-Fe)throw new Error("Invalid value for o_lat_2: "+n.o_lat_2+" should be < 90\xB0");if(Math.abs(o-a)<Fe)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(l<Fe)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");r=Math.atan2(Math.cos(o)*Math.sin(a)*Math.cos(i)-Math.sin(o)*Math.cos(a)*Math.cos(s),Math.sin(o)*Math.cos(a)*Math.sin(s)-Math.cos(o)*Math.sin(a)*Math.sin(i)),t=Math.atan(-1*Math.cos(r-i)/Math.tan(o))}return{lamp:r,phip:t}}function ooe(n,e){let{x:t,y:r}=e;t+=n.long0;let i=Math.cos(t),o=Math.sin(r),s=Math.cos(r);e.x=je(Math.atan2(s*Math.sin(t),n.sphip*s*i+n.cphip*o)+n.lamp),e.y=Math.asin(n.sphip*o-n.cphip*s*i);let a=n.obliqueProjection.forward(e);return n.isIdentity&&(a.x*=wi,a.y*=wi),a}function soe(n,e){let{x:t,y:r}=e;t+=n.long0;let i=Math.cos(r),o=Math.cos(t);e.x=je(Math.atan2(i*Math.sin(t),Math.sin(r))+n.lamp),e.y=Math.asin(-1*i*o);let s=n.obliqueProjection.forward(e);return n.isIdentity&&(s.x*=wi,s.y*=wi),s}function aoe(n,e){n.isIdentity&&(e.x*=Xn,e.y*=Xn);let t=n.obliqueProjection.inverse(e),{x:r,y:i}=t;if(r<Number.MAX_VALUE){r-=n.lamp;let o=Math.cos(r),s=Math.sin(i),a=Math.cos(i);e.x=Math.atan2(a*Math.sin(r),n.sphip*a*o-n.cphip*s),e.y=Math.asin(n.sphip*s+n.cphip*a*o)}return e.x=je(e.x+n.long0),e}function loe(n,e){n.isIdentity&&(e.x*=Xn,e.y*=Xn);let t=n.obliqueProjection.inverse(e),{x:r,y:i}=t;if(r<Number.MAX_VALUE){let o=Math.cos(i);r-=n.lamp,e.x=Math.atan2(o*Math.sin(r),-1*Math.sin(i)),e.y=Math.asin(o*Math.cos(r))}return e.x=je(e.x+n.long0),e}var coe=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"],a9={init:toe,forward:noe,inverse:roe,names:coe};function l9(n){n.Proj.projections.add(pg),n.Proj.projections.add(gg),n.Proj.projections.add(Sj),n.Proj.projections.add(Cj),n.Proj.projections.add(Ij),n.Proj.projections.add(Dj),n.Proj.projections.add(Tj),n.Proj.projections.add(Mj),n.Proj.projections.add(Aj),n.Proj.projections.add(Rj),n.Proj.projections.add(Nj),n.Proj.projections.add(Pj),n.Proj.projections.add(Lj),n.Proj.projections.add(Oj),n.Proj.projections.add(Fj),n.Proj.projections.add(Bj),n.Proj.projections.add(Uj),n.Proj.projections.add(Gj),n.Proj.projections.add(zj),n.Proj.projections.add(Vj),n.Proj.projections.add(Hj),n.Proj.projections.add(qj),n.Proj.projections.add(Zj),n.Proj.projections.add(Yj),n.Proj.projections.add(Xj),n.Proj.projections.add(e9),n.Proj.projections.add(t9),n.Proj.projections.add(n9),n.Proj.projections.add(r9),n.Proj.projections.add(i9),n.Proj.projections.add(o9),n.Proj.projections.add(a9)}var c9=Object.assign(aj,{defaultDatum:"WGS84",Proj:ja,WGS84:new ja("WGS84"),Point:gj,toPoint:Cx,defs:ag,nadgrid:bA,transform:Gd,mgrs:dj,version:"__VERSION__"});l9(c9);var Al=c9;var d9,u9=()=>new DecompressionStream("deflate-raw");try{u9(),d9=n=>Ct(null,null,function*(){let e=u9(),t=e.writable.getWriter(),r=e.readable.getReader(),i,o=[],s=0,a=0,l;for(t.write(n),t.close();!(l=yield r.read()).done;)i=l.value,o.push(i),s+=i.length;return!o[1]&&i||(i=new Uint8Array(s),o.map(c=>(i.set(c,a),a+=c.length))),i})}catch{}var uoe=new TextDecoder,kA=n=>{throw new Error("but-unzip~"+n)},h9=n=>uoe.decode(n);function*f9(n,e=d9){let t=n.length-20,r=Math.max(t-65516,2);for(;(t=n.lastIndexOf(80,t-1))!==-1&&!(n[t+1]===75&&n[t+2]===5&&n[t+3]===6)&&t>r;);t===-1&&kA(2);let i=(c,u)=>n.subarray(t+=c,t+=u),o=new DataView(n.buffer,n.byteOffset),s=c=>o.getUint16(c+t,!0),a=c=>o.getUint32(c+t,!0),l=s(10);for(l!==s(8)&&kA(3),t=a(16);l--;){let c=s(10),u=s(30),d=s(32),f=a(20),h=a(42),g=h9(i(46,s(28))),_=h9(i(u,d)),y=t,v;t=h,v=i(30+s(26)+s(28),f),yield{filename:g,comment:_,read:()=>c&8?e(v):c?kA(1):v},t=y}}var hoe=/.+\.(shp|dbf|json|prj|cpg)$/i,p9=n=>Ct(null,null,function*(){let e={},t=[];for(let o of f9(n))hoe.test(o.filename)&&t.push(Promise.resolve(o.read()).then(s=>e[o.filename]=s));yield Promise.all(t);let r={},i=new TextDecoder;for(let[o,s]of Object.entries(e))o.slice(-3).toLowerCase()==="shp"||o.slice(-3).toLowerCase()==="dbf"?r[o]=new DataView(s.buffer,s.byteOffset,s.byteLength):r[o]=i.decode(s);return r});var doe=globalThis.URL,g9=(n,e)=>{if(!e)return n;let t=new doe(n);return t.pathname=`${t.pathname}.${e}`,t.href};function Vd(n,e){return Ct(this,null,function*(){let t=g9(n,e),r=e==="prj"||e==="cpg";try{let i=yield fetch(t);if(i.status>399)throw new Error(i.statusText);if(r)return i.text();let o=yield i.arrayBuffer();return new DataView(o)}catch(i){if(r||e==="dbf")return!1;throw i}})}function foe(n){let e=0,t=1,r=n.length,i,o,s=[n[0][0],n[0][1],n[0][0],n[0][1]];for(;t<r;)i=o||n[0],o=n[t],e+=(o[0]-i[0])*(o[1]+i[1]),t++,o[0]<s[0]&&(s[0]=o[0]),o[1]<s[1]&&(s[1]=o[1]),o[0]>s[2]&&(s[2]=o[0]),o[1]>s[3]&&(s[3]=o[1]);return{ring:n,clockWise:e>0,bbox:s,children:[]}}function m9(n,e){return!(n.bbox[0]>e.bbox[0]||n.bbox[1]>e.bbox[1]||n.bbox[2]<e.bbox[2]||n.bbox[3]<e.bbox[3])}function y9(n,e=!1){let t=[],r=[];for(let s of n){let a=foe(s);a.clockWise!==e?t.push(a):r.push(a)}let i=[];for(let s of r){let a;for(let l of t)m9(l,s)&&(a?m9(a,l)&&(a=l):a=l);a?a.children.push(s.ring):i.push(s)}if(e)return{outers:t,orphens:i};if(i.length&&!e){let s=y9(n,!0);if(s.orphens.length===0){let a=[];for(let l of s.outers)a.push([l.ring.toReversed()].concat(l.children.map(c=>c.toReversed())));return a}}let o=[];for(let s of t)o.push([s.ring].concat(s.children));return o}Ur.prototype.parsePoint=function(n){return{type:"Point",coordinates:this.parseCoord(n,0)}};Ur.prototype.parseZPoint=function(n){let e=this.parsePoint(n);return e.coordinates.push(n.getFloat64(16,!0)),e};Ur.prototype.parsePointArray=function(n,e,t){let r=[],i=0;for(;i<t;)r.push(this.parseCoord(n,e)),e+=16,i++;return r};Ur.prototype.parseZPointArray=function(n,e,t,r){let i=0;for(;i<t;)r[i].push(n.getFloat64(e,!0)),i++,e+=8;return r};Ur.prototype.parseArrayGroup=function(n,e,t,r,i){let o=[],s=0,a,l=0,c;for(;s<r;)s++,t+=4,a=l,s===r?l=i:l=n.getInt32(t,!0),c=l-a,c&&(o.push(this.parsePointArray(n,e,c)),e+=c<<4);return o};Ur.prototype.parseZArrayGroup=function(n,e,t,r){let i=0;for(;i<t;)r[i]=this.parseZPointArray(n,e,r[i].length,r[i]),e+=r[i].length<<3,i++;return r};Ur.prototype.parseMultiPoint=function(n){let e={},t=n.getInt32(32,!0);if(!t)return null;let r=this.parseCoord(n,0),i=this.parseCoord(n,16);e.bbox=[r[0],r[1],i[0],i[1]];let o=36;return t===1?(e.type="Point",e.coordinates=this.parseCoord(n,o)):(e.type="MultiPoint",e.coordinates=this.parsePointArray(n,o,t)),e};Ur.prototype.parseZMultiPoint=function(n){let e=this.parseMultiPoint(n);if(!e)return null;let t;if(e.type==="Point")return e.coordinates.push(n.getFloat64(72,!0)),e;t=e.coordinates.length;let r=52+(t<<4);return e.coordinates=this.parseZPointArray(n,r,t,e.coordinates),e};Ur.prototype.parsePolyline=function(n){let e={},t=n.getInt32(32,!0);if(!t)return null;let r=this.parseCoord(n,0),i=this.parseCoord(n,16);e.bbox=[r[0],r[1],i[0],i[1]];let o=n.getInt32(36,!0),s,a;return t===1?(e.type="LineString",s=44,e.coordinates=this.parsePointArray(n,s,o)):(e.type="MultiLineString",s=40+(t<<2),a=40,e.coordinates=this.parseArrayGroup(n,s,a,t,o)),e};Ur.prototype.parseZPolyline=function(n){let e=this.parsePolyline(n);if(!e)return null;let t=e.coordinates.length,r;return e.type==="LineString"?(r=60+(t<<4),e.coordinates=this.parseZPointArray(n,r,t,e.coordinates),e):(r=56+(e.coordinates.reduce(function(o,s){return o+s.length},0)<<4)+(t<<2),e.coordinates=this.parseZArrayGroup(n,r,t,e.coordinates),e)};Ur.prototype.polyFuncs=function(n){return n&&(n.type==="LineString"?(n.type="Polygon",n.coordinates=[n.coordinates],n):(n.coordinates=y9(n.coordinates),n.coordinates.length===1?(n.type="Polygon",n.coordinates=n.coordinates[0],n):(n.type="MultiPolygon",n)))};Ur.prototype.parsePolygon=function(n){return this.polyFuncs(this.parsePolyline(n))};Ur.prototype.parseZPolygon=function(n){return this.polyFuncs(this.parseZPolyline(n))};var _9={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function poe(n){return n?function(e,t){let r=[e.getFloat64(t,!0),e.getFloat64(t+8,!0)];return n.inverse(r)}:function(e,t){return[e.getFloat64(t,!0),e.getFloat64(t+8,!0)]}}function Ur(n,e){if(!(this instanceof Ur))return new Ur(n,e);this.buffer=n,this.headers=this.parseHeader(),this.shpFuncs(e),this.rows=this.getRows()}Ur.prototype.shpFuncs=function(n){let e=this.headers.shpCode;if(e>20&&(e-=20),!(e in _9))throw new Error(`I don't know shp type "${e}"`);this.parseFunc=this[_9[e]],this.parseCoord=poe(n)};Ur.prototype.getShpCode=function(){return this.parseHeader().shpCode};Ur.prototype.parseHeader=function(){let n=this.buffer;return{length:n.getInt32(24)<<1,version:n.getInt32(28,!0),shpCode:n.getInt32(32,!0),bbox:[n.getFloat64(36,!0),n.getFloat64(44,!0),n.getFloat64(52,!0),n.getFloat64(60,!0)]}};Ur.prototype.getRows=function(){let n=100,e=this.buffer.byteLength-8,t=[],r;for(;n<=e&&(r=this.getRow(n),!!r);)n+=8,n+=r.len,r.type?t.push(this.parseFunc(r.data)):t.push(null);return t};Ur.prototype.getRow=function(n){let e=this.buffer.getInt32(n),t=this.buffer.getInt32(n+4)<<1;if(t===0)return{id:e,len:t,type:0};if(!(n+t+8>this.buffer.byteLength))return{id:e,len:t,data:new DataView(this.buffer.buffer,this.buffer.byteOffset+n+12,t-4),type:this.buffer.getInt32(n+8,!0)}};function Ox(n,e){return new Ur(n,e).rows}var goe=/^(?:ANSI\s)?(\d+)$/m;function OA(n,e){if(!n)return r;try{new TextDecoder(n.trim())}catch{var t=goe.exec(n);return t&&!e?OA("windows-"+t[1],!0):(n=void 0,r)}return r;function r(i){var o=new TextDecoder(n||void 0),s=o.decode(i,{stream:!0})+o.decode();return s.replace(/\0/g,"").trim()}}function moe(n){var e={};return e.lastUpdated=new Date(n.getUint8(1)+1900,n.getUint8(2),n.getUint8(3)),e.records=n.getUint32(4,!0),e.headerLen=n.getUint16(8,!0),e.recLen=n.getUint16(10,!0),e}function _oe(n,e,t){for(var r=[],i=32;i<e&&(r.push({name:t(new Uint8Array(n.buffer.slice(n.byteOffset+i,n.byteOffset+i+11))),dataType:String.fromCharCode(n.getUint8(i+11)),len:n.getUint8(i+16),decimal:n.getUint8(i+17)}),n.getUint8(i+32)!==13);)i+=32;return r}function yoe(n,e,t,r,i){let o=new Uint8Array(n.buffer.slice(n.byteOffset+e,n.byteOffset+e+t));var s=i(o);switch(r){case"N":case"F":case"O":return parseFloat(s,10);case"D":return new Date(s.slice(0,4),parseInt(s.slice(4,6),10)-1,s.slice(6,8));case"L":return s.toLowerCase()==="y"||s.toLowerCase()==="t";default:return s}}function voe(n,e,t,r){for(var i={},o=0,s=t.length,a,l;o<s;)l=t[o],a=yoe(n,e,l.len,l.dataType,r),e+=l.len,typeof a<"u"&&(i[l.name]=a),o++;return i}function Fx(n,e){for(var t=OA(e),r=moe(n),i=_oe(n,r.headerLen-1,t),o=(i.length+1<<5)+2,s=r.recLen,a=r.records,l=[];a;)l.push(voe(n,o,i,t)),o+=s,a--;return l}var woe=globalThis.URL,xoe=n=>{if(!n)throw new Error("forgot to pass buffer");if(vg(n))return new Uint8Array(n);if(vg(n.buffer))return n.BYTES_PER_ELEMENT===1?n:new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("invalid buffer like object")},boe=new TextDecoder,w9=n=>{if(n){if(typeof n=="string")return n;if(vg(n)||ArrayBuffer.isView(n)||FA(n))return boe.decode(n)}},x9=n=>{if(!n)throw new Error("forgot to pass buffer");if(FA(n))return n;if(vg(n))return new DataView(n);if(vg(n.buffer))return new DataView(n.buffer,n.byteOffset,n.byteLength);throw new Error("invalid buffer like object")};function vg(n){return n instanceof globalThis.ArrayBuffer||Object.prototype.toString.call(n)==="[object ArrayBuffer]"}function FA(n){return n instanceof globalThis.DataView||Object.prototype.toString.call(n)==="[object DataView]"}var jA=function([n,e]){let t={};t.type="FeatureCollection",t.features=[];let r=0,i=n.length;for(e||(e=[]);r<i;)t.features.push({type:"Feature",geometry:n[r],properties:e[r]||{}}),r++;return t},b9=function(n,e){return Ct(this,null,function*(){let t;n=xoe(n);let r=yield p9(n),i=[];e=e||[];for(t in r)t.indexOf("__MACOSX")===-1&&(t.slice(-4).toLowerCase()===".shp"?(i.push(t.slice(0,-4)),r[t.slice(0,-3)+t.slice(-3).toLowerCase()]=r[t]):t.slice(-4).toLowerCase()===".prj"?r[t.slice(0,-3)+t.slice(-3).toLowerCase()]=Al(r[t]):t.slice(-5).toLowerCase()===".json"||e.indexOf(t.split(".").pop())>-1?i.push(t.slice(0,-3)+t.slice(-3).toLowerCase()):(t.slice(-4).toLowerCase()===".dbf"||t.slice(-4).toLowerCase()===".cpg")&&(r[t.slice(0,-3)+t.slice(-3).toLowerCase()]=r[t]));if(!i.length)throw new Error("no layers founds");let o=i.map(function(s){let a,l,c=s.lastIndexOf(".");return c>-1&&s.slice(c).indexOf("json")>-1?(a=JSON.parse(r[s]),a.fileName=s.slice(0,c)):e.indexOf(s.slice(c+1))>-1?(a=r[s],a.fileName=s):(r[s+".dbf"]&&(l=Fx(r[s+".dbf"],r[s+".cpg"])),a=jA([Ox(r[s+".shp"],r[s+".prj"]),l]),a.fileName=s),a});return o.length===1?o[0]:o})};function Eoe(n,e){return Ct(this,null,function*(){let t=yield Vd(n);return b9(t,e)})}var Soe=n=>Ct(null,null,function*(){let e=yield Promise.all([Vd(n,"shp"),Vd(n,"prj")]),t=!1;try{e[1]&&(t=Al(e[1]))}catch{t=!1}return Ox(e[0],t)}),Coe=n=>Ct(null,null,function*(){let[e,t]=yield Promise.all([Vd(n,"dbf"),Vd(n,"cpg")]);if(e)return Fx(e,t)}),v9=(n,e)=>new woe(n,globalThis?.document?.location).pathname.slice(-4).toLowerCase()===e,Ioe=({shp:n,dbf:e,cpg:t,prj:r})=>{let i=[Toe(n,r)];return e&&i.push(Moe(e,t)),jA(i)},Doe=function(n,e){return Ct(this,null,function*(){if(typeof n!="string"){if(vg(n)||ArrayBuffer.isView(n)||FA(n))return b9(n);if(n.shp)return Ioe(n);throw new TypeError("must be a string, some sort of Buffer, or an object with at least a .shp property")}if(v9(n,".zip"))return Eoe(n,e);v9(n,".shp")&&(n=n.slice(0,-4));let t=yield Promise.all([Soe(n),Coe(n)]);return jA(t)})},Toe=function(n,e){if(n=x9(n),e=w9(e),typeof e=="string")try{e=Al(e)}catch{e=!1}return Ox(n,e)},Moe=function(n,e){return n=x9(n),e=w9(e),Fx(n,e)},E9=Doe;var I9=d4(UA());var Aoe=null;function C9(n){Aoe=n;let e=Object.keys(n.defs),t=e.length,r,i;for(r=0;r<t;++r){let o=e[r];if(!Mp(o)){let s=n.defs(o),a=s.units;!a&&s.projName==="longlat"&&(a="degrees"),B0(new Lu({code:o,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:a}))}}for(r=0;r<t;++r){let o=e[r],s=Mp(o);for(i=0;i<t;++i){let a=e[i],l=Mp(a);if(!Rp(o,a))if(n.defs[o]===n.defs[a])tw([s,l]);else{let c=n(o,a);g8(s,l,aD(s,l,c.forward),aD(l,s,c.inverse))}}}}var jx=class{static _epsgCache=new Map;static getProjection(e){return Al(e)}static registerWktProjection(e){let t=e.replace(/\s+/g," ").trim(),r=this._epsgCache.get(t);if(r)return r;let i=this._generateCode(t);return Al.defs(i)||(Al.defs(i,t),C9(Al)),this._epsgCache.set(t,i),i}static getEpsgCodeFromWkt(e){let t=e.replace(/\s+/g,"").toUpperCase();if(t.includes("GCS_WGS_1984")||t.includes('DATUM["D_WGS_1984"]'))return"EPSG:4326";if(t.includes("WGS_1984_WEB_MERCATOR"))return"EPSG:3857";if(t.includes("ITRF_1996"))return"EPSG:5254";throw new Error("EPSG code not found in WKT")}static transformPoint(e,t,r){let i=this.getProjection(t),o=this.getProjection(r);return Al(i,o,e)}static _generateCode(e){return`CUSTOM:${this._hash(e)}`}static _hash(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Math.abs(t).toString()}};var Bx=class{type="zip";import(e){return Ct(this,null,function*(){let t=yield e.arrayBuffer(),r="EPSG:4326",i=yield E9(t),o=yield this.extractPrj(e);return o&&(r=jx.getEpsgCodeFromWkt(o)),{geojson:i,crs:r}})}extractPrj(e){return Ct(this,null,function*(){let t=yield I9.default.loadAsync(e),r=Object.values(t.files).find(i=>i.name.toLowerCase().endsWith(".prj"));return r?yield r.async("text"):null})}};var Ux=class{type="geojson";import(e){return Ct(this,null,function*(){let t=yield e.text(),r=JSON.parse(t);return this._validate(r),{geojson:r,crs:this._detectCrs(r)}})}_detectCrs(e){let t=e?.crs?.properties?.name;return console.log("crsName:",t),t??"EPSG:4326"}_validate(e){if(e.type!=="FeatureCollection")throw new Error("Invalid GeoJSON: not a FeatureCollection");if(!Array.isArray(e.features))throw new Error("Invalid GeoJSON: features missing")}};var ur=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Roe="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",Noe={rte:D9,trk:T9,wpt:M9},Poe=$e(ur,{rte:Ss(D9),trk:Ss(T9),wpt:Ss(M9)}),Loe=$e(ur,{text:Pe($t,"linkText"),type:Pe($t,"linkType")}),koe=$e(ur,{name:Pe($t),email:ase,link:$1}),Ooe=$e(ur,{name:Pe($t),desc:Pe($t),author:Pe(ise),copyright:Pe(ose),link:$1,time:Pe(T1),keywords:Pe($t),bounds:sse,extensions:Gx}),Foe=$e(ur,{year:Pe(rg),license:Pe($t)}),joe=$e(ur,{rte:Ge(hse),trk:Ge(dse),wpt:Ge(pse)}),GA=class extends ox{constructor(e){super(),e=e||{},this.dataProjection=hn("EPSG:4326"),this.readExtensions_=e.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let t=0,r=e.length;t<r;++t){let i=e[t];if(this.readExtensions_){let o=i.get("extensionsNode_")||null;this.readExtensions_(i,o)}i.set("extensionsNode_",void 0)}}readMetadata(e){return e?typeof e=="string"?this.readMetadataFromDocument(ta(e)):ea(e)?this.readMetadataFromDocument(e):this.readMetadataFromNode(e):null}readMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType===Node.ELEMENT_NODE){let r=this.readMetadataFromNode(t);if(r)return r}return null}readMetadataFromNode(e){if(!ur.includes(e.namespaceURI))return null;for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(ur.includes(t.namespaceURI)&&t.localName==="metadata")return on({},Ooe,t,[]);return null}readFeatureFromNode(e,t){if(!ur.includes(e.namespaceURI))return null;let r=Noe[e.localName];if(!r)return null;let i=r(e,[this.getReadOptions(e,t)]);return i?(this.handleReadExtensions_([i]),i):null}readFeaturesFromNode(e,t){if(!ur.includes(e.namespaceURI))return[];if(e.localName=="gpx"){let r=on([],Poe,e,[this.getReadOptions(e,t)]);return r?(this.handleReadExtensions_(r),r):[]}return[]}writeFeaturesNode(e,t){t=this.adaptOptions(t);let r=Oc("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",ng),r.setAttributeNS(ng,"xsi:schemaLocation",Roe),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),Hn({node:r},joe,rse,e,[t]),r}},Boe=$e(ur,{name:Pe($t),cmt:Pe($t),desc:Pe($t),src:Pe($t),link:$1,number:Pe(rg),extensions:Gx,type:Pe($t),rtept:lse}),Uoe=$e(ur,{ele:Pe(bn),time:Pe(T1)}),Goe=$e(ur,{name:Pe($t),cmt:Pe($t),desc:Pe($t),src:Pe($t),link:$1,number:Pe(rg),type:Pe($t),extensions:Gx,trkseg:use}),zoe=$e(ur,{trkpt:cse}),Voe=$e(ur,{ele:Pe(bn),time:Pe(T1)}),Hoe=$e(ur,{ele:Pe(bn),time:Pe(T1),magvar:Pe(bn),geoidheight:Pe(bn),name:Pe($t),cmt:Pe($t),desc:Pe($t),src:Pe($t),link:$1,sym:Pe($t),type:Pe($t),fix:Pe($t),sat:Pe(rg),hdop:Pe(bn),vdop:Pe(bn),pdop:Pe(bn),ageofdgpsdata:Pe(bn),dgpsid:Pe(rg),extensions:Gx}),qoe=["text","type"],Woe=$e(ur,{text:Ge(In),type:Ge(In)}),$oe=$e(ur,["name","cmt","desc","src","link","number","type","rtept"]),Zoe=$e(ur,{name:Ge(In),cmt:Ge(In),desc:Ge(In),src:Ge(In),link:Ge(HA),number:Ge(M1),type:Ge(In),rtept:XM(Ge(qA))}),Yoe=$e(ur,["ele","time"]),Xoe=$e(ur,["name","cmt","desc","src","link","number","type","trkseg"]),Koe=$e(ur,{name:Ge(In),cmt:Ge(In),desc:Ge(In),src:Ge(In),link:Ge(HA),number:Ge(M1),type:Ge(In),trkseg:XM(Ge(fse))}),Joe=Cs("trkpt"),Qoe=$e(ur,{trkpt:Ge(qA)}),ese=$e(ur,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),tse=$e(ur,{ele:Ge(lo),time:Ge(VF),magvar:Ge(lo),geoidheight:Ge(lo),name:Ge(In),cmt:Ge(In),desc:Ge(In),src:Ge(In),link:Ge(HA),sym:Ge(In),type:Ge(In),fix:Ge(In),sat:Ge(M1),hdop:Ge(lo),vdop:Ge(lo),pdop:Ge(lo),ageofdgpsdata:Ge(lo),dgpsid:Ge(M1)}),nse={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function rse(n,e,t){let r=n.getGeometry();if(r){let i=nse[r.getType()];if(i){let o=e[e.length-1].node;return Oc(o.namespaceURI,i)}}}function zA(n,e,t,r){return n.push(parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))),"ele"in r?(n.push(r.ele),delete r.ele,e.hasZ=!0):n.push(0),"time"in r?(n.push(r.time),delete r.time,e.hasM=!0):n.push(0),n}function VA(n,e,t){let r="XY",i=2;if(n.hasZ&&n.hasM?(r="XYZM",i=4):n.hasZ?(r="XYZ",i=3):n.hasM&&(r="XYM",i=3),i!==4){for(let o=0,s=e.length/4;o<s;o++)e[o*i]=e[o*4],e[o*i+1]=e[o*4+1],n.hasZ&&(e[o*i+2]=e[o*4+2]),n.hasM&&(e[o*i+2]=e[o*4+3]);if(e.length=e.length/4*i,t)for(let o=0,s=t.length;o<s;o++)t[o]=t[o]/4*i}return r}function ise(n,e){let t=on({},koe,n,e);if(t)return t}function ose(n,e){let t=on({},Foe,n,e);if(t){let r=n.getAttribute("author");return r!==null&&(t.author=r),t}}function sse(n,e){let t=e[e.length-1],r=n.getAttribute("minlat"),i=n.getAttribute("minlon"),o=n.getAttribute("maxlat"),s=n.getAttribute("maxlon");i!==null&&r!==null&&s!==null&&o!==null&&(t.bounds=[[parseFloat(i),parseFloat(r)],[parseFloat(s),parseFloat(o)]])}function ase(n,e){let t=e[e.length-1],r=n.getAttribute("id"),i=n.getAttribute("domain");r!==null&&i!==null&&(t.email=`${r}@${i}`)}function $1(n,e){let t=e[e.length-1],r=n.getAttribute("href");r!==null&&(t.link=r),Dl(Loe,n,e)}function Gx(n,e){let t=e[e.length-1];t.extensionsNode_=n}function lse(n,e){let t=on({},Uoe,n,e);if(t){let r=e[e.length-1],i=r.flatCoordinates,o=r.layoutOptions;zA(i,o,n,t)}}function cse(n,e){let t=on({},Voe,n,e);if(t){let r=e[e.length-1],i=r.flatCoordinates,o=r.layoutOptions;zA(i,o,n,t)}}function use(n,e){let t=e[e.length-1];Dl(zoe,n,e);let r=t.flatCoordinates;t.ends.push(r.length)}function D9(n,e){let t=e[0],r=on({flatCoordinates:[],layoutOptions:{}},Boe,n,e);if(!r)return;let i=r.flatCoordinates;delete r.flatCoordinates;let o=r.layoutOptions;delete r.layoutOptions;let s=VA(o,i),a=new vi(i,s);Xi(a,!1,t);let l=new Br(a);return l.setProperties(r,!0),l}function T9(n,e){let t=e[0],r=on({flatCoordinates:[],ends:[],layoutOptions:{}},Goe,n,e);if(!r)return;let i=r.flatCoordinates;delete r.flatCoordinates;let o=r.ends;delete r.ends;let s=r.layoutOptions;delete r.layoutOptions;let a=VA(s,i,o),l=new Wo(i,a,o);Xi(l,!1,t);let c=new Br(l);return c.setProperties(r,!0),c}function M9(n,e){let t=e[0],r=on({},Hoe,n,e);if(!r)return;let i={},o=zA([],i,n,r),s=VA(i,o),a=new Di(o,s);Xi(a,!1,t);let l=new Br(a);return l.setProperties(r,!0),l}function HA(n,e,t){n.setAttribute("href",e);let i=t[t.length-1].properties,o=[i.linkText,i.linkType];Hn({node:n},Woe,Mi,o,t,qoe)}function qA(n,e,t){let r=t[t.length-1],o=r.node.namespaceURI,s=r.properties;switch(n.setAttributeNS(null,"lat",String(e[1])),n.setAttributeNS(null,"lon",String(e[0])),r.geometryLayout){case"XYZM":e[3]!==0&&(s.time=e[3]);case"XYZ":e[2]!==0&&(s.ele=e[2]);break;case"XYM":e[2]!==0&&(s.time=e[2]);break;default:}let l=n.nodeName=="rtept"?Yoe[o]:ese[o],c=ao(s,l);Hn({node:n,properties:s},tse,Mi,c,t,l)}function hse(n,e,t){let r=t[0],i=e.getProperties(),o={node:n};o.properties=i;let s=e.getGeometry();if(s.getType()=="LineString"){let u=Xi(s,!0,r);o.geometryLayout=u.getLayout(),i.rtept=u.getCoordinates()}let a=t[t.length-1].node,l=$oe[a.namespaceURI],c=ao(i,l);Hn(o,Zoe,Mi,c,t,l)}function dse(n,e,t){let r=t[0],i=e.getProperties(),o={node:n};o.properties=i;let s=e.getGeometry();if(s.getType()=="MultiLineString"){let u=Xi(s,!0,r);i.trkseg=u.getLineStrings()}let a=t[t.length-1].node,l=Xoe[a.namespaceURI],c=ao(i,l);Hn(o,Koe,Mi,c,t,l)}function fse(n,e,t){let r={node:n};r.geometryLayout=e.getLayout(),r.properties={},Hn(r,Qoe,Joe,e.getCoordinates(),t)}function pse(n,e,t){let r=t[0],i=t[t.length-1];i.properties=e.getProperties();let o=e.getGeometry();if(o.getType()=="Point"){let s=Xi(o,!0,r);i.geometryLayout=s.getLayout(),qA(n,s.getCoordinates(),t)}}var A9=GA;var zx=class{type="gpx";import(e){return Ct(this,null,function*(){let t=yield e.text(),r=new A9().readFeatures(t);return{geojson:new $o().writeFeaturesObject(r),crs:"EPSG:4326"}})}};var WA=class extends tg{constructor(){super()}getType(){return"text"}readFeature(e,t){return this.readFeatureFromText(Vx(e),this.adaptOptions(t))}readFeatureFromText(e,t){return Qe()}readFeatures(e,t){return this.readFeaturesFromText(Vx(e),this.adaptOptions(t))}readFeaturesFromText(e,t){return Qe()}readGeometry(e,t){return this.readGeometryFromText(Vx(e),this.adaptOptions(t))}readGeometryFromText(e,t){return Qe()}readProjection(e){return this.readProjectionFromText(Vx(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,t){return this.writeFeatureText(e,this.adaptOptions(t))}writeFeatureText(e,t){return Qe()}writeFeatures(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))}writeFeaturesText(e,t){return Qe()}writeGeometry(e,t){return this.writeGeometryText(e,this.adaptOptions(t))}writeGeometryText(e,t){return Qe()}};function Vx(n){return typeof n=="string"?n:""}var R9=WA;var gse={POINT:Di,LINESTRING:vi,POLYGON:$i,MULTIPOINT:Pa,MULTILINESTRING:Wo,MULTIPOLYGON:La},N9="EMPTY",P9="Z",L9="M",mse="ZM",Rn={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},_se={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"},$A=class{constructor(e){this.wkt=e,this.index_=-1}isAlpha_(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}isNumeric_(e,t){return t=t!==void 0?t:!1,e>="0"&&e<="9"||e=="."&&!t}isWhiteSpace_(e){return e==" "||e=="	"||e=="\r"||e==`
`}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){let e=this.nextChar_(),t=this.index_,r=e,i;if(e=="(")i=Rn.LEFT_PAREN;else if(e==",")i=Rn.COMMA;else if(e==")")i=Rn.RIGHT_PAREN;else if(this.isNumeric_(e)||e=="-")i=Rn.NUMBER,r=this.readNumber_();else if(this.isAlpha_(e))i=Rn.TEXT,r=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(e==="")i=Rn.EOF;else throw new Error("Unexpected character: "+e)}return{position:t,value:r,type:i}}readNumber_(){let e,t=this.index_,r=!1,i=!1;do e=="."?r=!0:(e=="e"||e=="E")&&(i=!0),e=this.nextChar_();while(this.isNumeric_(e,r)||!i&&(e=="e"||e=="E")||i&&(e=="-"||e=="+"));return parseFloat(this.wkt.substring(t,this.index_--))}readText_(){let e,t=this.index_;do e=this.nextChar_();while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()}},ZA=class{constructor(e){this.lexer_=e,this.token_={position:0,type:Rn.START},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(e){return this.token_.type==e}match(e){let t=this.isTokenType(e);return t&&this.consume_(),t}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let e="XY",t=this.token_;if(this.isTokenType(Rn.TEXT)){let r=t.value;r===P9?e="XYZ":r===L9?e="XYM":r===mse&&(e="XYZM"),e!=="XY"&&this.consume_()}return e}parseGeometryCollectionText_(){if(this.match(Rn.LEFT_PAREN)){let e=[];do e.push(this.parseGeometry_());while(this.match(Rn.COMMA));if(this.match(Rn.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(Rn.LEFT_PAREN)){let e=this.parsePoint_();if(this.match(Rn.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(Rn.LEFT_PAREN)){let e=this.parsePointList_();if(this.match(Rn.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(Rn.LEFT_PAREN)){let e=this.parseLineStringTextList_();if(this.match(Rn.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(Rn.LEFT_PAREN)){let e;if(this.token_.type==Rn.LEFT_PAREN?e=this.parsePointTextList_():e=this.parsePointList_(),this.match(Rn.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(Rn.LEFT_PAREN)){let e=this.parseLineStringTextList_();if(this.match(Rn.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(Rn.LEFT_PAREN)){let e=this.parsePolygonTextList_();if(this.match(Rn.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePoint_(){let e=[],t=this.layout_.length;for(let r=0;r<t;++r){let i=this.token_;if(this.match(Rn.NUMBER))e.push(i.value);else break}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())}parsePointList_(){let e=[this.parsePoint_()];for(;this.match(Rn.COMMA);)e.push(this.parsePoint_());return e}parsePointTextList_(){let e=[this.parsePointText_()];for(;this.match(Rn.COMMA);)e.push(this.parsePointText_());return e}parseLineStringTextList_(){let e=[this.parseLineStringText_()];for(;this.match(Rn.COMMA);)e.push(this.parseLineStringText_());return e}parsePolygonTextList_(){let e=[this.parsePolygonText_()];for(;this.match(Rn.COMMA);)e.push(this.parsePolygonText_());return e}isEmptyGeometry_(){let e=this.isTokenType(Rn.TEXT)&&this.token_.value==N9;return e&&this.consume_(),e}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){let e=this.token_;if(this.match(Rn.TEXT)){let t=e.value;this.layout_=this.parseGeometryLayout_();let r=this.isEmptyGeometry_();if(t=="GEOMETRYCOLLECTION"){if(r)return new Yi([]);let s=this.parseGeometryCollectionText_();return new Yi(s)}let i=gse[t];if(!i)throw new Error("Invalid geometry type: "+t);let o;if(r)t=="POINT"?o=[NaN,NaN]:o=[];else switch(t){case"POINT":{o=this.parsePointText_();break}case"LINESTRING":{o=this.parseLineStringText_();break}case"POLYGON":{o=this.parsePolygonText_();break}case"MULTIPOINT":{o=this.parseMultiPointText_();break}case"MULTILINESTRING":{o=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{o=this.parseMultiPolygonText_();break}default:break}return new i(o,this.layout_)}throw new Error(this.formatErrorMessage_())}},YA=class extends R9{constructor(e){super(),e=e||{},this.splitCollection_=e.splitCollection!==void 0?e.splitCollection:!1}parse_(e){let t=new $A(e);return new ZA(t).parse()}readFeatureFromText(e,t){let r=this.readGeometryFromText(e,t),i=new Br;return i.setGeometry(r),i}readFeaturesFromText(e,t){let r=[],i=this.readGeometryFromText(e,t);this.splitCollection_&&i.getType()=="GeometryCollection"?r=i.getGeometriesArray():r=[i];let o=[];for(let s=0,a=r.length;s<a;++s){let l=new Br;l.setGeometry(r[s]),o.push(l)}return o}readGeometryFromText(e,t){let r=this.parse_(e);return Xi(r,!1,t)}writeFeatureText(e,t){let r=e.getGeometry();return r?this.writeGeometryText(r,t):""}writeFeaturesText(e,t){if(e.length==1)return this.writeFeatureText(e[0],t);let r=[];for(let o=0,s=e.length;o<s;++o)r.push(e[o].getGeometry());let i=new Yi(r);return this.writeGeometryText(i,t)}writeGeometryText(e,t){return F9(Xi(e,!0,t))}};function k9(n){let e=n.getCoordinates();return e.length===0?"":e.join(" ")}function yse(n){let e=[],t=n.getPoints();for(let r=0,i=t.length;r<i;++r)e.push("("+k9(t[r])+")");return e.join(",")}function vse(n){let e=[],t=n.getGeometries();for(let r=0,i=t.length;r<i;++r)e.push(F9(t[r]));return e.join(",")}function XA(n){let e=n.getCoordinates(),t=[];for(let r=0,i=e.length;r<i;++r)t.push(e[r].join(" "));return t.join(",")}function wse(n){let e=[],t=n.getLineStrings();for(let r=0,i=t.length;r<i;++r)e.push("("+XA(t[r])+")");return e.join(",")}function O9(n){let e=[],t=n.getLinearRings();for(let r=0,i=t.length;r<i;++r)e.push("("+XA(t[r])+")");return e.join(",")}function xse(n){let e=[],t=n.getPolygons();for(let r=0,i=t.length;r<i;++r)e.push("("+O9(t[r])+")");return e.join(",")}function bse(n){let e=n.getLayout(),t="";return(e==="XYZ"||e==="XYZM")&&(t+=P9),(e==="XYM"||e==="XYZM")&&(t+=L9),t}var Ese={Point:k9,LineString:XA,Polygon:O9,MultiPoint:yse,MultiLineString:wse,MultiPolygon:xse,GeometryCollection:vse};function F9(n){let e=n.getType(),t=Ese[e],r=t(n),i=_se[e];if(typeof n.getFlatCoordinates=="function"){let o=bse(n);o.length>0&&(i+=" "+o)}return r.length===0?i+" "+N9:i+"("+r+")"}var j9=YA;var Hx=class{type="wkt";import(e){return Ct(this,null,function*(){let t=yield e.text(),r=new j9().readFeatures(t);return{geojson:new $o().writeFeaturesObject(r),crs:"EPSG:4326"}})}};var qx=class n{type="kml";export(e){let r=new $o().readFeatures(e.geojson,{dataProjection:e.crs,featureProjection:"EPSG:4326"}),i=new px({extractStyles:!0}).writeFeatures(r,{featureProjection:"EPSG:4326"}),o=new Blob([i],{type:"application/vnd.google-earth.kml+xml"});return Promise.resolve(o)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})};var wg=class{static toEPSG4326(e,t){if(t==="EPSG:4326")return e;let r=new $o,i=r.readFeatures(e,{dataProjection:t,featureProjection:"EPSG:4326"});return r.writeFeaturesObject(i)}};var dB=d4(hB());var Jx=class{type="zip";export(e){return Ct(this,null,function*(){if(e?.geojson===void 0||e?.crs===void 0)throw new Error("Invalid data");let t=wg.toEPSG4326(e.geojson,e.crs);e.geojson.features.forEach(o=>{o.properties||(o.properties={});for(let s in o.properties)o.properties[s]===void 0&&(o.properties[s]=null)});let r={folder:"export_layers",filename:"map_data",outputType:"blob",compression:"DEFLATE",types:{point:"points",polygon:"polygons",polyline:"lines"}};return dB.default.zip(t,r)})}};var Qx=class{type="geojson";export(e){return Ct(this,null,function*(){let t=wg.toEPSG4326(e.geojson,e.crs),r=JSON.stringify(t,null,2);return new Blob([r],{type:"application/geo+json"})})}};var ih=class n{dataSignal=xn(null);_importStrategies=[new gx,new Bx,new Ux,new zx,new Hx];_exportStrategies=[new qx,new Jx,new Qx];currentData(){return this.dataSignal()}setData(e){this.dataSignal.set(e)}import(e){return Ct(this,null,function*(){let t=e.name.split(".").pop()?.toLowerCase(),r=this._importStrategies.find(o=>o.type===t);if(!r)throw new Error(`Unsupported file type: ${t}`);let i=yield r.import(e);this.dataSignal.set(i)})}export(e){return Ct(this,null,function*(){let t=this.dataSignal();if(!t)throw new Error("No geo data loaded");let r=this._exportStrategies.find(i=>i.type===e);if(!r)throw new Error(`Export strategy not found: ${e}`);return yield r.export(t)})}exportAllData(e,t){return Ct(this,null,function*(){let r=this._exportStrategies.find(o=>o.type===e);if(!r)throw new Error(`Export strategy not found: ${e}`);let i=t?{geojson:t,crs:"EPSG:4326"}:this.dataSignal();if(!i)throw new Error("No geo data to export");return yield r.export(i)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ai=class n{rightClickedFeature=xn(null);_map=xn(null);_hoveredFeatureInfo=xn(null);_vectorLayers=xn([]);hoverSubject=new Ot;_highlightSource;map=this._map.asReadonly();vectorLayers=this._vectorLayers.asReadonly();hoveredFeatureInfo=this._hoveredFeatureInfo.asReadonly();setMap(e){this._map.set(e),this._initialHoverInteraction(e),this.refreshVectorLayers()}handleRightClick(e){e.preventDefault();let t=this.map();if(!t)return;let r=t.getEventPixel(e),i=t.forEachFeatureAtPixel(r,o=>o,{layerFilter:o=>o.get("type")==="vector",hitTolerance:5});if(i){let o=i.getProperties();this.rightClickedFeature.set(ln(Ze({ol_uid:St(i)},o),{clientX:e.clientX,clientY:e.clientY}))}else this.rightClickedFeature.set(null)}getLayersByType(e){return this.map().getLayers().getArray().filter(t=>t.get("type")===e)}setBasemapVisibility(e){this.getLayersByType("basemap").forEach(r=>{r.setVisible(!1)}),e.layer.setVisible(!0)}zoomToVectorLayer(e){let t=e.getSource();if(!t)return;let r=t.getExtent();if(!r||r.length===0||yl(r))return;let i=this.map();if(!i)return;let o=i.getView();if(!o)return;let s=o.getResolution(),a=Pu(r,s*20);o.fit(a,{duration:500})}removeVectorLayer(e){let t=this.map();t&&(t.removeLayer(e),this.refreshVectorLayers())}refreshVectorLayers(){let e=this.map();if(e){let t=e.getLayers().getArray().filter(r=>r.get("type")==="vector");this._vectorLayers.set([...t])}}getImportedSource(){let e=this.map();if(!e)throw new Error("Map has not been initialized yet.");let r=e.getLayers().getArray().find(i=>i.get("id")==="imported");return r?r.getSource():(console.warn("Imported layer not found. Returning an empty source."),new kc)}_initialHoverInteraction(e){this._highlightSource=new kc;let t=new Pd({source:this._highlightSource,style:this.HOVER_STYLE,zIndex:9999});e.addLayer(t),this.hoverSubject.pipe(iS(16,Qa,{leading:!0,trailing:!0}),qy((r,i)=>r.pixel[0]===i.pixel[0]&&r.pixel[1]===i.pixel[1])).subscribe(r=>{this._performHoverCheck(r,e)}),e.on("pointermove",r=>this.hoverSubject.next(r))}HOVER_STYLE=new jr({stroke:new yi({color:"#fbbf24",width:5}),fill:new ei({color:"rgba(251, 191, 36, 0.4)"}),image:new El({radius:8,fill:new ei({color:"#fbbf24"}),stroke:new yi({color:"#ffffff",width:2})})});_performHoverCheck(e,t){let r=t.forEachFeatureAtPixel(e.pixel,a=>a,{layerFilter:a=>a.get("type")==="vector",hitTolerance:3}),i=r?St(r):null,o=this.hoveredFeatureInfo()?.ol_uid;if(this._highlightSource&&i!==o)if(this._highlightSource.clear(!0),r&&r instanceof Br){this._highlightSource.addFeature(r);let s=r.getProperties(),{geometry:a}=s,l=h4(s,["geometry"]);this._hoveredFeatureInfo.set(Ze({ol_uid:i},l)),t.getTargetElement().style.cursor="pointer"}else this._hoveredFeatureInfo.set(null),t.getTargetElement().style.cursor=""}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})};function Hse(n,e){if(n&1){let t=Ei();Be(0,"img",34),un("error",function(){Zn(t);let i=or().$implicit,o=or();return Yn(o.handleImageError(i))}),ze()}if(n&2){let t=or().$implicit;ir("src",t.get("thumbnail"),JC)("alt",t.get("name"))}}function qse(n,e){n&1&&(Be(0,"div",35)(1,"span",36),xt(2,"MAP"),ze()())}function Wse(n,e){n&1&&(Be(0,"div",37),Cr(),Be(1,"svg",38),Ft(2,"path",39),ze()())}function $se(n,e){if(n&1){let t=Ei();Be(0,"button",27),un("click",function(){let i=Zn(t).$implicit,o=or();return Yn(o.setBaseLayerVisibility(i))}),Be(1,"div",28),gi(2,Hse,1,2,"img",29)(3,qse,3,0,"div",30),ze(),Be(4,"div",31)(5,"p",32),xt(6),ze()(),gi(7,Wse,3,0,"div",33),ze()}if(n&2){let t=e.$implicit;hl("border-indigo-500",t.getVisible())("border-slate-200",!t.getVisible())("ring-2",t.getVisible())("ring-indigo-100",t.getVisible()),en(2),ir("ngIf",t.get("thumbnail")),en(),ir("ngIf",!t.get("thumbnail")),en(3),ps(" ",t.get("name").replace("Stadia Maps ","")," "),en(),ir("ngIf",t.getVisible())}}function Zse(n,e){if(n&1){let t=Ei();Be(0,"div",40)(1,"div",41)(2,"button",42),un("click",function(){let i=Zn(t).$implicit,o=or();return Yn(o.toggleLayerVisibility(i))}),Ft(3,"span",43),ze(),Be(4,"span",44),xt(5),ze()(),Be(6,"div",45)(7,"button",46),un("click",function(){let i=Zn(t).$implicit,o=or();return Yn(o.zoomToLayer(i))}),Cr(),Be(8,"svg",47),Ft(9,"path",48),ze()(),to(),Be(10,"button",49),Cr(),Be(11,"svg",47),Ft(12,"path",50),ze()()()()}if(n&2){let t=e.$implicit;en(2),hl("bg-indigo-600",t.getVisible())("bg-slate-200",!t.getVisible()),en(),hl("translate-x-3",t.getVisible())("translate-x-0",!t.getVisible()),en(),hl("opacity-50",!t.getVisible()),en(),ps(" ",t.get("name")," ")}}var eb=class n{mapService=Se(Ai);basemaps=i0(()=>{let e=this.mapService.map();if(!e)return[];let t=e.getLayers().getArray().filter(r=>r.get("type")==="basemap");return console.log("bm",t),t});layers=this.mapService.vectorLayers;setBaseLayerVisibility(e){this.mapService.getLayersByType("basemap").forEach(r=>{r.setVisible(!1)}),e.setVisible(!0)}toggleLayerVisibility(e){let t=e.getVisible();e.setVisible(!t)}zoomToLayer(e){this.mapService.zoomToVectorLayer(e)}removeLayer(e){this.mapService.removeVectorLayer(e)}getActiveBasemapName(){let e=this.basemaps().find(t=>t.getVisible());return e?e.get("name").replace("Stadia Maps ",""):"Select"}handleImageError(e){let t="assets/map-previews/osm.webp";e.get("thumbnail")!==t&&e.set("thumbnail",t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rr({type:n,selectors:[["app-layer-panel"]],decls:34,vars:4,consts:[[1,"absolute","top-4","right-4","z-20","w-72","flex","flex-col","bg-white/90","backdrop-blur-xl","rounded-2xl","shadow-[0_20px_50px_rgba(0,0,0,0.1)]","border","border-slate-200/60","text-slate-700","overflow-hidden","ring-1","ring-slate-900/5"],[1,"px-4","py-3","bg-slate-50/80","border-b","border-slate-200/60","flex","items-center","justify-between"],[1,"flex","items-center","gap-2.5"],[1,"p-1.5","bg-indigo-600","rounded-lg","shadow-sm","shadow-indigo-200"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-3.5","h-3.5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2.5","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"font-bold","text-[11px]","uppercase","tracking-wider","text-slate-800"],[1,"text-[9px]","font-black","px-2","py-0.5","rounded-full","bg-slate-200","text-slate-600","tracking-tighter"],[1,"overflow-y-auto","max-h-[calc(100vh-200px)]","custom-scrollbar"],[1,"p-3","border-b","border-slate-100","bg-slate-50/30"],[1,"px-2","mb-2","flex","items-center","justify-between"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","tracking-widest","flex","items-center","gap-2"],[1,"w-1","h-1","rounded-full","bg-indigo-400"],[1,"text-[9px]","font-medium","text-indigo-500","bg-indigo-50","px-1.5","py-0.5","rounded"],[1,"flex","gap-2","overflow-x-auto","pb-2","px-1","custom-scrollbar-horizontal","snap-x"],["class","relative flex-shrink-0 w-20 h-14 rounded-lg border-2 transition-all duration-300 snap-center overflow-hidden group",3,"border-indigo-500","border-slate-200","ring-2","ring-indigo-100","click",4,"ngFor","ngForOf"],[1,"p-3"],[1,"px-2","mb-2","text-[10px]","font-bold","text-slate-400","uppercase","tracking-widest","flex","items-center","gap-2"],[1,"w-1","h-1","rounded-full","bg-slate-300"],[1,"space-y-1"],["class","group flex items-center justify-between p-2 rounded-xl transition-all duration-200 hover:bg-slate-50 border border-transparent hover:border-slate-100 shadow-none hover:shadow-sm",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-slate-50/80","border-t","border-slate-200/60","flex","justify-between","items-center","text-[10px]"],[1,"flex","items-center","gap-2","font-semibold","text-slate-500","italic"],[1,"relative","flex","h-2","w-2"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-emerald-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2","bg-emerald-500"],[1,"font-bold","text-slate-400"],[1,"relative","flex-shrink-0","w-20","h-14","rounded-lg","border-2","transition-all","duration-300","snap-center","overflow-hidden","group",3,"click"],[1,"absolute","inset-0","bg-slate-200"],["class","w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",3,"src","alt","error",4,"ngIf"],["class","w-full h-full flex items-center justify-center bg-slate-300",4,"ngIf"],[1,"absolute","bottom-0","inset-x-0","bg-white/90","backdrop-blur-sm","py-0.5","px-1","text-center","border-t","border-slate-100"],[1,"text-[8px]","font-bold","text-slate-600","truncate","uppercase","tracking-tighter"],["class","absolute top-1 right-1 bg-indigo-500 rounded-full p-0.5 shadow-sm",4,"ngIf"],[1,"w-full","h-full","object-cover","transition-transform","duration-500","group-hover:scale-110",3,"error","src","alt"],[1,"w-full","h-full","flex","items-center","justify-center","bg-slate-300"],[1,"text-[10px]","font-bold","text-slate-500"],[1,"absolute","top-1","right-1","bg-indigo-500","rounded-full","p-0.5","shadow-sm"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","4",1,"w-2","h-2","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M5 13l4 4L19 7"],[1,"group","flex","items-center","justify-between","p-2","rounded-xl","transition-all","duration-200","hover:bg-slate-50","border","border-transparent","hover:border-slate-100","shadow-none","hover:shadow-sm"],[1,"flex","items-center","gap-3","min-w-0"],[1,"relative","inline-flex","h-4","w-7","shrink-0","cursor-pointer","rounded-full","border-2","border-transparent","transition-colors","duration-200","focus:outline-none",3,"click"],[1,"pointer-events-none","inline-block","h-3","w-3","transform","rounded-full","bg-white","shadow","ring-0","transition","duration-200","ease-in-out"],[1,"truncate","text-[11px]","font-medium","text-slate-600","group-hover:text-slate-900","transition-colors"],[1,"flex","items-center","gap-1","opacity-0","group-hover:opacity-100","transition-all","duration-200"],["title","Focus Extent",1,"p-1.5","rounded-lg","hover:bg-indigo-100","text-slate-400","hover:text-indigo-600","transition-colors",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"w-3.5","h-3.5"],["d","M15 3h6m0 0v6m0-6L14 10M9 21H3m0 0v-6m0 6l7-7"],[1,"p-1.5","rounded-lg","hover:bg-red-50","text-slate-300","hover:text-red-500","transition-colors"],["d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(t,r){t&1&&(Be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Cr(),Be(4,"svg",4),Ft(5,"path",5),ze()(),to(),Be(6,"span",6),xt(7,"Layer Panel"),ze()(),Be(8,"span",7),xt(9,"V1.0"),ze()(),Be(10,"div",8)(11,"div",9)(12,"div",10)(13,"h3",11),Ft(14,"span",12),xt(15," Basemaps "),ze(),Be(16,"span",13),xt(17),ze()(),Be(18,"div",14),gi(19,$se,8,12,"button",15),ze()(),Be(20,"div",16)(21,"h3",17),Ft(22,"span",18),xt(23," Active Layers "),ze(),Be(24,"div",19),gi(25,Zse,13,11,"div",20),ze()()(),Be(26,"div",21)(27,"div",22)(28,"span",23),Ft(29,"span",24)(30,"span",25),ze(),xt(31," System Online "),ze(),Be(32,"span",26),xt(33),ze()()()),t&2&&(en(17),ps(" ",r.getActiveBasemapName()," "),en(2),ir("ngForOf",r.basemaps()),en(6),ir("ngForOf",r.layers()),en(8),ps("",r.layers().length," Sources"))},dependencies:[Si,u2,ba],encapsulation:2})};var Yse='&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>',Xse='&copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a>',Kse='&copy; <a href="https://stamen.com/" target="_blank">Stamen Design</a>',Jse={stamen_terrain:{extension:"png"},stamen_terrain_background:{extension:"png"},stamen_terrain_labels:{extension:"png"},stamen_terrain_lines:{extension:"png"},stamen_toner_background:{extension:"png"},stamen_toner:{extension:"png"},stamen_toner_labels:{extension:"png"},stamen_toner_lines:{extension:"png"},stamen_toner_lite:{extension:"png"},stamen_toner_dark:{extension:"png"},stamen_toner_blacklite:{extension:"png"},stamen_watercolor:{extension:"jpg"},alidade_smooth:{extension:"png"},alidade_smooth_dark:{extension:"png"},alidade_satellite:{extension:"png"},outdoors:{extension:"png"},osm_bright:{extension:"png"}},Qse={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_toner_dark:{minZoom:0,maxZoom:20,retina:!0},stamen_toner_blacklite:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}},oR=class extends tx{constructor(e){let t=e.layer.indexOf("-"),r=t==-1?e.layer:e.layer.slice(0,t),i=Qse[r]||{minZoom:0,maxZoom:20,retina:!0},o=Jse[e.layer],s=e.apiKey?"?api_key="+e.apiKey:"",a=i.retina&&e.retina?"@2x":"",l=e.url!==void 0?e.url:"https://tiles.stadiamaps.com/tiles/"+e.layer+"/{z}/{x}/{y}"+a+"."+o.extension+s,c=[Yse,Xse,UM];e.layer.startsWith("stamen_")&&c.splice(1,0,Kse),super({attributions:c,cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:i.maxZoom,minZoom:e.minZoom!==void 0?e.minZoom:i.minZoom,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:l,tilePixelRatio:a?2:1,wrapX:e.wrapX,zDirection:e.zDirection})}},fB=oR;var tb=class n{constructor(e){this._mapService=e;ip(()=>{let t=this._mapService.map();t&&(console.log("Map detected via Signal!"),this.initPointerListener(t))})}formattedCoords="00.0000, 00.0000";ticking=!1;initPointerListener(e){e.on("pointermove",t=>{this.ticking||(window.requestAnimationFrame(()=>{this._updateCoords(e,t.pixel),this.ticking=!1}),this.ticking=!0)})}_updateCoords(e,t){let r=e.getCoordinateFromPixel(t);if(r){let i=m8(r);this.formattedCoords=ZO(i,"{y}, {x}",4)}}static \u0275fac=function(t){return new(t||n)(no(Ai))};static \u0275cmp=rr({type:n,selectors:[["app-mouse-position"]],decls:14,vars:1,consts:[[1,"absolute","bottom-2","left-1","z-20","flex","items-center","gap-3","px-3","py-2","bg-white/80","backdrop-blur-md","rounded-xl","shadow-lg","border","border-white/40","ring-1","ring-black/5","transition-all","duration-300","hover:bg-white/95"],[1,"flex","items-center","justify-center","w-8","h-8","rounded-lg","bg-slate-100","text-slate-500"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"flex","flex-col"],[1,"text-[9px]","font-bold","text-slate-400","uppercase","tracking-widest","leading-none","mb-1"],[1,"text-xs","font-mono","font-semibold","text-slate-700","tabular-nums"],[1,"flex","items-center","justify-center","ml-1"],[1,"relative","flex","h-2","w-2"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-emerald-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2","bg-emerald-500"]],template:function(t,r){t&1&&(ul(0,"div",0)(1,"div",1),Cr(),ul(2,"svg",2),rp(3,"path",3)(4,"path",4),pc()(),to(),ul(5,"div",5)(6,"span",6),xt(7," Coordinates "),pc(),ul(8,"span",7),xt(9),pc()(),ul(10,"div",8)(11,"span",9),rp(12,"span",10)(13,"span",11),pc()()()),t&2&&(en(9),ps(" ",r.formattedCoords," "))},encapsulation:2})};function Hd(n,e){let t=n.length;return e<0?n[e+t]:e>=t?n[e-t]:n[e]}function qd(n,e){let t=n.length,r=Math.floor(e),i=e-r;r>=t?r-=t:r<0&&(r+=t);let o=r+1;o>=t&&(o-=t);let s=n[r],a=s[0],l=s[1],c=n[o],u=c[0]-a,d=c[1]-l;return[a+u*i,l+d*i]}var nb={index:-1,endIndex:NaN,closestTargetDistance:1/0};function pB(n,e,t,r){let i=n[0],o=n[1],s=1/0,a=-1,l=NaN;for(let d=0;d<e.targets.length;++d){let f=e.targets[d],h=f.coordinates,g=1/0,_;for(let y=0;y<h.length-1;++y){let v=h[y],E=h[y+1],S=_B(i,o,v,E);S.squaredDistance<g&&(g=S.squaredDistance,_=y+S.along)}g<s&&(s=g,f.ring&&e.targetIndex===d&&(f.endIndex>f.startIndex?_<f.startIndex&&(_+=h.length):f.endIndex<f.startIndex&&_>f.startIndex&&(_-=h.length)),l=_,a=d)}let c=e.targets[a],u=c.ring;if(e.targetIndex===a&&u){let d=qd(c.coordinates,l),f=t.getPixelFromCoordinate(d),h=t.getPixelFromCoordinate(e.startCoord);$2(f,h)>r&&(u=!1)}if(u){let d=c.coordinates,f=d.length,h=c.startIndex,g=l;if(h<g){let _=ob(d,h,g);ob(d,h,g-f)<_&&(l-=f)}else{let _=ob(d,h,g);ob(d,h,g+f)<_&&(l+=f)}}return nb.index=a,nb.endIndex=l,nb.closestTargetDistance=s,nb}function gB(n,e){let t=[];for(let r=0;r<e.length;++r){let o=e[r].getGeometry();mB(n,o,t)}return t}function mB(n,e,t){if(e instanceof vi){rb(n,e.getCoordinates(),!1,t);return}if(e instanceof Wo){let r=e.getCoordinates();for(let i=0,o=r.length;i<o;++i)rb(n,r[i],!1,t);return}if(e instanceof $i){let r=e.getCoordinates();for(let i=0,o=r.length;i<o;++i)rb(n,r[i],!0,t);return}if(e instanceof La){let r=e.getCoordinates();for(let i=0,o=r.length;i<o;++i){let s=r[i];for(let a=0,l=s.length;a<l;++a)rb(n,s[a],!0,t)}return}if(e instanceof Yi){let r=e.getGeometries();for(let i=0;i<r.length;++i)mB(n,r[i],t);return}}function rb(n,e,t,r){let i=n[0],o=n[1];for(let s=0,a=e.length-1;s<a;++s){let l=e[s],c=e[s+1],u=_B(i,o,l,c);if(u.squaredDistance===0){let d=s+u.along;r.push({coordinates:e,ring:t,startIndex:d,endIndex:d});return}}}function ib(n,e){return Oo(n[0],n[1],e[0],e[1])}function ob(n,e,t){let r,i;e<t?(r=e,i=t):(r=t,i=e);let o=Math.ceil(r),s=Math.floor(i);if(o>s){let l=qd(n,r),c=qd(n,i);return ib(l,c)}let a=0;if(r<o){let l=qd(n,r),c=Hd(n,o);a+=ib(l,c)}if(s<i){let l=Hd(n,s),c=qd(n,i);a+=ib(l,c)}for(let l=o;l<s-1;++l){let c=Hd(n,l),u=Hd(n,l+1);a+=ib(c,u)}return a}var sR={along:0,squaredDistance:0};function _B(n,e,t,r){let i=t[0],o=t[1],s=r[0],a=r[1],l=s-i,c=a-o,u=0,d=i,f=o;return(l!==0||c!==0)&&(u=an(((n-i)*l+(e-o)*c)/(l*l+c*c),0,1),d+=l*u,f+=c*u),sR.along=u,sR.squaredDistance=Nu(Oo(n,e,d,f),10),sR}var sb={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Cg=class extends Kr{constructor(e,t){super(e),this.feature=t}},aR=class extends Qs{constructor(e){let t=e;t.stopDown||(t.stopDown=$s),super(t),this.on,this.once,this.un,this.options_=e,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=tae(this.type_),this.stopClick_=!!e.stopClick,this.ignoreNextUpEvent_=!1,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Ca,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let r=e.geometryFunction;if(!r){let i=this.mode_;if(i==="Circle")r=(o,s,a)=>{let l=s||new IF([NaN,NaN]),c=Uo(o[0],a),u=WI(c,Uo(o[o.length-1],a));l.setCenterAndRadius(c,Math.sqrt(u),this.geometryLayout_);let d=Cc();return d&&l.transform(a,d),l};else{let o;i==="Point"?o=Di:i==="LineString"?o=vi:i==="Polygon"&&(o=$i),r=(s,a,l)=>(a?i==="Polygon"?s[0].length?a.setCoordinates([s[0].concat([s[0][0]])],this.geometryLayout_):a.setCoordinates([],this.geometryLayout_):a.setCoordinates(s,this.geometryLayout_):a=new o(s,this.geometryLayout_),a)}}this.geometryFunction_=r,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new Pd({source:new kc({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:eae(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:Up,this.freehandCondition_,e.freehand?this.freehandCondition_=Bp:this.freehandCondition_=e.freehandCondition?e.freehandCondition:r1,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(t1.ACTIVE,this.updateState_)}setTrace(e){let t;e?e===!0?t=Bp:t=e:t=K8,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}setFreehand(e){this.freehand_=e,this.freehand_?this.freehandCondition_=Bp:this.freehandCondition_=this.options_&&this.options_.freehandCondition?this.options_.freehandCondition:r1}getOverlay(){return this.overlay_}getFreehand(){return this.freehand_}handleEvent(e){e.originalEvent.type===Je.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let t=e.type===mn.POINTERMOVE,r=!0;return!this.freehand_&&this.lastDragTime_&&e.type===mn.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===mn.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),r=!1):this.freehand_&&e.type===mn.POINTERDOWN?r=!1:t&&this.getPointerCount()<2?(r=e.type===mn.POINTERMOVE,r&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===mn.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===mn.DBLCLICK&&(r=!1),super.handleEvent(e)&&r}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new Zs(mn.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}let t=this.getMap(),r=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),i=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),o=L0([r,i]),s=this.traceSource_.getFeaturesInExtent(o);if(s.length===0)return;let a=gB(e.coordinate,s);a.length&&(this.traceState_={active:!0,startCoord:e.coordinate.slice(),targets:a,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){let r=e.startIndex<=e.endIndex,i=e.startIndex<=t;r===i?r&&t>e.endIndex||!r&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(r&&t<e.endIndex||!r&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let r=0;if(e<t){let i=Math.ceil(e),o=Math.floor(t);o===t&&(o-=1),r=o-i+1}else{let i=Math.floor(e),o=Math.ceil(t);o===t&&(o+=1),r=i-o+1}r>0&&this.removeLastPoints_(r)}addTracedCoordinates_(e,t,r){if(t===r)return;let i=[];if(t<r){let o=Math.ceil(t),s=Math.floor(r);s===r&&(s-=1);for(let a=o;a<=s;++a)i.push(Hd(e.coordinates,a))}else{let o=Math.floor(t),s=Math.ceil(r);s===r&&(s+=1);for(let a=o;a>=s;--a)i.push(Hd(e.coordinates,a))}i.length&&this.appendCoordinates(i)}updateTrace_(e){let t=this.traceState_;if(!t.active)return;if(t.targetIndex===-1){let a=e.map.getPixelFromCoordinate(t.startCoord);if($2(a,e.pixel)<this.snapTolerance_)return}let r=pB(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==r.index){if(t.targetIndex!==-1){let l=t.targets[t.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}let a=t.targets[r.index];this.addTracedCoordinates_(a,a.startIndex,r.endIndex)}else{let a=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(a,r.endIndex)}t.targetIndex=r.index;let i=t.targets[t.targetIndex];i.endIndex=r.endIndex;let o=qd(i.coordinates,i.endIndex),s=this.getMap().getPixelFromCoordinate(o);e.coordinate=o,e.pixel=[Math.round(s[0]),Math.round(s[1])]}handleDragEvent(e){this.ignoreNextUpEvent_=!0,super.handleDragEvent(e)}handleUpEvent(e){let t=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);let r=this.traceState_.active;if(this.ignoreNextUpEvent_||this.toggleTraceState_(e),this.shouldHandle_){let i=!this.finishCoordinate_;i&&this.startDrawing_(e.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_==="Point")&&(this.atFinish_(e.pixel,r)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return this.ignoreNextUpEvent_=!1,!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){let t=this.downPx_,r=e.pixel,i=t[0]-r[0],o=t[1]-r[1],s=i*i+o*o;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,t){let r=!1;if(this.sketchFeature_){let i=!1,o=[this.finishCoordinate_],s=this.mode_;if(s==="Point")r=!0;else if(s==="Circle")r=this.sketchCoords_.length===2;else if(s==="LineString")i=!t&&this.sketchCoords_.length>this.minPoints_;else if(s==="Polygon"){let a=this.sketchCoords_;i=a[0].length>this.minPoints_,o=[a[0][0],a[0][a[0].length-2]],t?o=[a[0][0]]:o=[a[0][0],a[0][a[0].length-2]]}if(i){let a=this.getMap();for(let l=0,c=o.length;l<c;l++){let u=o[l],d=a.getPixelFromCoordinate(u),f=e[0]-d[0],h=e[1]-d[1],g=this.freehand_?1:this.snapTolerance_;if(r=Math.sqrt(f*f+h*h)<=g,r){this.finishCoordinate_=u;break}}}}return r}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Br(new Di(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Br);let t=e.getLinearRing(0),r=this.sketchLine_.getGeometry();r?(r.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),r.changed()):(r=new vi(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(r))}startDrawing_(e){let t=this.getMap().getView().getProjection(),r=G0(this.geometryLayout_);for(;e.length<r;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Br(new vi(this.sketchLineCoords_)));let i=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Br,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new Cg(sb.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){let t=this.getMap(),r=this.sketchFeature_.getGeometry(),i=t.getView().getProjection(),o=G0(this.geometryLayout_),s,a;for(;e.length<o;)e.push(0);this.mode_==="Point"?a=this.sketchCoords_:this.mode_==="Polygon"?(s=this.sketchCoords_[0],a=s[s.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(s=this.sketchCoords_,a=s[s.length-1]),a[0]=e[0],a[1]=e[1],this.geometryFunction_(this.sketchCoords_,r,i),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),r.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(r):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){let t=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),i,o,s=this.mode_;return s==="LineString"||s==="Circle"?(this.finishCoordinate_=e.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),this.geometryFunction_(o,t,r)):s==="Polygon"&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),i&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,t,r)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),i?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;let t=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),i=this.mode_;for(let o=0;o<e;++o){let s;if(i==="LineString"||i==="Circle"){if(s=this.sketchCoords_,s.splice(-2,1),s.length>=2){this.finishCoordinate_=s[s.length-2].slice();let a=this.finishCoordinate_.slice();s[s.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(s,t,r),t.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(i==="Polygon"){s=this.sketchCoords_[0],s.splice(-2,1);let a=this.sketchLine_.getGeometry();if(s.length>=2){let l=s[s.length-2].slice();s[s.length-1]=l,this.createOrUpdateSketchPoint_(l)}a.setCoordinates(s),this.geometryFunction_(this.sketchCoords_,t,r)}if(s.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){let e=this.abortDrawing_();if(!e)return null;let t=this.sketchCoords_,r=e.getGeometry(),i=this.getMap().getView().getProjection();return this.mode_==="LineString"?(t.pop(),this.geometryFunction_(t,r,i)):this.mode_==="Polygon"&&(t[0].pop(),this.geometryFunction_(t,r,i),t=r.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new Pa([t])):this.type_==="MultiLineString"?e.setGeometry(new Wo([t])):this.type_==="MultiPolygon"&&e.setGeometry(new La([t])),this.dispatchEvent(new Cg(sb.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;let e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){let e=this.abortDrawing_();e&&this.dispatchEvent(new Cg(sb.DRAWABORT,e))}appendCoordinates(e){let t=this.mode_,r=!this.sketchFeature_;r&&this.startDrawing_(e[0]);let i;if(t==="LineString"||t==="Circle")i=this.sketchCoords_;else if(t==="Polygon")i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;r&&i.shift(),i.pop();for(let s=0;s<e.length;s++)this.addToDrawing_(e[s]);let o=e[e.length-1];this.sketchFeature_=this.addToDrawing_(o),this.modifyDrawing_(o)}extend(e){let r=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=r.getCoordinates();let i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new Br(new Di(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Cg(sb.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){let e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);let t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){let e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}};function eae(){let n=N6();return function(e,t){return n[e.getGeometry().getType()]}}function tae(n){switch(n){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+n)}}var yB=aR;var Rl=class n{_drawSource=new kc;_activeDrawInteraction=null;activeType=xn(null);get source(){return this._drawSource}startDrawing(e,t){this.stopDrawing(e),this._activeDrawInteraction=new yB({source:this._drawSource,type:t}),e.addInteraction(this._activeDrawInteraction),this.activeType.set(t)}stopDrawing(e){this._activeDrawInteraction&&(e.removeInteraction(this._activeDrawInteraction),this._activeDrawInteraction=null),this.activeType.set(null)}clearDrawings(){this._drawSource.clear()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})};function nae(n,e){n&1&&(Cr(),Be(0,"svg",8),Ft(1,"path",9),ze())}function rae(n,e){n&1&&(Cr(),Be(0,"svg",10),Ft(1,"circle",11)(2,"path",12),ze())}var ab=class n{constructor(e){this.geoDataService=e}loading=!1;error=null;onFileSelected(e){return Ct(this,null,function*(){let t=e.target.files?.[0];t&&this.geoDataService.import(t)})}static \u0275fac=function(t){return new(t||n)(no(ih))};static \u0275cmp=rr({type:n,selectors:[["app-upload"]],decls:9,vars:3,consts:[["fileInput",""],[1,"relative","flex","items-center","group"],["type","button",1,"relative","flex","items-center","justify-center","w-10","h-10","rounded-xl","bg-gradient-to-tr","from-emerald-600","to-emerald-500","text-white","shadow-md","hover:shadow-emerald-200","hover:scale-105","transition-all","duration-200","active:scale-95","disabled:opacity-50","disabled:scale-100","disabled:cursor-not-allowed",3,"click","disabled"],["class","w-5 h-5 transition-transform group-hover:translate-y-[-1px]","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","w-5 h-5 animate-spin","viewBox","0 0 24 24","fill","none",4,"ngIf"],["type","file","hidden","",3,"change"],[1,"absolute","top-full","mt-4","left-1/2","-translate-x-1/2","px-2.5","py-1.5","text-[10px]","font-bold","text-white","bg-slate-800","rounded-lg","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","whitespace-nowrap","shadow-xl","z-[60]"],[1,"absolute","-top-1","left-1/2","-translate-x-1/2","w-2","h-2","bg-slate-800","rotate-45"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","transition-transform","group-hover:translate-y-[-1px]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["viewBox","0 0 24 24","fill","none",1,"w-5","h-5","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v8H4z",1,"opacity-75"]],template:function(t,r){if(t&1){let i=Ei();Be(0,"div",1)(1,"button",2),un("click",function(){Zn(i);let s=S5(5);return Yn(s.click())}),gi(2,nae,2,0,"svg",3)(3,rae,3,0,"svg",4),ze(),Be(4,"input",5,0),un("change",function(s){return Zn(i),Yn(r.onFileSelected(s))}),ze(),Be(6,"div",6),xt(7," IMPORT DATA "),Ft(8,"div",7),ze()()}t&2&&(en(),ir("disabled",r.loading),en(),ir("ngIf",!r.loading),en(),ir("ngIf",r.loading))},dependencies:[Si,ba],encapsulation:2})};function iae(n,e){if(n&1){let t=Ei();Be(0,"div",7)(1,"button",8),un("click",function(){Zn(t);let i=or();return Yn(i.export("kml"))}),Be(2,"span",9),xt(3,"\u{1F30D}"),ze(),Be(4,"span"),xt(5,"Google Earth (KML)"),ze()(),Be(6,"button",8),un("click",function(){Zn(t);let i=or();return Yn(i.export("geojson"))}),Be(7,"span",10),xt(8,"\u{1F9ED}"),ze(),Be(9,"span"),xt(10,"GeoJSON File"),ze()(),Be(11,"button",8),un("click",function(){Zn(t);let i=or();return Yn(i.export("zip"))}),Be(12,"span",11),xt(13,"\u{1F5FA}\uFE0F"),ze(),Be(14,"span"),xt(15,"Shapefile (SHP)"),ze()()()}}var lb=class n{_el=Se(kr);_geoDataService=Se(ih);_drawService=Se(Rl);_mapService=Se(Ai);showExportMenu=xn(!1);onDocumentClick(e){this._el.nativeElement.contains(e.target)||this.showExportMenu.set(!1)}toggleExportMenu(){this.showExportMenu.update(e=>!e)}export(e){return Ct(this,null,function*(){try{if(this.showExportMenu.set(!1),e==="kml"||e==="gpx"||e==="zip"||e==="geojson"){let t=this.mergeSources(),r=yield this._geoDataService.exportAllData(e,t),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=`export.${e}`,o.click(),URL.revokeObjectURL(i)}}catch(t){console.error("Export error:",t),alert(t instanceof Error?t.message:"Export failed")}})}mergeSources(){let e=new $o,t=[...this._mapService.getImportedSource().getFeatures(),...this._drawService.source.getFeatures()];return e.writeFeaturesObject(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rr({type:n,selectors:[["app-download"]],hostBindings:function(t,r){t&1&&un("click",function(o){return r.onDocumentClick(o)},hc)},decls:8,vars:1,consts:[[1,"relative","group"],[1,"group/btn","flex","items-center","justify-center","w-10","h-10","rounded-xl","bg-gradient-to-tr","from-blue-600","to-blue-500","text-white","shadow-md","hover:shadow-blue-200","hover:scale-105","transition-all","duration-200","active:scale-95",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","group-hover/btn:translate-y-[-1px]","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],[1,"absolute","top-full","mt-4","left-1/2","-translate-x-1/2","px-2.5","py-1.5","text-[10px]","font-bold","text-white","bg-slate-800","rounded-lg","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","whitespace-nowrap","shadow-xl","z-50"],[1,"absolute","-top-1","left-1/2","-translate-x-1/2","w-2","h-2","bg-slate-800","rotate-45"],["class","absolute top-full left-1/2 -translate-x-1/2 mt-4 bg-white/95 backdrop-blur-xl rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.1)] border border-gray-100 flex flex-col overflow-hidden min-w-[180px] p-1.5 ring-1 ring-black/5 z-50",4,"ngIf"],[1,"absolute","top-full","left-1/2","-translate-x-1/2","mt-4","bg-white/95","backdrop-blur-xl","rounded-2xl","shadow-[0_10px_40px_rgba(0,0,0,0.1)]","border","border-gray-100","flex","flex-col","overflow-hidden","min-w-[180px]","p-1.5","ring-1","ring-black/5","z-50"],[1,"flex","items-center","gap-3","px-3","py-2.5","rounded-xl","hover:bg-blue-50","text-xs","font-semibold","text-gray-700","transition-all",3,"click"],[1,"flex","items-center","justify-center","w-7","h-7","bg-orange-100","rounded-lg","text-sm","shadow-sm"],[1,"flex","items-center","justify-center","w-7","h-7","bg-emerald-100","rounded-lg","text-sm","shadow-sm"],[1,"flex","items-center","justify-center","w-7","h-7","bg-blue-100","rounded-lg","text-sm","shadow-sm"]],template:function(t,r){t&1&&(Be(0,"div",0)(1,"button",1),un("click",function(){return r.toggleExportMenu()}),Cr(),Be(2,"svg",2),Ft(3,"path",3),ze()(),to(),Be(4,"div",4),xt(5," EXPORT DATA "),Ft(6,"div",5),ze(),gi(7,iae,16,0,"div",6),ze()),t&2&&(en(7),ir("ngIf",r.showExportMenu()))},dependencies:[Si,ba],encapsulation:2})};function oae(n,e){n&1&&Ft(0,"div",16)}function sae(n,e){n&1&&Ft(0,"div",16)}function aae(n,e){n&1&&Ft(0,"div",16)}function lae(n,e){if(n&1){let t=Ei();Be(0,"div",7)(1,"div",8),xt(2,"Select Type"),ze(),Be(3,"button",9),un("click",function(){Zn(t);let i=or();return Yn(i.startDrawing("Point"))}),Be(4,"div",10)(5,"span",11),xt(6,"\u{1F4CD}"),ze(),Be(7,"span"),xt(8,"Point"),ze()(),gi(9,oae,1,0,"div",12),ze(),Be(10,"button",9),un("click",function(){Zn(t);let i=or();return Yn(i.startDrawing("LineString"))}),Be(11,"div",10)(12,"span",11),xt(13,"\u{1F4CF}"),ze(),Be(14,"span"),xt(15,"Line"),ze()(),gi(16,sae,1,0,"div",12),ze(),Be(17,"button",9),un("click",function(){Zn(t);let i=or();return Yn(i.startDrawing("Polygon"))}),Be(18,"div",10)(19,"span",11),xt(20,"\u2B20"),ze(),Be(21,"span"),xt(22,"Polygon"),ze()(),gi(23,aae,1,0,"div",12),ze(),Ft(24,"div",13),Be(25,"button",14),un("click",function(){Zn(t);let i=or();return Yn(i.startDrawing(null))}),Be(26,"span",15),xt(27,"\u2715"),ze(),Be(28,"span"),xt(29,"Stop Drawing"),ze()()()}if(n&2){let t=or();en(9),ir("ngIf",t.activeType()==="Point"),en(7),ir("ngIf",t.activeType()==="LineString"),en(7),ir("ngIf",t.activeType()==="Polygon")}}var cb=class n{_el=Se(kr);_drawService=Se(Rl);_mapService=Se(Ai);showMenu=xn(!1);activeType=this._drawService.activeType;onDocumentClick(e){this._el.nativeElement.contains(e.target)||this.showMenu.set(!1)}toggleMenu(){this.showMenu.update(e=>!e)}startDrawing(e){let t=this._mapService.map();t&&(e===null?this._drawService.stopDrawing(t):this._drawService.startDrawing(t,e),this.showMenu.set(!1))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rr({type:n,selectors:[["app-drawing-tools"]],hostBindings:function(t,r){t&1&&un("click",function(o){return r.onDocumentClick(o)},hc)},decls:8,vars:2,consts:[[1,"relative","group"],[1,"group/btn","flex","items-center","justify-center","w-10","h-10","rounded-xl","transition-all","duration-200","active:scale-95","shadow-md",3,"click","ngClass"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","group-hover/btn:rotate-12","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"],[1,"absolute","top-full","mt-4","left-1/2","-translate-x-1/2","px-2.5","py-1.5","text-[10px]","font-bold","text-white","bg-slate-800","rounded-lg","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","whitespace-nowrap","shadow-xl","z-50"],[1,"absolute","-top-1","left-1/2","-translate-x-1/2","w-2","h-2","bg-slate-800","rotate-45"],["class","absolute top-full left-1/2 -translate-x-1/2 mt-4 bg-white/95 backdrop-blur-xl rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.1)] border border-gray-100 flex flex-col overflow-hidden min-w-[180px] p-1.5 ring-1 ring-black/5 z-50",4,"ngIf"],[1,"absolute","top-full","left-1/2","-translate-x-1/2","mt-4","bg-white/95","backdrop-blur-xl","rounded-2xl","shadow-[0_10px_40px_rgba(0,0,0,0.1)]","border","border-gray-100","flex","flex-col","overflow-hidden","min-w-[180px]","p-1.5","ring-1","ring-black/5","z-50"],[1,"px-3","py-1.5","mb-1","text-[9px]","uppercase","tracking-wider","font-bold","text-slate-400"],[1,"flex","items-center","justify-between","px-3","py-2.5","rounded-xl","hover:bg-indigo-50","text-xs","font-semibold","text-slate-700","transition-all",3,"click"],[1,"flex","items-center","gap-3"],[1,"flex","items-center","justify-center","w-7","h-7","bg-indigo-100","rounded-lg","shadow-sm"],["class","w-1.5 h-1.5 rounded-full bg-indigo-500 animate-pulse",4,"ngIf"],[1,"h-[1px]","bg-slate-100","my-1"],[1,"flex","items-center","gap-3","px-3","py-2.5","rounded-xl","hover:bg-red-50","text-xs","font-semibold","text-red-600","transition-all",3,"click"],[1,"flex","items-center","justify-center","w-7","h-7","bg-red-100","rounded-lg"],[1,"w-1.5","h-1.5","rounded-full","bg-indigo-500","animate-pulse"]],template:function(t,r){t&1&&(Be(0,"div",0)(1,"button",1),un("click",function(){return r.toggleMenu()}),Cr(),Be(2,"svg",2),Ft(3,"path",3),ze()(),to(),Be(4,"div",4),xt(5," DRAWING TOOLS "),Ft(6,"div",5),ze(),gi(7,lae,30,3,"div",6),ze()),t&2&&(en(),ir("ngClass",r.activeType()?"bg-indigo-600 text-white ring-4 ring-indigo-100":"bg-gradient-to-tr from-indigo-600 to-indigo-500 text-white hover:scale-105"),en(6),ir("ngIf",r.showMenu()))},dependencies:[Si,l0,ba],encapsulation:2})};var Ua=Uint8Array,Ds=Uint16Array,dR=Int32Array,fR=new Ua([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pR=new Ua([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vB=new Ua([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),EB=function(n,e){for(var t=new Ds(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new dR(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},SB=EB(fR,2),cae=SB.b,cR=SB.r;cae[28]=258,cR[258]=28;var CB=EB(pR,0),EWe=CB.b,wB=CB.r,uR=new Ds(32768);for(Nn=0;Nn<32768;++Nn)Wc=(Nn&43690)>>1|(Nn&21845)<<1,Wc=(Wc&52428)>>2|(Wc&13107)<<2,Wc=(Wc&61680)>>4|(Wc&3855)<<4,uR[Nn]=((Wc&65280)>>8|(Wc&255)<<8)>>1;var Wc,Nn,J1=function(n,e,t){for(var r=n.length,i=0,o=new Ds(e);i<r;++i)n[i]&&++o[n[i]-1];var s=new Ds(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(t){a=new Ds(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=s[n[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)a[uR[d]>>l]=c}else for(a=new Ds(r),i=0;i<r;++i)n[i]&&(a[i]=uR[s[n[i]-1]++]>>15-n[i]);return a},Wd=new Ua(288);for(Nn=0;Nn<144;++Nn)Wd[Nn]=8;var Nn;for(Nn=144;Nn<256;++Nn)Wd[Nn]=9;var Nn;for(Nn=256;Nn<280;++Nn)Wd[Nn]=7;var Nn;for(Nn=280;Nn<288;++Nn)Wd[Nn]=8;var Nn,ub=new Ua(32);for(Nn=0;Nn<32;++Nn)ub[Nn]=5;var Nn,uae=J1(Wd,9,0);var hae=J1(ub,5,0);var IB=function(n){return(n+7)/8|0},dae=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new Ua(n.subarray(e,t))};var $c=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},X1=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},lR=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:TB,l:0};if(i==1){var s=new Ua(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(R,V){return R.f-V.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=o[0].s,r=1;r<i;++r)o[r].s>f&&(f=o[r].s);var h=new Ds(f+1),g=hR(t[u-1],h,0);if(g>e){var r=0,_=0,y=g-e,v=1<<y;for(o.sort(function(V,j){return h[j.s]-h[V.s]||V.f-j.f});r<i;++r){var E=o[r].s;if(h[E]>e)_+=v-(1<<g-h[E]),h[E]=e;else break}for(_>>=y;_>0;){var S=o[r].s;h[S]<e?_-=1<<e-h[S]++-1:++r}for(;r>=0&&_;--r){var I=o[r].s;h[I]==e&&(--h[I],++_)}g=e}return{t:new Ua(h),l:g}},hR=function(n,e,t){return n.s==-1?Math.max(hR(n.l,e,t+1),hR(n.r,e,t+1)):e[n.s]=t},xB=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ds(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},K1=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},DB=function(n,e,t){var r=t.length,i=IB(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},bB=function(n,e,t,r,i,o,s,a,l,c,u){$c(e,u++,t),++i[256];for(var d=lR(i,15),f=d.t,h=d.l,g=lR(o,15),_=g.t,y=g.l,v=xB(f),E=v.c,S=v.n,I=xB(_),R=I.c,V=I.n,j=new Ds(19),F=0;F<E.length;++F)++j[E[F]&31];for(var F=0;F<R.length;++F)++j[R[F]&31];for(var k=lR(j,7),N=k.t,A=k.l,x=19;x>4&&!N[vB[x-1]];--x);var O=c+5<<3,$=K1(i,Wd)+K1(o,ub)+s,Z=K1(i,f)+K1(o,_)+s+14+3*x+K1(j,N)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&O<=$&&O<=Z)return DB(e,u,n.subarray(l,l+c));var se,K,te,W;if($c(e,u,1+(Z<$)),u+=2,Z<$){se=J1(f,h,0),K=f,te=J1(_,y,0),W=_;var ee=J1(N,A,0);$c(e,u,S-257),$c(e,u+5,V-1),$c(e,u+10,x-4),u+=14;for(var F=0;F<x;++F)$c(e,u+3*F,N[vB[F]]);u+=3*x;for(var pe=[E,R],M=0;M<2;++M)for(var z=pe[M],F=0;F<z.length;++F){var Q=z[F]&31;$c(e,u,ee[Q]),u+=N[Q],Q>15&&($c(e,u,z[F]>>5&127),u+=z[F]>>12)}}else se=uae,K=Wd,te=hae,W=ub;for(var F=0;F<a;++F){var ne=r[F];if(ne>255){var Q=ne>>18&31;X1(e,u,se[Q+257]),u+=K[Q+257],Q>7&&($c(e,u,ne>>23&31),u+=fR[Q]);var re=ne&31;X1(e,u,te[re]),u+=W[re],re>3&&(X1(e,u,ne>>5&8191),u+=pR[re])}else X1(e,u,se[ne]),u+=K[ne]}return X1(e,u,se[256]),u+K[256]},fae=new dR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),TB=new Ua(0),pae=function(n,e,t,r,i,o){var s=o.z||n.length,a=new Ua(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,u=(o.r||0)&7;if(e){u&&(l[0]=o.r>>3);for(var d=fae[e-1],f=d>>13,h=d&8191,g=(1<<t)-1,_=o.p||new Ds(32768),y=o.h||new Ds(g+1),v=Math.ceil(t/3),E=2*v,S=function(he){return(n[he]^n[he+1]<<v^n[he+2]<<E)&g},I=new dR(25e3),R=new Ds(288),V=new Ds(32),j=0,F=0,k=o.i||0,N=0,A=o.w||0,x=0;k+2<s;++k){var O=S(k),$=k&32767,Z=y[O];if(_[$]=Z,y[O]=$,A<=k){var se=s-k;if((j>7e3||N>24576)&&(se>423||!c)){u=bB(n,l,0,I,R,V,F,N,x,k-x,u),N=j=F=0,x=k;for(var K=0;K<286;++K)R[K]=0;for(var K=0;K<30;++K)V[K]=0}var te=2,W=0,ee=h,pe=$-Z&32767;if(se>2&&O==S(k-pe))for(var M=Math.min(f,se)-1,z=Math.min(32767,k),Q=Math.min(258,se);pe<=z&&--ee&&$!=Z;){if(n[k+te]==n[k+te-pe]){for(var ne=0;ne<Q&&n[k+ne]==n[k+ne-pe];++ne);if(ne>te){if(te=ne,W=pe,ne>M)break;for(var re=Math.min(pe,ne-2),le=0,K=0;K<re;++K){var ye=k-pe+K&32767,_e=_[ye],Ce=ye-_e&32767;Ce>le&&(le=Ce,Z=ye)}}}$=Z,Z=_[$],pe+=$-Z&32767}if(W){I[N++]=268435456|cR[te]<<18|wB[W];var Le=cR[te]&31,T=wB[W]&31;F+=fR[Le]+pR[T],++R[257+Le],++V[T],A=k+te,++j}else I[N++]=n[k],++R[n[k]]}}for(k=Math.max(k,A);k<s;++k)I[N++]=n[k],++R[n[k]];u=bB(n,l,c,I,R,V,F,N,x,k-x,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=y,o.p=_,o.i=k,o.w=A)}else{for(var k=o.w||0;k<s+c;k+=65535){var de=k+65535;de>=s&&(l[u/8|0]=c,de=s),u=DB(l,u+1,n.subarray(k,de))}o.i=s}return dae(a,0,r+IB(u)+i)};var MB=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},gae=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Ua(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return pae(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)};var AB=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var mae=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=MB();i.p(e.dictionary),AB(n,2,i.d())}};function hb(n,e){e||(e={});var t=MB();t.p(n);var r=gae(n,e,e.dictionary?6:2,4);return mae(r,e),AB(r,r.length-4,t.d()),r}var _ae=typeof TextDecoder<"u"&&new TextDecoder,yae=0;try{_ae.decode(TB,{stream:!0}),yae=1}catch{}function RB(n){if(Array.isArray(n))return n}function NB(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function gR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function PB(n,e){if(n){if(typeof n=="string")return gR(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gR(n,e):void 0}}function LB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mR(n,e){return RB(n)||NB(n,e)||PB(n,e)||LB()}function _R(n,e="utf8"){return new TextDecoder(e).decode(n)}var vae=new TextEncoder;function kB(n){return vae.encode(n)}var wae=1024*8,xae=(()=>{let n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),yR={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},Q1=class n{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=wae,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);let i=t.offset?t.offset>>>0:0,o=e.byteLength-i,s=i;(ArrayBuffer.isView(e)||e instanceof n)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){let r=yR[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===xae&&t!=="uint8"&&t!=="int8"){let a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();let l=new yR[t](a.buffer);return this.offset+=r,l.reverse(),l}let s=new yR[t](o);return this.offset+=r,s}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return _R(this.readBytes(e))}decodeText(e=1,t="utf8"){return _R(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(kB(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Rg(n){let e=n.length;for(;--e>=0;)n[e]=0}var bae=0,wU=1,Eae=2,Sae=3,Cae=258,zR=29,p_=256,s_=p_+1+zR,Tg=30,VR=19,xU=2*s_+1,$d=15,vR=16,Iae=7,HR=256,bU=16,EU=17,SU=18,PR=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_b=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Dae=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),CU=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tae=512,Yc=new Array((s_+2)*2);Rg(Yc);var r_=new Array(Tg*2);Rg(r_);var a_=new Array(Tae);Rg(a_);var l_=new Array(Cae-Sae+1);Rg(l_);var qR=new Array(zR);Rg(qR);var yb=new Array(Tg);Rg(yb);function wR(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}var IU,DU,TU;function xR(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}var MU=n=>n<256?a_[n]:a_[256+(n>>>7)],c_=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},Qo=(n,e,t)=>{n.bi_valid>vR-t?(n.bi_buf|=e<<n.bi_valid&65535,c_(n,n.bi_buf),n.bi_buf=e>>vR-n.bi_valid,n.bi_valid+=t-vR):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Pl=(n,e,t)=>{Qo(n,t[e*2],t[e*2+1])},AU=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},Mae=n=>{n.bi_valid===16?(c_(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Aae=(n,e)=>{let t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length,c,u,d,f,h,g,_=0;for(f=0;f<=$d;f++)n.bl_count[f]=0;for(t[n.heap[n.heap_max]*2+1]=0,c=n.heap_max+1;c<xU;c++)u=n.heap[c],f=t[t[u*2+1]*2+1]+1,f>l&&(f=l,_++),t[u*2+1]=f,!(u>r)&&(n.bl_count[f]++,h=0,u>=a&&(h=s[u-a]),g=t[u*2],n.opt_len+=g*(f+h),o&&(n.static_len+=g*(i[u*2+1]+h)));if(_!==0){do{for(f=l-1;n.bl_count[f]===0;)f--;n.bl_count[f]--,n.bl_count[f+1]+=2,n.bl_count[l]--,_-=2}while(_>0);for(f=l;f!==0;f--)for(u=n.bl_count[f];u!==0;)d=n.heap[--c],!(d>r)&&(t[d*2+1]!==f&&(n.opt_len+=(f-t[d*2+1])*t[d*2],t[d*2+1]=f),u--)}},RU=(n,e,t)=>{let r=new Array($d+1),i=0,o,s;for(o=1;o<=$d;o++)i=i+t[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=n[s*2+1];a!==0&&(n[s*2]=AU(r[a]++,a))}},Rae=()=>{let n,e,t,r,i,o=new Array($d+1);for(t=0,r=0;r<zR-1;r++)for(qR[r]=t,n=0;n<1<<PR[r];n++)l_[t++]=r;for(l_[t-1]=r,i=0,r=0;r<16;r++)for(yb[r]=i,n=0;n<1<<_b[r];n++)a_[i++]=r;for(i>>=7;r<Tg;r++)for(yb[r]=i<<7,n=0;n<1<<_b[r]-7;n++)a_[256+i++]=r;for(e=0;e<=$d;e++)o[e]=0;for(n=0;n<=143;)Yc[n*2+1]=8,n++,o[8]++;for(;n<=255;)Yc[n*2+1]=9,n++,o[9]++;for(;n<=279;)Yc[n*2+1]=7,n++,o[7]++;for(;n<=287;)Yc[n*2+1]=8,n++,o[8]++;for(RU(Yc,s_+1,o),n=0;n<Tg;n++)r_[n*2+1]=5,r_[n*2]=AU(n,5);IU=new wR(Yc,PR,p_+1,s_,$d),DU=new wR(r_,_b,0,Tg,$d),TU=new wR(new Array(0),Dae,0,VR,Iae)},NU=n=>{let e;for(e=0;e<s_;e++)n.dyn_ltree[e*2]=0;for(e=0;e<Tg;e++)n.dyn_dtree[e*2]=0;for(e=0;e<VR;e++)n.bl_tree[e*2]=0;n.dyn_ltree[HR*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},PU=n=>{n.bi_valid>8?c_(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},OB=(n,e,t,r)=>{let i=e*2,o=t*2;return n[i]<n[o]||n[i]===n[o]&&r[e]<=r[t]},bR=(n,e,t)=>{let r=n.heap[t],i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&OB(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!OB(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},FB=(n,e,t)=>{let r,i,o=0,s,a;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+o++]&255,r+=(n.pending_buf[n.sym_buf+o++]&255)<<8,i=n.pending_buf[n.sym_buf+o++],r===0?Pl(n,i,e):(s=l_[i],Pl(n,s+p_+1,e),a=PR[s],a!==0&&(i-=qR[s],Qo(n,i,a)),r--,s=MU(r),Pl(n,s,t),a=_b[s],a!==0&&(r-=yb[s],Qo(n,r,a)));while(o<n.sym_next);Pl(n,HR,e)},LR=(n,e)=>{let t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,l=-1,c;for(n.heap_len=0,n.heap_max=xU,s=0;s<o;s++)t[s*2]!==0?(n.heap[++n.heap_len]=l=s,n.depth[s]=0):t[s*2+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,t[c*2]=1,n.depth[c]=0,n.opt_len--,i&&(n.static_len-=r[c*2+1]);for(e.max_code=l,s=n.heap_len>>1;s>=1;s--)bR(n,t,s);c=o;do s=n.heap[1],n.heap[1]=n.heap[n.heap_len--],bR(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=s,n.heap[--n.heap_max]=a,t[c*2]=t[s*2]+t[a*2],n.depth[c]=(n.depth[s]>=n.depth[a]?n.depth[s]:n.depth[a])+1,t[s*2+1]=t[a*2+1]=c,n.heap[1]=c++,bR(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Aae(n,e),RU(t,l,n.bl_count)},jB=(n,e,t)=>{let r,i=-1,o,s=e[1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)o=s,s=e[(r+1)*2+1],!(++a<l&&o===s)&&(a<c?n.bl_tree[o*2]+=a:o!==0?(o!==i&&n.bl_tree[o*2]++,n.bl_tree[bU*2]++):a<=10?n.bl_tree[EU*2]++:n.bl_tree[SU*2]++,a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},BB=(n,e,t)=>{let r,i=-1,o,s=e[1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=t;r++)if(o=s,s=e[(r+1)*2+1],!(++a<l&&o===s)){if(a<c)do Pl(n,o,n.bl_tree);while(--a!==0);else o!==0?(o!==i&&(Pl(n,o,n.bl_tree),a--),Pl(n,bU,n.bl_tree),Qo(n,a-3,2)):a<=10?(Pl(n,EU,n.bl_tree),Qo(n,a-3,3)):(Pl(n,SU,n.bl_tree),Qo(n,a-11,7));a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}},Nae=n=>{let e;for(jB(n,n.dyn_ltree,n.l_desc.max_code),jB(n,n.dyn_dtree,n.d_desc.max_code),LR(n,n.bl_desc),e=VR-1;e>=3&&n.bl_tree[CU[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},Pae=(n,e,t,r)=>{let i;for(Qo(n,e-257,5),Qo(n,t-1,5),Qo(n,r-4,4),i=0;i<r;i++)Qo(n,n.bl_tree[CU[i]*2+1],3);BB(n,n.dyn_ltree,e-1),BB(n,n.dyn_dtree,t-1)},Lae=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return 0;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return 1;for(t=32;t<p_;t++)if(n.dyn_ltree[t*2]!==0)return 1;return 0},UB=!1,kae=n=>{UB||(Rae(),UB=!0),n.l_desc=new xR(n.dyn_ltree,IU),n.d_desc=new xR(n.dyn_dtree,DU),n.bl_desc=new xR(n.bl_tree,TU),n.bi_buf=0,n.bi_valid=0,NU(n)},LU=(n,e,t,r)=>{Qo(n,(bae<<1)+(r?1:0),3),PU(n),c_(n,t),c_(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},Oae=n=>{Qo(n,wU<<1,3),Pl(n,HR,Yc),Mae(n)},Fae=(n,e,t,r)=>{let i,o,s=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=Lae(n)),LR(n,n.l_desc),LR(n,n.d_desc),s=Nae(n),i=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=i&&(i=o)):i=o=t+5,t+4<=i&&e!==-1?LU(n,e,t,r):n.strategy===4||o===i?(Qo(n,(wU<<1)+(r?1:0),3),FB(n,Yc,r_)):(Qo(n,(Eae<<1)+(r?1:0),3),Pae(n,n.l_desc.max_code+1,n.d_desc.max_code+1,s+1),FB(n,n.dyn_ltree,n.dyn_dtree)),NU(n),r&&PU(n)},jae=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(l_[t]+p_+1)*2]++,n.dyn_dtree[MU(e)*2]++),n.sym_next===n.sym_end),Bae=kae,Uae=LU,Gae=Fae,zae=jae,Vae=Oae,Hae={_tr_init:Bae,_tr_stored_block:Uae,_tr_flush_block:Gae,_tr_tally:zae,_tr_align:Vae},qae=(n,e,t,r)=>{let i=n&65535|0,o=n>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},u_=qae,Wae=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},$ae=new Uint32Array(Wae()),Zae=(n,e,t,r)=>{let i=$ae,o=r+t;n^=-1;for(let s=r;s<o;s++)n=n>>>8^i[(n^e[s])&255];return n^-1},Ri=Zae,Xd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ng={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Yae,_tr_stored_block:kR,_tr_flush_block:Xae,_tr_tally:ah,_tr_align:Kae}=Hae,{Z_NO_FLUSH:lh,Z_PARTIAL_FLUSH:Jae,Z_FULL_FLUSH:Qae,Z_FINISH:ia,Z_BLOCK:GB,Z_OK:Ki,Z_STREAM_END:zB,Z_STREAM_ERROR:Ll,Z_DATA_ERROR:ele,Z_BUF_ERROR:ER,Z_DEFAULT_COMPRESSION:tle,Z_FILTERED:nle,Z_HUFFMAN_ONLY:db,Z_RLE:rle,Z_FIXED:ile,Z_DEFAULT_STRATEGY:ole,Z_UNKNOWN:sle,Z_DEFLATED:xb}=Ng,ale=9,lle=15,cle=8,ule=29,hle=256,OR=hle+1+ule,dle=30,fle=19,ple=2*OR+1,gle=15,yn=3,sh=258,kl=sh+yn+1,mle=32,Mg=42,WR=57,FR=69,jR=73,BR=91,UR=103,Zd=113,t_=666,To=1,Pg=2,Kd=3,Lg=4,_le=3,Yd=(n,e)=>(n.msg=Xd[e],e),VB=n=>n*2-(n>4?9:0),oh=n=>{let e=n.length;for(;--e>=0;)n[e]=0},yle=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=i?t-i:0;while(--e);e=i,r=e;do t=n.prev[--r],n.prev[r]=t>=i?t-i:0;while(--e)},vle=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,ch=vle,Ts=n=>{let e=n.state,t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},Ms=(n,e)=>{Xae(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,Ts(n.strm)},Pn=(n,e)=>{n.pending_buf[n.pending++]=e},e_=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},GR=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),i===0?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),n.state.wrap===1?n.adler=u_(n.adler,e,i,t):n.state.wrap===2&&(n.adler=Ri(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},kU=(n,e)=>{let t=n.max_chain_length,r=n.strstart,i,o,s=n.prev_length,a=n.nice_match,l=n.strstart>n.w_size-kl?n.strstart-(n.w_size-kl):0,c=n.window,u=n.w_mask,d=n.prev,f=n.strstart+sh,h=c[r+s-1],g=c[r+s];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do if(i=e,!(c[i+s]!==g||c[i+s-1]!==h||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<f);if(o=sh-(f-r),r=f-sh,o>s){if(n.match_start=e,s=o,o>=a)break;h=c[r+s-1],g=c[r+s]}}while((e=d[e&u])>l&&--t!==0);return s<=n.lookahead?s:n.lookahead},Ag=n=>{let e=n.w_size,t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-kl)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),yle(n),r+=e),n.strm.avail_in===0)break;if(t=GR(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=yn)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=ch(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=ch(n,n.ins_h,n.window[i+yn-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<yn)););}while(n.lookahead<kl&&n.strm.avail_in!==0)},OU=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,i,o,s=0,a=n.strm.avail_in;do{if(r=65535,o=n.bi_valid+42>>3,n.strm.avail_out<o||(o=n.strm.avail_out-o,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>o&&(r=o),r<t&&(r===0&&e!==ia||e===lh||r!==i+n.strm.avail_in)))break;s=e===ia&&r===i+n.strm.avail_in?1:0,kR(n,0,0,s),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,Ts(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(GR(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(s===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),s?Lg:e!==lh&&e!==ia&&n.strm.avail_in===0&&n.strstart===n.block_start?Pg:(o=n.window_size-n.strstart,n.strm.avail_in>o&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,o+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),o>n.strm.avail_in&&(o=n.strm.avail_in),o&&(GR(n.strm,n.window,n.strstart,o),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.high_water<n.strstart&&(n.high_water=n.strstart),o=n.bi_valid+42>>3,o=n.pending_buf_size-o>65535?65535:n.pending_buf_size-o,t=o>n.w_size?n.w_size:o,i=n.strstart-n.block_start,(i>=t||(i||e===ia)&&e!==lh&&n.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=e===ia&&n.strm.avail_in===0&&r===i?1:0,kR(n,n.block_start,r,s),n.block_start+=r,Ts(n.strm)),s?Kd:To)},SR=(n,e)=>{let t,r;for(;;){if(n.lookahead<kl){if(Ag(n),n.lookahead<kl&&e===lh)return To;if(n.lookahead===0)break}if(t=0,n.lookahead>=yn&&(n.ins_h=ch(n,n.ins_h,n.window[n.strstart+yn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-kl&&(n.match_length=kU(n,t)),n.match_length>=yn)if(r=ah(n,n.strstart-n.match_start,n.match_length-yn),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=yn){n.match_length--;do n.strstart++,n.ins_h=ch(n,n.ins_h,n.window[n.strstart+yn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=ch(n,n.ins_h,n.window[n.strstart+1]);else r=ah(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Ms(n,!1),n.strm.avail_out===0))return To}return n.insert=n.strstart<yn-1?n.strstart:yn-1,e===ia?(Ms(n,!0),n.strm.avail_out===0?Kd:Lg):n.sym_next&&(Ms(n,!1),n.strm.avail_out===0)?To:Pg},Ig=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<kl){if(Ag(n),n.lookahead<kl&&e===lh)return To;if(n.lookahead===0)break}if(t=0,n.lookahead>=yn&&(n.ins_h=ch(n,n.ins_h,n.window[n.strstart+yn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=yn-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-kl&&(n.match_length=kU(n,t),n.match_length<=5&&(n.strategy===nle||n.match_length===yn&&n.strstart-n.match_start>4096)&&(n.match_length=yn-1)),n.prev_length>=yn&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-yn,r=ah(n,n.strstart-1-n.prev_match,n.prev_length-yn),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=i&&(n.ins_h=ch(n,n.ins_h,n.window[n.strstart+yn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=yn-1,n.strstart++,r&&(Ms(n,!1),n.strm.avail_out===0))return To}else if(n.match_available){if(r=ah(n,0,n.window[n.strstart-1]),r&&Ms(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return To}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=ah(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<yn-1?n.strstart:yn-1,e===ia?(Ms(n,!0),n.strm.avail_out===0?Kd:Lg):n.sym_next&&(Ms(n,!1),n.strm.avail_out===0)?To:Pg},wle=(n,e)=>{let t,r,i,o,s=n.window;for(;;){if(n.lookahead<=sh){if(Ag(n),n.lookahead<=sh&&e===lh)return To;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=yn&&n.strstart>0&&(i=n.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=n.strstart+sh;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);n.match_length=sh-(o-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=yn?(t=ah(n,1,n.match_length-yn),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=ah(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(Ms(n,!1),n.strm.avail_out===0))return To}return n.insert=0,e===ia?(Ms(n,!0),n.strm.avail_out===0?Kd:Lg):n.sym_next&&(Ms(n,!1),n.strm.avail_out===0)?To:Pg},xle=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(Ag(n),n.lookahead===0)){if(e===lh)return To;break}if(n.match_length=0,t=ah(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(Ms(n,!1),n.strm.avail_out===0))return To}return n.insert=0,e===ia?(Ms(n,!0),n.strm.avail_out===0?Kd:Lg):n.sym_next&&(Ms(n,!1),n.strm.avail_out===0)?To:Pg};function Nl(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}var n_=[new Nl(0,0,0,0,OU),new Nl(4,4,8,4,SR),new Nl(4,5,16,8,SR),new Nl(4,6,32,32,SR),new Nl(4,4,16,16,Ig),new Nl(8,16,32,32,Ig),new Nl(8,16,128,128,Ig),new Nl(8,32,128,256,Ig),new Nl(32,128,258,1024,Ig),new Nl(32,258,258,4096,Ig)],ble=n=>{n.window_size=2*n.w_size,oh(n.head),n.max_lazy_match=n_[n.level].max_lazy,n.good_match=n_[n.level].good_length,n.nice_match=n_[n.level].nice_length,n.max_chain_length=n_[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=yn-1,n.match_available=0,n.ins_h=0};function Ele(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xb,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ple*2),this.dyn_dtree=new Uint16Array((2*dle+1)*2),this.bl_tree=new Uint16Array((2*fle+1)*2),oh(this.dyn_ltree),oh(this.dyn_dtree),oh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(gle+1),this.heap=new Uint16Array(2*OR+1),oh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*OR+1),oh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var g_=n=>{if(!n)return 1;let e=n.state;return!e||e.strm!==n||e.status!==Mg&&e.status!==WR&&e.status!==FR&&e.status!==jR&&e.status!==BR&&e.status!==UR&&e.status!==Zd&&e.status!==t_?1:0},FU=n=>{if(g_(n))return Yd(n,Ll);n.total_in=n.total_out=0,n.data_type=sle;let e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?WR:e.wrap?Mg:Zd,n.adler=e.wrap===2?0:1,e.last_flush=-2,Yae(e),Ki},jU=n=>{let e=FU(n);return e===Ki&&ble(n.state),e},Sle=(n,e)=>g_(n)||n.state.wrap!==2?Ll:(n.state.gzhead=e,Ki),BU=(n,e,t,r,i,o)=>{if(!n)return Ll;let s=1;if(e===tle&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>ale||t!==xb||r<8||r>15||e<0||e>9||o<0||o>ile||r===8&&s!==1)return Yd(n,Ll);r===8&&(r=9);let a=new Ele;return n.state=a,a.strm=n,a.status=Mg,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+yn-1)/yn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=o,a.method=t,jU(n)},Cle=(n,e)=>BU(n,e,xb,lle,cle,ole),Ile=(n,e)=>{if(g_(n)||e>GB||e<0)return n?Yd(n,Ll):Ll;let t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===t_&&e!==ia)return Yd(n,n.avail_out===0?ER:Ll);let r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(Ts(n),n.avail_out===0)return t.last_flush=-1,Ki}else if(n.avail_in===0&&VB(e)<=VB(r)&&e!==ia)return Yd(n,ER);if(t.status===t_&&n.avail_in!==0)return Yd(n,ER);if(t.status===Mg&&t.wrap===0&&(t.status=Zd),t.status===Mg){let i=xb+(t.w_bits-8<<4)<<8,o=-1;if(t.strategy>=db||t.level<2?o=0:t.level<6?o=1:t.level===6?o=2:o=3,i|=o<<6,t.strstart!==0&&(i|=mle),i+=31-i%31,e_(t,i),t.strstart!==0&&(e_(t,n.adler>>>16),e_(t,n.adler&65535)),n.adler=1,t.status=Zd,Ts(n),t.pending!==0)return t.last_flush=-1,Ki}if(t.status===WR){if(n.adler=0,Pn(t,31),Pn(t,139),Pn(t,8),t.gzhead)Pn(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Pn(t,t.gzhead.time&255),Pn(t,t.gzhead.time>>8&255),Pn(t,t.gzhead.time>>16&255),Pn(t,t.gzhead.time>>24&255),Pn(t,t.level===9?2:t.strategy>=db||t.level<2?4:0),Pn(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Pn(t,t.gzhead.extra.length&255),Pn(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=Ri(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=FR;else if(Pn(t,0),Pn(t,0),Pn(t,0),Pn(t,0),Pn(t,0),Pn(t,t.level===9?2:t.strategy>=db||t.level<2?4:0),Pn(t,_le),t.status=Zd,Ts(n),t.pending!==0)return t.last_flush=-1,Ki}if(t.status===FR){if(t.gzhead.extra){let i=t.pending,o=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=Ri(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,Ts(n),t.pending!==0)return t.last_flush=-1,Ki;i=0,o-=a}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>i&&(n.adler=Ri(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=jR}if(t.status===jR){if(t.gzhead.name){let i=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Ri(n.adler,t.pending_buf,t.pending-i,i)),Ts(n),t.pending!==0)return t.last_flush=-1,Ki;i=0}t.gzindex<t.gzhead.name.length?o=t.gzhead.name.charCodeAt(t.gzindex++)&255:o=0,Pn(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Ri(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=BR}if(t.status===BR){if(t.gzhead.comment){let i=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Ri(n.adler,t.pending_buf,t.pending-i,i)),Ts(n),t.pending!==0)return t.last_flush=-1,Ki;i=0}t.gzindex<t.gzhead.comment.length?o=t.gzhead.comment.charCodeAt(t.gzindex++)&255:o=0,Pn(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Ri(n.adler,t.pending_buf,t.pending-i,i))}t.status=UR}if(t.status===UR){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Ts(n),t.pending!==0))return t.last_flush=-1,Ki;Pn(t,n.adler&255),Pn(t,n.adler>>8&255),n.adler=0}if(t.status=Zd,Ts(n),t.pending!==0)return t.last_flush=-1,Ki}if(n.avail_in!==0||t.lookahead!==0||e!==lh&&t.status!==t_){let i=t.level===0?OU(t,e):t.strategy===db?xle(t,e):t.strategy===rle?wle(t,e):n_[t.level].func(t,e);if((i===Kd||i===Lg)&&(t.status=t_),i===To||i===Kd)return n.avail_out===0&&(t.last_flush=-1),Ki;if(i===Pg&&(e===Jae?Kae(t):e!==GB&&(kR(t,0,0,!1),e===Qae&&(oh(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Ts(n),n.avail_out===0))return t.last_flush=-1,Ki}return e!==ia?Ki:t.wrap<=0?zB:(t.wrap===2?(Pn(t,n.adler&255),Pn(t,n.adler>>8&255),Pn(t,n.adler>>16&255),Pn(t,n.adler>>24&255),Pn(t,n.total_in&255),Pn(t,n.total_in>>8&255),Pn(t,n.total_in>>16&255),Pn(t,n.total_in>>24&255)):(e_(t,n.adler>>>16),e_(t,n.adler&65535)),Ts(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Ki:zB)},Dle=n=>{if(g_(n))return Ll;let e=n.state.status;return n.state=null,e===Zd?Yd(n,ele):Ki},Tle=(n,e)=>{let t=e.length;if(g_(n))return Ll;let r=n.state,i=r.wrap;if(i===2||i===1&&r.status!==Mg||r.lookahead)return Ll;if(i===1&&(n.adler=u_(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){i===0&&(oh(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(t-r.w_size,t),0),e=l,t=r.w_size}let o=n.avail_in,s=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,Ag(r);r.lookahead>=yn;){let l=r.strstart,c=r.lookahead-(yn-1);do r.ins_h=ch(r,r.ins_h,r.window[l+yn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=yn-1,Ag(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=yn-1,r.match_available=0,n.next_in=s,n.input=a,n.avail_in=o,r.wrap=i,Ki},Mle=Cle,Ale=BU,Rle=jU,Nle=FU,Ple=Sle,Lle=Ile,kle=Dle,Ole=Tle,Fle="pako deflate (from Nodeca project)",i_={deflateInit:Mle,deflateInit2:Ale,deflateReset:Rle,deflateResetKeep:Nle,deflateSetHeader:Ple,deflate:Lle,deflateEnd:kle,deflateSetDictionary:Ole,deflateInfo:Fle},jle=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),Ble=function(n){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let r in t)jle(t,r)&&(n[r]=t[r])}}return n},Ule=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;let t=new Uint8Array(e);for(let r=0,i=0,o=n.length;r<o;r++){let s=n[r];t.set(s,i),i+=s.length}return t},bb={assign:Ble,flattenChunks:Ule},UU=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{UU=!1}var h_=new Uint8Array(256);for(let n=0;n<256;n++)h_[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;h_[254]=h_[254]=1;var Gle=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,o,s=n.length,a=0;for(i=0;i<s;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e},zle=(n,e)=>{if(e<65534&&n.subarray&&UU)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t},Vle=(n,e)=>{let t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i,o=new Array(t*2);for(i=0,r=0;r<t;){let s=n[r++];if(s<128){o[i++]=s;continue}let a=h_[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<t;)s=s<<6|n[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return zle(o,i)},Hle=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+h_[n[t]]>e?t:e},d_={string2buf:Gle,buf2string:Vle,utf8border:Hle};function qle(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var GU=qle,zU=Object.prototype.toString,{Z_NO_FLUSH:Wle,Z_SYNC_FLUSH:$le,Z_FULL_FLUSH:Zle,Z_FINISH:Yle,Z_OK:vb,Z_STREAM_END:Xle,Z_DEFAULT_COMPRESSION:Kle,Z_DEFAULT_STRATEGY:Jle,Z_DEFLATED:Qle}=Ng;function m_(n){this.options=bb.assign({level:Kle,method:Qle,chunkSize:16384,windowBits:15,memLevel:8,strategy:Jle},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new GU,this.strm.avail_out=0;let t=i_.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==vb)throw new Error(Xd[t]);if(e.header&&i_.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=d_.string2buf(e.dictionary):zU.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=i_.deflateSetDictionary(this.strm,r),t!==vb)throw new Error(Xd[t]);this._dict_set=!0}}m_.prototype.push=function(n,e){let t=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Yle:Wle,typeof n=="string"?t.input=d_.string2buf(n):zU.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(o===$le||o===Zle)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=i_.deflate(t,o),i===Xle)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=i_.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===vb;if(t.avail_out===0){this.onData(t.output);continue}if(o>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};m_.prototype.onData=function(n){this.chunks.push(n)};m_.prototype.onEnd=function(n){n===vb&&(this.result=bb.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function $R(n,e){let t=new m_(e);if(t.push(n,!0),t.err)throw t.msg||Xd[t.err];return t.result}function ece(n,e){return e=e||{},e.raw=!0,$R(n,e)}function tce(n,e){return e=e||{},e.gzip=!0,$R(n,e)}var nce=m_,rce=$R,ice=ece,oce=tce,sce=Ng,ace={Deflate:nce,deflate:rce,deflateRaw:ice,gzip:oce,constants:sce},fb=16209,lce=16191,cce=function(e,t){let r,i,o,s,a,l,c,u,d,f,h,g,_,y,v,E,S,I,R,V,j,F,k,N,A=e.state;r=e.next_in,k=e.input,i=r+(e.avail_in-5),o=e.next_out,N=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=A.dmax,c=A.wsize,u=A.whave,d=A.wnext,f=A.window,h=A.hold,g=A.bits,_=A.lencode,y=A.distcode,v=(1<<A.lenbits)-1,E=(1<<A.distbits)-1;e:do{g<15&&(h+=k[r++]<<g,g+=8,h+=k[r++]<<g,g+=8),S=_[h&v];t:for(;;){if(I=S>>>24,h>>>=I,g-=I,I=S>>>16&255,I===0)N[o++]=S&65535;else if(I&16){R=S&65535,I&=15,I&&(g<I&&(h+=k[r++]<<g,g+=8),R+=h&(1<<I)-1,h>>>=I,g-=I),g<15&&(h+=k[r++]<<g,g+=8,h+=k[r++]<<g,g+=8),S=y[h&E];n:for(;;){if(I=S>>>24,h>>>=I,g-=I,I=S>>>16&255,I&16){if(V=S&65535,I&=15,g<I&&(h+=k[r++]<<g,g+=8,g<I&&(h+=k[r++]<<g,g+=8)),V+=h&(1<<I)-1,V>l){e.msg="invalid distance too far back",A.mode=fb;break e}if(h>>>=I,g-=I,I=o-s,V>I){if(I=V-I,I>u&&A.sane){e.msg="invalid distance too far back",A.mode=fb;break e}if(j=0,F=f,d===0){if(j+=c-I,I<R){R-=I;do N[o++]=f[j++];while(--I);j=o-V,F=N}}else if(d<I){if(j+=c+d-I,I-=d,I<R){R-=I;do N[o++]=f[j++];while(--I);if(j=0,d<R){I=d,R-=I;do N[o++]=f[j++];while(--I);j=o-V,F=N}}}else if(j+=d-I,I<R){R-=I;do N[o++]=f[j++];while(--I);j=o-V,F=N}for(;R>2;)N[o++]=F[j++],N[o++]=F[j++],N[o++]=F[j++],R-=3;R&&(N[o++]=F[j++],R>1&&(N[o++]=F[j++]))}else{j=o-V;do N[o++]=N[j++],N[o++]=N[j++],N[o++]=N[j++],R-=3;while(R>2);R&&(N[o++]=N[j++],R>1&&(N[o++]=N[j++]))}}else if((I&64)===0){S=y[(S&65535)+(h&(1<<I)-1)];continue n}else{e.msg="invalid distance code",A.mode=fb;break e}break}}else if((I&64)===0){S=_[(S&65535)+(h&(1<<I)-1)];continue t}else if(I&32){A.mode=lce;break e}else{e.msg="invalid literal/length code",A.mode=fb;break e}break}}while(r<i&&o<a);R=g>>3,r-=R,g-=R<<3,h&=(1<<g)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),A.hold=h,A.bits=g},Dg=15,HB=852,qB=592,WB=0,CR=1,$B=2,uce=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hce=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dce=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fce=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),pce=(n,e,t,r,i,o,s,a)=>{let l=a.bits,c=0,u=0,d=0,f=0,h=0,g=0,_=0,y=0,v=0,E=0,S,I,R,V,j,F=null,k,N=new Uint16Array(Dg+1),A=new Uint16Array(Dg+1),x=null,O,$,Z;for(c=0;c<=Dg;c++)N[c]=0;for(u=0;u<r;u++)N[e[t+u]]++;for(h=l,f=Dg;f>=1&&N[f]===0;f--);if(h>f&&(h=f),f===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<f&&N[d]===0;d++);for(h<d&&(h=d),y=1,c=1;c<=Dg;c++)if(y<<=1,y-=N[c],y<0)return-1;if(y>0&&(n===WB||f!==1))return-1;for(A[1]=0,c=1;c<Dg;c++)A[c+1]=A[c]+N[c];for(u=0;u<r;u++)e[t+u]!==0&&(s[A[e[t+u]]++]=u);if(n===WB?(F=x=s,k=20):n===CR?(F=uce,x=hce,k=257):(F=dce,x=fce,k=0),E=0,u=0,c=d,j=o,g=h,_=0,R=-1,v=1<<h,V=v-1,n===CR&&v>HB||n===$B&&v>qB)return 1;for(;;){O=c-_,s[u]+1<k?($=0,Z=s[u]):s[u]>=k?($=x[s[u]-k],Z=F[s[u]-k]):($=96,Z=0),S=1<<c-_,I=1<<g,d=I;do I-=S,i[j+(E>>_)+I]=O<<24|$<<16|Z|0;while(I!==0);for(S=1<<c-1;E&S;)S>>=1;if(S!==0?(E&=S-1,E+=S):E=0,u++,--N[c]===0){if(c===f)break;c=e[t+s[u]]}if(c>h&&(E&V)!==R){for(_===0&&(_=h),j+=d,g=c-_,y=1<<g;g+_<f&&(y-=N[g+_],!(y<=0));)g++,y<<=1;if(v+=1<<g,n===CR&&v>HB||n===$B&&v>qB)return 1;R=E&V,i[R]=h<<24|g<<16|j-o|0}}return E!==0&&(i[j+E]=c-_<<24|64<<16|0),a.bits=h,0},o_=pce,gce=0,VU=1,HU=2,{Z_FINISH:ZB,Z_BLOCK:mce,Z_TREES:pb,Z_OK:Jd,Z_STREAM_END:_ce,Z_NEED_DICT:yce,Z_STREAM_ERROR:oa,Z_DATA_ERROR:qU,Z_MEM_ERROR:WU,Z_BUF_ERROR:vce,Z_DEFLATED:YB}=Ng,Eb=16180,XB=16181,KB=16182,JB=16183,QB=16184,eU=16185,tU=16186,nU=16187,rU=16188,iU=16189,wb=16190,Zc=16191,IR=16192,oU=16193,DR=16194,sU=16195,aU=16196,lU=16197,cU=16198,gb=16199,mb=16200,uU=16201,hU=16202,dU=16203,fU=16204,pU=16205,TR=16206,gU=16207,mU=16208,gr=16209,$U=16210,ZU=16211,wce=852,xce=592,bce=15,Ece=bce,_U=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Sce(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Qd=n=>{if(!n)return 1;let e=n.state;return!e||e.strm!==n||e.mode<Eb||e.mode>ZU?1:0},YU=n=>{if(Qd(n))return oa;let e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Eb,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(wce),e.distcode=e.distdyn=new Int32Array(xce),e.sane=1,e.back=-1,Jd},XU=n=>{if(Qd(n))return oa;let e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,YU(n)},KU=(n,e)=>{let t;if(Qd(n))return oa;let r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?oa:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,XU(n))},JU=(n,e)=>{if(!n)return oa;let t=new Sce;n.state=t,t.strm=n,t.window=null,t.mode=Eb;let r=KU(n,e);return r!==Jd&&(n.state=null),r},Cce=n=>JU(n,Ece),yU=!0,MR,AR,Ice=n=>{if(yU){MR=new Int32Array(512),AR=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(o_(VU,n.lens,0,288,MR,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;o_(HU,n.lens,0,32,AR,0,n.work,{bits:5}),yU=!1}n.lencode=MR,n.lenbits=9,n.distcode=AR,n.distbits=5},QU=(n,e,t,r)=>{let i,o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(t-r,t-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Dce=(n,e)=>{let t,r,i,o,s,a,l,c,u,d,f,h,g,_,y=0,v,E,S,I,R,V,j,F,k=new Uint8Array(4),N,A,x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qd(n)||!n.output||!n.input&&n.avail_in!==0)return oa;t=n.state,t.mode===Zc&&(t.mode=IR),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,d=a,f=l,F=Jd;e:for(;;)switch(t.mode){case Eb:if(t.wrap===0){t.mode=IR;break}for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=c&255,k[1]=c>>>8&255,t.check=Ri(t.check,k,2,0),c=0,u=0,t.mode=XB;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=gr;break}if((c&15)!==YB){n.msg="unknown compression method",t.mode=gr;break}if(c>>>=4,u-=4,j=(c&15)+8,t.wbits===0&&(t.wbits=j),j>15||j>t.wbits){n.msg="invalid window size",t.mode=gr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=c&512?iU:Zc,c=0,u=0;break;case XB:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.flags=c,(t.flags&255)!==YB){n.msg="unknown compression method",t.mode=gr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=gr;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=Ri(t.check,k,2,0)),c=0,u=0,t.mode=KB;case KB:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,t.check=Ri(t.check,k,4,0)),c=0,u=0,t.mode=JB;case JB:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=Ri(t.check,k,2,0)),c=0,u=0,t.mode=QB;case QB:if(t.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=Ri(t.check,k,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=eU;case eU:if(t.flags&1024&&(h=t.length,h>a&&(h=a),h&&(t.head&&(j=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+h),j)),t.flags&512&&t.wrap&4&&(t.check=Ri(t.check,r,h,o)),a-=h,o+=h,t.length-=h),t.length))break e;t.length=0,t.mode=tU;case tU:if(t.flags&2048){if(a===0)break e;h=0;do j=r[o+h++],t.head&&j&&t.length<65536&&(t.head.name+=String.fromCharCode(j));while(j&&h<a);if(t.flags&512&&t.wrap&4&&(t.check=Ri(t.check,r,h,o)),a-=h,o+=h,j)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=nU;case nU:if(t.flags&4096){if(a===0)break e;h=0;do j=r[o+h++],t.head&&j&&t.length<65536&&(t.head.comment+=String.fromCharCode(j));while(j&&h<a);if(t.flags&512&&t.wrap&4&&(t.check=Ri(t.check,r,h,o)),a-=h,o+=h,j)break e}else t.head&&(t.head.comment=null);t.mode=rU;case rU:if(t.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.wrap&4&&c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=gr;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Zc;break;case iU:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.adler=t.check=_U(c),c=0,u=0,t.mode=wb;case wb:if(t.havedict===0)return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,yce;n.adler=t.check=1,t.mode=Zc;case Zc:if(e===mce||e===pb)break e;case IR:if(t.last){c>>>=u&7,u-=u&7,t.mode=TR;break}for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}switch(t.last=c&1,c>>>=1,u-=1,c&3){case 0:t.mode=oU;break;case 1:if(Ice(t),t.mode=gb,e===pb){c>>>=2,u-=2;break e}break;case 2:t.mode=aU;break;case 3:n.msg="invalid block type",t.mode=gr}c>>>=2,u-=2;break;case oU:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=gr;break}if(t.length=c&65535,c=0,u=0,t.mode=DR,e===pb)break e;case DR:t.mode=sU;case sU:if(h=t.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;i.set(r.subarray(o,o+h),s),a-=h,o+=h,l-=h,s+=h,t.length-=h;break}t.mode=Zc;break;case aU:for(;u<14;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.nlen=(c&31)+257,c>>>=5,u-=5,t.ndist=(c&31)+1,c>>>=5,u-=5,t.ncode=(c&15)+4,c>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=gr;break}t.have=0,t.mode=lU;case lU:for(;t.have<t.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.lens[x[t.have++]]=c&7,c>>>=3,u-=3}for(;t.have<19;)t.lens[x[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,N={bits:t.lenbits},F=o_(gce,t.lens,0,19,t.lencode,0,t.work,N),t.lenbits=N.bits,F){n.msg="invalid code lengths set",t.mode=gr;break}t.have=0,t.mode=cU;case cU:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[c&(1<<t.lenbits)-1],v=y>>>24,E=y>>>16&255,S=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(S<16)c>>>=v,u-=v,t.lens[t.have++]=S;else{if(S===16){for(A=v+2;u<A;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=v,u-=v,t.have===0){n.msg="invalid bit length repeat",t.mode=gr;break}j=t.lens[t.have-1],h=3+(c&3),c>>>=2,u-=2}else if(S===17){for(A=v+3;u<A;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,j=0,h=3+(c&7),c>>>=3,u-=3}else{for(A=v+7;u<A;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,j=0,h=11+(c&127),c>>>=7,u-=7}if(t.have+h>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=gr;break}for(;h--;)t.lens[t.have++]=j}}if(t.mode===gr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=gr;break}if(t.lenbits=9,N={bits:t.lenbits},F=o_(VU,t.lens,0,t.nlen,t.lencode,0,t.work,N),t.lenbits=N.bits,F){n.msg="invalid literal/lengths set",t.mode=gr;break}if(t.distbits=6,t.distcode=t.distdyn,N={bits:t.distbits},F=o_(HU,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,N),t.distbits=N.bits,F){n.msg="invalid distances set",t.mode=gr;break}if(t.mode=gb,e===pb)break e;case gb:t.mode=mb;case mb:if(a>=6&&l>=258){n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,cce(n,f),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,t.mode===Zc&&(t.back=-1);break}for(t.back=0;y=t.lencode[c&(1<<t.lenbits)-1],v=y>>>24,E=y>>>16&255,S=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(E&&(E&240)===0){for(I=v,R=E,V=S;y=t.lencode[V+((c&(1<<I+R)-1)>>I)],v=y>>>24,E=y>>>16&255,S=y&65535,!(I+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=I,u-=I,t.back+=I}if(c>>>=v,u-=v,t.back+=v,t.length=S,E===0){t.mode=pU;break}if(E&32){t.back=-1,t.mode=Zc;break}if(E&64){n.msg="invalid literal/length code",t.mode=gr;break}t.extra=E&15,t.mode=uU;case uU:if(t.extra){for(A=t.extra;u<A;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=hU;case hU:for(;y=t.distcode[c&(1<<t.distbits)-1],v=y>>>24,E=y>>>16&255,S=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((E&240)===0){for(I=v,R=E,V=S;y=t.distcode[V+((c&(1<<I+R)-1)>>I)],v=y>>>24,E=y>>>16&255,S=y&65535,!(I+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=I,u-=I,t.back+=I}if(c>>>=v,u-=v,t.back+=v,E&64){n.msg="invalid distance code",t.mode=gr;break}t.offset=S,t.extra=E&15,t.mode=dU;case dU:if(t.extra){for(A=t.extra;u<A;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=gr;break}t.mode=fU;case fU:if(l===0)break e;if(h=f-l,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=gr;break}h>t.wnext?(h-=t.wnext,g=t.wsize-h):g=t.wnext-h,h>t.length&&(h=t.length),_=t.window}else _=i,g=s-t.offset,h=t.length;h>l&&(h=l),l-=h,t.length-=h;do i[s++]=_[g++];while(--h);t.length===0&&(t.mode=mb);break;case pU:if(l===0)break e;i[s++]=t.length,l--,t.mode=mb;break;case TR:if(t.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[o++]<<u,u+=8}if(f-=l,n.total_out+=f,t.total+=f,t.wrap&4&&f&&(n.adler=t.check=t.flags?Ri(t.check,i,f,s-f):u_(t.check,i,f,s-f)),f=l,t.wrap&4&&(t.flags?c:_U(c))!==t.check){n.msg="incorrect data check",t.mode=gr;break}c=0,u=0}t.mode=gU;case gU:if(t.wrap&&t.flags){for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.wrap&4&&c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=gr;break}c=0,u=0}t.mode=mU;case mU:F=_ce;break e;case gr:F=qU;break e;case $U:return WU;case ZU:default:return oa}return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,(t.wsize||f!==n.avail_out&&t.mode<gr&&(t.mode<TR||e!==ZB))&&QU(n,n.output,n.next_out,f-n.avail_out),d-=n.avail_in,f-=n.avail_out,n.total_in+=d,n.total_out+=f,t.total+=f,t.wrap&4&&f&&(n.adler=t.check=t.flags?Ri(t.check,i,f,n.next_out-f):u_(t.check,i,f,n.next_out-f)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Zc?128:0)+(t.mode===gb||t.mode===DR?256:0),(d===0&&f===0||e===ZB)&&F===Jd&&(F=vce),F},Tce=n=>{if(Qd(n))return oa;let e=n.state;return e.window&&(e.window=null),n.state=null,Jd},Mce=(n,e)=>{if(Qd(n))return oa;let t=n.state;return(t.wrap&2)===0?oa:(t.head=e,e.done=!1,Jd)},Ace=(n,e)=>{let t=e.length,r,i,o;return Qd(n)||(r=n.state,r.wrap!==0&&r.mode!==wb)?oa:r.mode===wb&&(i=1,i=u_(i,e,t,0),i!==r.check)?qU:(o=QU(n,e,t,t),o?(r.mode=$U,WU):(r.havedict=1,Jd))},Rce=XU,Nce=KU,Pce=YU,Lce=Cce,kce=JU,Oce=Dce,Fce=Tce,jce=Mce,Bce=Ace,Uce="pako inflate (from Nodeca project)",Xc={inflateReset:Rce,inflateReset2:Nce,inflateResetKeep:Pce,inflateInit:Lce,inflateInit2:kce,inflate:Oce,inflateEnd:Fce,inflateGetHeader:jce,inflateSetDictionary:Bce,inflateInfo:Uce};function Gce(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zce=Gce,eG=Object.prototype.toString,{Z_NO_FLUSH:Vce,Z_FINISH:Hce,Z_OK:f_,Z_STREAM_END:RR,Z_NEED_DICT:NR,Z_STREAM_ERROR:qce,Z_DATA_ERROR:vU,Z_MEM_ERROR:Wce}=Ng;function __(n){this.options=bb.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new GU,this.strm.avail_out=0;let t=Xc.inflateInit2(this.strm,e.windowBits);if(t!==f_)throw new Error(Xd[t]);if(this.header=new zce,Xc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=d_.string2buf(e.dictionary):eG.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Xc.inflateSetDictionary(this.strm,e.dictionary),t!==f_)))throw new Error(Xd[t])}__.prototype.push=function(n,e){let t=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Hce:Vce,eG.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Xc.inflate(t,s),o===NR&&i&&(o=Xc.inflateSetDictionary(t,i),o===f_?o=Xc.inflate(t,s):o===vU&&(o=NR));t.avail_in>0&&o===RR&&t.state.wrap>0&&n[t.next_in]!==0;)Xc.inflateReset(t),o=Xc.inflate(t,s);switch(o){case qce:case vU:case NR:case Wce:return this.onEnd(o),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||o===RR))if(this.options.to==="string"){let l=d_.utf8border(t.output,t.next_out),c=t.next_out-l,u=d_.buf2string(t.output,l);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===f_&&a===0)){if(o===RR)return o=Xc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};__.prototype.onData=function(n){this.chunks.push(n)};__.prototype.onEnd=function(n){n===f_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bb.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function ZR(n,e){let t=new __(e);if(t.push(n),t.err)throw t.msg||Xd[t.err];return t.result}function $ce(n,e){return e=e||{},e.raw=!0,ZR(n,e)}var Zce=__,Yce=ZR,Xce=$ce,Kce=ZR,Jce=Ng,Qce={Inflate:Zce,inflate:Yce,inflateRaw:Xce,ungzip:Kce,constants:Jce},{Deflate:BWe,deflate:UWe,deflateRaw:GWe,gzip:zWe}=ace,{Inflate:eue,inflate:tue,inflateRaw:VWe,ungzip:HWe}=Qce;var YR=eue,tG=tue;var rG=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;rG[n]=e}var nG=4294967295;function nue(n,e,t){let r=n;for(let i=0;i<t;i++)r=rG[(r^e[i])&255]^r>>>8;return r}function rue(n,e){return(nue(nG,n,e)^nG)>>>0}function XR(n,e,t){let r=n.readUint32(),i=rue(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function Sb(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function Cb(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function Ib(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function Db(n,e,t,r,i){let o=0;if(t.length===0){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-i]+t[o]>>1)&255}}function Tb(n,e,t,r,i){let o=0;if(t.length===0){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+iue(e[o-i],t[o],t[o-i])&255}}function iue(n,e,t){let r=n+e-t,i=Math.abs(r-n),o=Math.abs(r-e),s=Math.abs(r-t);return i<=o&&i<=s?n:o<=s?e:t}function iG(n,e,t,r,i,o){switch(n){case 0:Sb(e,t,i);break;case 1:Cb(e,t,i,o);break;case 2:Ib(e,t,r,i);break;case 3:Db(e,t,r,i,o);break;case 4:Tb(e,t,r,i,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}var oue=new Uint16Array([255]),sue=new Uint8Array(oue.buffer),aue=sue[0]===255;function oG(n){let{data:e,width:t,height:r,channels:i,depth:o}=n,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*t*a),c=0;for(let u=0;u<7;u++){let d=s[u],f=Math.ceil((t-d.x)/d.xStep),h=Math.ceil((r-d.y)/d.yStep);if(f<=0||h<=0)continue;let g=f*a,_=new Uint8Array(g);for(let y=0;y<h;y++){let v=e[c++],E=e.subarray(c,c+g);c+=g;let S=new Uint8Array(g);iG(v,E,S,_,g,a),_.set(S);for(let I=0;I<f;I++){let R=d.x+I*d.xStep,V=d.y+y*d.yStep;if(!(R>=t||V>=r))for(let j=0;j<a;j++)l[(V*t+R)*a+j]=S[I*a+j]}}}if(o===16){let u=new Uint16Array(l.buffer);if(aue)for(let d=0;d<u.length;d++)u[d]=lue(u[d]);return u}else return l}function lue(n){return(n&255)<<8|n>>8&255}var cue=new Uint16Array([255]),uue=new Uint8Array(cue.buffer),hue=uue[0]===255,due=new Uint8Array(0);function KR(n){let{data:e,width:t,height:r,channels:i,depth:o}=n,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*t),l=new Uint8Array(r*a),c=due,u=0,d,f;for(let h=0;h<r;h++){switch(d=e.subarray(u+1,u+1+a),f=l.subarray(h*a,(h+1)*a),e[u]){case 0:Sb(d,f,a);break;case 1:Cb(d,f,a,s);break;case 2:Ib(d,f,c,a);break;case 3:Db(d,f,c,a,s);break;case 4:Tb(d,f,c,a,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=f,u+=a+1}if(o===16){let h=new Uint16Array(l.buffer);if(hue)for(let g=0;g<h.length;g++)h[g]=fue(h[g]);return h}else return l}function fue(n){return(n&255)<<8|n>>8&255}var Mb=Uint8Array.of(137,80,78,71,13,10,26,10);function JR(n){if(!sG(n.readBytes(Mb.length)))throw new Error("wrong PNG signature")}function sG(n){if(n.length<Mb.length)return!1;for(let e=0;e<Mb.length;e++)if(n[e]!==Mb[e])return!1;return!0}var aG="tEXt",gue=0,lG=new TextDecoder("latin1");function mue(n){if(yue(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}var _ue=/^[\u0000-\u00FF]*$/;function yue(n){if(!_ue.test(n))throw new Error("invalid latin1 text")}function cG(n,e,t){let r=QR(e);n[r]=vue(e,t-r.length-1)}function QR(n){for(n.mark();n.readByte()!==gue;);let e=n.offset;n.reset();let t=lG.decode(n.readBytes(e-n.offset-1));return n.skip(1),mue(t),t}function vue(n,e){return lG.decode(n.readBytes(e))}var Mo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},y_={UNKNOWN:-1,DEFLATE:0},Ab={UNKNOWN:-1,ADAPTIVE:0},v_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},w_={NONE:0,BACKGROUND:1,PREVIOUS:2},Rb={SOURCE:0,OVER:1};var Nb=class extends Q1{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);let{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new YR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y_.UNKNOWN,this._filterMethod=Ab.UNKNOWN,this._interlaceMethod=v_.UNKNOWN,this._colorType=Mo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(JR(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(JR(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){let r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case aG:cG(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?XR(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){let r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?XR(this,e+4,t):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=wue(this.readUint8());let t=this.readUint8();this._colorType=t;let r;switch(t){case Mo.GREYSCALE:r=1;break;case Mo.TRUECOLOUR:r=3;break;case Mo.INDEXED_COLOUR:r=1;break;case Mo.GREYSCALE_ALPHA:r=2;break;case Mo.TRUECOLOUR_ALPHA:r=4;break;case Mo.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==y_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let t=e/3;this._hasPalette=!0;let r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Mo.GREYSCALE:case Mo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Mo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){let r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Mo.UNKNOWN:case Mo.GREYSCALE_ALPHA:case Mo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let t=QR(this),r=this.readUint8();if(r!==y_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);let i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:tG(i)}}decodepHYs(){let e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=KR({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{let i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case w_.NONE:break;case w_.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){let s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case w_.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){let r=1<<this._png.depth,i=(o,s)=>{let a=((o+t.yOffset)*this._png.width+t.xOffset+s)*this._png.channels,l=(o*t.width+s)*this._png.channels;return{index:a,frameIndex:l}};switch(t.blendOp){case Rb.SOURCE:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){let{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++)e.data[a+c]=t.data[l+c]}break;case Rb.OVER:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){let{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++){let u=t.data[l+this._png.channels-1]/r,d=c%(this._png.channels-1)===0?1:t.data[l+c],f=Math.floor(u*d+(1-u)*e.data[a+c]);e.data[a+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Ab.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===v_.NO_INTERLACE)this._png.data=KR({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===v_.ADAM7)this._png.data=oG({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:w_.NONE,blendOp:Rb.SOURCE,data:e}),this._inflator=new YR,this._writingDataChunks=!1}};function wue(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}function uG(n,e){return new Nb(n,e).decode()}var Mt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function eN(){Mt.console&&typeof Mt.console.log=="function"&&Mt.console.log.apply(Mt.console,arguments)}var Qn={log:eN,warn:function(n){Mt.console&&(typeof Mt.console.warn=="function"?Mt.console.warn.apply(Mt.console,arguments):eN.call(null,arguments))},error:function(n){Mt.console&&(typeof Mt.console.error=="function"?Mt.console.error.apply(Mt.console,arguments):eN(n))}};function tN(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ef(r.response,e,t)},r.onerror=function(){Qn.error("could not download file")},r.send()}function hG(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Pb(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ef=Mt.saveAs||((typeof window>"u"?"undefined":$n(window))!=="object"||window!==Mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Mt.URL||Mt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?hG(i.href)?tN(n,e,t):Pb(i,i.target="_blank"):Pb(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Pb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(hG(n))tN(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Pb(r)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:$n(o)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return tN(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(Mt.HTMLElement)||Mt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":$n(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Mt.URL||Mt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function kG(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,s=i.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var Fb=Mt.atob.bind(Mt),dG=Mt.btoa.bind(Mt);function nN(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=ho(t,r,i,o,e[0],7,-680876936),o=ho(o,t,r,i,e[1],12,-389564586),i=ho(i,o,t,r,e[2],17,606105819),r=ho(r,i,o,t,e[3],22,-1044525330),t=ho(t,r,i,o,e[4],7,-176418897),o=ho(o,t,r,i,e[5],12,1200080426),i=ho(i,o,t,r,e[6],17,-1473231341),r=ho(r,i,o,t,e[7],22,-45705983),t=ho(t,r,i,o,e[8],7,1770035416),o=ho(o,t,r,i,e[9],12,-1958414417),i=ho(i,o,t,r,e[10],17,-42063),r=ho(r,i,o,t,e[11],22,-1990404162),t=ho(t,r,i,o,e[12],7,1804603682),o=ho(o,t,r,i,e[13],12,-40341101),i=ho(i,o,t,r,e[14],17,-1502002290),t=fo(t,r=ho(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=fo(o,t,r,i,e[6],9,-1069501632),i=fo(i,o,t,r,e[11],14,643717713),r=fo(r,i,o,t,e[0],20,-373897302),t=fo(t,r,i,o,e[5],5,-701558691),o=fo(o,t,r,i,e[10],9,38016083),i=fo(i,o,t,r,e[15],14,-660478335),r=fo(r,i,o,t,e[4],20,-405537848),t=fo(t,r,i,o,e[9],5,568446438),o=fo(o,t,r,i,e[14],9,-1019803690),i=fo(i,o,t,r,e[3],14,-187363961),r=fo(r,i,o,t,e[8],20,1163531501),t=fo(t,r,i,o,e[13],5,-1444681467),o=fo(o,t,r,i,e[2],9,-51403784),i=fo(i,o,t,r,e[7],14,1735328473),t=po(t,r=fo(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=po(o,t,r,i,e[8],11,-2022574463),i=po(i,o,t,r,e[11],16,1839030562),r=po(r,i,o,t,e[14],23,-35309556),t=po(t,r,i,o,e[1],4,-1530992060),o=po(o,t,r,i,e[4],11,1272893353),i=po(i,o,t,r,e[7],16,-155497632),r=po(r,i,o,t,e[10],23,-1094730640),t=po(t,r,i,o,e[13],4,681279174),o=po(o,t,r,i,e[0],11,-358537222),i=po(i,o,t,r,e[3],16,-722521979),r=po(r,i,o,t,e[6],23,76029189),t=po(t,r,i,o,e[9],4,-640364487),o=po(o,t,r,i,e[12],11,-421815835),i=po(i,o,t,r,e[15],16,530742520),t=go(t,r=po(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=go(o,t,r,i,e[7],10,1126891415),i=go(i,o,t,r,e[14],15,-1416354905),r=go(r,i,o,t,e[5],21,-57434055),t=go(t,r,i,o,e[12],6,1700485571),o=go(o,t,r,i,e[3],10,-1894986606),i=go(i,o,t,r,e[10],15,-1051523),r=go(r,i,o,t,e[1],21,-2054922799),t=go(t,r,i,o,e[8],6,1873313359),o=go(o,t,r,i,e[15],10,-30611744),i=go(i,o,t,r,e[6],15,-1560198380),r=go(r,i,o,t,e[13],21,1309151649),t=go(t,r,i,o,e[4],6,-145523070),o=go(o,t,r,i,e[11],10,-1120210379),i=go(i,o,t,r,e[2],15,718787259),r=go(r,i,o,t,e[9],21,-343485551),n[0]=hh(t,n[0]),n[1]=hh(r,n[1]),n[2]=hh(i,n[2]),n[3]=hh(o,n[3])}function Hb(n,e,t,r,i,o){return e=hh(hh(e,n),hh(r,o)),hh(e<<i|e>>>32-i,t)}function ho(n,e,t,r,i,o,s){return Hb(e&t|~e&r,n,e,i,o,s)}function fo(n,e,t,r,i,o,s){return Hb(e&r|t&~r,n,e,i,o,s)}function po(n,e,t,r,i,o,s){return Hb(e^t^r,n,e,i,o,s)}function go(n,e,t,r,i,o,s){return Hb(t^(e|~r),n,e,i,o,s)}function OG(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)nN(r,xue(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(nN(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,nN(r,i),r}function xue(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var fG="0123456789abcdef".split("");function bue(n){for(var e="",t=0;t<4;t++)e+=fG[n>>8*t+4&15]+fG[n>>8*t&15];return e}function Eue(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function lN(n){return OG(n).map(Eue).join("")}var Sue=(function(n){for(var e=0;e<n.length;e++)n[e]=bue(n[e]);return n.join("")})(OG("hello"))!="5d41402abc4b2a76b9719d911017c592";function hh(n,e){if(Sue){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function cN(n,e){var t,r,i,o;if(n!==t){for(var s=(i=n,o=1+(256/n.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+s.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var d=e.length,f=0,h=0,g="";for(l=0;l<d;l++)h=(h+(u=a[f=(f+1)%256]))%256,a[f]=a[h],a[h]=u,s=a[(a[f]+a[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^s);return g}var pG={print:4,modify:8,copy:16,"annot-forms":32};function Fg(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(pG.perm!==void 0)throw new Error("Invalid permission: "+a);i+=pG[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=lN(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=cN(this.encryptionKey,this.padding)}function jg(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function gG(n){if($n(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){Mt.console&&Qn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function zb(n){if(!(this instanceof zb))return new zb(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function FG(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function tf(n,e,t,r,i){if(!(this instanceof tf))return new tf(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,FG.call(this,r,i)}function Bg(n,e,t,r,i){if(!(this instanceof Bg))return new Bg(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,FG.call(this,r,i)}function ct(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",u=null;$n(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=gG;var g="1.3",_=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(w){g=w};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var v=h.__private__.getPageFormat=function(w){return y[w]};i=i||"a4";var E="compat",S="advanced",I=E;function R(){this.saveGraphicsState(),C(new nt(bt,0,0,-bt,0,wh()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),c="n",I=S}function V(){this.restoreGraphicsState(),c="S",I=E}var j=h.__private__.combineFontStyleAndFontWeight=function(w,P){if(w=="bold"&&P=="normal"||w=="bold"&&P==400||w=="normal"&&P=="italic"||w=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(w=P==400||P==="normal"?w==="italic"?"italic":"normal":P!=700&&P!=="bold"||w!=="normal"?(P==700?"bold":P)+""+w:"bold"),w};h.advancedAPI=function(w){var P=I===E;return P&&R.call(this),typeof w!="function"||(w(this),P&&V.call(this)),this},h.compatAPI=function(w){var P=I===S;return P&&V.call(this),typeof w!="function"||(w(this),P&&R.call(this)),this},h.isAdvancedAPI=function(){return I===S};var F,k=function(w){if(I!==S)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=h.roundToPrecision=h.__private__.roundToPrecision=function(w,P){var J=e||P;if(isNaN(w)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(J).replace(/0+$/,"")};F=h.hpf=h.__private__.hpf=typeof l=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return N(w,l)}:l==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return N(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return N(w,16)};var A=h.f2=h.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return N(w,2)},x=h.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return N(w,3)},O=h.scale=h.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return I===E?w*bt:I===S?w:void 0},$=function(w){return O((function(P){return I===E?wh()-P:I===S?P:void 0})(w))};h.__private__.setPrecision=h.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var Z,se="00000000000000000000000000000000",K=h.__private__.getFileId=function(){return se},te=h.__private__.setFileId=function(w){return se=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ii=new Fg(u.userPermissions,u.userPassword,u.ownerPassword,se)),se};h.setFileId=function(w){return te(w),this},h.getFileId=function(){return K()};var W=h.__private__.convertDateToPDFDate=function(w){var P=w.getTimezoneOffset(),J=P<0?"+":"-",oe=Math.floor(Math.abs(P/60)),ge=Math.abs(P%60),Ae=[J,Q(oe),"'",Q(ge),"'"].join("");return["D:",w.getFullYear(),Q(w.getMonth()+1),Q(w.getDate()),Q(w.getHours()),Q(w.getMinutes()),Q(w.getSeconds()),Ae].join("")},ee=h.__private__.convertPDFDateToDate=function(w){var P=parseInt(w.substr(2,4),10),J=parseInt(w.substr(6,2),10)-1,oe=parseInt(w.substr(8,2),10),ge=parseInt(w.substr(10,2),10),Ae=parseInt(w.substr(12,2),10),ke=parseInt(w.substr(14,2),10);return new Date(P,J,oe,ge,Ae,ke,0)},pe=h.__private__.setCreationDate=function(w){var P;if(w===void 0&&(w=new Date),w instanceof Date)P=W(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=w}return Z=P},M=h.__private__.getCreationDate=function(w){var P=Z;return w==="jsDate"&&(P=ee(Z)),P};h.setCreationDate=function(w){return pe(w),this},h.getCreationDate=function(w){return M(w)};var z,Q=h.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ne=h.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},re=0,le=[],ye=[],_e=0,Ce=[],Le=[],T=!1,de=ye;h.__private__.setCustomOutputDestination=function(w){T=!0,de=w};var he=function(w){T||(de=w)};h.__private__.resetCustomOutputDestination=function(){T=!1,de=ye};var C=h.__private__.out=function(w){return w=w.toString(),_e+=w.length+1,de.push(w),de},G=h.__private__.write=function(w){return C(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},ie=h.__private__.getArrayBuffer=function(w){for(var P=w.length,J=new ArrayBuffer(P),oe=new Uint8Array(J);P--;)oe[P]=w.charCodeAt(P);return J},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ve};var ce=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(w){return ce=I===S?w/bt:w,this};var ae,xe=h.__private__.getFontSize=h.getFontSize=function(){return I===E?ce:ce*bt},De=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(w){return De=w,this},h.__private__.getR2L=h.getR2L=function(){return De};var be,Ve=h.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ae=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ae=w}else ae=parseInt(w,10)};h.__private__.getZoomMode=function(){return ae};var Ke,He=h.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');be=w};h.__private__.getPageMode=function(){return be};var yt=h.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Ke=w};h.__private__.getLayoutMode=function(){return Ke},h.__private__.setDisplayMode=h.setDisplayMode=function(w,P,J){return Ve(w),yt(P),He(J),this};var Lt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(w){if(Object.keys(Lt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Lt[w]},h.__private__.getDocumentProperties=function(){return Lt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(w){for(var P in Lt)Lt.hasOwnProperty(P)&&w[P]&&(Lt[P]=w[P]);return this},h.__private__.setDocumentProperty=function(w,P){if(Object.keys(Lt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Lt[w]=P};var Ye,bt,qe,qn,nn,wt={},Nt={},Ln=[],ut={},kn={},pt={},gt={},fn=null,kt=0,vt=[],En=new gG(h),Hr=n.hotfixes||[],hr={},wr={},Mr=[],nt=function w(P,J,oe,ge,Ae,ke){if(!(this instanceof w))return new w(P,J,oe,ge,Ae,ke);isNaN(P)&&(P=1),isNaN(J)&&(J=0),isNaN(oe)&&(oe=0),isNaN(ge)&&(ge=1),isNaN(Ae)&&(Ae=0),isNaN(ke)&&(ke=0),this._matrix=[P,J,oe,ge,Ae,ke]};Object.defineProperty(nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(w)},nt.prototype.multiply=function(w){var P=w.sx*this.sx+w.shy*this.shx,J=w.sx*this.shy+w.shy*this.sy,oe=w.shx*this.sx+w.sy*this.shx,ge=w.shx*this.shy+w.sy*this.sy,Ae=w.tx*this.sx+w.ty*this.shx+this.tx,ke=w.tx*this.shy+w.ty*this.sy+this.ty;return new nt(P,J,oe,ge,Ae,ke)},nt.prototype.decompose=function(){var w=this.sx,P=this.shy,J=this.shx,oe=this.sy,ge=this.tx,Ae=this.ty,ke=Math.sqrt(w*w+P*P),rt=(w/=ke)*J+(P/=ke)*oe;J-=w*rt,oe-=P*rt;var lt=Math.sqrt(J*J+oe*oe);return rt/=lt,w*(oe/=lt)<P*(J/=lt)&&(w=-w,P=-P,rt=-rt,ke=-ke),{scale:new nt(ke,0,0,lt,0,0),translate:new nt(1,0,0,1,ge,Ae),rotate:new nt(w,P,-P,w,0,0),skew:new nt(1,0,rt,1,0,0)}},nt.prototype.toString=function(w){return this.join(" ")},nt.prototype.inversed=function(){var w=this.sx,P=this.shy,J=this.shx,oe=this.sy,ge=this.tx,Ae=this.ty,ke=1/(w*oe-P*J),rt=oe*ke,lt=-P*ke,At=-J*ke,qt=w*ke;return new nt(rt,lt,At,qt,-rt*ge-At*Ae,-lt*ge-qt*Ae)},nt.prototype.applyToPoint=function(w){var P=w.x*this.sx+w.y*this.shx+this.tx,J=w.x*this.shy+w.y*this.sy+this.ty;return new Vl(P,J)},nt.prototype.applyToRectangle=function(w){var P=this.applyToPoint(w),J=this.applyToPoint(new Vl(w.x+w.w,w.y+w.h));return new Qg(P.x,P.y,J.x-P.x,J.y-P.y)},nt.prototype.clone=function(){var w=this.sx,P=this.shy,J=this.shx,oe=this.sy,ge=this.tx,Ae=this.ty;return new nt(w,P,J,oe,ge,Ae)},h.Matrix=nt;var ni=h.matrixMult=function(w,P){return P.multiply(w)},ri=new nt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ri;var pn=function(w,P){if(!kn[w]){var J=(P instanceof tf?"Sh":"P")+(Object.keys(ut).length+1).toString(10);P.id=J,kn[w]=J,ut[J]=P,En.publish("addPattern",P)}};h.ShadingPattern=tf,h.TilingPattern=Bg,h.addShadingPattern=function(w,P){return k("addShadingPattern()"),pn(w,P),this},h.beginTilingPattern=function(w){k("beginTilingPattern()"),em(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},h.endTilingPattern=function(w,P){k("endTilingPattern()"),P.stream=Le[z].join(`
`),pn(w,P),En.publish("endTilingPattern",P),Mr.pop().restore()};var Wn,Dn=h.__private__.newObject=function(){var w=qr();return Pi(w,!0),w},qr=h.__private__.newObjectDeferred=function(){return re++,le[re]=function(){return _e},re},Pi=function(w,P){return P=typeof P=="boolean"&&P,le[w]=_e,P&&C(w+" 0 obj"),w},fh=h.__private__.newAdditionalObject=function(){var w={objId:qr(),content:""};return Ce.push(w),w},Jc=qr(),aa=qr(),Ha=h.__private__.decodeColorString=function(w){var P=w.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var J=parseFloat(P[0]);P=[J,J,J,"r"]}for(var oe="#",ge=0;ge<3;ge++)oe+=("0"+Math.floor(255*parseFloat(P[ge])).toString(16)).slice(-2);return oe},la=h.__private__.encodeColorString=function(w){var P;typeof w=="string"&&(w={ch1:w});var J=w.ch1,oe=w.ch2,ge=w.ch3,Ae=w.ch4,ke=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var rt=new kG(J);if(rt.ok)J=rt.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var lt=parseInt(J.substr(1),16);J=lt>>16&255,oe=lt>>8&255,ge=255&lt}if(oe===void 0||Ae===void 0&&J===oe&&oe===ge)P=typeof J=="string"?J+" "+ke[0]:w.precision===2?A(J/255)+" "+ke[0]:x(J/255)+" "+ke[0];else if(Ae===void 0||$n(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",ke[1]].join(" ");P=typeof J=="string"?[J,oe,ge,ke[1]].join(" "):w.precision===2?[A(J/255),A(oe/255),A(ge/255),ke[1]].join(" "):[x(J/255),x(oe/255),x(ge/255),ke[1]].join(" ")}else P=typeof J=="string"?[J,oe,ge,Ae,ke[2]].join(" "):w.precision===2?[A(J),A(oe),A(ge),A(Ae),ke[2]].join(" "):[x(J),x(oe),x(ge),x(Ae),ke[2]].join(" ");return P},ca=h.__private__.getFilters=function(){return s},As=h.__private__.putStream=function(w){var P=(w=w||{}).data||"",J=w.filters||ca(),oe=w.alreadyAppliedFilters||[],ge=w.addLength1||!1,Ae=P.length,ke=w.objectId,rt=function(oi){return oi};if(u!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(rt=ii.encryptor(ke,0));var lt={};J===!0&&(J=["FlateEncode"]);var At=w.additionalKeyValues||[],qt=(lt=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(P,J):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(lt.data.length!==0&&(At.push({key:"Length",value:lt.data.length}),ge===!0&&At.push({key:"Length1",value:Ae})),qt.length!=0)if(qt.split("/").length-1==1)At.push({key:"Filter",value:qt});else{At.push({key:"Filter",value:"["+qt+"]"});for(var Sn=0;Sn<At.length;Sn+=1)if(At[Sn].key==="DecodeParms"){for(var mr=[],$r=0;$r<lt.reverseChain.split("/").length-1;$r+=1)mr.push("null");mr.push(At[Sn].value),At[Sn].value="["+mr.join(" ")+"]"}}C("<<");for(var er=0;er<At.length;er++)C("/"+At[er].key+" "+At[er].value);C(">>"),lt.data.length!==0&&(C("stream"),C(rt(lt.data)),C("endstream"))},ph=h.__private__.putPage=function(w){var P=w.number,J=w.data,oe=w.objId,ge=w.contentsObjId;Pi(oe,!0),C("<</Type /Page"),C("/Parent "+w.rootDictionaryObjId+" 0 R"),C("/Resources "+w.resourceDictionaryObjId+" 0 R"),C("/MediaBox ["+parseFloat(F(w.mediaBox.bottomLeftX))+" "+parseFloat(F(w.mediaBox.bottomLeftY))+" "+F(w.mediaBox.topRightX)+" "+F(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&C("/CropBox ["+F(w.cropBox.bottomLeftX)+" "+F(w.cropBox.bottomLeftY)+" "+F(w.cropBox.topRightX)+" "+F(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&C("/BleedBox ["+F(w.bleedBox.bottomLeftX)+" "+F(w.bleedBox.bottomLeftY)+" "+F(w.bleedBox.topRightX)+" "+F(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&C("/TrimBox ["+F(w.trimBox.bottomLeftX)+" "+F(w.trimBox.bottomLeftY)+" "+F(w.trimBox.topRightX)+" "+F(w.trimBox.topRightY)+"]"),w.artBox!==null&&C("/ArtBox ["+F(w.artBox.bottomLeftX)+" "+F(w.artBox.bottomLeftY)+" "+F(w.artBox.topRightX)+" "+F(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&C("/UserUnit "+w.userUnit),En.publish("putPage",{objId:oe,pageContext:vt[P],pageNumber:P,page:J}),C("/Contents "+ge+" 0 R"),C(">>"),C("endobj");var Ae=J.join(`
`);return I===S&&(Ae+=`
Q`),Pi(ge,!0),As({data:Ae,filters:ca(),objectId:ge}),C("endobj"),oe},qa=h.__private__.putPages=function(){var w,P,J=[];for(w=1;w<=kt;w++)vt[w].objId=qr(),vt[w].contentsObjId=qr();for(w=1;w<=kt;w++)J.push(ph({number:w,data:Le[w],objId:vt[w].objId,contentsObjId:vt[w].contentsObjId,mediaBox:vt[w].mediaBox,cropBox:vt[w].cropBox,bleedBox:vt[w].bleedBox,trimBox:vt[w].trimBox,artBox:vt[w].artBox,userUnit:vt[w].userUnit,rootDictionaryObjId:Jc,resourceDictionaryObjId:aa}));Pi(Jc,!0),C("<</Type /Pages");var oe="/Kids [";for(P=0;P<kt;P++)oe+=J[P]+" 0 R ";C(oe+"]"),C("/Count "+kt),C(">>"),C("endobj"),En.publish("postPutPages")},gh=function(w){En.publish("putFont",{font:w,out:C,newObject:Dn,putStream:As}),w.isAlreadyPutted!==!0&&(w.objectNumber=Dn(),C("<<"),C("/Type /Font"),C("/BaseFont /"+jg(w.postScriptName)),C("/Subtype /Type1"),typeof w.encoding=="string"&&C("/Encoding /"+w.encoding),C("/FirstChar 32"),C("/LastChar 255"),C(">>"),C("endobj"))},of=function(w){w.objectNumber=Dn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[F(w.x),F(w.y),F(w.x+w.width),F(w.y+w.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var J=w.pages[1].join(`
`);As({data:J,additionalKeyValues:P,objectId:w.objectNumber}),C("endobj")},sf=function(w,P){P||(P=21);var J=Dn(),oe=(function(ke,rt){var lt,At=[],qt=1/(rt-1);for(lt=0;lt<1;lt+=qt)At.push(lt);if(At.push(1),ke[0].offset!=0){var Sn={offset:0,color:ke[0].color};ke.unshift(Sn)}if(ke[ke.length-1].offset!=1){var mr={offset:1,color:ke[ke.length-1].color};ke.push(mr)}for(var $r="",er=0,oi=0;oi<At.length;oi++){for(lt=At[oi];lt>ke[er+1].offset;)er++;var Zr=ke[er].offset,Li=(lt-Zr)/(ke[er+1].offset-Zr),Wl=ke[er].color,ha=ke[er+1].color;$r+=ne(Math.round((1-Li)*Wl[0]+Li*ha[0]).toString(16))+ne(Math.round((1-Li)*Wl[1]+Li*ha[1]).toString(16))+ne(Math.round((1-Li)*Wl[2]+Li*ha[2]).toString(16))}return $r.trim()})(w.colors,P),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+P+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),As({data:oe,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),C("endobj"),w.objectNumber=Dn(),C("<< /ShadingType "+w.type),C("/ColorSpace /DeviceRGB");var Ae="/Coords ["+F(parseFloat(w.coords[0]))+" "+F(parseFloat(w.coords[1]))+" ";w.type===2?Ae+=F(parseFloat(w.coords[2]))+" "+F(parseFloat(w.coords[3])):Ae+=F(parseFloat(w.coords[2]))+" "+F(parseFloat(w.coords[3]))+" "+F(parseFloat(w.coords[4]))+" "+F(parseFloat(w.coords[5])),C(Ae+="]"),w.matrix&&C("/Matrix ["+w.matrix.toString()+"]"),C("/Function "+J+" 0 R"),C("/Extend [true true]"),C(">>"),C("endobj")},af=function(w,P){var J=qr(),oe=Dn();P.push({resourcesOid:J,objectOid:oe}),w.objectNumber=oe;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+w.boundingBox.map(F).join(" ")+"]"}),ge.push({key:"XStep",value:F(w.xStep)}),ge.push({key:"YStep",value:F(w.yStep)}),ge.push({key:"Resources",value:J+" 0 R"}),w.matrix&&ge.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),As({data:w.stream,additionalKeyValues:ge,objectId:w.objectNumber}),C("endobj")},nE=function(w){for(var P in w.objectNumber=Dn(),C("<<"),w)switch(P){case"opacity":C("/ca "+A(w[P]));break;case"stroke-opacity":C("/CA "+A(w[P]))}C(">>"),C("endobj")},qg=function(w){Pi(w.resourcesOid,!0),C("<<"),C("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in C("/Font <<"),wt)wt.hasOwnProperty(P)&&(d===!1||d===!0&&f.hasOwnProperty(P))&&C("/"+P+" "+wt[P].objectNumber+" 0 R");C(">>")})(),(function(){if(Object.keys(ut).length>0){for(var P in C("/Shading <<"),ut)ut.hasOwnProperty(P)&&ut[P]instanceof tf&&ut[P].objectNumber>=0&&C("/"+P+" "+ut[P].objectNumber+" 0 R");En.publish("putShadingPatternDict"),C(">>")}})(),(function(P){if(Object.keys(ut).length>0){for(var J in C("/Pattern <<"),ut)ut.hasOwnProperty(J)&&ut[J]instanceof h.TilingPattern&&ut[J].objectNumber>=0&&ut[J].objectNumber<P&&C("/"+J+" "+ut[J].objectNumber+" 0 R");En.publish("putTilingPatternDict"),C(">>")}})(w.objectOid),(function(){if(Object.keys(pt).length>0){var P;for(P in C("/ExtGState <<"),pt)pt.hasOwnProperty(P)&&pt[P].objectNumber>=0&&C("/"+P+" "+pt[P].objectNumber+" 0 R");En.publish("putGStateDict"),C(">>")}})(),(function(){for(var P in C("/XObject <<"),hr)hr.hasOwnProperty(P)&&hr[P].objectNumber>=0&&C("/"+P+" "+hr[P].objectNumber+" 0 R");En.publish("putXobjectDict"),C(">>")})(),C(">>"),C("endobj")},I_=function(w){Nt[w.fontName]=Nt[w.fontName]||{},Nt[w.fontName][w.fontStyle]=w.id},D_=function(w,P,J,oe,ge){var Ae={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:w,fontName:P,fontStyle:J,encoding:oe,isStandardFont:ge||!1,metadata:{}};return En.publish("addFont",{font:Ae,instance:this}),wt[Ae.id]=Ae,I_(Ae),Ae.id},Rs=h.__private__.pdfEscape=h.pdfEscape=function(w,P){return(function(J,oe){var ge,Ae,ke,rt,lt,At,qt,Sn,mr;if(ke=(oe=oe||{}).sourceEncoding||"Unicode",lt=oe.outputEncoding,(oe.autoencode||lt)&&wt[Ye].metadata&&wt[Ye].metadata[ke]&&wt[Ye].metadata[ke].encoding&&(rt=wt[Ye].metadata[ke].encoding,!lt&&wt[Ye].encoding&&(lt=wt[Ye].encoding),!lt&&rt.codePages&&(lt=rt.codePages[0]),typeof lt=="string"&&(lt=rt[lt]),lt)){for(qt=!1,At=[],ge=0,Ae=J.length;ge<Ae;ge++)(Sn=lt[J.charCodeAt(ge)])?At.push(String.fromCharCode(Sn)):At.push(J[ge]),At[ge].charCodeAt(0)>>8&&(qt=!0);J=At.join("")}for(ge=J.length;qt===void 0&&ge!==0;)J.charCodeAt(ge-1)>>8&&(qt=!0),ge--;if(!qt)return J;for(At=oe.noBOM?[]:[254,255],ge=0,Ae=J.length;ge<Ae;ge++){if((mr=(Sn=J.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");At.push(mr),At.push(Sn-(mr<<8))}return String.fromCharCode.apply(void 0,At)})(w,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wg=h.__private__.beginPage=function(w){Le[++kt]=[],vt[kt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},M_(kt),he(Le[z])},T_=function(w,P){var J,oe,ge;switch(t=P||t,typeof w=="string"&&(J=v(w.toLowerCase()),Array.isArray(J)&&(oe=J[0],ge=J[1])),Array.isArray(w)&&(oe=w[0]*bt,ge=w[1]*bt),isNaN(oe)&&(oe=i[0],ge=i[1]),(oe>14400||ge>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),ge=Math.min(14400,ge)),i=[oe,ge],t.substr(0,1)){case"l":ge>oe&&(i=[ge,oe]);break;case"p":oe>ge&&(i=[ge,oe])}Wg(i),Pt(Yg),C(hf),Kg!==0&&C(Kg+" J"),Jg!==0&&C(Jg+" j"),En.publish("addPage",{pageNumber:kt})},$g=function(w){w>0&&w<=kt&&(Le.splice(w,1),vt.splice(w,1),kt--,z>kt&&(z=kt),this.setPage(z))},M_=function(w){w>0&&w<=kt&&(z=w)},A_=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Le.length-1},R_=function(w,P,J){var oe,ge=void 0;return J=J||{},w=w!==void 0?w:wt[Ye].fontName,P=P!==void 0?P:wt[Ye].fontStyle,oe=w.toLowerCase(),Nt[oe]!==void 0&&Nt[oe][P]!==void 0?ge=Nt[oe][P]:Nt[w]!==void 0&&Nt[w][P]!==void 0?ge=Nt[w][P]:J.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+w+"', '"+P+"'. Refer to getFontList() for available fonts."),ge||J.noFallback||(ge=Nt.times[P])==null&&(ge=Nt.times.normal),ge},Wa=h.__private__.putInfo=function(){var w=Dn(),P=function(oe){return oe};for(var J in u!==null&&(P=ii.encryptor(w,0)),C("<<"),C("/Producer ("+Rs(P("jsPDF "+ct.version))+")"),Lt)Lt.hasOwnProperty(J)&&Lt[J]&&C("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+Rs(P(Lt[J]))+")");C("/CreationDate ("+Rs(P(Z))+")"),C(">>"),C("endobj")},lf=h.__private__.putCatalog=function(w){var P=(w=w||{}).rootDictionaryObjId||Jc;switch(Dn(),C("<<"),C("/Type /Catalog"),C("/Pages "+P+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":C("/OpenAction [3 0 R /FitH null]");break;case"fullheight":C("/OpenAction [3 0 R /FitV null]");break;case"fullpage":C("/OpenAction [3 0 R /Fit]");break;case"original":C("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+ae;J.substr(J.length-1)==="%"&&(ae=parseInt(ae)/100),typeof ae=="number"&&C("/OpenAction [3 0 R /XYZ null null "+A(ae)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":C("/PageLayout /OneColumn");break;case"single":C("/PageLayout /SinglePage");break;case"two":case"twoleft":C("/PageLayout /TwoColumnLeft");break;case"tworight":C("/PageLayout /TwoColumnRight")}be&&C("/PageMode /"+be),En.publish("putCatalog"),C(">>"),C("endobj")},rE=h.__private__.putTrailer=function(){C("trailer"),C("<<"),C("/Size "+(re+1)),C("/Root "+re+" 0 R"),C("/Info "+(re-1)+" 0 R"),u!==null&&C("/Encrypt "+ii.oid+" 0 R"),C("/ID [ <"+se+"> <"+se+"> ]"),C(">>")},Wr=h.__private__.putHeader=function(){C("%PDF-"+g),C("%\xBA\xDF\xAC\xE0")},N_=h.__private__.putXRef=function(){var w="0000000000";C("xref"),C("0 "+(re+1)),C("0000000000 65535 f ");for(var P=1;P<=re;P++)typeof le[P]=="function"?C((w+le[P]()).slice(-10)+" 00000 n "):le[P]!==void 0?C((w+le[P]).slice(-10)+" 00000 n "):C("0000000000 00000 n ")},$a=h.__private__.buildDocument=function(){var w;re=0,_e=0,ye=[],le=[],Ce=[],Jc=qr(),aa=qr(),he(ye),En.publish("buildDocument"),Wr(),qa(),(function(){En.publish("putAdditionalObjects");for(var J=0;J<Ce.length;J++){var oe=Ce[J];Pi(oe.objId,!0),C(oe.content),C("endobj")}En.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var J in wt)wt.hasOwnProperty(J)&&(d===!1||d===!0&&f.hasOwnProperty(J))&&gh(wt[J])})(),(function(){var J;for(J in pt)pt.hasOwnProperty(J)&&nE(pt[J])})(),(function(){for(var J in hr)hr.hasOwnProperty(J)&&of(hr[J])})(),(function(J){var oe;for(oe in ut)ut.hasOwnProperty(oe)&&(ut[oe]instanceof tf?sf(ut[oe]):ut[oe]instanceof Bg&&af(ut[oe],J))})(w),En.publish("putResources"),w.forEach(qg),qg({resourcesOid:aa,objectOid:Number.MAX_SAFE_INTEGER}),En.publish("postPutResources"),u!==null&&(ii.oid=Dn(),C("<<"),C("/Filter /Standard"),C("/V "+ii.v),C("/R "+ii.r),C("/U <"+ii.toHexString(ii.U)+">"),C("/O <"+ii.toHexString(ii.O)+">"),C("/P "+ii.P),C(">>"),C("endobj")),Wa(),lf();var P=_e;return N_(),rE(),C("startxref"),C(""+P),C("%%EOF"),he(Le[z]),ye.join(`
`)},cf=h.__private__.getBlob=function(w){return new Blob([ie(w)],{type:"application/pdf"})},P_=h.output=h.__private__.output=(Wn=function(w,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",w){case void 0:return $a();case"save":h.save(P.filename);break;case"arraybuffer":return ie($a());case"blob":return cf($a());case"bloburi":case"bloburl":if(Mt.URL!==void 0&&typeof Mt.URL.createObjectURL=="function")return Mt.URL&&Mt.URL.createObjectURL(cf($a()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",oe=$a();try{J=dG(oe)}catch{J=dG(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+P.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ge=P.pdfObjectUrl,Ae="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",rt=Mt.open();return rt!==null&&rt.document.write(ke),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',At=Mt.open();if(At!==null){At.document.write(lt);var qt=this;At.document.documentElement.querySelector("#pdfViewer").onload=function(){At.document.title=P.filename,At.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return At}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',mr=Mt.open();if(mr!==null&&(mr.document.write(Sn),mr.document.title=P.filename),mr||typeof safari>"u")return mr;break;case"datauri":case"dataurl":return Mt.document.location.href=this.output("datauristring",P);default:return null}},Wn.foo=function(){try{return Wn.apply(this,arguments)}catch(J){var w=J.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var P="Error in function "+w.split(`
`)[0].split("<")[0]+": "+J.message;if(!Mt.console)throw new Error(P);Mt.console.error(P,J),Mt.alert&&alert(P)}},Wn.foo.bar=Wn,Wn.foo),Ns=function(w){return Array.isArray(Hr)===!0&&Hr.indexOf(w)>-1};switch(r){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Ns("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);bt=r}var ii=null;pe(),te();var Bl=h.__private__.getPageInfo=h.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[w].objId,pageNumber:w,pageContext:vt[w]}},L_=h.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in vt)if(vt[P].objId===w)break;return Bl(P)},iE=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:vt[z].objId,pageNumber:z,pageContext:vt[z]}};h.addPage=function(){return T_.apply(this,arguments),this},h.setPage=function(){return M_.apply(this,arguments),he.call(this,Le[z]),this},h.insertPage=function(w){return this.addPage(),this.movePage(z,w),this},h.movePage=function(w,P){var J,oe;if(w>P){J=Le[w],oe=vt[w];for(var ge=w;ge>P;ge--)Le[ge]=Le[ge-1],vt[ge]=vt[ge-1];Le[P]=J,vt[P]=oe,this.setPage(P)}else if(w<P){J=Le[w],oe=vt[w];for(var Ae=w;Ae<P;Ae++)Le[Ae]=Le[Ae+1],vt[Ae]=vt[Ae+1];Le[P]=J,vt[P]=oe,this.setPage(P)}return this},h.deletePage=function(){return $g.apply(this,arguments),this},h.__private__.text=h.text=function(w,P,J,oe,ge){var Ae,ke,rt,lt,At,qt,Sn,mr,$r,er=(oe=oe||{}).scope||this;if(typeof w=="number"&&typeof P=="number"&&(typeof J=="string"||Array.isArray(J))){var oi=J;J=P,P=w,w=oi}if(arguments[3]instanceof nt==0?(rt=arguments[4],lt=arguments[5],$n(Sn=arguments[3])==="object"&&Sn!==null||(typeof rt=="string"&&(lt=rt,rt=null),typeof Sn=="string"&&(lt=Sn,Sn=null),typeof Sn=="number"&&(rt=Sn,Sn=null),oe={flags:Sn,angle:rt,align:lt})):(k("The transform parameter of text() with a Matrix value"),$r=ge),isNaN(P)||isNaN(J)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return er;var Zr,Li="",Wl=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:_h,ha=er.internal.scaleFactor;function $l(On){return On=On.split("	").join(Array(oe.TabLen||9).join(" ")),Rs(On,Sn)}function nm(On){for(var Kn,Rr=On.concat(),si=[],Xl=Rr.length;Xl--;)typeof(Kn=Rr.shift())=="string"?si.push(Kn):Array.isArray(On)&&(Kn.length===1||Kn[1]===void 0&&Kn[2]===void 0)?si.push(Kn[0]):si.push([Kn[0],Kn[1],Kn[2]]);return si}function ff(On,Kn){var Rr;if(typeof On=="string")Rr=Kn(On)[0];else if(Array.isArray(On)){for(var si,Xl,dm=On.concat(),mf=[],q_=dm.length;q_--;)typeof(si=dm.shift())=="string"?mf.push(Kn(si)[0]):Array.isArray(si)&&typeof si[0]=="string"&&(Xl=Kn(si[0],si[1],si[2]),mf.push([Xl[0],Xl[1],Xl[2]]));Rr=mf}return Rr}var Qc=!1,xh=!0;if(typeof w=="string")Qc=!0;else if(Array.isArray(w)){var bh=w.concat();ke=[];for(var eu,ki=bh.length;ki--;)(typeof(eu=bh.shift())!="string"||Array.isArray(eu)&&typeof eu[0]!="string")&&(xh=!1);Qc=xh}if(Qc===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Eh=ce/er.internal.scaleFactor,Sh=Eh*(Wl-1);switch(oe.baseline){case"bottom":J-=Sh;break;case"top":J+=Eh-Sh;break;case"hanging":J+=Eh-2*Sh;break;case"middle":J+=Eh/2-Sh}if((qt=oe.maxWidth||0)>0&&(typeof w=="string"?w=er.splitTextToSize(w,qt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(On,Kn){return On.concat(er.splitTextToSize(Kn,qt))},[]))),Ae={text:w,x:P,y:J,options:oe,mutex:{pdfEscape:Rs,activeFontKey:Ye,fonts:wt,activeFontSize:ce}},En.publish("preProcessText",Ae),w=Ae.text,rt=(oe=Ae.options).angle,$r instanceof nt==0&&rt&&typeof rt=="number"){rt*=Math.PI/180,oe.rotationDirection===0&&(rt=-rt),I===S&&(rt=-rt);var rm=Math.cos(rt),im=Math.sin(rt);$r=new nt(rm,im,-im,rm,0,0)}else rt&&rt instanceof nt&&($r=rt);I!==S||$r||($r=ri),(At=oe.charSpace||zl)!==void 0&&(Li+=F(O(At))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mr=oe.horizontalScale)!==void 0&&(Li+=F(100*mr)+` Tz
`),oe.lang;var mo=-1,Zl=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,pf=er.internal.getCurrentPageInfo().pageContext;switch(Zl){case 0:case!1:case"fill":mo=0;break;case 1:case!0:case"stroke":mo=1;break;case 2:case"fillThenStroke":mo=2;break;case 3:case"invisible":mo=3;break;case 4:case"fillAndAddForClipping":mo=4;break;case 5:case"strokeAndAddPathForClipping":mo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mo=6;break;case 7:case"addToPathForClipping":mo=7}var V_=pf.usedRenderingMode!==void 0?pf.usedRenderingMode:-1;mo!==-1?Li+=mo+` Tr
`:V_!==-1&&(Li+=`0 Tr
`),mo!==-1&&(pf.usedRenderingMode=mo),lt=oe.align||"left";var Ps,Ch=ce*Wl,om=er.internal.pageSize.getWidth(),sm=wt[Ye];At=oe.charSpace||zl,qt=oe.maxWidth||0,Sn=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var tu=[],Ih=function(On){return er.getStringUnitWidth(On,{font:sm,charSpace:At,fontSize:ce,doKerning:!1})*ce/ha};if(Object.prototype.toString.call(w)==="[object Array]"){var ts;ke=nm(w),lt!=="left"&&(Ps=ke.map(Ih));var ns,nu=0;if(lt==="right"){P-=Ps[0],w=[],ki=ke.length;for(var Yl=0;Yl<ki;Yl++)Yl===0?(ns=Ul(P),ts=Gl(J)):(ns=O(nu-Ps[Yl]),ts=-Ch),w.push([ke[Yl],ns,ts]),nu=Ps[Yl]}else if(lt==="center"){P-=Ps[0]/2,w=[],ki=ke.length;for(var ru=0;ru<ki;ru++)ru===0?(ns=Ul(P),ts=Gl(J)):(ns=O((nu-Ps[ru])/2),ts=-Ch),w.push([ke[ru],ns,ts]),nu=Ps[ru]}else if(lt==="left"){w=[],ki=ke.length;for(var am=0;am<ki;am++)w.push(ke[am])}else if(lt==="justify"&&sm.encoding==="Identity-H"){w=[],ki=ke.length,qt=qt!==0?qt:om;for(var gf=0,Ar=0;Ar<ki;Ar++)if(ts=Ar===0?Gl(J):-Ch,ns=Ar===0?Ul(P):gf,Ar<ki-1){var H_=O((qt-Ps[Ar])/(ke[Ar].split(" ").length-1)),Ya=ke[Ar].split(" ");w.push([Ya[0]+" ",ns,ts]),gf=0;for(var Xa=1;Xa<Ya.length;Xa++){var lm=(Ih(Ya[Xa-1]+" "+Ya[Xa])-Ih(Ya[Xa]))*ha+H_;Xa==Ya.length-1?w.push([Ya[Xa],lm,0]):w.push([Ya[Xa]+" ",lm,0]),gf-=lm}}else w.push([ke[Ar],ns,ts]);w.push(["",gf,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],ki=ke.length,qt=qt!==0?qt:om,Ar=0;Ar<ki;Ar++){ts=Ar===0?Gl(J):-Ch,ns=Ar===0?Ul(P):0;var cm=ke[Ar].split(" ").length-1,um=cm>0?(qt-Ps[Ar])/cm:0;Ar<ki-1?tu.push(F(O(um))):tu.push(0),w.push([ke[Ar],ns,ts])}}}(typeof oe.R2L=="boolean"?oe.R2L:De)===!0&&(w=ff(w,function(On,Kn,Rr){return[On.split("").reverse().join(""),Kn,Rr]})),Ae={text:w,x:P,y:J,options:oe,mutex:{pdfEscape:Rs,activeFontKey:Ye,fonts:wt,activeFontSize:ce}},En.publish("postProcessText",Ae),w=Ae.text,Zr=Ae.mutex.isHex||!1;var hm=wt[Ye].encoding;hm!=="WinAnsiEncoding"&&hm!=="StandardEncoding"||(w=ff(w,function(On,Kn,Rr){return[$l(On),Kn,Rr]})),ke=nm(w),w=[];for(var iu,ou,su,Dh=Array.isArray(ke[0])?1:0,au="",Th=function(On,Kn,Rr){var si="";return Rr instanceof nt?(Rr=typeof oe.angle=="number"?ni(Rr,new nt(1,0,0,1,On,Kn)):ni(new nt(1,0,0,1,On,Kn),Rr),I===S&&(Rr=ni(new nt(1,0,0,-1,0,0),Rr)),si=Rr.join(" ")+` Tm
`):si=F(On)+" "+F(Kn)+` Td
`,si},Ls=0;Ls<ke.length;Ls++){switch(au="",Dh){case 1:su=(Zr?"<":"(")+ke[Ls][0]+(Zr?">":")"),iu=parseFloat(ke[Ls][1]),ou=parseFloat(ke[Ls][2]);break;case 0:su=(Zr?"<":"(")+ke[Ls]+(Zr?">":")"),iu=Ul(P),ou=Gl(J)}tu!==void 0&&tu[Ls]!==void 0&&(au=tu[Ls]+` Tw
`),Ls===0?w.push(au+Th(iu,ou,$r)+su):Dh===0?w.push(au+su):Dh===1&&w.push(au+Th(iu,ou,$r)+su)}w=Dh===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Ka=`BT
/`;return Ka+=Ye+" "+ce+` Tf
`,Ka+=F(ce*Wl)+` TL
`,Ka+=yh+`
`,Ka+=Li,Ka+=w,C(Ka+="ET"),f[Ye]=!0,er};var oE=h.__private__.clip=h.clip=function(w){return C(w==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return oE("evenodd")},h.__private__.discardPath=h.discardPath=function(){return C("n"),this};var Za=h.__private__.isValidStyle=function(w){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(P=!0),P};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(w){return Za(w)&&(c=w),this};var k_=h.__private__.getStyle=h.getStyle=function(w){var P=c;switch(w){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=w}return P},O_=h.close=function(){return C("h"),this};h.stroke=function(){return C("S"),this},h.fill=function(w){return uf("f",w),this},h.fillEvenOdd=function(w){return uf("f*",w),this},h.fillStroke=function(w){return uf("B",w),this},h.fillStrokeEvenOdd=function(w){return uf("B*",w),this};var uf=function(w,P){$n(P)==="object"?aE(P,w):C(w)},mh=function(w){w===null||I===S&&w===void 0||(w=k_(w),C(w))};function sE(w,P,J,oe,ge){var Ae=new Bg(P||this.boundingBox,J||this.xStep,oe||this.yStep,this.gState,ge||this.matrix);Ae.stream=this.stream;var ke=w+"$$"+this.cloneIndex+++"$$";return pn(ke,Ae),Ae}var aE=function(w,P){var J=kn[w.key],oe=ut[J];if(oe instanceof tf)C("q"),C(lE(P)),oe.gState&&h.setGState(oe.gState),C(w.matrix.toString()+" cm"),C("/"+J+" sh"),C("Q");else if(oe instanceof Bg){var ge=new nt(1,0,0,-1,0,wh());w.matrix&&(ge=ge.multiply(w.matrix||ri),J=sE.call(oe,w.key,w.boundingBox,w.xStep,w.yStep,ge).id),C("q"),C("/Pattern cs"),C("/"+J+" scn"),oe.gState&&h.setGState(oe.gState),C(P),C("Q")}},lE=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Zg=h.moveTo=function(w,P){return C(F(O(w))+" "+F($(P))+" m"),this},F_=h.lineTo=function(w,P){return C(F(O(w))+" "+F($(P))+" l"),this},ua=h.curveTo=function(w,P,J,oe,ge,Ae){return C([F(O(w)),F($(P)),F(O(J)),F($(oe)),F(O(ge)),F($(Ae)),"c"].join(" ")),this};h.__private__.line=h.line=function(w,P,J,oe,ge){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||!Za(ge))throw new Error("Invalid arguments passed to jsPDF.line");return I===E?this.lines([[J-w,oe-P]],w,P,[1,1],ge||"S"):this.lines([[J-w,oe-P]],w,P,[1,1]).stroke()},h.__private__.lines=h.lines=function(w,P,J,oe,ge,Ae){var ke,rt,lt,At,qt,Sn,mr,$r,er,oi,Zr,Li;if(typeof w=="number"&&(Li=J,J=P,P=w,w=Li),oe=oe||[1,1],Ae=Ae||!1,isNaN(P)||isNaN(J)||!Array.isArray(w)||!Array.isArray(oe)||!Za(ge)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zg(P,J),ke=oe[0],rt=oe[1],At=w.length,oi=P,Zr=J,lt=0;lt<At;lt++)(qt=w[lt]).length===2?(oi=qt[0]*ke+oi,Zr=qt[1]*rt+Zr,F_(oi,Zr)):(Sn=qt[0]*ke+oi,mr=qt[1]*rt+Zr,$r=qt[2]*ke+oi,er=qt[3]*rt+Zr,oi=qt[4]*ke+oi,Zr=qt[5]*rt+Zr,ua(Sn,mr,$r,er,oi,Zr));return Ae&&O_(),mh(ge),this},h.path=function(w){for(var P=0;P<w.length;P++){var J=w[P],oe=J.c;switch(J.op){case"m":Zg(oe[0],oe[1]);break;case"l":F_(oe[0],oe[1]);break;case"c":ua.apply(this,oe);break;case"h":O_()}}return this},h.__private__.rect=h.rect=function(w,P,J,oe,ge){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||!Za(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return I===E&&(oe=-oe),C([F(O(w)),F($(P)),F(O(J)),F(O(oe)),"re"].join(" ")),mh(ge),this},h.__private__.triangle=h.triangle=function(w,P,J,oe,ge,Ae,ke){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||isNaN(ge)||isNaN(Ae)||!Za(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-w,oe-P],[ge-J,Ae-oe],[w-ge,P-Ae]],w,P,[1,1],ke,!0),this},h.__private__.roundedRect=h.roundedRect=function(w,P,J,oe,ge,Ae,ke){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||isNaN(ge)||isNaN(Ae)||!Za(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*J),Ae=Math.min(Ae,.5*oe),this.lines([[J-2*ge,0],[ge*rt,0,ge,Ae-Ae*rt,ge,Ae],[0,oe-2*Ae],[0,Ae*rt,-ge*rt,Ae,-ge,Ae],[2*ge-J,0],[-ge*rt,0,-ge,-Ae*rt,-ge,-Ae],[0,2*Ae-oe],[0,-Ae*rt,ge*rt,-Ae,ge,-Ae]],w+ge,P,[1,1],ke,!0),this},h.__private__.ellipse=h.ellipse=function(w,P,J,oe,ge){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||!Za(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*J,ke=4/3*(Math.SQRT2-1)*oe;return Zg(w+J,P),ua(w+J,P-ke,w+Ae,P-oe,w,P-oe),ua(w-Ae,P-oe,w-J,P-ke,w-J,P),ua(w-J,P+ke,w-Ae,P+oe,w,P+oe),ua(w+Ae,P+oe,w+J,P+ke,w+J,P),mh(ge),this},h.__private__.circle=h.circle=function(w,P,J,oe){if(isNaN(w)||isNaN(P)||isNaN(J)||!Za(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,P,J,J,oe)},h.setFont=function(w,P,J){return J&&(P=j(P,J)),Ye=R_(w,P,{disableWarning:!1}),this};var cE=h.__private__.getFont=h.getFont=function(){return wt[R_.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var w,P,J={};for(w in Nt)if(Nt.hasOwnProperty(w))for(P in J[w]=[],Nt[w])Nt[w].hasOwnProperty(P)&&J[w].push(P);return J},h.addFont=function(w,P,J,oe,ge){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(J=j(J,oe)),D_.call(this,w,P,J,ge=ge||"Identity-H")};var _h,Yg=n.lineWidth||.200025,uE=h.__private__.getLineWidth=h.getLineWidth=function(){return Yg},Pt=h.__private__.setLineWidth=h.setLineWidth=function(w){return Yg=w,C(F(O(w))+" w"),this};h.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(w,P){if(w=w||[],P=P||0,isNaN(P)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(J){return F(O(J))}).join(" "),P=F(O(P)),C("["+w+"] "+P+" d"),this};var hE=h.__private__.getLineHeight=h.getLineHeight=function(){return ce*_h};h.__private__.getLineHeight=h.getLineHeight=function(){return ce*_h};var dE=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(_h=w),this},fE=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return _h};dE(n.lineHeight);var Ul=h.__private__.getHorizontalCoordinate=function(w){return O(w)},Gl=h.__private__.getVerticalCoordinate=function(w){return I===S?w:vt[z].mediaBox.topRightY-vt[z].mediaBox.bottomLeftY-O(w)},pE=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(w){return F(Ul(w))},gE=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(w){return F(Gl(w))},hf=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ha(hf)},h.__private__.setStrokeColor=h.setDrawColor=function(w,P,J,oe){return hf=la({ch1:w,ch2:P,ch3:J,ch4:oe,pdfColorType:"draw",precision:2}),C(hf),this};var Xg=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ha(Xg)},h.__private__.setFillColor=h.setFillColor=function(w,P,J,oe){return Xg=la({ch1:w,ch2:P,ch3:J,ch4:oe,pdfColorType:"fill",precision:2}),C(Xg),this};var yh=n.textColor||"0 g",mE=h.__private__.getTextColor=h.getTextColor=function(){return Ha(yh)};h.__private__.setTextColor=h.setTextColor=function(w,P,J,oe){return yh=la({ch1:w,ch2:P,ch3:J,ch4:oe,pdfColorType:"text",precision:3}),this};var zl=n.charSpace,_E=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(zl||0)};h.__private__.setCharSpace=h.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zl=w,this};var Kg=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(w){var P=h.CapJoinStyles[w];if(P===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kg=P,C(P+" J"),this};var Jg=0;h.__private__.setLineJoin=h.setLineJoin=function(w){var P=h.CapJoinStyles[w];if(P===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jg=P,C(P+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return C(F(O(w))+" M"),this},h.GState=zb,h.setGState=function(w){(w=typeof w=="string"?pt[gt[w]]:j_(null,w)).equals(fn)||(C("/"+w.id+" gs"),fn=w)};var j_=function(w,P){if(!w||!gt[w]){var J=!1;for(var oe in pt)if(pt.hasOwnProperty(oe)&&pt[oe].equals(P)){J=!0;break}if(J)P=pt[oe];else{var ge="GS"+(Object.keys(pt).length+1).toString(10);pt[ge]=P,P.id=ge}return w&&(gt[w]=P.id),En.publish("addGState",P),P}};h.addGState=function(w,P){return j_(w,P),this},h.saveGraphicsState=function(){return C("q"),Ln.push({key:Ye,size:ce,color:yh}),this},h.restoreGraphicsState=function(){C("Q");var w=Ln.pop();return Ye=w.key,ce=w.size,yh=w.color,fn=null,this},h.setCurrentTransformationMatrix=function(w){return C(w.toString()+" cm"),this},h.comment=function(w){return C("#"+w),this};var Vl=function(w,P){var J=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Ae){isNaN(Ae)||(J=parseFloat(Ae))}});var oe=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(Ae){isNaN(Ae)||(oe=parseFloat(Ae))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ae){ge=Ae.toString()}}),this},Qg=function(w,P,J,oe){Vl.call(this,w,P),this.type="rect";var ge=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(ke){isNaN(ke)||(ge=parseFloat(ke))}});var Ae=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(ke){isNaN(ke)||(Ae=parseFloat(ke))}}),this},df=function(){this.page=kt,this.currentPage=z,this.pages=Le.slice(0),this.pagesContext=vt.slice(0),this.x=qe,this.y=qn,this.matrix=nn,this.width=tm(z),this.height=U_(z),this.outputDestination=de,this.id="",this.objectNumber=-1};df.prototype.restore=function(){kt=this.page,z=this.currentPage,vt=this.pagesContext,Le=this.pages,qe=this.x,qn=this.y,nn=this.matrix,B_(z,this.width),Hl(z,this.height),de=this.outputDestination};var em=function(w,P,J,oe,ge){Mr.push(new df),kt=z=0,Le=[],qe=w,qn=P,nn=ge,Wg([J,oe])};for(var vh in h.beginFormObject=function(w,P,J,oe,ge){return em(w,P,J,oe,ge),this},h.endFormObject=function(w){return(function(P){if(wr[P])Mr.pop().restore();else{var J=new df,oe="Xo"+(Object.keys(hr).length+1).toString(10);J.id=oe,wr[P]=oe,hr[oe]=J,En.publish("addFormObject",J),Mr.pop().restore()}})(w),this},h.doFormObject=function(w,P){var J=hr[wr[w]];return C("q"),C(P.toString()+" cm"),C("/"+J.id+" Do"),C("Q"),this},h.getFormObject=function(w){var P=hr[wr[w]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},h.save=function(w,P){return w=w||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(ef(cf($a()),w),typeof ef.unload=="function"&&Mt.setTimeout&&setTimeout(ef.unload,911),this):new Promise(function(J,oe){try{var ge=ef(cf($a()),w);typeof ef.unload=="function"&&Mt.setTimeout&&setTimeout(ef.unload,911),J(ge)}catch(Ae){oe(Ae.message)}})},ct.API)ct.API.hasOwnProperty(vh)&&(vh==="events"&&ct.API.events.length?(function(w,P){var J,oe,ge;for(ge=P.length-1;ge!==-1;ge--)J=P[ge][0],oe=P[ge][1],w.subscribe.apply(w,[J].concat(typeof oe=="function"?[oe]:oe))})(En,ct.API.events):h[vh]=ct.API[vh]);function tm(w){return vt[w].mediaBox.topRightX-vt[w].mediaBox.bottomLeftX}function B_(w,P){vt[w].mediaBox.topRightX=P+vt[w].mediaBox.bottomLeftX}function U_(w){return vt[w].mediaBox.topRightY-vt[w].mediaBox.bottomLeftY}function Hl(w,P){vt[w].mediaBox.topRightY=P+vt[w].mediaBox.bottomLeftY}var ql=h.getPageWidth=function(w){return tm(w=w||z)/bt},G_=h.setPageWidth=function(w,P){B_(w,P*bt)},wh=h.getPageHeight=function(w){return U_(w=w||z)/bt},z_=h.setPageHeight=function(w,P){Hl(w,P*bt)};return h.internal={pdfEscape:Rs,getStyle:k_,getFont:cE,getFontSize:xe,getCharSpace:_E,getTextColor:mE,getLineHeight:hE,getLineHeightFactor:fE,getLineWidth:uE,write:G,getHorizontalCoordinate:Ul,getVerticalCoordinate:Gl,getCoordinateString:pE,getVerticalCoordinateString:gE,collections:{},newObject:Dn,newAdditionalObject:fh,newObjectDeferred:qr,newObjectDeferredBegin:Pi,getFilters:ca,putStream:As,events:En,scaleFactor:bt,pageSize:{getWidth:function(){return ql(z)},setWidth:function(w){G_(z,w)},getHeight:function(){return wh(z)},setHeight:function(w){z_(z,w)}},encryptionOptions:u,encryption:ii,getEncryptor:function(w){return u!==null?ii.encryptor(w,0):function(P){return P}},output:P_,getNumberOfPages:A_,get pages(){return Le},out:C,f2:A,f3:x,getPageInfo:Bl,getPageInfoByObjId:L_,getCurrentPageInfo:iE,getPDFVersion:_,Point:Vl,Rectangle:Qg,Matrix:nt,hasHotfix:Ns},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ql(z)},set:function(w){G_(z,w)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return wh(z)},set:function(w){z_(z,w)},enumerable:!0,configurable:!0}),(function(w){for(var P=0,J=ve.length;P<J;P++){var oe=D_.call(this,w[P][0],w[P][1],w[P][2],ve[P][3],!0);d===!1&&(f[oe]=!0);var ge=w[P][0].split("-");I_({id:oe,fontName:ge[0],fontStyle:ge[1]||""})}En.publish("addFonts",{fonts:wt,dictionary:Nt})}).call(h,ve),Ye="F1",T_(i,t),En.publish("initialized"),h}Fg.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Fg.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fg.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Fg.prototype.processOwnerPassword=function(n,e){return cN(lN(e).substr(0,5),n)},Fg.prototype.encryptor=function(n,e){var t=lN(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return cN(t,r)}},zb.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||$n(n)!==$n(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},ct.API={events:[]},ct.version="4.0.0";var Tr=ct.API,dN=1,rf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kg=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bt=function(n){return n.toFixed(2)},uh=function(n){return n.toFixed(5)};Tr.__acroform__={};var es=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},mG=function(n){return n*dN},Ol=function(n){var e=new BG,t=tt.internal.getHeight(n)||0,r=tt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Bt(r)),Number(Bt(t))],e},Cue=Tr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Iue=Tr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Due=Tr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Gr=Tr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Due(n,e-1)},zr=Tr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Cue(n,e-1)},Vr=Tr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Iue(n,e-1)},Tue=Tr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(Bt(l.lowerLeft_X)),Number(Bt(l.lowerLeft_Y)),Number(Bt(l.upperRight_X)),Number(Bt(l.upperRight_Y))]},Mue=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=uN(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Bt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ol(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},uN=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var o=t,s=tt.internal.getHeight(n)||0;s=s<0?-s:s;var a=tt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(A,x,O){if(A+1<i.length){var $=x+" "+i[A+1][0];return Lb($,n,O).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,u,d=Lb("3",n,o).height,f=n.multiline?s-o:(s-d)/2,h=f+=2,g=0,_=0,y=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Lb(e,n,o=12).width+", FieldWidth:"+a+`
`;break}for(var v="",E=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var I=!1;if(i[S].length!==1&&y!==i[S].length-1){if((d+2)*(E+2)+2>s)continue e;v+=i[S][y],I=!0,_=S,S--}else{v=(v+=i[S][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var R=parseInt(S),V=l(R,v,o),j=S>=i.length-1;if(V&&!j){v+=" ",y=0;continue}if(V||j){if(j)_=R;else if(n.multiline&&(d+2)*(E+2)+2>s)continue e}else{if(!n.multiline||(d+2)*(E+2)+2>s)continue e;_=R}}for(var F="",k=g;k<=_;k++){var N=i[k];if(n.multiline){if(k===_){F+=N[y]+" ",y=(y+1)%N.length;continue}if(k===g){F+=N[N.length-1]+" ";continue}}F+=N[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,u=Lb(F,n,o).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Bt(c)+" "+Bt(h)+` Td
`,e+="("+rf(F)+`) Tj
`,e+=-Bt(c)+` 0 Td
`,h=-(o+2),u=0,g=I?_:_+1,E++,v=""}break}return r.text=e,r.fontSize=o,r},Lb=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Aue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Rue=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Nue=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(za.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Aue)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");dN=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new UG,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&Rue(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Tue(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=tt.createDefaultAppearanceStream(a),$n(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Mue(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var h=a.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(i,a)),d+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,a)),d+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&(function(_,y){for(var v in _)if(_.hasOwnProperty(v)){var E=v,S=_[v];y.internal.newObjectDeferredBegin(S.objId,!0),$n(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete _[E]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},jG=Tr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),$n(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+rf(r(n[o].toString()))+")"):i+=n[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rN=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+rf(r(n))+")"},Fl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fl.prototype.toString=function(){return this.objId+" 0 R"},Fl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Fl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:jG(i,this.objId,this.scope)}):i instanceof Fl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var BG=function(){Fl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};es(BG,Fl);var UG=function(){Fl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+rf(t(n))+")"}},set:function(t){n=t}})};es(UG,Fl);var za=function n(){Fl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gr(e,3)},set:function(v){v?this.F=zr(e,3):this.F=Vr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');t=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Vb)return;o="FieldObject"+n.FieldNum++}var v=function(E){return E};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+rf(v(o))+")"},set:function(v){o=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(v){o=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/dN:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Vb||this instanceof nf))return rN(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ni==0?rN(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof Ni==0?v.substr(0,1)==="("?kg(v.substr(1,v.length-2)):kg(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni==1?kg(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Ni==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ni==0?rN(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof Ni==0?v.substr(0,1)==="("?kg(v.substr(1,v.length-2)):kg(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni==1?kg(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Ni==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(v){v=!!v,_=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(v){g=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,1)},set:function(v){v?this.Ff=zr(this.Ff,1):this.Ff=Vr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,2)},set:function(v){v?this.Ff=zr(this.Ff,2):this.Ff=Vr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,3)},set:function(v){v?this.Ff=zr(this.Ff,3):this.Ff=Vr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};es(za,Fl);var Ug=function(){za.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jG(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,18)},set:function(t){t?this.Ff=zr(this.Ff,18):this.Ff=Vr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=zr(this.Ff,19):this.Ff=Vr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,20)},set:function(t){t?(this.Ff=zr(this.Ff,20),e.sort()):this.Ff=Vr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,22)},set:function(t){t?this.Ff=zr(this.Ff,22):this.Ff=Vr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(t){t?this.Ff=zr(this.Ff,23):this.Ff=Vr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,27)},set:function(t){t?this.Ff=zr(this.Ff,27):this.Ff=Vr(this.Ff,27)}}),this.hasAppearanceStream=!1};es(Ug,za);var Gg=function(){Ug.call(this),this.fontName="helvetica",this.combo=!1};es(Gg,Ug);var zg=function(){Gg.call(this),this.combo=!0};es(zg,Gg);var jb=function(){zg.call(this),this.edit=!0};es(jb,zg);var Ni=function(){za.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,15)},set:function(t){t?this.Ff=zr(this.Ff,15):this.Ff=Vr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,16)},set:function(t){t?this.Ff=zr(this.Ff,16):this.Ff=Vr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,17)},set:function(t){t?this.Ff=zr(this.Ff,17):this.Ff=Vr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(t){t?this.Ff=zr(this.Ff,26):this.Ff=Vr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+rf(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){$n(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};es(Ni,za);var Bb=function(){Ni.call(this),this.pushButton=!0};es(Bb,Ni);var Vg=function(){Ni.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};es(Vg,Ni);var Vb=function(){var n,e;za.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+rf(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){$n(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};es(Vb,za),Vg.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Vg.prototype.createOption=function(n){var e=new Vb;return e.Parent=this,e.optionName=n,this.Kids.push(e),Pue.call(this.scope,e),e};var Ub=function(){Ni.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};es(Ub,Ni);var nf=function(){za.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,13)},set:function(e){e?this.Ff=zr(this.Ff,13):this.Ff=Vr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,21)},set:function(e){e?this.Ff=zr(this.Ff,21):this.Ff=Vr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(e){e?this.Ff=zr(this.Ff,23):this.Ff=Vr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,24)},set:function(e){e?this.Ff=zr(this.Ff,24):this.Ff=Vr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,25)},set:function(e){e?this.Ff=zr(this.Ff,25):this.Ff=Vr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(e){e?this.Ff=zr(this.Ff,26):this.Ff=Vr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};es(nf,za);var Gb=function(){nf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,14)},set:function(n){n?this.Ff=zr(this.Ff,14):this.Ff=Vr(this.Ff,14)}}),this.password=!0};es(Gb,nf);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=uN(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Bt(tt.internal.getWidth(n))+" "+Bt(tt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Bt(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ol(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=tt.internal.getHeight(n),s=tt.internal.getWidth(n),a=uN(n,n.caption);return i.push("1 g"),i.push("0 0 "+Bt(s)+" "+Bt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Bt(s-1)+" "+Bt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Bt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Bt(tt.internal.getWidth(n))+" "+Bt(tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=tt.RadioButton.Circle.YesNormal,e.D[n]=tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=tt.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+uh(tt.internal.getWidth(n)/2)+" "+uh(tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*tt.internal.Bezier_C).toFixed(5)),s=Number((r*tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+uh(tt.internal.getWidth(n)/2)+" "+uh(tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+uh(tt.internal.getWidth(n)/2)+" "+uh(tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+uh(tt.internal.getWidth(n)/2)+" "+uh(tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=tt.RadioButton.Cross.YesNormal,e.D[n]=tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ol(n);e.scope=n.scope;var t=[],r=tt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Bt(tt.internal.getWidth(n)-2)+" "+Bt(tt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Bt(r.x1.x)+" "+Bt(r.x1.y)+" m"),t.push(Bt(r.x2.x)+" "+Bt(r.x2.y)+" l"),t.push(Bt(r.x4.x)+" "+Bt(r.x4.y)+" m"),t.push(Bt(r.x3.x)+" "+Bt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=tt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Bt(tt.internal.getWidth(n))+" "+Bt(tt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Bt(tt.internal.getWidth(n)-2)+" "+Bt(tt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Bt(t.x1.x)+" "+Bt(t.x1.y)+" m"),r.push(Bt(t.x2.x)+" "+Bt(t.x2.y)+" l"),r.push(Bt(t.x4.x)+" "+Bt(t.x4.y)+" m"),r.push(Bt(t.x3.x)+" "+Bt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ol(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Bt(tt.internal.getWidth(n))+" "+Bt(tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};tt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=tt.internal.getWidth(n),t=tt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},tt.internal.getWidth=function(n){var e=0;return $n(n)==="object"&&(e=mG(n.Rect[2])),e},tt.internal.getHeight=function(n){var e=0;return $n(n)==="object"&&(e=mG(n.Rect[3])),e};var Pue=Tr.addField=function(n){if(Nue(this,n),!(n instanceof za))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Tr.AcroFormChoiceField=Ug,Tr.AcroFormListBox=Gg,Tr.AcroFormComboBox=zg,Tr.AcroFormEditBox=jb,Tr.AcroFormButton=Ni,Tr.AcroFormPushButton=Bb,Tr.AcroFormRadioButton=Vg,Tr.AcroFormCheckBox=Ub,Tr.AcroFormTextField=nf,Tr.AcroFormPasswordField=Gb,Tr.AcroFormAppearance=tt,Tr.AcroForm={ChoiceField:Ug,ListBox:Gg,ComboBox:zg,EditBox:jb,Button:Ni,PushButton:Bb,RadioButton:Vg,CheckBox:Ub,TextField:nf,PasswordField:Gb,Appearance:tt},ct.AcroForm={ChoiceField:Ug,ListBox:Gg,ComboBox:zg,EditBox:jb,Button:Ni,PushButton:Bb,RadioButton:Vg,CheckBox:Ub,TextField:nf,PasswordField:Gb,Appearance:tt};var j$e=ct.AcroForm;function GG(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(A,x){var O,$,Z,se,K,te=t;if((x=x||t)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(V(A))for(K in r)for(Z=r[K],O=0;O<Z.length;O+=1){for(se=!0,$=0;$<Z[O].length;$+=1)if(Z[O][$]!==void 0&&Z[O][$]!==A[$]){se=!1;break}if(se===!0){te=K;break}}else for(K in r)for(Z=r[K],O=0;O<Z.length;O+=1){for(se=!0,$=0;$<Z[O].length;$+=1)if(Z[O][$]!==void 0&&Z[O][$]!==A.charCodeAt($)){se=!1;break}if(se===!0){te=K;break}}return te===t&&x!==t&&(te=x),te},o=function A(x){for(var O=this.internal.write,$=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);x.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:x.width}),se.push({key:"Height",value:x.height}),x.colorSpace===v.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(x.palette.length/3-1)+" "+("sMask"in x&&x.sMask!==void 0?x.objectId+2:x.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+x.colorSpace}),x.colorSpace===v.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:x.bitsPerComponent}),"decodeParameters"in x&&x.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+x.decodeParameters+">>"}),"transparency"in x&&Array.isArray(x.transparency)&&x.transparency.length>0){for(var K="",te=0,W=x.transparency.length;te<W;te++)K+=x.transparency[te]+" "+x.transparency[te]+" ";se.push({key:"Mask",value:"["+K+"]"})}x.sMask!==void 0&&se.push({key:"SMask",value:x.objectId+1+" 0 R"});var ee=x.filter!==void 0?["/"+x.filter]:void 0;if($({data:x.data,additionalKeyValues:se,alreadyAppliedFilters:ee,objectId:x.objectId}),O("endobj"),"sMask"in x&&x.sMask!==void 0){var pe,M=(pe=x.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:x.bitsPerComponent,z={width:x.width,height:x.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:x.sMask};"filter"in x&&(z.decodeParameters="/Predictor ".concat(x.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(x.width),z.filter=x.filter),A.call(this,z)}if(x.colorSpace===v.INDEXED){var Q=this.internal.newObject();$({data:F(new Uint8Array(x.palette)),objectId:Q}),O("endobj")}},s=function(){var A=this.internal.collections[e+"images"];for(var x in A)o.call(this,A[x])},a=function(){var A,x=this.internal.collections[e+"images"],O=this.internal.write;for(var $ in x)O("/I"+(A=x[$]).index,A.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var A=this.internal.collections[e+"images"];return l.call(this),A},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(A){return typeof n["process"+A.toUpperCase()]=="function"},f=function(A){return $n(A)==="object"&&A.nodeType===1},h=function(A,x){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var O=""+A.getAttribute("src");if(O.indexOf("data:image/")===0)return Fb(unescape(O).split("base64,").pop());var $=n.loadFile(O,!0);if($!==void 0)return $}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var Z;switch(x){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return Fb(A.toDataURL(Z,1).split("base64,").pop())}},g=function(A){var x=this.internal.collections[e+"images"];if(x){for(var O in x)if(A===x[O].alias)return x[O]}},_=function(A,x,O){return A||x||(A=-96,x=-96),A<0&&(A=-1*O.width*72/A/this.internal.scaleFactor),x<0&&(x=-1*O.height*72/x/this.internal.scaleFactor),A===0&&(A=x*O.width/O.height),x===0&&(x=A*O.height/O.width),[A,x]},y=function(A,x,O,$,Z,se){var K=_.call(this,O,$,Z),te=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,ee=c.call(this);if(O=K[0],$=K[1],ee[Z.index]=Z,se){se*=Math.PI/180;var pe=Math.cos(se),M=Math.sin(se),z=function(ne){return ne.toFixed(4)},Q=[z(pe),z(M),z(-1*M),z(pe),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,te(A),W(x+$),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([te(O),"0","0",te($),"0","0","cm"].join(" "))):this.internal.write([te(O),"0","0",te($),te(A),W(x+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},v=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=n.__addimage__.sHashCode=function(A){var x,O,$=0;if(typeof A=="string")for(O=A.length,x=0;x<O;x++)$=($<<5)-$+A.charCodeAt(x),$|=0;else if(V(A))for(O=A.byteLength/2,x=0;x<O;x++)$=($<<5)-$+A[x],$|=0;return $},I=n.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var x=!0;return A.length===0&&(x=!1),A.length%4!=0&&(x=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(x=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(x=!1),x},R=n.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var x=A.indexOf(",");return x<0?null:A.substring(0,x).trim().endsWith("base64")?A.substring(x+1):null};n.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var V=n.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},j=n.__addimage__.binaryStringToUint8Array=function(A){for(var x=A.length,O=new Uint8Array(x),$=0;$<x;$++)O[$]=A.charCodeAt($);return O},F=n.__addimage__.arrayBufferToBinaryString=function(A){for(var x="",O=V(A)?A:new Uint8Array(A),$=0;$<O.length;$+=8192)x+=String.fromCharCode.apply(null,O.subarray($,$+8192));return x};n.addImage=function(){var A,x,O,$,Z,se,K,te,W;if(typeof arguments[1]=="number"?(x=t,O=arguments[1],$=arguments[2],Z=arguments[3],se=arguments[4],K=arguments[5],te=arguments[6],W=arguments[7]):(x=arguments[1],O=arguments[2],$=arguments[3],Z=arguments[4],se=arguments[5],K=arguments[6],te=arguments[7],W=arguments[8]),$n(A=arguments[0])==="object"&&!f(A)&&"imageData"in A){var ee=A;A=ee.imageData,x=ee.format||x||t,O=ee.x||O||0,$=ee.y||$||0,Z=ee.w||ee.width||Z,se=ee.h||ee.height||se,K=ee.alias||K,te=ee.compression||te,W=ee.rotation||ee.angle||W}var pe=this.internal.getFilters();if(te===void 0&&pe.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(O)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=k.call(this,A,x,K,te);return y.call(this,O,$,Z,se,M,W),this};var k=function(A,x,O,$){var Z,se,K;if(typeof A=="string"&&i(A)===t){A=unescape(A);var te=N(A,!1);(te!==""||(te=n.loadFile(A,!0))!==void 0)&&(A=te)}if(f(A)&&(A=h(A,x)),x=i(A,x),!d(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if(((K=O)==null||K.length===0)&&(O=(function(W){return typeof W=="string"||V(W)?S(W):V(W.data)?S(W.data):null})(A)),(Z=g.call(this,O))||(A instanceof Uint8Array||x==="RGBA"||(se=A,A=j(A)),Z=this["process"+x.toUpperCase()](A,u.call(this),O,(function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in n.image_compression?W:E.NONE})($),se)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},N=n.__addimage__.convertBase64ToBinaryString=function(A,x){x=typeof x!="boolean"||x;var O,$="";if(typeof A=="string"){var Z;O=(Z=R(A))!==null&&Z!==void 0?Z:A;try{$=Fb(O)}catch(se){if(x)throw I(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};n.getImageProperties=function(A){var x,O,$="";if(f(A)&&(A=h(A)),typeof A=="string"&&i(A)===t&&(($=N(A,!1))===""&&($=n.loadFile(A)||""),A=$),O=i(A),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(A instanceof Uint8Array||(A=j(A)),!(x=this["process"+O.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return x.fileType=O,x}})(ct.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){r=c[f];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(_.objId),E=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(v(r.contents))+")",o+=" /Popup "+y.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+h(v(E))+") >>",_.content=o;var S=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(o+=" /Open true"),o+=" >>",y.content=o,this.internal.write(_.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var I=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var V=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var u=this.splitTextToSize(t,a).length;s=Math.ceil(c*u)}else a=l,s=c;return this.text(t,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(ct.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=n.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(_){var y=0,v=t,E="",S=0;for(y=0;y<_.length;y+=1)v[_.charCodeAt(y)]!==void 0?(S++,typeof(v=v[_.charCodeAt(y)])=="number"&&(E+=String.fromCharCode(v),v=t,S=0),y===_.length-1&&(v=t,E+=_.charAt(y-(S-1)),y-=S-1,S=0)):(v=t,E+=_.charAt(y-S),y-=S,S=0);return E};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var f=n.__arabicParser__.getCorrectForm=function(_,y,v){return s(_)?o(_)===!1?-1:!c(_)||!s(y)&&!s(v)||!s(v)&&a(y)||a(_)&&!s(y)||a(_)&&l(y)||a(_)&&a(y)?0:u(_)&&s(y)&&!a(y)&&s(v)&&c(v)?3:a(_)||!s(v)?1:2:-1},h=function(_){var y=0,v=0,E=0,S="",I="",R="",V=(_=_||"").split("\\s+"),j=[];for(y=0;y<V.length;y+=1){for(j.push(""),v=0;v<V[y].length;v+=1)S=V[y][v],I=V[y][v-1],R=V[y][v+1],s(S)?(E=f(S,I,R),j[y]+=E!==-1?String.fromCharCode(e[S.charCodeAt(0)][E]):S):j[y]+=S;j[y]=d(j[y])}return j.join(" ")},g=n.__arabicParser__.processArabic=n.processArabic=function(){var _,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var E=0;for(v=[],E=0;E<y.length;E+=1)Array.isArray(y[E])?v.push([h(y[E][0]),y[E][1],y[E][2]]):v.push([h(y[E])]);_=v}else _=h(y);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",g])})(ct.API),ct.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ct.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(_){g=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,_=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,I){return S.concat(y.splitTextToSize(I,v))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)h<(_=this.getStringUnitWidth(l[E],{font:d})*u)&&(h=_);return h!==0&&(g=l.length),{w:h/=f,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,d,f){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,g,_,y,v=[],E=[],S=[],I={},R={},V=[],j=[],F=(f=f||{}).autoSize||!1,k=f.printHeaders!==!1,N=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,A=f.margins||Object.assign({width:this.getPageWidth()},e),x=typeof f.padding=="number"?f.padding:3,O=f.headerBackgroundColor||"#c8c8c8",$=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=N,this.internal.__cell__.padding=x,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=$,this.setFontSize(N),d==null)E=v=Object.keys(u[0]),S=v.map(function(){return"left"});else if(Array.isArray(d)&&$n(d[0])==="object")for(v=d.map(function(ee){return ee.name}),E=d.map(function(ee){return ee.prompt||ee.name||""}),S=d.map(function(ee){return ee.align||"left"}),h=0;h<d.length;h+=1)R[d[h].name]=.7499990551181103*d[h].width;else Array.isArray(d)&&typeof d[0]=="string"&&(E=v=d,S=v.map(function(){return"left"}));if(F||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<v.length;h+=1){for(I[y=v[h]]=u.map(function(ee){return ee[y]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(E[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=I[y],this.setFont(void 0,"normal"),_=0;_<g.length;_+=1)V.push(this.getTextDimensions(g[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[y]=Math.max.apply(null,V)+x+x,V=[]}if(k){var Z={};for(h=0;h<v.length;h+=1)Z[v[h]]={},Z[v[h]].text=E[h],Z[v[h]].align=S[h];var se=a.call(this,Z,R);j=v.map(function(ee){return new o(l,c,R[ee],se,Z[ee].text,void 0,Z[ee].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var K=d.reduce(function(ee,pe){return ee[pe.name]=pe.align,ee},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var te=a.call(this,u[h],R);for(_=0;_<v.length;_+=1){var W=u[h][v[_]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:_,data:W},this),s.call(this,new o(l,c,R[v[_]],te,W,h+2,K[v[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}})(ct.API);var zG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],hN=GG(VG),HG=[100,200,300,400,500,600,700,800,900],Lue=GG(HG);function iN(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return zG[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),i=(function(o){return typeof hN[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function _G(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var kue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vG(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function wG(n){return n.trimLeft()}function Oue(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Fue(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var kb,xG,bG,Og,Ob,EG,SG,CG,oN=["times"];function IG(n,e,t,r,i){var o=4,s=TG;switch(i){case ct.API.image_compression.FAST:o=1,s=DG;break;case ct.API.image_compression.MEDIUM:o=6,s=MG;break;case ct.API.image_compression.SLOW:o=9,s=AG}n=(function(l,c,u,d){for(var f,h=l.length/c,g=new Uint8Array(l.length+h),_=[jue,DG,TG,MG,AG],y=0;y<h;y+=1){var v=y*c,E=l.subarray(v,v+c);if(d)g.set(d(E,u,f),v+y);else{for(var S=_.length,I=[],R=0;R<S;R+=1)I[R]=_[R](E,u,f);var V=Uue(I.concat());g.set(I[V],v+y)}f=E}return g})(n,e,Math.ceil(t*r/8),s);var a=hb(n,{level:o});return ct.API.__addimage__.arrayBufferToBinaryString(a)}function jue(n){var e=Array.apply([],n);return e.unshift(0),e}function DG(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var o=n[i-e]||0;r[i+1]=n[i]-o+256&255}return r}function TG(n,e,t){var r=n.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=t&&t[o]||0;i[o+1]=n[o]-s+256&255}return i}function MG(n,e,t){var r=n.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=n[o-e]||0,a=t&&t[o]||0;i[o+1]=n[o]+256-(s+a>>>1)&255}return i}function AG(n,e,t){var r=n.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=Bue(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);i[o+1]=n[o]-s+256&255}return i}function Bue(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=i&&r<=o?n:i<=o?e:t}function Uue(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function sN(n,e,t){var r=e*t,i=Math.floor(r/8),o=16-(r-8*i+t),s=(1<<t)-1;return qG(n,i)>>o&s}function RG(n,e,t,r){var i=t*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var f=d>>8&255;c.setUint8(u,f)}})(n,o,qG(n,o)&~(a<<s)&65535|l)}function qG(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function Gue(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,s=1<<1+(7&i);n[e++],n[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,u=[],d=0,f=null,h=0,g=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,g=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((A=n[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];d=n[e++]|n[e++]<<8,f=n[e++],1&_||(f=null),h=_>>2&7,e++;break;case 254:for(;;){if(!((A=n[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var y=n[e++]|n[e++]<<8,v=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,I=n[e++],R=I>>6&1,V=1<<1+(7&I),j=a,F=l,k=!1;I>>7&&(k=!0,j=e,F=V,e+=3*V);var N=e;for(e++;;){var A;if(!((A=n[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}u.push({x:y,y:v,width:E,height:S,has_local_palette:k,palette_offset:j,palette_size:F,data_offset:N,data_length:e-N,transparent_index:f,interlaced:!!R,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(x){if(x<0||x>=u.length)throw new Error("Frame index out of range.");return u[x]},this.decodeAndBlitFrameBGRA=function(x,O){var $=this.frameInfo(x),Z=$.width*$.height,se=new Uint8Array(Z);NG(n,$.data_offset,se,Z);var K=$.palette_offset,te=$.transparent_index;te===null&&(te=256);var W=$.width,ee=t-W,pe=W,M=4*($.y*t+$.x),z=4*(($.y+$.height)*t+$.x),Q=M,ne=4*ee;$.interlaced===!0&&(ne+=4*t*7);for(var re=8,le=0,ye=se.length;le<ye;++le){var _e=se[le];if(pe===0&&(pe=W,(Q+=ne)>=z&&(ne=4*ee+4*t*(re-1),Q=M+(W+ee)*(re<<1),re>>=1)),_e===te)Q+=4;else{var Ce=n[K+3*_e],Le=n[K+3*_e+1],T=n[K+3*_e+2];O[Q++]=T,O[Q++]=Le,O[Q++]=Ce,O[Q++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(x,O){var $=this.frameInfo(x),Z=$.width*$.height,se=new Uint8Array(Z);NG(n,$.data_offset,se,Z);var K=$.palette_offset,te=$.transparent_index;te===null&&(te=256);var W=$.width,ee=t-W,pe=W,M=4*($.y*t+$.x),z=4*(($.y+$.height)*t+$.x),Q=M,ne=4*ee;$.interlaced===!0&&(ne+=4*t*7);for(var re=8,le=0,ye=se.length;le<ye;++le){var _e=se[le];if(pe===0&&(pe=W,(Q+=ne)>=z&&(ne=4*ee+4*t*(re-1),Q=M+(W+ee)*(re<<1),re>>=1)),_e===te)Q+=4;else{var Ce=n[K+3*_e],Le=n[K+3*_e+1],T=n[K+3*_e+2];O[Q++]=Ce,O[Q++]=Le,O[Q++]=T,O[Q++]=255}--pe}}}function NG(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,u=0,d=0,f=0,h=n[e++],g=new Int32Array(4096),_=null;;){for(;u<16&&h!==0;)d|=n[e++]<<u,u+=8,h===1?h=n[e++]:--h;if(u<l)break;var y=d&c;if(d>>=l,u-=l,y!==o){if(y===s)break;for(var v=y<a?y:_,E=0,S=v;S>o;)S=g[S]>>8,++E;var I=S;if(f+E+(v!==y?1:0)>r)return void Qn.log("Warning, gif stream longer than expected.");t[f++]=I;var R=f+=E;for(v!==y&&(t[f++]=I),S=v;E--;)S=g[S],t[--R]=255&S,S>>=8;_!==null&&a<4096&&(g[a++]=_<<8|I,a>=c+1&&l<12&&(++l,c=c<<1|1)),_=y}else a=s+1,c=(1<<(l=i+1))-1,_=null}return f!==r&&Qn.log("Warning, gif stream shorter than expected."),t}function aN(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),g=new Array(64),_=[],y=0,v=7,E=new Array(64),S=new Array(64),I=new Array(64),R=new Array(256),V=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(M,z){for(var Q=0,ne=0,re=new Array,le=1;le<=16;le++){for(var ye=1;ye<=M[le];ye++)re[z[ne]]=[],re[z[ne]][0]=Q,re[z[ne]][1]=le,ne++,Q++;Q*=2}return re}function K(M){for(var z=M[0],Q=M[1]-1;Q>=0;)z&1<<Q&&(y|=1<<v),Q--,--v<0&&(y==255?(te(255),te(0)):te(y),v=7,y=0)}function te(M){_.push(M)}function W(M){te(M>>8&255),te(255&M)}function ee(M,z,Q,ne,re){for(var le,ye=re[0],_e=re[240],Ce=(function(ce,ae){var xe,De,be,Ve,Ke,He,yt,Lt,Ye,bt,qe=0;for(Ye=0;Ye<8;++Ye){xe=ce[qe],De=ce[qe+1],be=ce[qe+2],Ve=ce[qe+3],Ke=ce[qe+4],He=ce[qe+5],yt=ce[qe+6];var qn=xe+(Lt=ce[qe+7]),nn=xe-Lt,wt=De+yt,Nt=De-yt,Ln=be+He,ut=be-He,kn=Ve+Ke,pt=Ve-Ke,gt=qn+kn,fn=qn-kn,kt=wt+Ln,vt=wt-Ln;ce[qe]=gt+kt,ce[qe+4]=gt-kt;var En=.707106781*(vt+fn);ce[qe+2]=fn+En,ce[qe+6]=fn-En;var Hr=.382683433*((gt=pt+ut)-(vt=Nt+nn)),hr=.5411961*gt+Hr,wr=1.306562965*vt+Hr,Mr=.707106781*(kt=ut+Nt),nt=nn+Mr,ni=nn-Mr;ce[qe+5]=ni+hr,ce[qe+3]=ni-hr,ce[qe+1]=nt+wr,ce[qe+7]=nt-wr,qe+=8}for(qe=0,Ye=0;Ye<8;++Ye){xe=ce[qe],De=ce[qe+8],be=ce[qe+16],Ve=ce[qe+24],Ke=ce[qe+32],He=ce[qe+40],yt=ce[qe+48];var ri=xe+(Lt=ce[qe+56]),pn=xe-Lt,Wn=De+yt,Dn=De-yt,qr=be+He,Pi=be-He,fh=Ve+Ke,Jc=Ve-Ke,aa=ri+fh,Ha=ri-fh,la=Wn+qr,ca=Wn-qr;ce[qe]=aa+la,ce[qe+32]=aa-la;var As=.707106781*(ca+Ha);ce[qe+16]=Ha+As,ce[qe+48]=Ha-As;var ph=.382683433*((aa=Jc+Pi)-(ca=Dn+pn)),qa=.5411961*aa+ph,gh=1.306562965*ca+ph,of=.707106781*(la=Pi+Dn),sf=pn+of,af=pn-of;ce[qe+40]=af+qa,ce[qe+24]=af-qa,ce[qe+8]=sf+gh,ce[qe+56]=sf-gh,qe++}for(Ye=0;Ye<64;++Ye)bt=ce[Ye]*ae[Ye],h[Ye]=bt>0?bt+.5|0:bt-.5|0;return h})(M,z),Le=0;Le<64;++Le)g[j[Le]]=Ce[Le];var T=g[0]-Q;Q=g[0],T==0?K(ne[0]):(K(ne[f[le=32767+T]]),K(d[le]));for(var de=63;de>0&&g[de]==0;)de--;if(de==0)return K(ye),Q;for(var he,C=1;C<=de;){for(var G=C;g[C]==0&&C<=de;)++C;var ie=C-G;if(ie>=16){he=ie>>4;for(var ve=1;ve<=he;++ve)K(_e);ie&=15}le=32767+g[C],K(re[(ie<<4)+f[le]]),K(d[le]),C++}return de!=63&&K(ye),Q}function pe(M){M=Math.min(Math.max(M,1),100),o!=M&&((function(z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var re=s((Q[ne]*z+50)/100);re=Math.min(Math.max(re,1),255),a[j[ne]]=re}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var _e=s((le[ye]*z+50)/100);_e=Math.min(Math.max(_e,1),255),l[j[ye]]=_e}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,T=0;T<8;T++)for(var de=0;de<8;de++)c[Le]=1/(a[j[Le]]*Ce[T]*Ce[de]*8),u[Le]=1/(l[j[Le]]*Ce[T]*Ce[de]*8),Le++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,z){z&&pe(z),_=new Array,y=0,v=7,W(65496),W(65504),W(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),W(1),W(1),te(0),te(0),(function(){W(65499),W(132),te(0);for(var De=0;De<64;De++)te(a[De]);te(1);for(var be=0;be<64;be++)te(l[be])})(),(function(De,be){W(65472),W(17),te(8),W(be),W(De),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(M.width,M.height),(function(){W(65476),W(418),te(0);for(var De=0;De<16;De++)te(F[De+1]);for(var be=0;be<=11;be++)te(k[be]);te(16);for(var Ve=0;Ve<16;Ve++)te(N[Ve+1]);for(var Ke=0;Ke<=161;Ke++)te(A[Ke]);te(1);for(var He=0;He<16;He++)te(x[He+1]);for(var yt=0;yt<=11;yt++)te(O[yt]);te(17);for(var Lt=0;Lt<16;Lt++)te($[Lt+1]);for(var Ye=0;Ye<=161;Ye++)te(Z[Ye])})(),W(65498),W(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var Q=0,ne=0,re=0;y=0,v=7,this.encode.displayName="_encode_";for(var le,ye,_e,Ce,Le,T,de,he,C,G=M.data,ie=M.width,ve=M.height,ce=4*ie,ae=0;ae<ve;){for(le=0;le<ce;){for(Le=ce*ae+le,de=-1,he=0,C=0;C<64;C++)T=Le+(he=C>>3)*ce+(de=4*(7&C)),ae+he>=ve&&(T-=ce*(ae+1+he-ve)),le+de>=ce&&(T-=le+de-ce+4),ye=G[T++],_e=G[T++],Ce=G[T++],E[C]=(V[ye]+V[_e+256|0]+V[Ce+512|0]>>16)-128,S[C]=(V[ye+768|0]+V[_e+1024|0]+V[Ce+1280|0]>>16)-128,I[C]=(V[ye+1280|0]+V[_e+1536|0]+V[Ce+1792|0]>>16)-128;Q=ee(E,c,Q,e,r),ne=ee(S,u,ne,t,i),re=ee(I,u,re,t,i),le+=32}ae+=8}if(v>=0){var xe=[];xe[1]=v+1,xe[0]=(1<<v+1)-1,K(xe)}return W(65497),new Uint8Array(_)},n=n||50,(function(){for(var M=String.fromCharCode,z=0;z<256;z++)R[z]=M(z)})(),e=se(F,k),t=se(x,O),r=se(N,A),i=se($,Z),(function(){for(var M=1,z=2,Q=1;Q<=15;Q++){for(var ne=M;ne<z;ne++)f[32767+ne]=Q,d[32767+ne]=[],d[32767+ne][1]=Q,d[32767+ne][0]=ne;for(var re=-(z-1);re<=-M;re++)f[32767+re]=Q,d[32767+re]=[],d[32767+re][1]=Q,d[32767+re][0]=z-1+re;M<<=1,z<<=1}})(),(function(){for(var M=0;M<256;M++)V[M]=19595*M,V[M+256|0]=38470*M,V[M+512|0]=7471*M+32768,V[M+768|0]=-11059*M,V[M+1024|0]=-21709*M,V[M+1280|0]=32768*M+8421375,V[M+1536|0]=-27439*M,V[M+1792|0]=-5329*M})(),pe(n)}function Ga(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function PG(n){function e(k){if(!k)throw Error("assert :P")}function t(k,N,A){for(var x=0;4>x;x++)if(k[N+x]!=A.charCodeAt(x))return!0;return!1}function r(k,N,A,x,O){for(var $=0;$<O;$++)k[N+$]=A[x+$]}function i(k,N,A,x){for(var O=0;O<x;O++)k[N+O]=A}function o(k){return new Int32Array(k)}function s(k,N){for(var A=[],x=0;x<k;x++)A.push(new N);return A}function a(k,N){var A=[];return(function x(O,$,Z){for(var se=Z[$],K=0;K<se&&(O.push(Z.length>$+1?[]:new N),!(Z.length<$+1));K++)x(O[K],$+1,Z)})(A,0,k),A}var l=function(){var k=this;function N(p,m){for(var b=1<<m-1>>>0;p&b;)b>>>=1;return b?(p&b-1)+b:p}function A(p,m,b,D,L){e(!(D%b));do p[m+(D-=b)]=L;while(0<D)}function x(p,m,b,D,L){if(e(2328>=L),512>=L)var B=o(512);else if((B=o(L))==null)return 0;return(function(U,H,q,Y,ue,Ee){var X,fe,me=H,Ie=1<<q,we=o(16),Te=o(16);for(e(ue!=0),e(Y!=null),e(U!=null),e(0<q),fe=0;fe<ue;++fe){if(15<Y[fe])return 0;++we[Y[fe]]}if(we[0]==ue)return 0;for(Te[1]=0,X=1;15>X;++X){if(we[X]>1<<X)return 0;Te[X+1]=Te[X]+we[X]}for(fe=0;fe<ue;++fe)X=Y[fe],0<Y[fe]&&(Ee[Te[X]++]=fe);if(Te[15]==1)return(Y=new O).g=0,Y.value=Ee[0],A(U,me,1,Ie,Y),Ie;var Ne,Ue=-1,Oe=Ie-1,ht=0,et=1,Zt=1,it=1<<q;for(fe=0,X=1,ue=2;X<=q;++X,ue<<=1){if(et+=Zt<<=1,0>(Zt-=we[X]))return 0;for(;0<we[X];--we[X])(Y=new O).g=X,Y.value=Ee[fe++],A(U,me+ht,ue,it,Y),ht=N(ht,X)}for(X=q+1,ue=2;15>=X;++X,ue<<=1){if(et+=Zt<<=1,0>(Zt-=we[X]))return 0;for(;0<we[X];--we[X]){if(Y=new O,(ht&Oe)!=Ue){for(me+=it,Ne=1<<(Ue=X)-q;15>Ue&&!(0>=(Ne-=we[Ue]));)++Ue,Ne<<=1;Ie+=it=1<<(Ne=Ue-q),U[H+(Ue=ht&Oe)].g=Ne+q,U[H+Ue].value=me-H-Ue}Y.g=X-q,Y.value=Ee[fe++],A(U,me+(ht>>q),ue,it,Y),ht=N(ht,X)}}return et!=2*Te[15]-1?0:Ie})(p,m,b,D,L,B)}function O(){this.value=this.g=0}function $(){this.value=this.g=0}function Z(){this.G=s(5,O),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ih,$)}function se(p,m,b,D){e(p!=null),e(m!=null),e(2147483648>D),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=m,p.pa=b,p.Jd=m,p.Yc=b+D,p.Zc=4<=D?b+D-4+1:b,ye(p)}function K(p,m){for(var b=0;0<m--;)b|=Ce(p,128)<<m;return b}function te(p,m){var b=K(p,m);return _e(p)?-b:b}function W(p,m,b,D){var L,B=0;for(e(p!=null),e(m!=null),e(4294967288>D),p.Sb=D,p.Ra=0,p.u=0,p.h=0,4<D&&(D=4),L=0;L<D;++L)B+=m[b+L]<<8*L;p.Ra=B,p.bb=D,p.oa=m,p.pa=b}function ee(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<nu-8>>>0,++p.bb,p.u-=8;ne(p)&&(p.h=1,p.u=0)}function pe(p,m){if(e(0<=m),!p.h&&m<=ns){var b=Q(p)&ts[m];return p.u+=m,ee(p),b}return p.h=1,p.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(p){return p.Ra>>>(p.u&nu-1)>>>0}function ne(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>nu}function re(p,m){p.u=m,p.h=ne(p)}function le(p){p.u>=Yl&&(e(p.u>=Yl),ee(p))}function ye(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function _e(p){return K(p,1)}function Ce(p,m){var b=p.Ca;0>p.b&&ye(p);var D=p.b,L=b*m>>>8,B=(p.I>>>D>L)+0;for(B?(b-=L,p.I-=L+1<<D>>>0):b=L+1,D=b,L=0;256<=D;)L+=8,D>>=8;return D=7^L+ru[D],p.b-=D,p.Ca=(b<<D)-1,B}function Le(p,m,b){p[m+0]=b>>24&255,p[m+1]=b>>16&255,p[m+2]=b>>8&255,p[m+3]=255&b}function T(p,m){return p[m+0]|p[m+1]<<8}function de(p,m){return T(p,m)|p[m+2]<<16}function he(p,m){return T(p,m)|T(p,m+2)<<16}function C(p,m){var b=1<<m;return e(p!=null),e(0<m),p.X=o(b),p.X==null?0:(p.Mb=32-m,p.Xa=m,1)}function G(p,m){e(p!=null),e(m!=null),e(p.Xa==m.Xa),r(m.X,0,p.X,0,1<<m.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function ve(p,m,b,D){e(b!=null),e(D!=null);var L=b[0],B=D[0];return L==0&&(L=(p*B+m/2)/m),B==0&&(B=(m*L+p/2)/p),0>=L||0>=B?0:(b[0]=L,D[0]=B,1)}function ce(p,m){return p+(1<<m)-1>>>m}function ae(p,m){return((4278255360&p)+(4278255360&m)>>>0&4278255360)+((16711935&p)+(16711935&m)>>>0&16711935)>>>0}function xe(p,m){k[m]=function(b,D,L,B,U,H,q){var Y;for(Y=0;Y<U;++Y){var ue=k[p](H[q+Y-1],L,B+Y);H[q+Y]=ae(b[D+Y],ue)}}}function De(){this.ud=this.hd=this.jd=0}function be(p,m){return((4278124286&(p^m))>>>1)+(p&m)>>>0}function Ve(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ke(p,m){return Ve(p+(p-m+.5>>1))}function He(p,m,b){return Math.abs(m-b)-Math.abs(p-b)}function yt(p,m,b,D,L,B,U){for(D=B[U-1],b=0;b<L;++b)B[U+b]=D=ae(p[m+b],D)}function Lt(p,m,b,D,L){var B;for(B=0;B<b;++B){var U=p[m+B],H=U>>8&255,q=16711935&(q=(q=16711935&U)+((H<<16)+H));D[L+B]=(4278255360&U)+q>>>0}}function Ye(p,m){m.jd=255&p,m.hd=p>>8&255,m.ud=p>>16&255}function bt(p,m,b,D,L,B){var U;for(U=0;U<D;++U){var H=m[b+U],q=H>>>8,Y=H,ue=255&(ue=(ue=H>>>16)+((p.jd<<24>>24)*(q<<24>>24)>>>5));Y=255&(Y=(Y+=(p.hd<<24>>24)*(q<<24>>24)>>>5)+((p.ud<<24>>24)*(ue<<24>>24)>>>5)),L[B+U]=(4278255360&H)+(ue<<16)+Y}}function qe(p,m,b,D,L){k[m]=function(B,U,H,q,Y,ue,Ee,X,fe){for(q=Ee;q<X;++q)for(Ee=0;Ee<fe;++Ee)Y[ue++]=L(H[D(B[U++])])},k[p]=function(B,U,H,q,Y,ue,Ee){var X=8>>B.b,fe=B.Ea,me=B.K[0],Ie=B.w;if(8>X)for(B=(1<<B.b)-1,Ie=(1<<X)-1;U<H;++U){var we,Te=0;for(we=0;we<fe;++we)we&B||(Te=D(q[Y++])),ue[Ee++]=L(me[Te&Ie]),Te>>=X}else k["VP8LMapColor"+b](q,Y,me,Ie,ue,Ee,U,H,fe)}}function qn(p,m,b,D,L){for(b=m+b;m<b;){var B=p[m++];D[L++]=B>>16&255,D[L++]=B>>8&255,D[L++]=255&B}}function nn(p,m,b,D,L){for(b=m+b;m<b;){var B=p[m++];D[L++]=B>>16&255,D[L++]=B>>8&255,D[L++]=255&B,D[L++]=B>>24&255}}function wt(p,m,b,D,L){for(b=m+b;m<b;){var B=(U=p[m++])>>16&240|U>>12&15,U=240&U|U>>28&15;D[L++]=B,D[L++]=U}}function Nt(p,m,b,D,L){for(b=m+b;m<b;){var B=(U=p[m++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;D[L++]=B,D[L++]=U}}function Ln(p,m,b,D,L){for(b=m+b;m<b;){var B=p[m++];D[L++]=255&B,D[L++]=B>>8&255,D[L++]=B>>16&255}}function ut(p,m,b,D,L,B){if(B==0)for(b=m+b;m<b;)Le(D,((B=p[m++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),L+=32;else r(D,L,p,m,b)}function kn(p,m){k[m][0]=k[p+"0"],k[m][1]=k[p+"1"],k[m][2]=k[p+"2"],k[m][3]=k[p+"3"],k[m][4]=k[p+"4"],k[m][5]=k[p+"5"],k[m][6]=k[p+"6"],k[m][7]=k[p+"7"],k[m][8]=k[p+"8"],k[m][9]=k[p+"9"],k[m][10]=k[p+"10"],k[m][11]=k[p+"11"],k[m][12]=k[p+"12"],k[m][13]=k[p+"13"],k[m][14]=k[p+"0"],k[m][15]=k[p+"0"]}function pt(p){return p==wE||p==xE||p==K_||p==bE}function gt(){this.eb=[],this.size=this.A=this.fb=0}function fn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gt,this.f.kb=new fn,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function En(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Hr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function hr(p,m){var b=p.T,D=m.ba.f.RGBA,L=D.eb,B=D.fb+p.ka*D.A,U=Os[m.ba.S],H=p.y,q=p.O,Y=p.f,ue=p.N,Ee=p.ea,X=p.W,fe=m.cc,me=m.dc,Ie=m.Mc,we=m.Nc,Te=p.ka,Ne=p.ka+p.T,Ue=p.U,Oe=Ue+1>>1;for(Te==0?U(H,q,null,null,Y,ue,Ee,X,Y,ue,Ee,X,L,B,null,null,Ue):(U(m.ec,m.fc,H,q,fe,me,Ie,we,Y,ue,Ee,X,L,B-D.A,L,B,Ue),++b);Te+2<Ne;Te+=2)fe=Y,me=ue,Ie=Ee,we=X,ue+=p.Rc,X+=p.Rc,B+=2*D.A,U(H,(q+=2*p.fa)-p.fa,H,q,fe,me,Ie,we,Y,ue,Ee,X,L,B-D.A,L,B,Ue);return q+=p.fa,p.j+Ne<p.o?(r(m.ec,m.fc,H,q,Ue),r(m.cc,m.dc,Y,ue,Oe),r(m.Mc,m.Nc,Ee,X,Oe),b--):1&Ne||U(H,q,null,null,Y,ue,Ee,X,Y,ue,Ee,X,L,B+D.A,null,null,Ue),b}function wr(p,m,b){var D=p.F,L=[p.J];if(D!=null){var B=p.U,U=m.ba.S,H=U==X_||U==K_;m=m.ba.f.RGBA;var q=[0],Y=p.ka;q[0]=p.T,p.Kb&&(Y==0?--q[0]:(--Y,L[0]-=p.width),p.j+p.ka+p.T==p.o&&(q[0]=p.o-p.j-Y));var ue=m.eb;Y=m.fb+Y*m.A,p=LN(D,L[0],p.width,B,q,ue,Y+(H?0:3),m.A),e(b==q),p&&pt(U)&&fm(ue,Y,H,B,q,m.A)}return 0}function Mr(p){var m=p.ma,b=m.ba.S,D=11>b,L=b==Z_||b==Y_||b==X_||b==vE||b==12||pt(b);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!om(m.Oa,p,L?11:12))return 0;if(L&&pt(b)&&nm(),p.da)alert("todo:use_scaling");else{if(D){if(m.Ib=Hr,p.Kb){if(b=p.U+1>>1,m.memory=o(p.U+2*b),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+p.U,m.Mc=m.cc,m.Nc=m.dc+b,m.Ib=hr,nm()}}else alert("todo:EmitYUV");L&&(m.Jb=wr,D&&ha())}if(D&&!KN){for(p=0;256>p;++p)Gz[p]=89858*(p-128)+Q_>>J_,Hz[p]=-22014*(p-128)+Q_,Vz[p]=-45773*(p-128),zz[p]=113618*(p-128)+Q_>>J_;for(p=gm;p<CE;++p)m=76283*(p-16)+Q_>>J_,qz[p-gm]=Wa(m,255),Wz[p-gm]=Wa(m+8>>4,15);KN=1}return 1}function nt(p){var m=p.ma,b=p.U,D=p.T;return e(!(1&p.ka)),0>=b||0>=D?0:(b=m.Ib(p,m),m.Jb!=null&&m.Jb(p,m,b),m.Dc+=b,1)}function ni(p){p.ma.memory=null}function ri(p,m,b,D){return pe(p,8)!=47?0:(m[0]=pe(p,14)+1,b[0]=pe(p,14)+1,D[0]=pe(p,1),pe(p,3)!=0?0:!p.h)}function pn(p,m){if(4>p)return p+1;var b=p-2>>1;return(2+(1&p)<<b)+pe(m,b)+1}function Wn(p,m){return 120<m?m-120:1<=(b=((b=Dz[m-1])>>4)*p+(8-(15&b)))?b:1;var b}function Dn(p,m,b){var D=Q(b),L=p[m+=255&D].g-8;return 0<L&&(re(b,b.u+8),D=Q(b),m+=p[m].value,m+=D&(1<<L)-1),re(b,b.u+p[m].g),p[m].value}function qr(p,m,b){return b.g+=p.g,b.value+=p.value<<m>>>0,e(8>=b.g),p.g}function Pi(p,m,b){var D=p.xc;return e((m=D==0?0:p.vc[p.md*(b>>D)+(m>>D)])<p.Wb),p.Ya[m]}function fh(p,m,b,D){var L=p.ab,B=p.c*m,U=p.C;m=U+m;var H=b,q=D;for(D=p.Ta,b=p.Ua;0<L--;){var Y=p.gc[L],ue=U,Ee=m,X=H,fe=q,me=(q=D,H=b,Y.Ea);switch(e(ue<Ee),e(Ee<=Y.nc),Y.hc){case 2:Ar(X,fe,(Ee-ue)*me,q,H);break;case 0:var Ie=ue,we=Ee,Te=q,Ne=H,Ue=(it=Y).Ea;Ie==0&&(am(X,fe,null,null,1,Te,Ne),yt(X,fe+1,0,0,Ue-1,Te,Ne+1),fe+=Ue,Ne+=Ue,++Ie);for(var Oe=1<<it.b,ht=Oe-1,et=ce(Ue,it.b),Zt=it.K,it=it.w+(Ie>>it.b)*et;Ie<we;){var gn=Zt,ai=it,Yt=1;for(gf(X,fe,Te,Ne-Ue,1,Te,Ne);Yt<Ue;){var ot=(Yt&~ht)+Oe;ot>Ue&&(ot=Ue),(0,cm[gn[ai++]>>8&15])(X,fe+ +Yt,Te,Ne+Yt-Ue,ot-Yt,Te,Ne+Yt),Yt=ot}fe+=Ue,Ne+=Ue,++Ie&ht||(it+=et)}Ee!=Y.nc&&r(q,H-me,q,H+(Ee-ue-1)*me,me);break;case 1:for(me=X,we=fe,Ue=(X=Y.Ea)-(Ne=X&~(Te=(fe=1<<Y.b)-1)),Ie=ce(X,Y.b),Oe=Y.K,Y=Y.w+(ue>>Y.b)*Ie;ue<Ee;){for(ht=Oe,et=Y,Zt=new De,it=we+Ne,gn=we+X;we<it;)Ye(ht[et++],Zt),um(Zt,me,we,fe,q,H),we+=fe,H+=fe;we<gn&&(Ye(ht[et++],Zt),um(Zt,me,we,Ue,q,H),we+=Ue,H+=Ue),++ue&Te||(Y+=Ie)}break;case 3:if(X==q&&fe==H&&0<Y.b){for(we=q,X=me=H+(Ee-ue)*me-(Ne=(Ee-ue)*ce(Y.Ea,Y.b)),fe=q,Te=H,Ie=[],Ne=(Ue=Ne)-1;0<=Ne;--Ne)Ie[Ne]=fe[Te+Ne];for(Ne=Ue-1;0<=Ne;--Ne)we[X+Ne]=Ie[Ne];H_(Y,ue,Ee,q,me,q,H)}else H_(Y,ue,Ee,X,fe,q,H)}H=D,q=b}q!=b&&r(D,b,H,q,B)}function Jc(p,m){var b=p.V,D=p.Ba+p.c*p.C,L=m-p.C;if(e(m<=p.l.o),e(16>=L),0<L){var B=p.l,U=p.Ta,H=p.Ua,q=B.width;if(fh(p,L,b,D),L=H=[H],e((b=p.C)<(D=m)),e(B.v<B.va),D>B.o&&(D=B.o),b<B.j){var Y=B.j-b;b=B.j,L[0]+=Y*q}if(b>=D?b=0:(L[0]+=4*B.v,B.ka=b-B.j,B.U=B.va-B.v,B.T=D-b,b=1),b){if(H=H[0],11>(b=p.ca).S){var ue=b.f.RGBA,Ee=(D=b.S,L=B.U,B=B.T,Y=ue.eb,ue.A),X=B;for(ue=ue.fb+p.Ma*ue.A;0<X--;){var fe=U,me=H,Ie=L,we=Y,Te=ue;switch(D){case $_:hm(fe,me,Ie,we,Te);break;case Z_:iu(fe,me,Ie,we,Te);break;case wE:iu(fe,me,Ie,we,Te),fm(we,Te,0,Ie,1,0);break;case GN:Dh(fe,me,Ie,we,Te);break;case Y_:ut(fe,me,Ie,we,Te,1);break;case xE:ut(fe,me,Ie,we,Te,1),fm(we,Te,0,Ie,1,0);break;case X_:ut(fe,me,Ie,we,Te,0);break;case K_:ut(fe,me,Ie,we,Te,0),fm(we,Te,1,Ie,1,0);break;case vE:ou(fe,me,Ie,we,Te);break;case bE:ou(fe,me,Ie,we,Te),PN(we,Te,Ie,1,0);break;case zN:su(fe,me,Ie,we,Te);break;default:e(0)}H+=q,ue+=Ee}p.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=b.height)}}p.C=m,e(p.C<=p.i)}function aa(p){var m;if(0<p.ua)return 0;for(m=0;m<p.Wb;++m){var b=p.Ya[m].G,D=p.Ya[m].H;if(0<b[1][D[1]+0].g||0<b[2][D[2]+0].g||0<b[3][D[3]+0].g)return 0}return 1}function Ha(p,m,b,D,L,B){if(p.Z!=0){var U=p.qd,H=p.rd;for(e(cu[p.Z]!=null);m<b;++m)cu[p.Z](U,H,D,L,D,L,B),U=D,H=L,L+=B;p.qd=U,p.rd=H}}function la(p,m){var b=p.l.ma,D=b.Z==0||b.Z==1?p.l.j:p.C;if(D=p.C<D?D:p.C,e(m<=p.l.o),m>D){var L=p.l.width,B=b.ca,U=b.tb+L*D,H=p.V,q=p.Ba+p.c*D,Y=p.gc;e(p.ab==1),e(Y[0].hc==3),Xa(Y[0],D,m,H,q,B,U),Ha(b,D,m,B,U,L)}p.C=p.Ma=m}function ca(p,m,b,D,L,B,U){var H=p.$/D,q=p.$%D,Y=p.m,ue=p.s,Ee=b+p.$,X=Ee;L=b+D*L;var fe=b+D*B,me=280+ue.ua,Ie=p.Pb?H:16777216,we=0<ue.ua?ue.Wa:null,Te=ue.wc,Ne=Ee<fe?Pi(ue,q,H):null;e(p.C<B),e(fe<=L);var Ue=!1;e:for(;;){for(;Ue||Ee<fe;){var Oe=0;if(H>=Ie){var ht=Ee-b;e((Ie=p).Pb),Ie.wd=Ie.m,Ie.xd=ht,0<Ie.s.ua&&G(Ie.s.Wa,Ie.s.vb),Ie=H+Mz}if(q&Te||(Ne=Pi(ue,q,H)),e(Ne!=null),Ne.Qb&&(m[Ee]=Ne.qb,Ue=!0),!Ue)if(le(Y),Ne.jc){Oe=Y,ht=m;var et=Ee,Zt=Ne.pd[Q(Oe)&Ih-1];e(Ne.jc),256>Zt.g?(re(Oe,Oe.u+Zt.g),ht[et]=Zt.value,Oe=0):(re(Oe,Oe.u+Zt.g-256),e(256<=Zt.value),Oe=Zt.value),Oe==0&&(Ue=!0)}else Oe=Dn(Ne.G[0],Ne.H[0],Y);if(Y.h)break;if(Ue||256>Oe){if(!Ue)if(Ne.nd)m[Ee]=(Ne.qb|Oe<<8)>>>0;else{if(le(Y),Ue=Dn(Ne.G[1],Ne.H[1],Y),le(Y),ht=Dn(Ne.G[2],Ne.H[2],Y),et=Dn(Ne.G[3],Ne.H[3],Y),Y.h)break;m[Ee]=(et<<24|Ue<<16|Oe<<8|ht)>>>0}if(Ue=!1,++Ee,++q>=D&&(q=0,++H,U!=null&&H<=B&&!(H%16)&&U(p,H),we!=null))for(;X<Ee;)Oe=m[X++],we.X[(506832829*Oe&4294967295)>>>we.Mb]=Oe}else if(280>Oe){if(Oe=pn(Oe-256,Y),ht=Dn(Ne.G[4],Ne.H[4],Y),le(Y),ht=Wn(D,ht=pn(ht,Y)),Y.h)break;if(Ee-b<ht||L-Ee<Oe)break e;for(et=0;et<Oe;++et)m[Ee+et]=m[Ee+et-ht];for(Ee+=Oe,q+=Oe;q>=D;)q-=D,++H,U!=null&&H<=B&&!(H%16)&&U(p,H);if(e(Ee<=L),q&Te&&(Ne=Pi(ue,q,H)),we!=null)for(;X<Ee;)Oe=m[X++],we.X[(506832829*Oe&4294967295)>>>we.Mb]=Oe}else{if(!(Oe<me))break e;for(Ue=Oe-280,e(we!=null);X<Ee;)Oe=m[X++],we.X[(506832829*Oe&4294967295)>>>we.Mb]=Oe;Oe=Ee,e(!(Ue>>>(ht=we).Xa)),m[Oe]=ht.X[Ue],Ue=!0}Ue||e(Y.h==ne(Y))}if(p.Pb&&Y.h&&Ee<L)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&G(p.s.vb,p.s.Wa);else{if(Y.h)break e;U?.(p,H>B?B:H),p.a=0,p.$=Ee-b}return 1}return p.a=3,0}function As(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var m=p.Wa;m!=null&&(m.X=null),p.vb=null,e(p!=null)}function ph(){var p=new At;return p==null?null:(p.a=0,p.xb=qN,kn("Predictor","VP8LPredictors"),kn("Predictor","VP8LPredictors_C"),kn("PredictorAdd","VP8LPredictorsAdd"),kn("PredictorAdd","VP8LPredictorsAdd_C"),Ar=Lt,um=bt,hm=qn,iu=nn,ou=wt,su=Nt,Dh=Ln,k.VP8LMapColor32b=Ya,k.VP8LMapColor8b=lm,p)}function qa(p,m,b,D,L){var B=1,U=[p],H=[m],q=D.m,Y=D.s,ue=null,Ee=0;e:for(;;){if(b)for(;B&&pe(q,1);){var X=U,fe=H,me=D,Ie=1,we=me.m,Te=me.gc[me.ab],Ne=pe(we,2);if(me.Oc&1<<Ne)B=0;else{switch(me.Oc|=1<<Ne,Te.hc=Ne,Te.Ea=X[0],Te.nc=fe[0],Te.K=[null],++me.ab,e(4>=me.ab),Ne){case 0:case 1:Te.b=pe(we,3)+2,Ie=qa(ce(Te.Ea,Te.b),ce(Te.nc,Te.b),0,me,Te.K),Te.K=Te.K[0];break;case 3:var Ue,Oe=pe(we,8)+1,ht=16<Oe?0:4<Oe?1:2<Oe?2:3;if(X[0]=ce(Te.Ea,ht),Te.b=ht,Ue=Ie=qa(Oe,1,0,me,Te.K)){var et,Zt=Oe,it=Te,gn=1<<(8>>it.b),ai=o(gn);if(ai==null)Ue=0;else{var Yt=it.K[0],ot=it.w;for(ai[0]=it.K[0][0],et=1;et<1*Zt;++et)ai[et]=ae(Yt[ot+et],ai[et-1]);for(;et<4*gn;++et)ai[et]=0;it.K[0]=null,it.K[0]=ai,Ue=1}}Ie=Ue;break;case 2:break;default:e(0)}B=Ie}}if(U=U[0],H=H[0],B&&pe(q,1)&&!(B=1<=(Ee=pe(q,4))&&11>=Ee)){D.a=3;break e}var We;if(We=B)t:{var Nr,Ut,vn,sr=D,Oi=U,_o=H,xr=Ee,Ji=b,yo=sr.m,li=sr.s,Cn=[null],Gn=1,br=0,zn=Tz[xr];n:for(;;){if(Ji&&pe(yo,1)){var Fi=pe(yo,3)+2,fa=ce(Oi,Fi),Pr=ce(_o,Fi),Ro=fa*Pr;if(!qa(fa,Pr,0,sr,Cn))break n;for(Cn=Cn[0],li.xc=Fi,Nr=0;Nr<Ro;++Nr){var Jn=Cn[Nr]>>8&65535;Cn[Nr]=Jn,Jn>=Gn&&(Gn=Jn+1)}}if(yo.h)break n;for(Ut=0;5>Ut;++Ut){var ci=VN[Ut];!Ut&&0<xr&&(ci+=1<<xr),br<ci&&(br=ci)}var is=s(Gn*zn,O),vo=Gn,os=s(vo,Z);if(os==null)var ss=null;else e(65536>=vo),ss=os;var No=o(br);if(ss==null||No==null||is==null){sr.a=1;break n}var as=is;for(Nr=vn=0;Nr<Gn;++Nr){var tr=ss[Nr],ls=tr.G,pa=tr.H,Mh=0,Jl=1,ji=0;for(Ut=0;5>Ut;++Ut){ci=VN[Ut],ls[Ut]=as,pa[Ut]=vn,!Ut&&0<xr&&(ci+=1<<xr);i:{var ty,IE=ci,ny=sr,mm=No,Yz=as,Xz=vn,DE=0,uu=ny.m,Kz=pe(uu,1);if(i(mm,0,0,IE),Kz){var Jz=pe(uu,1)+1,Qz=pe(uu,1),e4=pe(uu,Qz==0?1:8);mm[e4]=1,Jz==2&&(mm[e4=pe(uu,8)]=1);var ry=1}else{var t4=o(19),n4=pe(uu,4)+4;if(19<n4){ny.a=3;var iy=0;break i}for(ty=0;ty<n4;++ty)t4[Iz[ty]]=pe(uu,3);var TE=void 0,_m=void 0,r4=ny,eV=t4,oy=IE,i4=mm,ME=0,hu=r4.m,o4=8,s4=s(128,O);r:for(;x(s4,0,7,eV,19);){if(pe(hu,1)){var tV=2+2*pe(hu,3);if((TE=2+pe(hu,tV))>oy)break r}else TE=oy;for(_m=0;_m<oy&&TE--;){le(hu);var a4=s4[0+(127&Q(hu))];re(hu,hu.u+a4.g);var _f=a4.value;if(16>_f)i4[_m++]=_f,_f!=0&&(o4=_f);else{var nV=_f==16,l4=_f-16,rV=Sz[l4],c4=pe(hu,Ez[l4])+rV;if(_m+c4>oy)break r;for(var iV=nV?o4:0;0<c4--;)i4[_m++]=iV}}ME=1;break r}ME||(r4.a=3),ry=ME}(ry=ry&&!uu.h)&&(DE=x(Yz,Xz,8,mm,IE)),ry&&DE!=0?iy=DE:(ny.a=3,iy=0)}if(iy==0)break n;if(Jl&&Cz[Ut]==1&&(Jl=as[vn].g==0),Mh+=as[vn].g,vn+=iy,3>=Ut){var ym,AE=No[0];for(ym=1;ym<ci;++ym)No[ym]>AE&&(AE=No[ym]);ji+=AE}}if(tr.nd=Jl,tr.Qb=0,Jl&&(tr.qb=(ls[3][pa[3]+0].value<<24|ls[1][pa[1]+0].value<<16|ls[2][pa[2]+0].value)>>>0,Mh==0&&256>ls[0][pa[0]+0].value&&(tr.Qb=1,tr.qb+=ls[0][pa[0]+0].value<<8)),tr.jc=!tr.Qb&&6>ji,tr.jc){var sy,Ql=tr;for(sy=0;sy<Ih;++sy){var du=sy,fu=Ql.pd[du],ay=Ql.G[0][Ql.H[0]+du];256<=ay.value?(fu.g=ay.g+256,fu.value=ay.value):(fu.g=0,fu.value=0,du>>=qr(ay,8,fu),du>>=qr(Ql.G[1][Ql.H[1]+du],16,fu),du>>=qr(Ql.G[2][Ql.H[2]+du],0,fu),qr(Ql.G[3][Ql.H[3]+du],24,fu))}}}li.vc=Cn,li.Wb=Gn,li.Ya=ss,li.yc=is,We=1;break t}We=0}if(!(B=We)){D.a=3;break e}if(0<Ee){if(Y.ua=1<<Ee,!C(Y.Wa,Ee)){D.a=1,B=0;break e}}else Y.ua=0;var RE=D,u4=U,oV=H,NE=RE.s,PE=NE.xc;if(RE.c=u4,RE.i=oV,NE.md=ce(u4,PE),NE.wc=PE==0?-1:(1<<PE)-1,b){D.xb=Oz;break e}if((ue=o(U*H))==null){D.a=1,B=0;break e}B=(B=ca(D,ue,0,U,H,H,null))&&!q.h;break e}return B?(L!=null?L[0]=ue:(e(ue==null),e(b)),D.$=0,b||As(Y)):As(Y),B}function gh(p,m){var b=p.c*p.i,D=b+m+16*m;return e(p.c<=m),p.V=o(D),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+b+m,1)}function of(p,m){var b=p.C,D=m-b,L=p.V,B=p.Ba+p.c*b;for(e(m<=p.l.o);0<D;){var U=16<D?16:D,H=p.l.ma,q=p.l.width,Y=q*U,ue=H.ca,Ee=H.tb+q*b,X=p.Ta,fe=p.Ua;fh(p,U,L,B),kN(X,fe,ue,Ee,Y),Ha(H,b,b+U,ue,Ee,q),D-=U,L+=U*p.c,b+=U}e(b==m),p.C=p.Ma=m}function sf(){this.ub=this.yd=this.td=this.Rb=0}function af(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nE(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function qg(){this.Yb=(function(){var p=[];return(function m(b,D,L){for(var B=L[D],U=0;U<B&&(b.push(L.length>D+1?[]:0),!(L.length<D+1));U++)m(b[U],D+1,L)})(p,0,[3,11]),p})()}function I_(){this.jb=o(3),this.Wc=a([4,8],qg),this.Xc=a([4,17],qg)}function D_(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Rs(){this.ld=this.La=this.dd=this.tc=0}function Wg(){this.Na=this.la=0}function T_(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $g(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function M_(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rs),this.Y=0,this.ya=Array(new $g),this.aa=0,this.l=new lf}function A_(){this.y=o(16),this.f=o(8),this.ea=o(8)}function R_(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new sf,this.Kc=new af,this.ed=new D_,this.Qa=new nE,this.Ic=this.$c=this.Aa=0,this.D=new M_,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,T_),this.Pa=new I_,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new A_),this.Hd=0,this.rb=Array(new Wg),this.sb=0,this.wa=Array(new Rs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $g),this.L=this.aa=0,this.gd=a([4,2],Rs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wa(p,m){return 0>p?0:p>m?m:p}function lf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function rE(){var p=new R_;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,pm||(pm=cf)),p}function Wr(p,m,b){return p.a==0&&(p.a=m,p.sc=b,p.cb=0),0}function N_(p,m,b){return 3<=b&&p[m+0]==157&&p[m+1]==1&&p[m+2]==42}function $a(p,m){if(p==null)return 0;if(p.a=0,p.sc="OK",m==null)return Wr(p,2,"null VP8Io passed to VP8GetHeaders()");var b=m.data,D=m.w,L=m.ha;if(4>L)return Wr(p,7,"Truncated header.");var B=b[D+0]|b[D+1]<<8|b[D+2]<<16,U=p.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return Wr(p,3,"Incorrect keyframe parameters.");if(!U.yd)return Wr(p,4,"Frame not displayable.");D+=3,L-=3;var H=p.Kc;if(U.Rb){if(7>L)return Wr(p,7,"cannot parse picture header");if(!N_(b,D,L))return Wr(p,3,"Bad code word");H.c=16383&(b[D+4]<<8|b[D+3]),H.Td=b[D+4]>>6,H.i=16383&(b[D+6]<<8|b[D+5]),H.Ud=b[D+6]>>6,D+=7,L-=7,p.za=H.c+15>>4,p.Ub=H.i+15>>4,m.width=H.c,m.height=H.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((B=p.Pa).jb,0,255,B.jb.length),e((B=p.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(U.ub>L)return Wr(p,7,"bad partition length");se(B=p.m,b,D,U.ub),D+=U.ub,L-=U.ub,U.Rb&&(H.Ld=_e(B),H.Kd=_e(B)),H=p.Qa;var q,Y=p.Pa;if(e(B!=null),e(H!=null),H.Cb=_e(B),H.Cb){if(H.Bb=_e(B),_e(B)){for(H.Fb=_e(B),q=0;4>q;++q)H.Zb[q]=_e(B)?te(B,7):0;for(q=0;4>q;++q)H.Lb[q]=_e(B)?te(B,6):0}if(H.Bb)for(q=0;3>q;++q)Y.jb[q]=_e(B)?K(B,8):255}else H.Bb=0;if(B.Ka)return Wr(p,3,"cannot parse segment header");if((H=p.ed).zd=_e(B),H.Tb=K(B,6),H.wb=K(B,3),H.Pc=_e(B),H.Pc&&_e(B)){for(Y=0;4>Y;++Y)_e(B)&&(H.vd[Y]=te(B,6));for(Y=0;4>Y;++Y)_e(B)&&(H.od[Y]=te(B,6))}if(p.L=H.Tb==0?0:H.zd?1:2,B.Ka)return Wr(p,3,"cannot parse filter header");var ue=L;if(L=q=D,D=q+ue,H=ue,p.Xb=(1<<K(p.m,2))-1,ue<3*(Y=p.Xb))b=7;else{for(q+=3*Y,H-=3*Y,ue=0;ue<Y;++ue){var Ee=b[L+0]|b[L+1]<<8|b[L+2]<<16;Ee>H&&(Ee=H),se(p.Jc[+ue],b,q,Ee),q+=Ee,H-=Ee,L+=3}se(p.Jc[+Y],b,q,H),b=q<D?0:5}if(b!=0)return Wr(p,b,"cannot parse partitions");for(b=K(q=p.m,7),L=_e(q)?te(q,4):0,D=_e(q)?te(q,4):0,H=_e(q)?te(q,4):0,Y=_e(q)?te(q,4):0,q=_e(q)?te(q,4):0,ue=p.Qa,Ee=0;4>Ee;++Ee){if(ue.Cb){var X=ue.Zb[Ee];ue.Fb||(X+=b)}else{if(0<Ee){p.pb[Ee]=p.pb[0];continue}X=b}var fe=p.pb[Ee];fe.Sc[0]=EE[Wa(X+L,127)],fe.Sc[1]=SE[Wa(X+0,127)],fe.Eb[0]=2*EE[Wa(X+D,127)],fe.Eb[1]=101581*SE[Wa(X+H,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=EE[Wa(X+Y,117)],fe.Qc[1]=SE[Wa(X+q,127)],fe.lc=X+q}if(!U.Rb)return Wr(p,4,"Not a key frame.");for(_e(B),U=p.Pa,b=0;4>b;++b){for(L=0;8>L;++L)for(D=0;3>D;++D)for(H=0;11>H;++H)Y=Ce(B,Lz[b][L][D][H])?K(B,8):Nz[b][L][D][H],U.Wc[b][L].Yb[D][H]=Y;for(L=0;17>L;++L)U.Xc[b][L]=U.Wc[b][kz[L]]}return p.kc=_e(B),p.kc&&(p.Bd=K(B,8)),p.cb=1}function cf(p,m,b,D,L,B,U){var H=m[L].Yb[b];for(b=0;16>L;++L){if(!Ce(p,H[b+0]))return L;for(;!Ce(p,H[b+1]);)if(H=m[++L].Yb[0],b=0,L==16)return 16;var q=m[L+1].Yb;if(Ce(p,H[b+2])){var Y=p,ue=0;if(Ce(Y,(X=H)[(Ee=b)+3]))if(Ce(Y,X[Ee+6])){for(H=0,Ee=2*(ue=Ce(Y,X[Ee+8]))+(X=Ce(Y,X[Ee+9+ue])),ue=0,X=Az[Ee];X[H];++H)ue+=ue+Ce(Y,X[H]);ue+=3+(8<<Ee)}else Ce(Y,X[Ee+7])?(ue=7+2*Ce(Y,165),ue+=Ce(Y,145)):ue=5+Ce(Y,159);else ue=Ce(Y,X[Ee+4])?3+Ce(Y,X[Ee+5]):2;H=q[2]}else ue=1,H=q[1];q=U+Rz[L],0>(Y=p).b&&ye(Y);var Ee,X=Y.b,fe=(Ee=Y.Ca>>1)-(Y.I>>X)>>31;--Y.b,Y.Ca+=fe,Y.Ca|=1,Y.I-=(Ee+1&fe)<<X,B[q]=((ue^fe)-fe)*D[(0<L)+0]}return 16}function P_(p){var m=p.rb[p.sb-1];m.la=0,m.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function Ns(p,m,b,D,L){L=p[m+b+32*D]+(L>>3),p[m+b+32*D]=-256&L?0>L?0:255:L}function ii(p,m,b,D,L,B){Ns(p,m,0,b,D+L),Ns(p,m,1,b,D+B),Ns(p,m,2,b,D-B),Ns(p,m,3,b,D-L)}function Bl(p){return(20091*p>>16)+p}function L_(p,m,b,D){var L,B=0,U=o(16);for(L=0;4>L;++L){var H=p[m+0]+p[m+8],q=p[m+0]-p[m+8],Y=(35468*p[m+4]>>16)-Bl(p[m+12]),ue=Bl(p[m+4])+(35468*p[m+12]>>16);U[B+0]=H+ue,U[B+1]=q+Y,U[B+2]=q-Y,U[B+3]=H-ue,B+=4,m++}for(L=B=0;4>L;++L)H=(p=U[B+0]+4)+U[B+8],q=p-U[B+8],Y=(35468*U[B+4]>>16)-Bl(U[B+12]),Ns(b,D,0,0,H+(ue=Bl(U[B+4])+(35468*U[B+12]>>16))),Ns(b,D,1,0,q+Y),Ns(b,D,2,0,q-Y),Ns(b,D,3,0,H-ue),B++,D+=32}function iE(p,m,b,D){var L=p[m+0]+4,B=35468*p[m+4]>>16,U=Bl(p[m+4]),H=35468*p[m+1]>>16;ii(b,D,0,L+U,p=Bl(p[m+1]),H),ii(b,D,1,L+B,p,H),ii(b,D,2,L-B,p,H),ii(b,D,3,L-U,p,H)}function oE(p,m,b,D,L){L_(p,m,b,D),L&&L_(p,m+16,b,D+4)}function Za(p,m,b,D){Th(p,m+0,b,D,1),Th(p,m+32,b,D+128,1)}function k_(p,m,b,D){var L;for(p=p[m+0]+4,L=0;4>L;++L)for(m=0;4>m;++m)Ns(b,D,m,L,p)}function O_(p,m,b,D){p[m+0]&&On(p,m+0,b,D),p[m+16]&&On(p,m+16,b,D+4),p[m+32]&&On(p,m+32,b,D+128),p[m+48]&&On(p,m+48,b,D+128+4)}function uf(p,m,b,D){var L,B=o(16);for(L=0;4>L;++L){var U=p[m+0+L]+p[m+12+L],H=p[m+4+L]+p[m+8+L],q=p[m+4+L]-p[m+8+L],Y=p[m+0+L]-p[m+12+L];B[0+L]=U+H,B[8+L]=U-H,B[4+L]=Y+q,B[12+L]=Y-q}for(L=0;4>L;++L)U=(p=B[0+4*L]+3)+B[3+4*L],H=B[1+4*L]+B[2+4*L],q=B[1+4*L]-B[2+4*L],Y=p-B[3+4*L],b[D+0]=U+H>>3,b[D+16]=Y+q>>3,b[D+32]=U-H>>3,b[D+48]=Y-q>>3,D+=64}function mh(p,m,b){var D,L=m-32,B=rs,U=255-p[L-1];for(D=0;D<b;++D){var H,q=B,Y=U+p[m-1];for(H=0;H<b;++H)p[m+H]=q[Y+p[L+H]];m+=32}}function sE(p,m){mh(p,m,4)}function aE(p,m){mh(p,m,8)}function lE(p,m){mh(p,m,16)}function Zg(p,m){var b;for(b=0;16>b;++b)r(p,m+32*b,p,m-32,16)}function F_(p,m){var b;for(b=16;0<b;--b)i(p,m,p[m-1],16),m+=32}function ua(p,m,b){var D;for(D=0;16>D;++D)i(m,b+32*D,p,16)}function cE(p,m){var b,D=16;for(b=0;16>b;++b)D+=p[m-1+32*b]+p[m+b-32];ua(D>>5,p,m)}function _h(p,m){var b,D=8;for(b=0;16>b;++b)D+=p[m-1+32*b];ua(D>>4,p,m)}function Yg(p,m){var b,D=8;for(b=0;16>b;++b)D+=p[m+b-32];ua(D>>4,p,m)}function uE(p,m){ua(128,p,m)}function Pt(p,m,b){return p+2*m+b+2>>2}function hE(p,m){var b,D=m-32;for(D=new Uint8Array([Pt(p[D-1],p[D+0],p[D+1]),Pt(p[D+0],p[D+1],p[D+2]),Pt(p[D+1],p[D+2],p[D+3]),Pt(p[D+2],p[D+3],p[D+4])]),b=0;4>b;++b)r(p,m+32*b,D,0,D.length)}function dE(p,m){var b=p[m-1],D=p[m-1+32],L=p[m-1+64],B=p[m-1+96];Le(p,m+0,16843009*Pt(p[m-1-32],b,D)),Le(p,m+32,16843009*Pt(b,D,L)),Le(p,m+64,16843009*Pt(D,L,B)),Le(p,m+96,16843009*Pt(L,B,B))}function fE(p,m){var b,D=4;for(b=0;4>b;++b)D+=p[m+b-32]+p[m-1+32*b];for(D>>=3,b=0;4>b;++b)i(p,m+32*b,D,4)}function Ul(p,m){var b=p[m-1+0],D=p[m-1+32],L=p[m-1+64],B=p[m-1-32],U=p[m+0-32],H=p[m+1-32],q=p[m+2-32],Y=p[m+3-32];p[m+0+96]=Pt(D,L,p[m-1+96]),p[m+1+96]=p[m+0+64]=Pt(b,D,L),p[m+2+96]=p[m+1+64]=p[m+0+32]=Pt(B,b,D),p[m+3+96]=p[m+2+64]=p[m+1+32]=p[m+0+0]=Pt(U,B,b),p[m+3+64]=p[m+2+32]=p[m+1+0]=Pt(H,U,B),p[m+3+32]=p[m+2+0]=Pt(q,H,U),p[m+3+0]=Pt(Y,q,H)}function Gl(p,m){var b=p[m+1-32],D=p[m+2-32],L=p[m+3-32],B=p[m+4-32],U=p[m+5-32],H=p[m+6-32],q=p[m+7-32];p[m+0+0]=Pt(p[m+0-32],b,D),p[m+1+0]=p[m+0+32]=Pt(b,D,L),p[m+2+0]=p[m+1+32]=p[m+0+64]=Pt(D,L,B),p[m+3+0]=p[m+2+32]=p[m+1+64]=p[m+0+96]=Pt(L,B,U),p[m+3+32]=p[m+2+64]=p[m+1+96]=Pt(B,U,H),p[m+3+64]=p[m+2+96]=Pt(U,H,q),p[m+3+96]=Pt(H,q,q)}function pE(p,m){var b=p[m-1+0],D=p[m-1+32],L=p[m-1+64],B=p[m-1-32],U=p[m+0-32],H=p[m+1-32],q=p[m+2-32],Y=p[m+3-32];p[m+0+0]=p[m+1+64]=B+U+1>>1,p[m+1+0]=p[m+2+64]=U+H+1>>1,p[m+2+0]=p[m+3+64]=H+q+1>>1,p[m+3+0]=q+Y+1>>1,p[m+0+96]=Pt(L,D,b),p[m+0+64]=Pt(D,b,B),p[m+0+32]=p[m+1+96]=Pt(b,B,U),p[m+1+32]=p[m+2+96]=Pt(B,U,H),p[m+2+32]=p[m+3+96]=Pt(U,H,q),p[m+3+32]=Pt(H,q,Y)}function gE(p,m){var b=p[m+0-32],D=p[m+1-32],L=p[m+2-32],B=p[m+3-32],U=p[m+4-32],H=p[m+5-32],q=p[m+6-32],Y=p[m+7-32];p[m+0+0]=b+D+1>>1,p[m+1+0]=p[m+0+64]=D+L+1>>1,p[m+2+0]=p[m+1+64]=L+B+1>>1,p[m+3+0]=p[m+2+64]=B+U+1>>1,p[m+0+32]=Pt(b,D,L),p[m+1+32]=p[m+0+96]=Pt(D,L,B),p[m+2+32]=p[m+1+96]=Pt(L,B,U),p[m+3+32]=p[m+2+96]=Pt(B,U,H),p[m+3+64]=Pt(U,H,q),p[m+3+96]=Pt(H,q,Y)}function hf(p,m){var b=p[m-1+0],D=p[m-1+32],L=p[m-1+64],B=p[m-1+96];p[m+0+0]=b+D+1>>1,p[m+2+0]=p[m+0+32]=D+L+1>>1,p[m+2+32]=p[m+0+64]=L+B+1>>1,p[m+1+0]=Pt(b,D,L),p[m+3+0]=p[m+1+32]=Pt(D,L,B),p[m+3+32]=p[m+1+64]=Pt(L,B,B),p[m+3+64]=p[m+2+64]=p[m+0+96]=p[m+1+96]=p[m+2+96]=p[m+3+96]=B}function Xg(p,m){var b=p[m-1+0],D=p[m-1+32],L=p[m-1+64],B=p[m-1+96],U=p[m-1-32],H=p[m+0-32],q=p[m+1-32],Y=p[m+2-32];p[m+0+0]=p[m+2+32]=b+U+1>>1,p[m+0+32]=p[m+2+64]=D+b+1>>1,p[m+0+64]=p[m+2+96]=L+D+1>>1,p[m+0+96]=B+L+1>>1,p[m+3+0]=Pt(H,q,Y),p[m+2+0]=Pt(U,H,q),p[m+1+0]=p[m+3+32]=Pt(b,U,H),p[m+1+32]=p[m+3+64]=Pt(D,b,U),p[m+1+64]=p[m+3+96]=Pt(L,D,b),p[m+1+96]=Pt(B,L,D)}function yh(p,m){var b;for(b=0;8>b;++b)r(p,m+32*b,p,m-32,8)}function mE(p,m){var b;for(b=0;8>b;++b)i(p,m,p[m-1],8),m+=32}function zl(p,m,b){var D;for(D=0;8>D;++D)i(m,b+32*D,p,8)}function _E(p,m){var b,D=8;for(b=0;8>b;++b)D+=p[m+b-32]+p[m-1+32*b];zl(D>>4,p,m)}function Kg(p,m){var b,D=4;for(b=0;8>b;++b)D+=p[m+b-32];zl(D>>3,p,m)}function Jg(p,m){var b,D=4;for(b=0;8>b;++b)D+=p[m-1+32*b];zl(D>>3,p,m)}function j_(p,m){zl(128,p,m)}function Vl(p,m,b){var D=p[m-b],L=p[m+0],B=3*(L-D)+yE[1020+p[m-2*b]-p[m+b]],U=W_[112+(B+4>>3)];p[m-b]=rs[255+D+W_[112+(B+3>>3)]],p[m+0]=rs[255+L-U]}function Qg(p,m,b,D){var L=p[m+0],B=p[m+b];return ks[255+p[m-2*b]-p[m-b]]>D||ks[255+B-L]>D}function df(p,m,b,D){return 4*ks[255+p[m-b]-p[m+0]]+ks[255+p[m-2*b]-p[m+b]]<=D}function em(p,m,b,D,L){var B=p[m-3*b],U=p[m-2*b],H=p[m-b],q=p[m+0],Y=p[m+b],ue=p[m+2*b],Ee=p[m+3*b];return 4*ks[255+H-q]+ks[255+U-Y]>D?0:ks[255+p[m-4*b]-B]<=L&&ks[255+B-U]<=L&&ks[255+U-H]<=L&&ks[255+Ee-ue]<=L&&ks[255+ue-Y]<=L&&ks[255+Y-q]<=L}function vh(p,m,b,D){var L=2*D+1;for(D=0;16>D;++D)df(p,m+D,b,L)&&Vl(p,m+D,b)}function tm(p,m,b,D){var L=2*D+1;for(D=0;16>D;++D)df(p,m+D*b,1,L)&&Vl(p,m+D*b,1)}function B_(p,m,b,D){var L;for(L=3;0<L;--L)vh(p,m+=4*b,b,D)}function U_(p,m,b,D){var L;for(L=3;0<L;--L)tm(p,m+=4,b,D)}function Hl(p,m,b,D,L,B,U,H){for(B=2*B+1;0<L--;){if(em(p,m,b,B,U))if(Qg(p,m,b,H))Vl(p,m,b);else{var q=p,Y=m,ue=b,Ee=q[Y-2*ue],X=q[Y-ue],fe=q[Y+0],me=q[Y+ue],Ie=q[Y+2*ue],we=27*(Ne=yE[1020+3*(fe-X)+yE[1020+Ee-me]])+63>>7,Te=18*Ne+63>>7,Ne=9*Ne+63>>7;q[Y-3*ue]=rs[255+q[Y-3*ue]+Ne],q[Y-2*ue]=rs[255+Ee+Te],q[Y-ue]=rs[255+X+we],q[Y+0]=rs[255+fe-we],q[Y+ue]=rs[255+me-Te],q[Y+2*ue]=rs[255+Ie-Ne]}m+=D}}function ql(p,m,b,D,L,B,U,H){for(B=2*B+1;0<L--;){if(em(p,m,b,B,U))if(Qg(p,m,b,H))Vl(p,m,b);else{var q=p,Y=m,ue=b,Ee=q[Y-ue],X=q[Y+0],fe=q[Y+ue],me=W_[112+(4+(Ie=3*(X-Ee))>>3)],Ie=W_[112+(Ie+3>>3)],we=me+1>>1;q[Y-2*ue]=rs[255+q[Y-2*ue]+we],q[Y-ue]=rs[255+Ee+Ie],q[Y+0]=rs[255+X-me],q[Y+ue]=rs[255+fe-we]}m+=D}}function G_(p,m,b,D,L,B){Hl(p,m,b,1,16,D,L,B)}function wh(p,m,b,D,L,B){Hl(p,m,1,b,16,D,L,B)}function z_(p,m,b,D,L,B){var U;for(U=3;0<U;--U)ql(p,m+=4*b,b,1,16,D,L,B)}function w(p,m,b,D,L,B){var U;for(U=3;0<U;--U)ql(p,m+=4,1,b,16,D,L,B)}function P(p,m,b,D,L,B,U,H){Hl(p,m,L,1,8,B,U,H),Hl(b,D,L,1,8,B,U,H)}function J(p,m,b,D,L,B,U,H){Hl(p,m,1,L,8,B,U,H),Hl(b,D,1,L,8,B,U,H)}function oe(p,m,b,D,L,B,U,H){ql(p,m+4*L,L,1,8,B,U,H),ql(b,D+4*L,L,1,8,B,U,H)}function ge(p,m,b,D,L,B,U,H){ql(p,m+4,1,L,8,B,U,H),ql(b,D+4,1,L,8,B,U,H)}function Ae(){this.ba=new kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new En,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lt(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new O}function At(){this.xb=this.a=0,this.l=new lf,this.ca=new kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lt,this.ab=0,this.gc=s(4,rt),this.Oc=0}function qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sn(p,m,b,D,L,B,U){for(p=p==null?0:p[m+0],m=0;m<U;++m)L[B+m]=p+b[D+m]&255,p=L[B+m]}function mr(p,m,b,D,L,B,U){var H;if(p==null)Sn(null,null,b,D,L,B,U);else for(H=0;H<U;++H)L[B+H]=p[m+H]+b[D+H]&255}function $r(p,m,b,D,L,B,U){if(p==null)Sn(null,null,b,D,L,B,U);else{var H,q=p[m+0],Y=q,ue=q;for(H=0;H<U;++H)Y=ue+(q=p[m+H])-Y,ue=b[D+H]+(-256&Y?0>Y?0:255:Y)&255,Y=q,L[B+H]=ue}}function er(p,m,b,D){var L=m.width,B=m.o;if(e(p!=null&&m!=null),0>b||0>=D||b+D>B)return null;if(!p.Cc){if(p.ga==null){var U;if(p.ga=new qt,(U=p.ga==null)||(U=m.width*m.o,e(p.Gb.length==0),p.Gb=o(U),p.Uc=0,p.Gb==null?U=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,U=1),U=!U),!U){U=p.ga;var H=p.Fa,q=p.P,Y=p.qc,ue=p.mb,Ee=p.nb,X=q+1,fe=Y-1,me=U.l;if(e(H!=null&&ue!=null&&m!=null),cu[0]=null,cu[1]=Sn,cu[2]=mr,cu[3]=$r,U.ca=ue,U.tb=Ee,U.c=m.width,U.i=m.height,e(0<U.c&&0<U.i),1>=Y)m=0;else if(U.$a=3&H[q+0],U.Z=H[q+0]>>2&3,U.Lc=H[q+0]>>4&3,q=H[q+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||q)m=0;else if(me.put=nt,me.ac=Mr,me.bc=ni,me.ma=U,me.width=m.width,me.height=m.height,me.Da=m.Da,me.v=m.v,me.va=m.va,me.j=m.j,me.o=m.o,U.$a)e:{e(U.$a==1),m=ph();t:for(;;){if(m==null){m=0;break e}if(e(U!=null),U.mc=m,m.c=U.c,m.i=U.i,m.l=U.l,m.l.ma=U,m.l.width=U.c,m.l.height=U.i,m.a=0,W(m.m,H,X,fe),!qa(U.c,U.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&aa(m.s)?(U.ic=1,H=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o(H),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(U.ic=0,m=gh(m,U.c)),!m))break t;m=1;break e}U.mc=null,m=0}else m=fe>=U.c*U.i;U=!m}if(U)return null;p.ga.Lc!=1?p.Ga=0:D=B-b}e(p.ga!=null),e(b+D<=B);e:{if(m=(H=p.ga).c,B=H.l.o,H.$a==0){if(X=p.rc,fe=p.Vc,me=p.Fa,q=p.P+1+b*m,Y=p.mb,ue=p.nb+b*m,e(q<=p.P+p.qc),H.Z!=0)for(e(cu[H.Z]!=null),U=0;U<D;++U)cu[H.Z](X,fe,me,q,Y,ue,m),X=Y,fe=ue,ue+=m,q+=m;else for(U=0;U<D;++U)r(Y,ue,me,q,m),X=Y,fe=ue,ue+=m,q+=m;p.rc=X,p.Vc=fe}else{if(e(H.mc!=null),m=b+D,e((U=H.mc)!=null),e(m<=U.i),U.C>=m)m=1;else if(H.ic||ha(),H.ic){H=U.V,X=U.Ba,fe=U.c;var Ie=U.i,we=(me=1,q=U.$/fe,Y=U.$%fe,ue=U.m,Ee=U.s,U.$),Te=fe*Ie,Ne=fe*m,Ue=Ee.wc,Oe=we<Ne?Pi(Ee,Y,q):null;e(we<=Te),e(m<=Ie),e(aa(Ee));t:for(;;){for(;!ue.h&&we<Ne;){if(Y&Ue||(Oe=Pi(Ee,Y,q)),e(Oe!=null),le(ue),256>(Ie=Dn(Oe.G[0],Oe.H[0],ue)))H[X+we]=Ie,++we,++Y>=fe&&(Y=0,++q<=m&&!(q%16)&&la(U,q));else{if(!(280>Ie)){me=0;break t}Ie=pn(Ie-256,ue);var ht,et=Dn(Oe.G[4],Oe.H[4],ue);if(le(ue),!(we>=(et=Wn(fe,et=pn(et,ue)))&&Te-we>=Ie)){me=0;break t}for(ht=0;ht<Ie;++ht)H[X+we+ht]=H[X+we+ht-et];for(we+=Ie,Y+=Ie;Y>=fe;)Y-=fe,++q<=m&&!(q%16)&&la(U,q);we<Ne&&Y&Ue&&(Oe=Pi(Ee,Y,q))}e(ue.h==ne(ue))}la(U,q>m?m:q);break t}!me||ue.h&&we<Te?(me=0,U.a=ue.h?5:3):U.$=we,m=me}else m=ca(U,U.V,U.Ba,U.c,U.i,m,of);if(!m){D=0;break e}}b+D>=B&&(p.Cc=1),D=1}if(!D)return null;if(p.Cc&&((D=p.ga)!=null&&(D.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+b*L}function oi(p,m,b,D,L,B){for(;0<L--;){var U,H=p,q=m+(b?1:0),Y=p,ue=m+(b?0:3);for(U=0;U<D;++U){var Ee=Y[ue+4*U];Ee!=255&&(Ee*=32897,H[q+4*U+0]=H[q+4*U+0]*Ee>>23,H[q+4*U+1]=H[q+4*U+1]*Ee>>23,H[q+4*U+2]=H[q+4*U+2]*Ee>>23)}m+=B}}function Zr(p,m,b,D,L){for(;0<D--;){var B;for(B=0;B<b;++B){var U=p[m+2*B+0],H=15&(Y=p[m+2*B+1]),q=4369*H,Y=(240&Y|Y>>4)*q>>16;p[m+2*B+0]=(240&U|U>>4)*q>>16&240|(15&U|U<<4)*q>>16>>4&15,p[m+2*B+1]=240&Y|H}m+=L}}function Li(p,m,b,D,L,B,U,H){var q,Y,ue=255;for(Y=0;Y<L;++Y){for(q=0;q<D;++q){var Ee=p[m+q];B[U+4*q]=Ee,ue&=Ee}m+=b,U+=H}return ue!=255}function Wl(p,m,b,D,L){var B;for(B=0;B<L;++B)b[D+B]=p[m+B]>>8}function ha(){fm=oi,PN=Zr,LN=Li,kN=Wl}function $l(p,m,b){k[p]=function(D,L,B,U,H,q,Y,ue,Ee,X,fe,me,Ie,we,Te,Ne,Ue){var Oe,ht=Ue-1>>1,et=H[q+0]|Y[ue+0]<<16,Zt=Ee[X+0]|fe[me+0]<<16;e(D!=null);var it=3*et+Zt+131074>>2;for(m(D[L+0],255&it,it>>16,Ie,we),B!=null&&(it=3*Zt+et+131074>>2,m(B[U+0],255&it,it>>16,Te,Ne)),Oe=1;Oe<=ht;++Oe){var gn=H[q+Oe]|Y[ue+Oe]<<16,ai=Ee[X+Oe]|fe[me+Oe]<<16,Yt=et+gn+Zt+ai+524296,ot=Yt+2*(gn+Zt)>>3;it=ot+et>>1,et=(Yt=Yt+2*(et+ai)>>3)+gn>>1,m(D[L+2*Oe-1],255&it,it>>16,Ie,we+(2*Oe-1)*b),m(D[L+2*Oe-0],255&et,et>>16,Ie,we+(2*Oe-0)*b),B!=null&&(it=Yt+Zt>>1,et=ot+ai>>1,m(B[U+2*Oe-1],255&it,it>>16,Te,Ne+(2*Oe-1)*b),m(B[U+2*Oe+0],255&et,et>>16,Te,Ne+(2*Oe+0)*b)),et=gn,Zt=ai}1&Ue||(it=3*et+Zt+131074>>2,m(D[L+Ue-1],255&it,it>>16,Ie,we+(Ue-1)*b),B!=null&&(it=3*Zt+et+131074>>2,m(B[U+Ue-1],255&it,it>>16,Te,Ne+(Ue-1)*b)))}}function nm(){Os[$_]=Fz,Os[Z_]=WN,Os[GN]=jz,Os[Y_]=$N,Os[X_]=ZN,Os[vE]=YN,Os[zN]=Bz,Os[wE]=WN,Os[xE]=$N,Os[K_]=ZN,Os[bE]=YN}function ff(p){return p&~Uz?0>p?0:255:p>>XN}function Qc(p,m){return ff((19077*p>>8)+(26149*m>>8)-14234)}function xh(p,m,b){return ff((19077*p>>8)-(6419*m>>8)-(13320*b>>8)+8708)}function bh(p,m){return ff((19077*p>>8)+(33050*m>>8)-17685)}function eu(p,m,b,D,L){D[L+0]=Qc(p,b),D[L+1]=xh(p,m,b),D[L+2]=bh(p,m)}function ki(p,m,b,D,L){D[L+0]=bh(p,m),D[L+1]=xh(p,m,b),D[L+2]=Qc(p,b)}function Eh(p,m,b,D,L){var B=xh(p,m,b);m=B<<3&224|bh(p,m)>>3,D[L+0]=248&Qc(p,b)|B>>5,D[L+1]=m}function Sh(p,m,b,D,L){var B=240&bh(p,m)|15;D[L+0]=240&Qc(p,b)|xh(p,m,b)>>4,D[L+1]=B}function rm(p,m,b,D,L){D[L+0]=255,eu(p,m,b,D,L+1)}function im(p,m,b,D,L){ki(p,m,b,D,L),D[L+3]=255}function mo(p,m,b,D,L){eu(p,m,b,D,L),D[L+3]=255}function Zl(p,m,b){k[p]=function(D,L,B,U,H,q,Y,ue,Ee){for(var X=ue+(-2&Ee)*b;ue!=X;)m(D[L+0],B[U+0],H[q+0],Y,ue),m(D[L+1],B[U+0],H[q+0],Y,ue+b),L+=2,++U,++q,ue+=2*b;1&Ee&&m(D[L+0],B[U+0],H[q+0],Y,ue)}}function pf(p,m,b){return b==0?p==0?m==0?6:5:m==0?4:0:b}function V_(p,m,b,D,L){switch(p>>>30){case 3:Th(m,b,D,L,0);break;case 2:Ls(m,b,D,L);break;case 1:On(m,b,D,L)}}function Ps(p,m){var b,D,L=m.M,B=m.Nb,U=p.oc,H=p.pc+40,q=p.oc,Y=p.pc+584,ue=p.oc,Ee=p.pc+600;for(b=0;16>b;++b)U[H+32*b-1]=129;for(b=0;8>b;++b)q[Y+32*b-1]=129,ue[Ee+32*b-1]=129;for(0<L?U[H-1-32]=q[Y-1-32]=ue[Ee-1-32]=129:(i(U,H-32-1,127,21),i(q,Y-32-1,127,9),i(ue,Ee-32-1,127,9)),D=0;D<p.za;++D){var X=m.ya[m.aa+D];if(0<D){for(b=-1;16>b;++b)r(U,H+32*b-4,U,H+32*b+12,4);for(b=-1;8>b;++b)r(q,Y+32*b-4,q,Y+32*b+4,4),r(ue,Ee+32*b-4,ue,Ee+32*b+4,4)}var fe=p.Gd,me=p.Hd+D,Ie=X.ad,we=X.Hc;if(0<L&&(r(U,H-32,fe[me].y,0,16),r(q,Y-32,fe[me].f,0,8),r(ue,Ee-32,fe[me].ea,0,8)),X.Za){var Te=U,Ne=H-32+16;for(0<L&&(D>=p.za-1?i(Te,Ne,fe[me].y[15],4):r(Te,Ne,fe[me+1].y,0,4)),b=0;4>b;b++)Te[Ne+128+b]=Te[Ne+256+b]=Te[Ne+384+b]=Te[Ne+0+b];for(b=0;16>b;++b,we<<=2)Te=U,Ne=H+JN[b],da[X.Ob[b]](Te,Ne),V_(we,Ie,16*+b,Te,Ne)}else if(Te=pf(D,L,X.Ob[0]),lu[Te](U,H),we!=0)for(b=0;16>b;++b,we<<=2)V_(we,Ie,16*+b,U,H+JN[b]);for(b=X.Gc,Te=pf(D,L,X.Dd),Kl[Te](q,Y),Kl[Te](ue,Ee),we=Ie,Te=q,Ne=Y,255&(X=0|b)&&(170&X?Ka(we,256,Te,Ne):Kn(we,256,Te,Ne)),X=ue,we=Ee,255&(b>>=8)&&(170&b?Ka(Ie,320,X,we):Kn(Ie,320,X,we)),L<p.Ub-1&&(r(fe[me].y,0,U,H+480,16),r(fe[me].f,0,q,Y+224,8),r(fe[me].ea,0,ue,Ee+224,8)),b=8*B*p.B,fe=p.sa,me=p.ta+16*D+16*B*p.R,Ie=p.qa,X=p.ra+8*D+b,we=p.Ha,Te=p.Ia+8*D+b,b=0;16>b;++b)r(fe,me+b*p.R,U,H+32*b,16);for(b=0;8>b;++b)r(Ie,X+b*p.B,q,Y+32*b,8),r(we,Te+b*p.B,ue,Ee+32*b,8)}}function Ch(p,m,b,D,L,B,U,H,q){var Y=[0],ue=[0],Ee=0,X=q!=null?q.kd:0,fe=q??new ke;if(p==null||12>b)return 7;fe.data=p,fe.w=m,fe.ha=b,m=[m],b=[b],fe.gb=[fe.gb];e:{var me=m,Ie=b,we=fe.gb;if(e(p!=null),e(Ie!=null),e(we!=null),we[0]=0,12<=Ie[0]&&!t(p,me[0],"RIFF")){if(t(p,me[0]+8,"WEBP")){we=3;break e}var Te=he(p,me[0]+4);if(12>Te||4294967286<Te){we=3;break e}if(X&&Te>Ie[0]-8){we=7;break e}we[0]=Te,me[0]+=12,Ie[0]-=12}we=0}if(we!=0)return we;for(Te=0<fe.gb[0],b=b[0];;){e:{var Ne=p;Ie=m,we=b;var Ue=Y,Oe=ue,ht=me=[0];if((it=Ee=[Ee])[0]=0,8>we[0])we=7;else{if(!t(Ne,Ie[0],"VP8X")){if(he(Ne,Ie[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var et=he(Ne,Ie[0]+8),Zt=1+de(Ne,Ie[0]+12);if(2147483648<=Zt*(Ne=1+de(Ne,Ie[0]+15))){we=3;break e}ht!=null&&(ht[0]=et),Ue!=null&&(Ue[0]=Zt),Oe!=null&&(Oe[0]=Ne),Ie[0]+=18,we[0]-=18,it[0]=1}we=0}}if(Ee=Ee[0],me=me[0],we!=0)return we;if(Ie=!!(2&me),!Te&&Ee)return 3;if(B!=null&&(B[0]=!!(16&me)),U!=null&&(U[0]=Ie),H!=null&&(H[0]=0),U=Y[0],me=ue[0],Ee&&Ie&&q==null){we=0;break}if(4>b){we=7;break}if(Te&&Ee||!Te&&!Ee&&!t(p,m[0],"ALPH")){b=[b],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{et=p,we=m,Te=b;var it=fe.gb;Ue=fe.na,Oe=fe.P,ht=fe.Sa,Zt=22,e(et!=null),e(Te!=null),Ne=we[0];var gn=Te[0];for(e(Ue!=null),e(ht!=null),Ue[0]=null,Oe[0]=null,ht[0]=0;;){if(we[0]=Ne,Te[0]=gn,8>gn){we=7;break e}var ai=he(et,Ne+4);if(4294967286<ai){we=3;break e}var Yt=8+ai+1&-2;if(Zt+=Yt,0<it&&Zt>it){we=3;break e}if(!t(et,Ne,"VP8 ")||!t(et,Ne,"VP8L")){we=0;break e}if(gn[0]<Yt){we=7;break e}t(et,Ne,"ALPH")||(Ue[0]=et,Oe[0]=Ne+8,ht[0]=ai),Ne+=Yt,gn-=Yt}}if(b=b[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],we!=0)break}b=[b],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(it=p,we=m,Te=b,Ue=fe.gb[0],Oe=fe.Ja,ht=fe.xa,et=we[0],Ne=!t(it,et,"VP8 "),Zt=!t(it,et,"VP8L"),e(it!=null),e(Te!=null),e(Oe!=null),e(ht!=null),8>Te[0])we=7;else{if(Ne||Zt){if(it=he(it,et+4),12<=Ue&&it>Ue-12){we=3;break e}if(X&&it>Te[0]-8){we=7;break e}Oe[0]=it,we[0]+=8,Te[0]-=8,ht[0]=Zt}else ht[0]=5<=Te[0]&&it[et+0]==47&&!(it[et+4]>>5),Oe[0]=Te[0];we=0}if(b=b[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],m=m[0],we!=0)break;if(4294967286<fe.Ja)return 3;if(H==null||Ie||(H[0]=fe.xa?2:1),U=[U],me=[me],fe.xa){if(5>b){we=7;break}H=U,X=me,Ie=B,p==null||5>b?p=0:5<=b&&p[m+0]==47&&!(p[m+4]>>5)?(Te=[0],it=[0],Ue=[0],W(Oe=new z,p,m,b),ri(Oe,Te,it,Ue)?(H!=null&&(H[0]=Te[0]),X!=null&&(X[0]=it[0]),Ie!=null&&(Ie[0]=Ue[0]),p=1):p=0):p=0}else{if(10>b){we=7;break}H=me,p==null||10>b||!N_(p,m+3,b-3)?p=0:(X=p[m+0]|p[m+1]<<8|p[m+2]<<16,Ie=16383&(p[m+7]<<8|p[m+6]),p=16383&(p[m+9]<<8|p[m+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=fe.Ja||!Ie||!p?p=0:(U&&(U[0]=Ie),H&&(H[0]=p),p=1))}if(!p||(U=U[0],me=me[0],Ee&&(Y[0]!=U||ue[0]!=me)))return 3;q!=null&&(q[0]=fe,q.offset=m-q.w,e(4294967286>m-q.w),e(q.offset==q.ha-b));break}return we==0||we==7&&Ee&&q==null?(B!=null&&(B[0]|=fe.na!=null&&0<fe.na.length),D!=null&&(D[0]=U),L!=null&&(L[0]=me),0):we}function om(p,m,b){var D=m.width,L=m.height,B=0,U=0,H=D,q=L;if(m.Da=p!=null&&0<p.Da,m.Da&&(H=p.cd,q=p.bd,B=p.v,U=p.j,11>b||(B&=-2,U&=-2),0>B||0>U||0>=H||0>=q||B+H>D||U+q>L))return 0;if(m.v=B,m.j=U,m.va=B+H,m.o=U+q,m.U=H,m.T=q,m.da=p!=null&&0<p.da,m.da){if(!ve(H,q,b=[p.ib],B=[p.hb]))return 0;m.ib=b[0],m.hb=B[0]}return m.ob=p!=null&&p.ob,m.Kb=p==null||!p.Sd,m.da&&(m.ob=m.ib<3*D/4&&m.hb<3*L/4,m.Kb=0),1}function sm(p){if(p==null)return 2;if(11>p.S){var m=p.f.RGBA;m.fb+=(p.height-1)*m.A,m.A=-m.A}else m=p.f.kb,p=p.height,m.O+=(p-1)*m.fa,m.fa=-m.fa,m.N+=(p-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(p-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(p-1)*m.lb,m.lb=-m.lb);return 0}function tu(p,m,b,D){if(D==null||0>=p||0>=m)return 2;if(b!=null){if(b.Da){var L=b.cd,B=b.bd,U=-2&b.v,H=-2&b.j;if(0>U||0>H||0>=L||0>=B||U+L>p||H+B>m)return 2;p=L,m=B}if(b.da){if(!ve(p,m,L=[b.ib],B=[b.hb]))return 2;p=L[0],m=B[0]}}D.width=p,D.height=m;e:{var q=D.width,Y=D.height;if(p=D.S,0>=q||0>=Y||!(p>=$_&&13>p))p=2;else{if(0>=D.Rd&&D.sd==null){U=B=L=m=0;var ue=(H=q*QN[p])*Y;if(11>p||(B=(Y+1)/2*(m=(q+1)/2),p==12&&(U=(L=q)*Y)),(Y=o(ue+2*B+U))==null){p=1;break e}D.sd=Y,11>p?((q=D.f.RGBA).eb=Y,q.fb=0,q.A=H,q.size=ue):((q=D.f.kb).y=Y,q.O=0,q.fa=H,q.Fd=ue,q.f=Y,q.N=0+ue,q.Ab=m,q.Cd=B,q.ea=Y,q.W=0+ue+B,q.Db=m,q.Ed=B,p==12&&(q.F=Y,q.J=0+ue+2*B),q.Tc=U,q.lb=L)}if(m=1,L=D.S,B=D.width,U=D.height,L>=$_&&13>L)if(11>L)p=D.f.RGBA,m&=(H=Math.abs(p.A))*(U-1)+B<=p.size,m&=H>=B*QN[L],m&=p.eb!=null;else{p=D.f.kb,H=(B+1)/2,ue=(U+1)/2,q=Math.abs(p.fa),Y=Math.abs(p.Ab);var Ee=Math.abs(p.Db),X=Math.abs(p.lb),fe=X*(U-1)+B;m&=q*(U-1)+B<=p.Fd,m&=Y*(ue-1)+H<=p.Cd,m=(m&=Ee*(ue-1)+H<=p.Ed)&q>=B&Y>=H&Ee>=H,m&=p.y!=null,m&=p.f!=null,m&=p.ea!=null,L==12&&(m&=X>=B,m&=fe<=p.Tc,m&=p.F!=null)}else m=0;p=m?0:2}}return p!=0||b!=null&&b.fd&&(p=sm(D)),p}var Ih=64,ts=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ns=24,nu=32,Yl=8,ru=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(p){return p},k.Predictor2=function(p,m,b){return m[b+0]},k.Predictor3=function(p,m,b){return m[b+1]},k.Predictor4=function(p,m,b){return m[b-1]},k.Predictor5=function(p,m,b){return be(be(p,m[b+1]),m[b+0])},k.Predictor6=function(p,m,b){return be(p,m[b-1])},k.Predictor7=function(p,m,b){return be(p,m[b+0])},k.Predictor8=function(p,m,b){return be(m[b-1],m[b+0])},k.Predictor9=function(p,m,b){return be(m[b+0],m[b+1])},k.Predictor10=function(p,m,b){return be(be(p,m[b-1]),be(m[b+0],m[b+1]))},k.Predictor11=function(p,m,b){var D=m[b+0];return 0>=He(D>>24&255,p>>24&255,(m=m[b-1])>>24&255)+He(D>>16&255,p>>16&255,m>>16&255)+He(D>>8&255,p>>8&255,m>>8&255)+He(255&D,255&p,255&m)?D:p},k.Predictor12=function(p,m,b){var D=m[b+0];return(Ve((p>>24&255)+(D>>24&255)-((m=m[b-1])>>24&255))<<24|Ve((p>>16&255)+(D>>16&255)-(m>>16&255))<<16|Ve((p>>8&255)+(D>>8&255)-(m>>8&255))<<8|Ve((255&p)+(255&D)-(255&m)))>>>0},k.Predictor13=function(p,m,b){var D=m[b-1];return(Ke((p=be(p,m[b+0]))>>24&255,D>>24&255)<<24|Ke(p>>16&255,D>>16&255)<<16|Ke(p>>8&255,D>>8&255)<<8|Ke(255&p,255&D))>>>0};var am=k.PredictorAdd0;k.PredictorAdd1=yt,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var gf=k.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ar,H_=k.ColorIndexInverseTransform,Ya=k.MapARGB,Xa=k.VP8LColorIndexInverseTransformAlpha,lm=k.MapAlpha,cm=k.VP8LPredictorsAdd=[];cm.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var um,hm,iu,ou,su,Dh,au,Th,Ls,Ka,On,Kn,Rr,si,Xl,dm,mf,q_,DN,TN,MN,AN,RN,NN,fm,PN,LN,kN,ON=o(511),FN=o(2041),jN=o(225),BN=o(767),UN=0,yE=FN,W_=jN,rs=BN,ks=ON,$_=0,Z_=1,GN=2,Y_=3,X_=4,vE=5,zN=6,wE=7,xE=8,K_=9,bE=10,Ez=[2,3,7],Sz=[3,3,11],VN=[280,256,256,256,40],Cz=[0,1,1,1,0],Iz=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Dz=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Tz=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mz=8,EE=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],SE=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pm=null,Az=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rz=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],HN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Nz=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Pz=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Lz=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kz=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],lu=[],da=[],Kl=[],Oz=1,qN=2,cu=[],Os=[];$l("UpsampleRgbLinePair",eu,3),$l("UpsampleBgrLinePair",ki,3),$l("UpsampleRgbaLinePair",mo,4),$l("UpsampleBgraLinePair",im,4),$l("UpsampleArgbLinePair",rm,4),$l("UpsampleRgba4444LinePair",Sh,2),$l("UpsampleRgb565LinePair",Eh,2);var Fz=k.UpsampleRgbLinePair,jz=k.UpsampleBgrLinePair,WN=k.UpsampleRgbaLinePair,$N=k.UpsampleBgraLinePair,ZN=k.UpsampleArgbLinePair,YN=k.UpsampleRgba4444LinePair,Bz=k.UpsampleRgb565LinePair,J_=16,Q_=1<<J_-1,gm=-227,CE=482,XN=6,Uz=(256<<XN)-1,KN=0,Gz=o(256),zz=o(256),Vz=o(256),Hz=o(256),qz=o(CE-gm),Wz=o(CE-gm);Zl("YuvToRgbRow",eu,3),Zl("YuvToBgrRow",ki,3),Zl("YuvToRgbaRow",mo,4),Zl("YuvToBgraRow",im,4),Zl("YuvToArgbRow",rm,4),Zl("YuvToRgba4444Row",Sh,2),Zl("YuvToRgb565Row",Eh,2);var JN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ey=[0,2,8],$z=[8,7,6,4,4,2,2,2,1,1,1,1],Zz=1;this.WebPDecodeRGBA=function(p,m,b,D,L){var B=Z_,U=new Ae,H=new kt;U.ba=H,H.S=B,H.width=[H.width],H.height=[H.height];var q=H.width,Y=H.height,ue=new vt;if(ue==null||p==null)var Ee=2;else e(ue!=null),Ee=Ch(p,m,b,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(Ee!=0?q=0:(q!=null&&(q[0]=ue.width[0]),Y!=null&&(Y[0]=ue.height[0]),q=1),q){H.width=H.width[0],H.height=H.height[0],D!=null&&(D[0]=H.width),L!=null&&(L[0]=H.height);e:{if(D=new lf,(L=new ke).data=p,L.w=m,L.ha=b,L.kd=1,m=[0],e(L!=null),((p=Ch(L.data,L.w,L.ha,null,null,null,m,null,L))==0||p==7)&&m[0]&&(p=4),(m=p)==0){if(e(U!=null),D.data=L.data,D.w=L.w+L.offset,D.ha=L.ha-L.offset,D.put=nt,D.ac=Mr,D.bc=ni,D.ma=U,L.xa){if((p=ph())==null){U=1;break e}if((function(X,fe){var me=[0],Ie=[0],we=[0];t:for(;;){if(X==null)return 0;if(fe==null)return X.a=2,0;if(X.l=fe,X.a=0,W(X.m,fe.data,fe.w,fe.ha),!ri(X.m,me,Ie,we)){X.a=3;break t}if(X.xb=qN,fe.width=me[0],fe.height=Ie[0],!qa(me[0],Ie[0],1,X,null))break t;return 1}return e(X.a!=0),0})(p,D)){if(D=(m=tu(D.width,D.height,U.Oa,U.ba))==0){t:{D=p;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((b=D.l)!=null),e((L=b.ma)!=null),D.xb!=0){if(D.ca=L.ba,D.tb=L.tb,e(D.ca!=null),!om(L.Oa,b,Y_)){D.a=2;break n}if(!gh(D,b.width)||b.da)break n;if((b.da||pt(D.ca.S))&&ha(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&ha()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!C(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!ca(D,D.V,D.Ba,D.c,D.i,b.o,Jc))break n;L.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(m=p.a)}else m=p.a}else{if((p=new rE)==null){U=1;break e}if(p.Fa=L.na,p.P=L.P,p.qc=L.Sa,$a(p,D)){if((m=tu(D.width,D.height,U.Oa,U.ba))==0){if(p.Aa=0,b=U.Oa,e((L=p)!=null),b!=null){if(0<(q=0>(q=b.Md)?0:100<q?255:255*q/100)){for(Y=ue=0;4>Y;++Y)12>(Ee=L.pb[Y]).lc&&(Ee.ia=q*$z[0>Ee.lc?0:Ee.lc]>>3),ue|=Ee.ia;ue&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=b.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(X,fe){if(X==null)return 0;if(fe==null)return Wr(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!$a(X,fe))return 0;if(e(X.cb),fe.ac==null||fe.ac(fe)){fe.ob&&(X.L=0);var me=ey[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=fe.v-me>>4,X.zb=fe.j-me>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=fe.o+15+me>>4,X.Hb=fe.va+15+me>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var Ie=X.ed;for(me=0;4>me;++me){var we;if(X.Qa.Cb){var Te=X.Qa.Lb[me];X.Qa.Fb||(Te+=Ie.Tb)}else Te=Ie.Tb;for(we=0;1>=we;++we){var Ne=X.gd[me][we],Ue=Te;if(Ie.Pc&&(Ue+=Ie.vd[0],we&&(Ue+=Ie.od[0])),0<(Ue=0>Ue?0:63<Ue?63:Ue)){var Oe=Ue;0<Ie.wb&&(Oe=4<Ie.wb?Oe>>2:Oe>>1)>9-Ie.wb&&(Oe=9-Ie.wb),1>Oe&&(Oe=1),Ne.dd=Oe,Ne.tc=2*Ue+Oe,Ne.ld=40<=Ue?2:15<=Ue?1:0}else Ne.tc=0;Ne.La=we}}}me=0}else Wr(X,6,"Frame setup failed"),me=X.a;if(me=me==0){if(me){X.$c=0,0<X.Aa||(X.Ic=Zz);t:{me=X.Ic,Ie=4*(Oe=X.za);var ht=32*Oe,et=Oe+1,Zt=0<X.L?Oe*(0<X.Aa?2:1):0,it=(X.Aa==2?2:1)*Oe;if((Ne=Ie+832+(we=3*(16*me+ey[X.L])/2*ht)+(Te=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=Ne)me=0;else{if(Ne>X.Vb){if(X.Vb=0,X.Ec=o(Ne),X.Fc=0,X.Ec==null){me=Wr(X,1,"no memory during frame initialization.");break t}X.Vb=Ne}Ne=X.Ec,Ue=X.Fc,X.Ac=Ne,X.Bc=Ue,Ue+=Ie,X.Gd=s(ht,A_),X.Hd=0,X.rb=s(et+1,Wg),X.sb=1,X.wa=Zt?s(Zt,Rs):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Oe),e(!0),X.oc=Ne,X.pc=Ue,Ue+=832,X.ya=s(it,$g),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Oe),X.R=16*Oe,X.B=8*Oe,Oe=(ht=ey[X.L])*X.R,ht=ht/2*X.B,X.sa=Ne,X.ta=Ue+Oe,X.qa=X.sa,X.ra=X.ta+16*me*X.R+ht,X.Ha=X.qa,X.Ia=X.ra+8*me*X.B+ht,X.$c=0,Ue+=we,X.mb=Te?Ne:null,X.nb=Te?Ue:null,e(Ue+Te<=X.Fc+X.Vb),P_(X),i(X.Ac,X.Bc,0,Ie),me=1}}if(me){if(fe.ka=0,fe.y=X.sa,fe.O=X.ta,fe.f=X.qa,fe.N=X.ra,fe.ea=X.Ha,fe.Vd=X.Ia,fe.fa=X.R,fe.Rc=X.B,fe.F=null,fe.J=0,!UN){for(me=-255;255>=me;++me)ON[255+me]=0>me?-me:me;for(me=-1020;1020>=me;++me)FN[1020+me]=-128>me?-128:127<me?127:me;for(me=-112;112>=me;++me)jN[112+me]=-16>me?-16:15<me?15:me;for(me=-255;510>=me;++me)BN[255+me]=0>me?0:255<me?255:me;UN=1}au=uf,Th=oE,Ka=Za,On=k_,Kn=O_,Ls=iE,Rr=G_,si=wh,Xl=P,dm=J,mf=z_,q_=w,DN=oe,TN=ge,MN=vh,AN=tm,RN=B_,NN=U_,da[0]=fE,da[1]=sE,da[2]=hE,da[3]=dE,da[4]=Ul,da[5]=pE,da[6]=Gl,da[7]=gE,da[8]=Xg,da[9]=hf,lu[0]=cE,lu[1]=lE,lu[2]=Zg,lu[3]=F_,lu[4]=_h,lu[5]=Yg,lu[6]=uE,Kl[0]=_E,Kl[1]=aE,Kl[2]=yh,Kl[3]=mE,Kl[4]=Jg,Kl[5]=Kg,Kl[6]=j_,me=1}else me=0}me&&(me=(function(gn,ai){for(gn.M=0;gn.M<gn.Va;++gn.M){var Yt,ot=gn.Jc[gn.M&gn.Xb],We=gn.m,Nr=gn;for(Yt=0;Yt<Nr.za;++Yt){var Ut=We,vn=Nr,sr=vn.Ac,Oi=vn.Bc+4*Yt,_o=vn.zc,xr=vn.ya[vn.aa+Yt];if(vn.Qa.Bb?xr.$b=Ce(Ut,vn.Pa.jb[0])?2+Ce(Ut,vn.Pa.jb[2]):Ce(Ut,vn.Pa.jb[1]):xr.$b=0,vn.kc&&(xr.Ad=Ce(Ut,vn.Bd)),xr.Za=!Ce(Ut,145)+0,xr.Za){var Ji=xr.Ob,yo=0;for(vn=0;4>vn;++vn){var li,Cn=_o[0+vn];for(li=0;4>li;++li){Cn=Pz[sr[Oi+li]][Cn];for(var Gn=HN[Ce(Ut,Cn[0])];0<Gn;)Gn=HN[2*Gn+Ce(Ut,Cn[Gn])];Cn=-Gn,sr[Oi+li]=Cn}r(Ji,yo,sr,Oi,4),yo+=4,_o[0+vn]=Cn}}else Cn=Ce(Ut,156)?Ce(Ut,128)?1:3:Ce(Ut,163)?2:0,xr.Ob[0]=Cn,i(sr,Oi,Cn,4),i(_o,0,Cn,4);xr.Dd=Ce(Ut,142)?Ce(Ut,114)?Ce(Ut,183)?1:3:2:0}if(Nr.m.Ka)return Wr(gn,7,"Premature end-of-partition0 encountered.");for(;gn.ja<gn.za;++gn.ja){if(Nr=ot,Ut=(We=gn).rb[We.sb-1],sr=We.rb[We.sb+We.ja],Yt=We.ya[We.aa+We.ja],Oi=We.kc?Yt.Ad:0)Ut.la=sr.la=0,Yt.Za||(Ut.Na=sr.Na=0),Yt.Hc=0,Yt.Gc=0,Yt.ia=0;else{var br,zn;if(Ut=sr,sr=Nr,Oi=We.Pa.Xc,_o=We.ya[We.aa+We.ja],xr=We.pb[_o.$b],vn=_o.ad,Ji=0,yo=We.rb[We.sb-1],Cn=li=0,i(vn,Ji,0,384),_o.Za)var Fi=0,fa=Oi[3];else{Gn=o(16);var Pr=Ut.Na+yo.Na;if(Pr=pm(sr,Oi[1],Pr,xr.Eb,0,Gn,0),Ut.Na=yo.Na=(0<Pr)+0,1<Pr)au(Gn,0,vn,Ji);else{var Ro=Gn[0]+3>>3;for(Gn=0;256>Gn;Gn+=16)vn[Ji+Gn]=Ro}Fi=1,fa=Oi[0]}var Jn=15&Ut.la,ci=15&yo.la;for(Gn=0;4>Gn;++Gn){var is=1&ci;for(Ro=zn=0;4>Ro;++Ro)Jn=Jn>>1|(is=(Pr=pm(sr,fa,Pr=is+(1&Jn),xr.Sc,Fi,vn,Ji))>Fi)<<7,zn=zn<<2|(3<Pr?3:1<Pr?2:vn[Ji+0]!=0),Ji+=16;Jn>>=4,ci=ci>>1|is<<7,li=(li<<8|zn)>>>0}for(fa=Jn,Fi=ci>>4,br=0;4>br;br+=2){for(zn=0,Jn=Ut.la>>4+br,ci=yo.la>>4+br,Gn=0;2>Gn;++Gn){for(is=1&ci,Ro=0;2>Ro;++Ro)Pr=is+(1&Jn),Jn=Jn>>1|(is=0<(Pr=pm(sr,Oi[2],Pr,xr.Qc,0,vn,Ji)))<<3,zn=zn<<2|(3<Pr?3:1<Pr?2:vn[Ji+0]!=0),Ji+=16;Jn>>=2,ci=ci>>1|is<<5}Cn|=zn<<4*br,fa|=Jn<<4<<br,Fi|=(240&ci)<<br}Ut.la=fa,yo.la=Fi,_o.Hc=li,_o.Gc=Cn,_o.ia=43690&Cn?0:xr.ia,Oi=!(li|Cn)}if(0<We.L&&(We.wa[We.Y+We.ja]=We.gd[Yt.$b][Yt.Za],We.wa[We.Y+We.ja].La|=!Oi),Nr.Ka)return Wr(gn,7,"Premature end-of-file encountered.")}if(P_(gn),We=ai,Nr=1,Yt=(ot=gn).D,Ut=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(Yt.M=ot.M,Yt.uc=Ut,Ps(ot,Yt),Nr=1,Yt=(zn=ot.D).Nb,Ut=(Cn=ey[ot.L])*ot.R,sr=Cn/2*ot.B,Gn=16*Yt*ot.R,Ro=8*Yt*ot.B,Oi=ot.sa,_o=ot.ta-Ut+Gn,xr=ot.qa,vn=ot.ra-sr+Ro,Ji=ot.Ha,yo=ot.Ia-sr+Ro,ci=(Jn=zn.M)==0,li=Jn>=ot.Va-1,ot.Aa==2&&Ps(ot,zn),zn.uc)for(is=(Pr=ot).D.M,e(Pr.D.uc),zn=Pr.yb;zn<Pr.Hb;++zn){Fi=zn,fa=is;var vo=(os=(ji=Pr).D).Nb;br=ji.R;var os=os.wa[os.Y+Fi],ss=ji.sa,No=ji.ta+16*vo*br+16*Fi,as=os.dd,tr=os.tc;if(tr!=0)if(e(3<=tr),ji.L==1)0<Fi&&AN(ss,No,br,tr+4),os.La&&NN(ss,No,br,tr),0<fa&&MN(ss,No,br,tr+4),os.La&&RN(ss,No,br,tr);else{var ls=ji.B,pa=ji.qa,Mh=ji.ra+8*vo*ls+8*Fi,Jl=ji.Ha,ji=ji.Ia+8*vo*ls+8*Fi;vo=os.ld,0<Fi&&(si(ss,No,br,tr+4,as,vo),dm(pa,Mh,Jl,ji,ls,tr+4,as,vo)),os.La&&(q_(ss,No,br,tr,as,vo),TN(pa,Mh,Jl,ji,ls,tr,as,vo)),0<fa&&(Rr(ss,No,br,tr+4,as,vo),Xl(pa,Mh,Jl,ji,ls,tr+4,as,vo)),os.La&&(mf(ss,No,br,tr,as,vo),DN(pa,Mh,Jl,ji,ls,tr,as,vo))}}if(ot.ia&&alert("todo:DitherRow"),We.put!=null){if(zn=16*Jn,Jn=16*(Jn+1),ci?(We.y=ot.sa,We.O=ot.ta+Gn,We.f=ot.qa,We.N=ot.ra+Ro,We.ea=ot.Ha,We.W=ot.Ia+Ro):(zn-=Cn,We.y=Oi,We.O=_o,We.f=xr,We.N=vn,We.ea=Ji,We.W=yo),li||(Jn-=Cn),Jn>We.o&&(Jn=We.o),We.F=null,We.J=null,ot.Fa!=null&&0<ot.Fa.length&&zn<Jn&&(We.J=er(ot,We,zn,Jn-zn),We.F=ot.mb,We.F==null&&We.F.length==0)){Nr=Wr(ot,3,"Could not decode alpha data.");break t}zn<We.j&&(Cn=We.j-zn,zn=We.j,e(!(1&Cn)),We.O+=ot.R*Cn,We.N+=ot.B*(Cn>>1),We.W+=ot.B*(Cn>>1),We.F!=null&&(We.J+=We.width*Cn)),zn<Jn&&(We.O+=We.v,We.N+=We.v>>1,We.W+=We.v>>1,We.F!=null&&(We.J+=We.v),We.ka=zn-We.j,We.U=We.va-We.v,We.T=Jn-zn,Nr=We.put(We))}Yt+1!=ot.Ic||li||(r(ot.sa,ot.ta-Ut,Oi,_o+16*ot.R,Ut),r(ot.qa,ot.ra-sr,xr,vn+8*ot.B,sr),r(ot.Ha,ot.Ia-sr,Ji,yo+8*ot.B,sr))}if(!Nr)return Wr(gn,6,"Output aborted.")}return 1})(X,fe)),fe.bc!=null&&fe.bc(fe),me&=1}return me?(X.cb=0,me):0})(p,D)||(m=p.a)}}else m=p.a}m==0&&U.Oa!=null&&U.Oa.fd&&(m=sm(U.ba))}U=m}B=U!=0?null:11>B?H.f.RGBA.eb:H.f.kb.y}else B=null;return B};var QN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,N){for(var A="",x=0;x<4;x++)A+=String.fromCharCode(k[N++]);return A}function u(k,N){return k[N+0]|k[N+1]<<8}function d(k,N){return(k[N+0]|k[N+1]<<8|k[N+2]<<16)>>>0}function f(k,N){return(k[N+0]|k[N+1]<<8|k[N+2]<<16|k[N+3]<<24)>>>0}new l;var h=[0],g=[0],_=[],y=new l,v=n,E=(function(k,N){var A={},x=0,O=!1,$=0,Z=0;if(A.frames=[],!(function(M,z){for(var Q=0;Q<4;Q++)if(M[z+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(k,N)){for(f(k,N+=4),N+=8;N<k.length;){var se=c(k,N),K=f(k,N+=4);N+=4;var te=K+(1&K);switch(se){case"VP8 ":case"VP8L":A.frames[x]===void 0&&(A.frames[x]={}),(pe=A.frames[x]).src_off=O?Z:N-8,pe.src_size=$+K+8,x++,O&&(O=!1,$=0,Z=0);break;case"VP8X":(pe=A.header={}).feature_flags=k[N];var W=N+4;pe.canvas_width=1+d(k,W),W+=3,pe.canvas_height=1+d(k,W),W+=3;break;case"ALPH":O=!0,$=te+8,Z=N-8;break;case"ANIM":(pe=A.header).bgcolor=f(k,N),W=N+4,pe.loop_count=u(k,W),W+=2;break;case"ANMF":var ee,pe;(pe=A.frames[x]={}).offset_x=2*d(k,N),N+=3,pe.offset_y=2*d(k,N),N+=3,pe.width=1+d(k,N),N+=3,pe.height=1+d(k,N),N+=3,pe.duration=d(k,N),N+=3,ee=k[N++],pe.dispose=1&ee,pe.blend=ee>>1&1}se!="ANMF"&&(N+=te)}return A}})(v,0);E.response=v,E.rgbaoutput=!0,E.dataurl=!1;var S=E.header?E.header:null,I=E.frames?E.frames:null;if(S){S.loop_counter=S.loop_count,h=[S.canvas_height],g=[S.canvas_width];for(var R=0;R<I.length&&I[R].blend!=0;R++);}var V=I[0],j=y.WebPDecodeRGBA(v,V.src_off,V.src_size,g,h);V.rgba=j,V.imgwidth=g[0],V.imgheight=h[0];for(var F=0;F<g[0]*h[0]*4;F++)_[F]=j[F];return this.width=g,this.height=h,this.data=_,this}(function(n){var e,t,r,i,o,s,a,l,c,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=M;Object.defineProperty(this,"pdf",{get:function(){return z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(C){Q=!!C}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(C){ne=!!C}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(C){isNaN(C)||(re=C)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(C){isNaN(C)||(le=C)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(C){var G;typeof C=="number"?G=[C,C,C,C]:((G=new Array(4))[0]=C[0],G[1]=C.length>=2?C[1]:G[0],G[2]=C.length>=3?C[2]:G[0],G[3]=C.length>=4?C[3]:G[1]),c.margin=G}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(C){ye=C}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(C){_e=C}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(C){Ce=C}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(C){C instanceof u&&(c=C)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(C){c.path=C}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(C){Le=C}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(C){var G;G=f(C),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(C){var G=f(C);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(C){["butt","round","square"].indexOf(C)!==-1&&(this.ctx.lineCap=C,this.pdf.setLineCap(C))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(C){isNaN(C)||(this.ctx.lineWidth=C,this.pdf.setLineWidth(C))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(C){["bevel","round","miter"].indexOf(C)!==-1&&(this.ctx.lineJoin=C,this.pdf.setLineJoin(C))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(C){isNaN(C)||(this.ctx.miterLimit=C,this.pdf.setMiterLimit(C))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(C){this.ctx.textBaseline=C}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(C){["right","end","center","left","start"].indexOf(C)!==-1&&(this.ctx.textAlign=C)}});var T=null,de=null,he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(C){T=null,de=null,he=C}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(C){var G;if(this.ctx.font=C,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(C))!==null){var ie=G[1];G[2];var ve=G[3],ce=G[4];G[5];var ae=G[6],xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(xe==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var De=(function(qe){var qn,nn,wt=[],Nt=qe.trim();if(Nt==="")return oN;if(Nt in yG)return[yG[Nt]];for(;Nt!=="";){switch(nn=null,qn=(Nt=wG(Nt)).charAt(0)){case'"':case"'":nn=Oue(Nt.substring(1),qn);break;default:nn=Fue(Nt)}if(nn===null||(wt.push(nn[0]),(Nt=wG(nn[1]))!==""&&Nt.charAt(0)!==","))return oN;Nt=Nt.replace(/^,/,"")}return wt})(ae);if(this.fontFaces){var be=(function(qe,qn){var nn=qe.getFontList(),wt=JSON.stringify(nn);if(T===null||de!==wt){var Nt=(function(Ln){var ut=[];return Object.keys(Ln).forEach(function(kn){Ln[kn].forEach(function(pt){var gt=null;switch(pt){case"bold":gt={family:kn,weight:"bold"};break;case"italic":gt={family:kn,style:"italic"};break;case"bolditalic":gt={family:kn,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:kn}}gt!==null&&(gt.ref={name:kn,style:pt},ut.push(gt))})}),ut})(nn);T=(function(Ln){for(var ut={},kn=0;kn<Ln.length;++kn){var pt=iN(Ln[kn]),gt=pt.family,fn=pt.stretch,kt=pt.style,vt=pt.weight;ut[gt]=ut[gt]||{},ut[gt][fn]=ut[gt][fn]||{},ut[gt][fn][kt]=ut[gt][fn][kt]||{},ut[gt][fn][kt][vt]=pt}return ut})(Nt.concat(qn)),de=wt}return T})(this.pdf,this.fontFaces),Ve=De.map(function(qe){return{family:qe,stretch:"normal",weight:ve,style:ie}}),Ke=(function(qe,qn,nn){for(var wt=(nn=nn||{}).defaultFontFamily||"times",Nt=Object.assign({},kue,nn.genericFontFamilies||{}),Ln=null,ut=null,kn=0;kn<qn.length;++kn)if(Nt[(Ln=iN(qn[kn])).family]&&(Ln.family=Nt[Ln.family]),qe.hasOwnProperty(Ln.family)){ut=qe[Ln.family];break}if(!(ut=ut||qe[wt]))throw new Error("Could not find a font-family for the rule '"+vG(Ln)+"' and default family '"+wt+"'.");if(ut=(function(pt,gt){if(gt[pt])return gt[pt];var fn=hN[pt],kt=fn<=hN.normal?-1:1,vt=_G(gt,VG,fn,kt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+pt);return vt})(Ln.stretch,ut),ut=(function(pt,gt){if(gt[pt])return gt[pt];for(var fn=zG[pt],kt=0;kt<fn.length;++kt)if(gt[fn[kt]])return gt[fn[kt]];throw new Error("Could not find a matching font-style for "+pt)})(Ln.style,ut),!(ut=(function(pt,gt){if(gt[pt])return gt[pt];if(pt===400&&gt[500])return gt[500];if(pt===500&&gt[400])return gt[400];var fn=Lue[pt],kt=_G(gt,HG,fn,pt<400?-1:1);if(!kt)throw new Error("Could not find a matching font-weight for value "+pt);return kt})(Ln.weight,ut)))throw new Error("Failed to resolve a font for the rule '"+vG(Ln)+"'.");return ut})(be,Ve);this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var He="";(ve==="bold"||parseInt(ve,10)>=700||ie==="bold")&&(He="bold"),ie==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var yt="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ye=0;Ye<De.length;Ye++){if(this.pdf.internal.getFont(De[Ye],He,{noFallback:!0,disableWarning:!0})!==void 0){yt=De[Ye];break}if(He==="bolditalic"&&this.pdf.internal.getFont(De[Ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=De[Ye],He="bold";else if(this.pdf.internal.getFont(De[Ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=De[Ye],He="normal";break}}if(yt===""){for(var bt=0;bt<De.length;bt++)if(Lt[De[bt]]){yt=Lt[De[bt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(C){this.ctx.globalCompositeOperation=C}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(C){this.ctx.globalAlpha=C}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(C){this.ctx.lineDashOffset=C,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(C){this.ctx.lineDash=C,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(C){this.ctx.ignoreClearRect=!!C}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){I.call(this,"fill",!1)},d.prototype.stroke=function(){I.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,z){if(isNaN(M)||isNaN(z))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(M,z)},d.prototype.closePath=function(){var M=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&$n(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){M=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},d.prototype.lineTo=function(M,z){if(isNaN(M)||isNaN(z))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,z,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN(M)||isNaN(z))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new s(Q,ne)),le=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"qct",x1:le.x,y1:le.y,x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},d.prototype.bezierCurveTo=function(M,z,Q,ne,re,le){if(isNaN(re)||isNaN(le)||isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new s(re,le)),_e=this.ctx.transform.applyToPoint(new s(M,z)),Ce=this.ctx.transform.applyToPoint(new s(Q,ne));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Ce.x,y2:Ce.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},d.prototype.arc=function(M,z,Q,ne,re,le){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne)||isNaN(re))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new s(M,z));M=ye.x,z=ye.y;var _e=this.ctx.transform.applyToPoint(new s(0,Q)),Ce=this.ctx.transform.applyToPoint(new s(0,0));Q=Math.sqrt(Math.pow(_e.x-Ce.x,2)+Math.pow(_e.y-Ce.y,2))}Math.abs(re-ne)>=2*Math.PI&&(ne=0,re=2*Math.PI),this.path.push({type:"arc",x:M,y:z,radius:Q,startAngle:ne,endAngle:re,counterclockwise:le})},d.prototype.arcTo=function(M,z,Q,ne,re){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,z,Q,ne){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,z),this.lineTo(M+Q,z),this.lineTo(M+Q,z+ne),this.lineTo(M,z+ne),this.lineTo(M,z),this.lineTo(M+Q,z),this.lineTo(M,z)},d.prototype.fillRect=function(M,z,Q,ne){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,z,Q,ne),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},d.prototype.strokeRect=function(M,z,Q,ne){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(M,z,Q,ne),this.stroke())},d.prototype.clearRect=function(M,z,Q,ne){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,z,Q,ne))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(M){var z,Q,ne,re;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))z=0,Q=0,ne=0,re=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(le!==null)z=parseInt(le[1]),Q=parseInt(le[2]),ne=parseInt(le[3]),re=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)z=parseInt(le[1]),Q=parseInt(le[2]),ne=parseInt(le[3]),re=parseFloat(le[4]);else{if(re=1,typeof M=="string"&&M.charAt(0)!=="#"){var ye=new kG(M);M=ye.ok?ye.toHex():"#000000"}M.length===4?(z=M.substring(1,2),z+=z,Q=M.substring(2,3),Q+=Q,ne=M.substring(3,4),ne+=ne):(z=M.substring(1,3),Q=M.substring(3,5),ne=M.substring(5,7)),z=parseInt(z,16),Q=parseInt(Q,16),ne=parseInt(ne,16)}}return{r:z,g:Q,b:ne,a:re,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,z,Q,ne){if(isNaN(z)||isNaN(Q)||typeof M!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var re=te(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;x.call(this,{text:M,x:z,y:Q,scale:le,angle:re,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(M,z,Q,ne){if(isNaN(z)||isNaN(Q)||typeof M!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ne=isNaN(ne)?void 0:ne;var re=te(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;x.call(this,{text:M,x:z,y:Q,scale:le,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(M){if(typeof M!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Q=this.pdf.internal.scaleFactor,ne=z.internal.getFontSize(),re=z.getStringUnitWidth(M)*ne/z.internal.scaleFactor;return new function(le){var ye=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:re*=Math.round(96*Q/72*1e4)/1e4})},d.prototype.scale=function(M,z){if(isNaN(M)||isNaN(z))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(M,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},d.prototype.rotate=function(M){if(isNaN(M))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.translate=function(M,z){if(isNaN(M)||isNaN(z))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,M,z);this.ctx.transform=this.ctx.transform.multiply(Q)},d.prototype.transform=function(M,z,Q,ne,re,le){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne)||isNaN(re)||isNaN(le))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(M,z,Q,ne,re,le);this.ctx.transform=this.ctx.transform.multiply(ye)},d.prototype.setTransform=function(M,z,Q,ne,re,le){M=isNaN(M)?1:M,z=isNaN(z)?0:z,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?1:ne,re=isNaN(re)?0:re,le=isNaN(le)?0:le,this.ctx.transform=new l(M,z,Q,ne,re,le)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,z,Q,ne,re,le,ye,_e,Ce){var Le=this.pdf.getImageProperties(M),T=1,de=1,he=1,C=1;ne!==void 0&&_e!==void 0&&(he=_e/ne,C=Ce/re,T=Le.width/ne*_e/ne,de=Le.height/re*Ce/re),le===void 0&&(le=z,ye=Q,z=0,Q=0),ne!==void 0&&_e===void 0&&(_e=ne,Ce=re),ne===void 0&&_e===void 0&&(_e=Le.width,Ce=Le.height);var G=this.ctx.transform.decompose(),ie=te(G.rotate.shx),ve=new l,ce=(ve=(ve=(ve=ve.multiply(G.translate)).multiply(G.skew)).multiply(G.scale)).applyToRectangle(new a(le-z*he,ye-Q*C,ne*T,re*de));if(this.autoPaging){for(var ae,xe=y.call(this,ce),De=[],be=0;be<xe.length;be+=1)De.indexOf(xe[be])===-1&&De.push(xe[be]);S(De);for(var Ve=De[0],Ke=De[De.length-1],He=Ve;He<Ke+1;He++){this.pdf.setPage(He);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=He===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=He===1?0:Ye+(He-2)*bt;if(this.ctx.clip_path.length!==0){var qn=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ae,this.posX+this.margin[3],-qe+Lt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=qn}var nn=JSON.parse(JSON.stringify(ce));nn=E([nn],this.posX+this.margin[3],-qe+Lt+this.ctx.prevPageLastElemOffset)[0];var wt=(He>Ve||He<Ke)&&_.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,bt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,ie),wt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,ie)};var y=function(M,z,Q){var ne=[];z=z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+re)/Q)+1);break;case"arc":ne.push(Math.floor((M.y+re-M.radius)/Q)+1),ne.push(Math.floor((M.y+re+M.radius)/Q)+1);break;case"qct":var le=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((le.y+re)/Q)+1),ne.push(Math.floor((le.y+le.h+re)/Q)+1);break;case"bct":var ye=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((ye.y+re)/Q)+1),ne.push(Math.floor((ye.y+ye.h+re)/Q)+1);break;case"rect":ne.push(Math.floor((M.y+re)/Q)+1),ne.push(Math.floor((M.y+M.h+re)/Q)+1)}for(var _e=0;_e<ne.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<ne[_e];)v.call(this);return ne},v=function(){var M=this.fillStyle,z=this.strokeStyle,Q=this.font,ne=this.lineCap,re=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=z,this.font=Q,this.lineCap=ne,this.lineWidth=re,this.lineJoin=le},E=function(M,z,Q){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=z,M[ne].y2+=Q;case"qct":M[ne].x1+=z,M[ne].y1+=Q;default:M[ne].x+=z,M[ne].y+=Q}return M},S=function(M){return M.sort(function(z,Q){return z-Q})},I=function(M,z){var Q=this.fillStyle,ne=this.strokeStyle,re=this.lineCap,le=this.lineWidth,ye=Math.abs(le*this.ctx.transform.scaleX),_e=this.lineJoin;if(this.autoPaging){for(var Ce,Le,T=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),he=[],C=0;C<de.length;C++)if(de[C].x!==void 0)for(var G=y.call(this,de[C]),ie=0;ie<G.length;ie+=1)he.indexOf(G[ie])===-1&&he.push(G[ie]);for(var ve=0;ve<he.length;ve++)for(;this.pdf.internal.getNumberOfPages()<he[ve];)v.call(this);S(he);for(var ce=he[0],ae=he[he.length-1],xe=ce;xe<ae+1;xe++){this.pdf.setPage(xe),this.fillStyle=Q,this.strokeStyle=ne,this.lineCap=re,this.lineWidth=ye,this.lineJoin=_e;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=xe===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=xe===1?0:Ve+(xe-2)*Ke;if(this.ctx.clip_path.length!==0){var yt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ce,this.posX+this.margin[3],-He+be+this.ctx.prevPageLastElemOffset),R.call(this,M,!0),this.path=yt}if(Le=JSON.parse(JSON.stringify(T)),this.path=E(Le,this.posX+this.margin[3],-He+be+this.ctx.prevPageLastElemOffset),z===!1||xe===0){var Lt=(xe>ce||xe<ae)&&_.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,Ke,null).clip().discardPath()),R.call(this,M,z),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}this.path=T}else this.lineWidth=ye,R.call(this,M,z),this.lineWidth=le},R=function(M,z){if((M!=="stroke"||z||!g.call(this))&&(M==="stroke"||z||!h.call(this))){for(var Q,ne,re=[],le=this.path,ye=0;ye<le.length;ye++){var _e=le[ye];switch(_e.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:_e,deltas:[],abs:[]});break;case"lt":var Ce=re.length;if(le[ye-1]&&!isNaN(le[ye-1].x)&&(Q=[_e.x-le[ye-1].x,_e.y-le[ye-1].y],Ce>0)){for(;Ce>=0;Ce--)if(re[Ce-1].close!==!0&&re[Ce-1].begin!==!0){re[Ce-1].deltas.push(Q),re[Ce-1].abs.push(_e);break}}break;case"bct":Q=[_e.x1-le[ye-1].x,_e.y1-le[ye-1].y,_e.x2-le[ye-1].x,_e.y2-le[ye-1].y,_e.x-le[ye-1].x,_e.y-le[ye-1].y],re[re.length-1].deltas.push(Q);break;case"qct":var Le=le[ye-1].x+2/3*(_e.x1-le[ye-1].x),T=le[ye-1].y+2/3*(_e.y1-le[ye-1].y),de=_e.x+2/3*(_e.x1-_e.x),he=_e.y+2/3*(_e.y1-_e.y),C=_e.x,G=_e.y;Q=[Le-le[ye-1].x,T-le[ye-1].y,de-le[ye-1].x,he-le[ye-1].y,C-le[ye-1].x,G-le[ye-1].y],re[re.length-1].deltas.push(Q);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(_e)}}ne=z?null:M==="stroke"?"stroke":"fill";for(var ie=!1,ve=0;ve<re.length;ve++)if(re[ve].arc)for(var ce=re[ve].abs,ae=0;ae<ce.length;ae++){var xe=ce[ae];xe.type==="arc"?F.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,z,!ie):O.call(this,xe.x,xe.y),ie=!0}else if(re[ve].close===!0)this.pdf.internal.out("h"),ie=!1;else if(re[ve].begin!==!0){var De=re[ve].start.x,be=re[ve].start.y;$.call(this,re[ve].deltas,De,be),ie=!0}ne&&k.call(this,ne),z&&N.call(this)}},V=function(M){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Q;case"top":return M+z-Q;case"hanging":return M+z-2*Q;case"middle":return M+z/2-Q;default:return M}},j=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(z,Q){this.colorStops.push([z,Q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(M,z,Q,ne,re,le,ye,_e,Ce){for(var Le=se.call(this,Q,ne,re,le),T=0;T<Le.length;T++){var de=Le[T];T===0&&(Ce?A.call(this,de.x1+M,de.y1+z):O.call(this,de.x1+M,de.y1+z)),Z.call(this,M,z,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}_e?N.call(this):k.call(this,ye)},k=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},N=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(M,z){this.pdf.internal.out(t(M)+" "+r(z)+" m")},x=function(M){var z;switch(M.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var Q,ne,re,le=this.pdf.getTextDimensions(M.text),ye=V.call(this,M.y),_e=j.call(this,ye)-le.h,Ce=this.ctx.transform.applyToPoint(new s(M.x,ye));if(this.autoPaging){var Le=this.ctx.transform.decompose(),T=new l;T=(T=(T=T.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var de=this.ctx.transform.applyToRectangle(new a(M.x,ye,le.w,le.h)),he=T.applyToRectangle(new a(M.x,_e,le.w,le.h)),C=y.call(this,he),G=[],ie=0;ie<C.length;ie+=1)G.indexOf(C[ie])===-1&&G.push(C[ie]);S(G);for(var ve=G[0],ce=G[G.length-1],ae=ve;ae<ce+1;ae++){this.pdf.setPage(ae);var xe=ae===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ve=be-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],He=Ke-this.margin[3],yt=ae===1?0:De+(ae-2)*Ve;if(this.ctx.clip_path.length!==0){var Lt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Q,this.posX+this.margin[3],-1*yt+xe),R.call(this,"fill",!0),this.path=Lt}var Ye=E([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-yt+xe+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*M.scale),re=this.lineWidth,this.lineWidth=re*M.scale);var bt=this.autoPaging!=="text";if(bt||Ye.y+Ye.h<=be){if(bt||Ye.y>=xe&&Ye.x<=Ke){var qe=bt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Ke-Ye.x)[0],qn=E([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-yt+xe+this.ctx.prevPageLastElemOffset)[0],nn=bt&&(ae>ve||ae<ce)&&_.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Ve,null).clip().discardPath()),this.pdf.text(qe,qn.x,qn.y,{angle:M.angle,align:z,renderingMode:M.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else Ye.y<be&&(this.ctx.prevPageLastElemOffset+=be-Ye.y);M.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=re)}}else M.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*M.scale),re=this.lineWidth,this.lineWidth=re*M.scale),this.pdf.text(M.text,Ce.x+this.posX,Ce.y+this.posY,{angle:M.angle,align:z,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=re)},O=function(M,z,Q,ne){Q=Q||0,ne=ne||0,this.pdf.internal.out(t(M+Q)+" "+r(z+ne)+" l")},$=function(M,z,Q){return this.pdf.lines(M,z,Q,null,null)},Z=function(M,z,Q,ne,re,le,ye,_e){this.pdf.internal.out([e(i(Q+M)),e(o(ne+z)),e(i(re+M)),e(o(le+z)),e(i(ye+M)),e(o(_e+z)),"c"].join(" "))},se=function(M,z,Q,ne){for(var re=2*Math.PI,le=Math.PI/2;z>Q;)z-=re;var ye=Math.abs(Q-z);ye<re&&ne&&(ye=re-ye);for(var _e=[],Ce=ne?-1:1,Le=z;ye>1e-5;){var T=Le+Ce*Math.min(ye,le);_e.push(K.call(this,M,Le,T)),ye-=Math.abs(T-Le),Le=T}return _e},K=function(M,z,Q){var ne=(Q-z)/2,re=M*Math.cos(ne),le=M*Math.sin(ne),ye=re,_e=-le,Ce=ye*ye+_e*_e,Le=Ce+ye*re+_e*le,T=4/3*(Math.sqrt(2*Ce*Le)-Le)/(ye*le-_e*re),de=ye-T*_e,he=_e+T*ye,C=de,G=-he,ie=ne+z,ve=Math.cos(ie),ce=Math.sin(ie);return{x1:M*Math.cos(z),y1:M*Math.sin(z),x2:de*ve-he*ce,y2:de*ce+he*ve,x3:C*ve-G*ce,y3:C*ce+G*ve,x4:M*Math.cos(Q),y4:M*Math.sin(Q)}},te=function(M){return 180*M/Math.PI},W=function(M,z,Q,ne,re,le){var ye=M+.5*(Q-M),_e=z+.5*(ne-z),Ce=re+.5*(Q-re),Le=le+.5*(ne-le),T=Math.min(M,re,ye,Ce),de=Math.max(M,re,ye,Ce),he=Math.min(z,le,_e,Le),C=Math.max(z,le,_e,Le);return new a(T,he,de-T,C-he)},ee=function(M,z,Q,ne,re,le,ye,_e){var Ce,Le,T,de,he,C,G,ie,ve,ce,ae,xe,De,be,Ve=Q-M,Ke=ne-z,He=re-Q,yt=le-ne,Lt=ye-re,Ye=_e-le;for(Le=0;Le<41;Le++)ve=(G=(T=M+(Ce=Le/40)*Ve)+Ce*((he=Q+Ce*He)-T))+Ce*(he+Ce*(re+Ce*Lt-he)-G),ce=(ie=(de=z+Ce*Ke)+Ce*((C=ne+Ce*yt)-de))+Ce*(C+Ce*(le+Ce*Ye-C)-ie),Le==0?(ae=ve,xe=ce,De=ve,be=ce):(ae=Math.min(ae,ve),xe=Math.min(xe,ce),De=Math.max(De,ve),be=Math.max(be,ce));return new a(Math.round(ae),Math.round(xe),Math.round(De-ae),Math.round(be-xe))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,z,Q=(M=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(ct.API),(function(n){var e=function(s){var a,l,c,u,d,f,h,g,_,y;for(/[^\x00-\xFF]/.test(s),l=[],c=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(y=d%85))/85)-(_=d%85))/85)-(g=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,g+33,_+33,y+33)):l.push(122);return(function(v,E){for(var S=E;S>0;S--)v.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var a,l,c,u,d,f=String,h="length",g=255,_="charCodeAt",y="slice",v="replace";for(s[y](-2),s=s[y](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,d=(s+=a="uuuuu"[y](s[h]%5||5))[h];d>u;u+=5)l=52200625*(s[_](u)-33)+614125*(s[_](u+1)-33)+7225*(s[_](u+2)-33)+85*(s[_](u+3)-33)+(s[_](u+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return(function(E,S){for(var I=S;I>0;I--)E.pop()})(c,a[h]),f.fromCharCode.apply(f,c)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=hb(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(s,a){var l=0,c=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(ct.API),(function(n){n.loadFile=function(e,t,r){return(function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=(function(l,c,u){var d=new XMLHttpRequest,f=0,h=function(g){var _=g.length,y=[],v=String.fromCharCode;for(f=0;f<_;f+=1)y.push(v(255&g.charCodeAt(f)));return y.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(h(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return h(d.responseText)})(i,o,s)}catch{}return a})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(ct.API),(function(n){function e(){return(Mt.html2canvas?Promise.resolve(Mt.html2canvas):import("./chunk-2VOR3JBO.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Mt.DOMPurify?Promise.resolve(Mt.DOMPurify):import("./chunk-IQ5EZLZZ.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=$n(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},o=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(a(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var g=u[h],_=g.src.find(function(y){return y.format==="truetype"});_&&c.addFont(_.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),f=c.call(d,a,l);return s.convert(f,u.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ct.getPageSize=function(a,l,c){if($n(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var g,_=0,y=0;if(h.hasOwnProperty(f))_=h[f][1]/d,y=h[f][0]/d;else try{_=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",y>_&&(g=y,y=_,_=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>y&&(g=y,y=_,_=g)}return{width:y,height:_,unit:l,k:d,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(iN):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}})(ct.API),ct.API.addJS=function(n){return bG=n,this.internal.events.subscribe("postPutResources",function(){kb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){kb!==void 0&&xG!==void 0&&this.internal.out("/Names <</JavaScript "+kb+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var d=t.internal.newObject();u.push(d);var f=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<u.length;o++)t.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])})(ct.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=(function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,_={width:0,height:0,numcomponents:1},y=4;y<g;y+=2){if(y+=h,e.indexOf(d.charCodeAt(y+1))!==-1){f=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),_={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:f,numcomponents:d.charCodeAt(y+9)};break}h=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return _})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}})(ct.API),ct.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,o=uG(n,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.palette,u=o.depth;i=c&&l===1?(function(F){for(var k=F.width,N=F.height,A=F.data,x=F.palette,O=F.depth,$=!1,Z=[],se=[],K=void 0,te=!1,W=0,ee=0;ee<x.length;ee++){var pe=mR(x[ee],4),M=pe[0],z=pe[1],Q=pe[2],ne=pe[3];Z.push(M,z,Q),ne!=null&&(ne===0?(W++,se.length<1&&se.push(ee)):ne<255&&(te=!0))}if(te||W>1){$=!0,se=void 0;var re=k*N;K=new Uint8Array(re);for(var le=new DataView(A.buffer),ye=0;ye<re;ye++){var _e=sN(le,ye,O),Ce=mR(x[_e],4)[3];K[ye]=Ce}}else W===0&&(se=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:A,alphaBytes:K,needSMask:$,palette:Z,mask:se}})(o):l===2||l===4?(function(F){for(var k=F.data,N=F.width,A=F.height,x=F.channels,O=F.depth,$=x===2?"DeviceGray":"DeviceRGB",Z=x-1,se=N*A,K=Z,te=se*K,W=1*se,ee=Math.ceil(te*O/8),pe=Math.ceil(W*O/8),M=new Uint8Array(ee),z=new Uint8Array(pe),Q=new DataView(k.buffer),ne=new DataView(M.buffer),re=new DataView(z.buffer),le=!1,ye=0;ye<se;ye++){for(var _e=ye*x,Ce=0;Ce<K;Ce++)RG(ne,sN(Q,_e+Ce,O),ye*K+Ce,O);var Le=sN(Q,_e+K,O);Le<(1<<O)-1&&(le=!0),RG(re,Le,1*ye,O)}return{colorSpace:$,colorsPerPixel:Z,sMaskBitsPerComponent:le?O:void 0,colorBytes:M,alphaBytes:z,needSMask:le}})(o):(function(F){var k=F.data,N=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:N,colorsPerPixel:N==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(A){for(var x=A.length,O=new Uint8Array(2*x),$=new DataView(O.buffer,O.byteOffset,O.byteLength),Z=0;Z<x;Z++)$.setUint16(2*Z,A[Z],!1);return O})(k):k,needSMask:!1}})(o);var d,f,h,g=i,_=g.colorSpace,y=g.colorsPerPixel,v=g.sMaskBitsPerComponent,E=g.colorBytes,S=g.alphaBytes,I=g.needSMask,R=g.palette,V=g.mask,j=null;return r!==ct.API.image_compression.NONE&&typeof hb=="function"?(j=(function(F){var k;switch(F){case ct.API.image_compression.FAST:k=11;break;case ct.API.image_compression.MEDIUM:k=13;break;case ct.API.image_compression.SLOW:k=14;break;default:k=12}return k})(r),d=this.decode.FLATE_DECODE,f="/Predictor ".concat(j," /Colors ").concat(y," /BitsPerComponent ").concat(u," /Columns ").concat(s),n=IG(E,Math.ceil(s*y*u/8),y,u,r),I&&(h=IG(S,Math.ceil(s*v/8),1,v,r))):(d=void 0,f=void 0,n=E,I&&(h=S)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:t,data:n,index:e,filter:d,decodeParameters:f,transparency:V,palette:R,sMask:h,predictor:j,width:s,height:a,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:_}}},(function(n){n.processGIF89A=function(e,t,r,i){var o=new Gue(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},u=new aN(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A})(ct.API),Ga.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ga.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Qn.log("bit decode error:"+t)}},Ga.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Ga.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Ga.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Ga.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=c}this.pos+=n}},Ga.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},Ga.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Ga.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Ga.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var o=new Ga(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new aN(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}})(ct.API),PG.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var o=new PG(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new aN(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}})(ct.API),ct.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],f=r[c+2],h=r[c+3];o[a++]=u,o[a++]=d,o[a++]=f,s[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ct.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Og=ct.API,Ob=Og.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,f=0,h=n.length,g=0,_=a[0]||l,y=[];for(t=0;t<h;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(f=d&&$n(c[r])==="object"&&!isNaN(parseInt(c[r][g],10))?c[r][g]/u:0,y.push((a[r]||_)/l+f)),g=r;return y},EG=Og.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Og.processArabic&&(n=Og.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Ob.apply(this,arguments).reduce(function(o,s){return o+s},0)},SG=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},CG=function(n,e,t){t||(t={});var r,i,o,s,a,l,c,u=[],d=[u],f=t.textIndent||0,h=0,g=0,_=n.split(" "),y=Ob.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var v=Array(l).join(" "),E=[];_.map(function(I){(I=I.split(/\s*\n/)).length>1?E=E.concat(I.map(function(R,V){return(V&&R.length?`
`:"")+R})):E.push(I[0])}),_=E,l=EG.apply(this,[v,t])}for(o=0,s=_.length;o<s;o++){var S=0;if(r=_[o],l&&r[0]==`
`&&(r=r.substr(1),S=1),f+h+(g=(i=Ob.apply(this,[r,t])).reduce(function(I,R){return I+R},0))>e||S){if(g>e){for(a=SG.apply(this,[r,i,e-(f+h),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);g=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(I,R){return I+R},0)}else u=[r];d.push(u),f=g+l,h=y}else u.push(r),f+=h+g,h=y}return c=l?function(I,R){return(R?v:"")+I.join(" ")}:function(I){return I.join(" ")},d.map(c)},Og.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),f="Unicode";return d.metadata[f]?{widths:d.metadata[f].widths||{0:1},kerning:d.metadata[f].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(CG.apply(this,[r[a],s,o]));return c},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[t[o]]=e[o],i[e[o]]=t[o];var s=function(f){return"0x"+parseInt(f,10).toString(16)},a=n.__fontmetrics__.compress=function(f){var h,g,_,y,v=["{"];for(var E in f){if(h=f[E],isNaN(parseInt(E,10))?g="'"+E+"'":(E=parseInt(E,10),g=(g=s(E).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof h=="number")h<0?(_=s(h).slice(3),y="-"):(_=s(h).slice(2),y=""),_=y+_.slice(0,-1)+i[_.slice(-1)];else{if($n(h)!=="object")throw new Error("Don't know what to do with value type "+$n(h)+".");_=a(h)}v.push(g+_)}return v.push("}"),v.join("")},l=n.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,_,y,v={},E=1,S=v,I=[],R="",V="",j=f.length-1,F=1;F<j;F+=1)(y=f[F])=="'"?h?(_=h.join(""),h=void 0):h=[]:h?h.push(y):y=="{"?(I.push([S,_]),S={},_=void 0):y=="}"?((g=I.pop())[0][g[1]]=S,_=void 0,S=g[0]):y=="-"?E=-1:_===void 0?r.hasOwnProperty(y)?(R+=r[y],_=parseInt(R,16)*E,E=1,R=""):R+=y:r.hasOwnProperty(y)?(V+=r[y],S[_]=parseInt(V,16)*E,E=1,_=void 0,V=""):V+=y;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(f){var h=f.font,g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var _=u.Unicode[h.postScriptName];_&&(h.metadata.Unicode.encoding=_,h.encoding=_.codePages[0])}])})(ct.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Fb(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(ct),ct.API.addSvgAsImage=function(n,e,t,r,i,o,s,a){if(isNaN(e)||isNaN(t))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Mt.canvg?Promise.resolve(Mt.canvg):import("./chunk-LNQEBTCP.js")).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(c,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,s,a)})},ct.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},ct.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,u=0,d=0;function f(g,_){var y,v=!1;for(y=0;y<g.length;y+=1)g[y]===_&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var h=a.length;for(d=0;d<h;d+=1)t[a[d]].value=t[a[d]].defaultValue,t[a[d]].explicitSet=!1}if($n(n)==="object"){for(i in n)if(o=n[i],f(a,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&f(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,_=[];for(g in t)t[g].explicitSet===!0&&(t[g].type==="name"?_.push("/"+g+" /"+t[g].value):_.push("/"+g+" "+t[g].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(ct.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=o.length;d<f;++d){if(a=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(o){var s,a,l,c,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(a=Object.keys(o).sort(function(h,g){return h-g})).length;d<f;d++)s=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",g=0;g<f.length;g++)h+=String.fromCharCode(f[g]);var _=c();u({data:h,addLength1:!0,objectId:_}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+jg(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+jg(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+jg(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var _=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+jg(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+jg(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,u=o.options||{},d=o.mutex||{},f=d.pdfEscape,h=d.activeFontKey,g=d.fonts,_=h,y="",v=0,E="",S=g[_].encoding;if(g[_].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(E=a,_=h,Array.isArray(a)&&(E=a[0]),v=0;v<E.length;v+=1)g[_].metadata.hasOwnProperty("cmap")&&(s=g[_].metadata.cmap.unicode.codeMap[E[v].charCodeAt(0)]),s||E[v].charCodeAt(0)<256&&g[_].metadata.hasOwnProperty("Unicode")?y+=E[v]:y+="";var I="";return parseInt(_.slice(1))<14||S==="WinAnsiEncoding"?I=f(y,_).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(I=t(y,g[_])),d.isHex=!0,{text:I,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])})(ct),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(ct.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,u,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,S=0;this.__bidiEngine__={};var I=function(A){var x=A.charCodeAt(),O=x>>8,$=_[O];return $!==void 0?d[256*$+(255&x)]:O===252||O===253?"AL":v.test(O)?"L":O===8?"R":"N"},R=function(A){for(var x,O=0;O<A.length;O++){if((x=I(A.charAt(O)))==="L")return!1;if(x==="R")return!0}return!1},V=function(A,x,O,$){var Z,se,K,te,W=x[$];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(W="AN");break;case"AL":E=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":$<1||$+1>=x.length||(Z=O[$-1])!=="EN"&&Z!=="AN"||(se=x[$+1])!=="EN"&&se!=="AN"?W="N":E&&(se="AN"),W=se===Z?se:"N";break;case"ES":W=(Z=$>0?O[$-1]:"B")==="EN"&&$+1<x.length&&x[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&O[$-1]==="EN"){W="EN";break}if(E){W="N";break}for(K=$+1,te=x.length;K<te&&x[K]==="ET";)K++;W=K<te&&x[K]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(te=x.length,K=$+1;K<te&&x[K]==="NSM";)K++;if(K<te){var ee=A[$],pe=ee>=1425&&ee<=2303||ee===64286;if(Z=x[K],pe&&(Z==="R"||Z==="AL")){W="R";break}}}W=$<1||(Z=x[$-1])==="B"?"N":O[$-1];break;case"B":E=!1,i=!0,W=S;break;case"S":o=!0,W="N"}return W},j=function(A,x,O){var $=A.split("");return O&&F($,O,{hiLevel:S}),$.reverse(),x&&x.reverse(),$.join("")},F=function(A,x,O){var $,Z,se,K,te,W=-1,ee=A.length,pe=0,M=[],z=S?h:f,Q=[];for(E=!1,i=!1,o=!1,Z=0;Z<ee;Z++)Q[Z]=I(A[Z]);for(se=0;se<ee;se++){if(te=pe,M[se]=V(A,Q,M,se),$=240&(pe=z[te][g[M[se]]]),pe&=15,x[se]=K=z[pe][5],$>0)if($===16){for(Z=W;Z<se;Z++)x[Z]=1;W=-1}else W=-1;if(z[pe][6])W===-1&&(W=se);else if(W>-1){for(Z=W;Z<se;Z++)x[Z]=K;W=-1}Q[se]==="B"&&(x[se]=0),O.hiLevel|=K}o&&(function(ne,re,le){for(var ye=0;ye<le;ye++)if(ne[ye]==="S"){re[ye]=S;for(var _e=ye-1;_e>=0&&ne[_e]==="WS";_e--)re[_e]=S}})(Q,x,ee)},k=function(A,x,O,$,Z){if(!(Z.hiLevel<A)){if(A===1&&S===1&&!i)return x.reverse(),void(O&&O.reverse());for(var se,K,te,W,ee=x.length,pe=0;pe<ee;){if($[pe]>=A){for(te=pe+1;te<ee&&$[te]>=A;)te++;for(W=pe,K=te-1;W<K;W++,K--)se=x[W],x[W]=x[K],x[K]=se,O&&(se=O[W],O[W]=O[K],O[K]=se);pe=te}pe++}}},N=function(A,x,O){var $=A.split(""),Z={hiLevel:S};return O||(O=[]),F($,O,Z),(function(se,K,te){if(te.hiLevel!==0&&u)for(var W,ee=0;ee<se.length;ee++)K[ee]===1&&(W=y.indexOf(se[ee]))>=0&&(se[ee]=y[W+1])})($,O,Z),k(2,$,x,O,Z),k(1,$,x,O,Z),$.join("")};return this.__bidiEngine__.doBidiReorder=function(A,x,O){if((function(Z,se){if(se)for(var K=0;K<Z.length;K++)se[K]=K;a===void 0&&(a=R(Z)),c===void 0&&(c=R(Z))})(A,x),s||!l||c)if(s&&l&&a^c)S=a?1:0,A=j(A,x,O);else if(!s&&l&&c)S=a?1:0,A=N(A,x,O),A=j(A,x);else if(!s||a||l||c){if(s&&!l&&a^c)A=j(A,x),a?(S=0,A=N(A,x,O)):(S=1,A=N(A,x,O),A=j(A,x));else if(s&&a&&!l&&c)S=1,A=N(A,x,O),A=j(A,x);else if(!s&&!l&&a^c){var $=u;a?(S=1,A=N(A,x,O),S=0,u=!1,A=N(A,x,O),u=$):(S=0,A=N(A,x,O),A=j(A,x),S=1,u=!1,A=N(A,x,O),u=$,A=j(A,x))}}else S=0,A=N(A,x,O);else S=a?1:0,A=N(A,x,O);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,l=A.isOutputVisual,a=A.isInputRtl,c=A.isOutputRtl,u=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(ct),ct.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new dh(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nhe(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new zue(this.contents),this.head=new Hue(this),this.name=new Yue(this),this.cmap=new WG(this),this.toUnicode={},this.hhea=new que(this),this.maxp=new Xue(this),this.hmtx=new Kue(this),this.post=new $ue(this),this.os2=new Wue(this),this.loca=new the(this),this.glyf=new Jue(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Va,dh=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),zue=(function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,s,a,l,c,u,d,f,h,g,_;for(_ in h=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),s=Math.floor(d/l),u=16*h-d,(i=new dh).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(s),i.writeShort(u),o=16*h,c=i.pos+o,a=null,g=[],t)for(f=t[_],i.writeString(_),i.writeInt(n(f)),i.writeInt(c),i.writeInt(f.length),g=g.concat(f),_==="head"&&(a=c),c+=f.length;c%4;)g.push(0),c++;return i.write(g),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=$G.call(t);t.length%4;)t.push(0);for(o=new dh(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e})(),Vue={}.hasOwnProperty,jl=function(n,e){for(var t in e)Vue.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Va=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Hue=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new dh).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),LG=(function(){function n(e,t){var r,i,o,s,a,l,c,u,d,f,h,g,_,y,v,E,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,o=(function(){var I,R;for(R=[],l=I=0;0<=f?I<f:I>f;l=0<=f?++I:--I)R.push(e.readUInt16());return R})(),e.pos+=2,_=(function(){var I,R;for(R=[],l=I=0;0<=f?I<f:I>f;l=0<=f?++I:--I)R.push(e.readUInt16());return R})(),c=(function(){var I,R;for(R=[],l=I=0;0<=f?I<f:I>f;l=0<=f?++I:--I)R.push(e.readUInt16());return R})(),u=(function(){var I,R;for(R=[],l=I=0;0<=f?I<f:I>f;l=0<=f?++I:--I)R.push(e.readUInt16());return R})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var I,R;for(R=[],l=I=0;0<=i?I<i:I>i;l=0<=i?++I:--I)R.push(e.readUInt16());return R})(),l=v=0,S=o.length;v<S;l=++v)for(y=o[l],r=E=g=_[l];g<=y?E<=y:E>=y;r=g<=y?++E:--E)u[l]===0?s=r+c[l]:(s=a[u[l]/2+(r-g)-(f-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=d}return n.encode=function(e,t){var r,i,o,s,a,l,c,u,d,f,h,g,_,y,v,E,S,I,R,V,j,F,k,N,A,x,O,$,Z,se,K,te,W,ee,pe,M,z,Q,ne,re,le,ye,_e,Ce,Le,T;switch($=new dh,s=Object.keys(e).sort(function(de,he){return de-he}),t){case"macroman":for(_=0,y=(function(){var de=[];for(g=0;g<256;++g)de.push(0);return de})(),E={0:0},o={},Z=0,W=s.length;Z<W;Z++)E[_e=e[i=s[Z]]]==null&&(E[_e]=++_),o[i]={old:e[i],new:E[e[i]]},y[i]=E[e[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(y),{charMap:o,subtable:$.data,maxGlyphID:_+1};case"unicode":for(x=[],d=[],S=0,E={},r={},v=c=null,se=0,ee=s.length;se<ee;se++)E[R=e[i=s[se]]]==null&&(E[R]=++S),r[i]={old:R,new:E[R]},a=E[R]-i,v!=null&&a===c||(v&&d.push(v),x.push(i),c=a),v=i;for(v&&d.push(v),d.push(65535),x.push(65535),N=2*(k=x.length),F=2*Math.pow(Math.log(k)/Math.LN2,2),f=Math.log(F/2)/Math.LN2,j=2*k-F,l=[],V=[],h=[],g=K=0,pe=x.length;K<pe;g=++K){if(A=x[g],u=d[g],A===65535){l.push(0),V.push(0);break}if(A-(O=r[A].new)>=32768)for(l.push(0),V.push(2*(h.length+k-g)),i=te=A;A<=u?te<=u:te>=u;i=A<=u?++te:--te)h.push(r[i].new);else l.push(O-A),V.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*k+2*h.length),$.writeUInt16(0),$.writeUInt16(N),$.writeUInt16(F),$.writeUInt16(f),$.writeUInt16(j),le=0,M=d.length;le<M;le++)i=d[le],$.writeUInt16(i);for($.writeUInt16(0),ye=0,z=x.length;ye<z;ye++)i=x[ye],$.writeUInt16(i);for(Ce=0,Q=l.length;Ce<Q;Ce++)a=l[Ce],$.writeUInt16(a);for(Le=0,ne=V.length;Le<ne;Le++)I=V[Le],$.writeUInt16(I);for(T=0,re=h.length;T<re;T++)_=h[T],$.writeUInt16(_);return{charMap:r,subtable:$.data,maxGlyphID:S+1}}},n})(),WG=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new LG(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=LG.encode(e,t),(i=new dh).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),que=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),Wue=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),$ue=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}).call(this)}},n})(),Zue=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Yue=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,o,s,a,l,c,u,d,f;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=u=0,d=r.length;u<d;o=++u)i=r[o],e.pos=i.offset,c=e.readString(i.length),s=new Zue(c,i),l[f=i.nameID]==null&&(l[f]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n})(),Xue=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),Kue=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,o,s,a,l;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,d,f;for(f=[],c=0,u=(d=this.metrics).length;c<u;c++)o=d[c],f.push(o.advance);return f}).call(this),r=this.widths[this.widths.length-1],l=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),$G=[].slice,Jue=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,o,s,a,l,c,u,d;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,s=(a=new dh(t.read(i))).readShort(),c=a.readShort(),d=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=s===-1?new ehe(a,c,d,l,u):new Que(a,s,c,d,l,u),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=t.length;a<l;a++)i=e[t[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},n})(),Que=(function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),ehe=(function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new dh($G.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),the=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Va),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<t.length&&t[o]==s){++o,r[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},n})(),nhe=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))r=l[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,s,a,l,c,u,d,f,h,g,_,y,v;for(i in r=WG.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},v=r.charMap)h[(l=v[i]).old]=l.new;for(g in f=r.maxGlyphID,s)g in h||(h[g]=f++);return u=(function(E){var S,I;for(S in I={},E)I[E[S]]=S;return I})(h),d=Object.keys(u).sort(function(E,S){return E-S}),_=(function(){var E,S,I;for(I=[],E=0,S=d.length;E<S;E++)a=d[E],I.push(u[a]);return I})(),o=this.font.glyf.encode(s,_,h),c=this.font.loca.encode(o.offsets,_),y={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},n})();ct.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,s;if(Array.isArray(t))return"["+(function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)s=t[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e})();function rhe(n,e){n&1&&(Cr(),Be(0,"svg",7),Ft(1,"path",8),ze())}function ihe(n,e){n&1&&Ft(0,"div",9)}function ohe(n,e){if(n&1){let t=Ei();Be(0,"div",10)(1,"div",11),xt(2,"Select Format"),ze(),Be(3,"button",12),un("click",function(){Zn(t);let i=or();return Yn(i.export("png"))}),Be(4,"div",13)(5,"span",14),Cr(),Be(6,"svg",15),Ft(7,"path",16),ze()(),to(),Be(8,"div",17)(9,"span"),xt(10,"Image"),ze(),Be(11,"span",18),xt(12,"High Res PNG"),ze()()()(),Be(13,"button",19),un("click",function(){Zn(t);let i=or();return Yn(i.export("pdf"))}),Be(14,"div",13)(15,"span",20),Cr(),Be(16,"svg",15),Ft(17,"path",21)(18,"path",22),ze()(),to(),Be(19,"div",17)(20,"span"),xt(21,"Document"),ze(),Be(22,"span",18),xt(23,"Portable PDF"),ze()()()()()}}var qb=class n{isExporting=!1;showMenu=xn(!1);_el=Se(kr);_mapService=Se(Ai);get map(){return this._mapService.map()}clickout(e){this._el.nativeElement.contains(e.target)||this.showMenu.set(!1)}toggleMenu(){this.showMenu.update(e=>!e)}export(e){this.map&&(this.isExporting=!0,this.showMenu.set(!1),setTimeout(()=>{this.map?.once("rendercomplete",()=>{let t=document.createElement("canvas"),r=this.map?.getSize();if(!r)return;t.width=r[0],t.height=r[1];let i=t.getContext("2d");document.querySelectorAll(".ol-layer canvas").forEach(a=>{if(a.width>0){let l=a.parentNode.style.opacity;i.globalAlpha=l===""?1:Number(l);let u=a.style.transform.match(/^matrix\(([^\(]*)\)$/)?.[1].split(",").map(Number);u&&i.setTransform(u[0],u[1],u[2],u[3],u[4],u[5]),i.drawImage(a,0,0)}});let s=t.toDataURL("image/png");e==="png"?this.downloadPNG(s):this.downloadPDF(s,t.width,t.height),this.isExporting=!1}),this.map?.renderSync()},100))}downloadPNG(e){let t=document.createElement("a");t.href=e,t.download=`map_${Date.now()}.png`,t.click()}downloadPDF(e,t,r){let i=t>r?"l":"p",o=new ct(i,"px",[t,r]);o.addImage(e,"PNG",0,0,t,r),o.save(`map_${Date.now()}.pdf`)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rr({type:n,selectors:[["app-map-print"]],hostBindings:function(t,r){t&1&&un("click",function(o){return r.clickout(o)},hc)},decls:8,vars:4,consts:[[1,"relative","group",3,"clickOutside"],[1,"group/btn","flex","items-center","justify-center","w-10","h-10","rounded-xl","transition-all","duration-200","active:scale-95","shadow-md",3,"click","ngClass"],["class","w-5 h-5 text-white transition-transform group-hover/btn:rotate-6","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",4,"ngIf"],["class","w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin",4,"ngIf"],[1,"absolute","top-full","mt-4","left-1/2","-translate-x-1/2","px-2.5","py-1.5","text-[10px]","font-bold","text-white","bg-slate-800","rounded-lg","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","whitespace-nowrap","shadow-xl","z-50"],[1,"absolute","-top-1","left-1/2","-translate-x-1/2","w-2","h-2","bg-slate-800","rotate-45"],["class","absolute top-full left-1/2 -translate-x-1/2 mt-4 bg-white/95 backdrop-blur-xl rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.1)] border border-gray-100 flex flex-col overflow-hidden min-w-[180px] p-1.5 ring-1 ring-black/5 z-50",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-5","h-5","text-white","transition-transform","group-hover/btn:rotate-6"],["stroke","currentColor","stroke-linejoin","round","stroke-width","2","d","M16.444 18H19a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h2.556M17 11V5a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v6h10ZM7 15h10v4a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-4Z"],[1,"w-5","h-5","border-2","border-white/30","border-t-white","rounded-full","animate-spin"],[1,"absolute","top-full","left-1/2","-translate-x-1/2","mt-4","bg-white/95","backdrop-blur-xl","rounded-2xl","shadow-[0_10px_40px_rgba(0,0,0,0.1)]","border","border-gray-100","flex","flex-col","overflow-hidden","min-w-[180px]","p-1.5","ring-1","ring-black/5","z-50"],[1,"px-3","py-1.5","mb-1","text-[9px]","uppercase","tracking-wider","font-bold","text-slate-400"],[1,"flex","items-center","justify-between","px-3","py-2.5","rounded-xl","hover:bg-violet-50","text-xs","font-semibold","text-slate-700","transition-all","group/item",3,"click"],[1,"flex","items-center","gap-3"],[1,"flex","items-center","justify-center","w-8","h-8","bg-violet-100","text-violet-600","rounded-lg","shadow-sm","group-hover/item:scale-110","transition-transform"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","flex-col","items-start"],[1,"text-[9px]","text-slate-400","font-normal"],[1,"flex","items-center","justify-between","px-3","py-2.5","rounded-xl","hover:bg-rose-50","text-xs","font-semibold","text-slate-700","transition-all","group/item",3,"click"],[1,"flex","items-center","justify-center","w-8","h-8","bg-rose-100","text-rose-600","rounded-lg","shadow-sm","group-hover/item:scale-110","transition-transform"],["d","M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 9h1v1H9V9z","stroke-width","2"]],template:function(t,r){t&1&&(Be(0,"div",0),un("clickOutside",function(){return r.showMenu.set(!1)}),Be(1,"button",1),un("click",function(){return r.toggleMenu()}),gi(2,rhe,2,0,"svg",2)(3,ihe,1,0,"div",3),ze(),Be(4,"div",4),xt(5," PRINT MAP "),Ft(6,"div",5),ze(),gi(7,ohe,24,0,"div",6),ze()),t&2&&(en(),ir("ngClass",r.isExporting?"bg-rose-500 text-white animate-pulse":"bg-gradient-to-tr from-violet-600 to-indigo-500 text-white hover:scale-105 shadow-violet-200"),en(),ir("ngIf",!r.isExporting),en(),ir("ngIf",r.isExporting),en(4),ir("ngIf",r.showMenu()))},dependencies:[Si,l0,ba],encapsulation:2})};var Wb=class n{_mapService=Se(Ai);_drawService=Se(Rl);showDrawMenu=xn(!1);activeDrawType=this._drawService.activeType;toggleDrawMenu(){this.showDrawMenu.update(e=>!e)}startDrawing(e){let t=this._mapService.map();t&&(e===null?this._drawService.stopDrawing(t):this._drawService.startDrawing(t,e),this.showDrawMenu.set(!1))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rr({type:n,selectors:[["app-toolbar"]],decls:8,vars:0,consts:[[1,"absolute","top-6","left-1/2","-translate-x-1/2","z-20","flex","items-center","gap-2","p-1.5","bg-white/80","backdrop-blur-lg","rounded-2xl","shadow-lg","border","border-white/40","ring-1","ring-black/5"],[1,"w-[1px]","h-6","bg-gray-300/50","mx-1"]],template:function(t,r){t&1&&(Be(0,"div",0),Ft(1,"app-drawing-tools")(2,"div",1)(3,"app-upload")(4,"div",1)(5,"app-download")(6,"div",1)(7,"app-map-print"),ze())},dependencies:[Si,ab,lb,cb,qb],encapsulation:2})};var $b=class extends Ic{levelDisplay;viewListenerKey;constructor(e){let t=e||{},r=document.createElement("div");r.className="ol-zoom advanced-zoom ol-unselectable ol-control";let i=document.createElement("button");i.innerHTML="+";let o=document.createElement("div");o.className="zoom-level-indicator",o.innerHTML="-";let s=document.createElement("button");s.innerHTML="-",r.appendChild(i),r.appendChild(o),r.appendChild(s),super({element:r,target:t.target}),this.levelDisplay=o,i.onclick=()=>this.handleZoom(1),s.onclick=()=>this.handleZoom(-1)}setMap(e){this.viewListenerKey&&O2(this.viewListenerKey),super.setMap(e),e&&(e.on("change:view",()=>{this.setupViewListener(e)}),this.setupViewListener(e))}setupViewListener(e){this.viewListenerKey&&O2(this.viewListenerKey);let t=e.getView();t&&(this.viewListenerKey=t.on("change:resolution",()=>{this.updateDisplay(e)}),this.updateDisplay(e))}updateDisplay(e){let t=e.getView().getZoom();t!==void 0&&(this.levelDisplay.innerHTML=t%1===0?t.toString():t.toFixed(1))}handleZoom(e){let t=this.getMap()?.getView();if(t){let r=t.getZoom();r!==void 0&&t.animate({zoom:r+e,duration:300,easing:Bo})}}};var fN;function she(){if(fN==null){let n=typeof document<"u"?document.head:null;fN=!!(n&&(n.createShadowRoot||n.attachShadow))}return fN}function Zb(n){if(she()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function x_(n){return n.composedPath?n.composedPath()[0]:n.target}function ZG(n){return n.buttons===0||n.detail===0}function YG(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function XG(n,e=0){return ahe(n)?Number(n):arguments.length===2?e:0}function ahe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Kc(n){return n instanceof kr?n.nativeElement:n}var Yb=new WeakMap,KG=(()=>{class n{_appRef;_injector=Se(bi);_environmentInjector=Se(di);load(t){let r=this._appRef=this._appRef||this._injector.get(cl),i=Yb.get(r);i||(i={loaders:new Set,refs:[]},Yb.set(r,i),r.onDestroy(()=>{Yb.get(r)?.refs.forEach(o=>o.destroy()),Yb.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(_k(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pN;try{pN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pN=!1}var JG=(()=>{class n{_platformId=Se(sd);isBrowser=this._platformId?Tk(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||pN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lhe=new ft("cdk-dir-doc",{providedIn:"root",factory:che});function che(){return Se(ar)}var uhe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function hhe(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?uhe.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var QG=(()=>{class n{get value(){return this.valueSignal()}valueSignal=xn("ltr");change=new fr;constructor(){let t=Se(lhe,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(hhe(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dhe=20,ez=(()=>{class n{_platform=Se(JG);_listeners;_viewportSize;_change=new Ot;_document=Se(ar);constructor(){let t=Se(nr),r=Se(Hs).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=dhe){return t>0?this._change.pipe(tS(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _N(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return r==="canvas"?rz(n,e):(r==="input"||r==="select"||r==="textarea")&&nz(n,e),tz("canvas",n,e,rz),tz("input, textarea, select",n,e,nz),e}function tz(n,e,t,r){let i=e.querySelectorAll(n);if(i.length){let o=t.querySelectorAll(n);for(let s=0;s<i.length;s++)r(i[s],o[s])}}var fhe=0;function nz(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${fhe++}`)}function rz(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function SN(n){let e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function yN(n,e,t){let{top:r,bottom:i,left:o,right:s}=n;return t>=r&&t<=i&&e>=o&&e<=s}function phe(n,e){let t=e.left<n.left,r=e.left+e.width>n.right,i=e.top<n.top,o=e.top+e.height>n.bottom;return t||r||i||o}function S_(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function iz(n,e,t,r){let{top:i,right:o,bottom:s,left:a,width:l,height:c}=n,u=l*e,d=c*e;return r>i-d&&r<s+d&&t>a-u&&t<o+u}var Xb=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:SN(t)})})}handleScroll(e){let t=x_(e),r=this.positions.get(t);if(!r)return null;let i=r.scrollPosition,o,s;if(t===this._document){let c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=t.scrollTop,s=t.scrollLeft;let a=i.top-o,l=i.left-s;return this.positions.forEach((c,u)=>{c.clientRect&&t!==u&&t.contains(u)&&S_(c.clientRect,a,l)}),i.top=o,i.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function gz(n,e){let t=n.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function CN(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function Hg(n,e){let t=e?"":"none";CN(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function oz(n,e,t){CN(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Kb(n,e){return e&&e!="none"?n+" "+e:n}function sz(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=C_(e.left,e.top)}function C_(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function az(n){let e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function ghe(n){let e=getComputedStyle(n),t=gN(e,"transition-property"),r=t.find(a=>a==="transform"||a==="all");if(!r)return 0;let i=t.indexOf(r),o=gN(e,"transition-duration"),s=gN(e,"transition-delay");return az(o[i])+az(s[i])}function gN(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}var mhe=new Set(["position"]),vN=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,r,i,o,s,a,l,c,u){this._document=e,this._rootElement=t,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=u}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),lz(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return ghe(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,r=e?e.template:null,i;if(r&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(r,e.context);s.detectChanges(),i=gz(s,this._document),this._previewEmbeddedView=s,e.matchSize?sz(i,o):i.style.transform=C_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=_N(this._rootElement),sz(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return CN(i.style,{"pointer-events":"none",margin:lz(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},mhe),Hg(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}};function lz(n){return"showPopover"in n}var _he={passive:!0},cz={passive:!1},yhe={passive:!1,capture:!0},vhe=800,uz="cdk-drag-placeholder",hz=new Set(["position"]),wN=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=xn(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Ot;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Tn.EMPTY;_pointerUpSubscription=Tn.EMPTY;_scrollSubscription=Tn.EMPTY;_resizeSubscription=Tn.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Hg(t,e)))}_disabled=!1;beforeStarted=new Ot;started=new Ot;released=new Ot;ended=new Ot;entered=new Ot;exited=new Ot;dropped=new Ot;moved=this._moveEvents;data;constrainPosition;constructor(e,t,r,i,o,s,a){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Xb(r),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Kc(r)),this._handles.forEach(r=>Hg(r,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=Kc(e);if(t!==this._rootElement){this._removeRootElementListeners();let r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(t,"mousedown",this._pointerDown,cz),r.listen(t,"touchstart",this._pointerDown,_he),r.listen(t,"dragstart",this._nativeDragStart,cz)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Kc(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&phe(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect(),r=0,i=0;t.left<e.left?r=e.left-t.left:t.right>e.right&&(r=e.right-t.right),t.top<e.top?i=e.top-t.top:t.bottom>e.bottom&&(i=e.bottom-t.bottom);let o=this._activeTransform.x,s=this._activeTransform.y,a=o+r,l=s+i;this._rootElement.style.transform=C_(a,l),this._activeTransform={x:a,y:l},this._passiveTransform={x:a,y:l}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Hg(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Hg(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),l=this._dropContainer;if(!a){this._endDragSequence(e);return}(!l||!l.isDragging()&&!l.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let r=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,t);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:e,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){b_(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),r=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",whe,yhe)}),r){let i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._marker=this._marker||this._document.createComment("");o.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new vN(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),oz(i,!1,hz),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let r=this.isDragging(),i=b_(t),o=!i&&t.button!==0,s=this._rootElement,a=x_(t),l=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+vhe>Date.now(),c=i?YG(t):ZG(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),r||o||l||c)return;if(this._handles.length){let f=s.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=SN(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){oz(this._rootElement,!0,hz),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),s=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:e}),t.drop(this,r,this._initialIndex,this._initialContainer,s,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let s=this._dropContainer.getItemIndex(this),a=this._dropContainer.getItemAtIndex(s+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,a),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=a=>{(!a||this._preview&&x_(a)===this._preview.element&&a.propertyName==="transform")&&(s(),r(),clearTimeout(o))},o=setTimeout(i,t*1.5),s=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=gz(this._placeholderRef,this._document)):r=_N(this._rootElement),r.style.pointerEvents="none",r.classList.add(uz),r}_getPointerPositionInElement(e,t,r){let i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():e,s=b_(r)?r.targetTouches[0]:r,a=this._getViewportScrollPosition(),l=s.pageX-o.left-a.left,c=s.pageY-o.top-a.top;return{x:o.left-e.left+l,y:o.top-e.top+c}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),r=b_(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+s,d=a.bottom-(c-s),f=a.left+o,h=a.right-(l-o);r=dz(r,f,h),i=dz(i,u,d)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:t,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(r-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Hg(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let r=1/this.scale,i=C_(e*r,t*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Kb(i,this._initialTransform)}_applyPreviewTransform(e,t){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=C_(e,t);this._preview.setTransform(Kb(i,r))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,s=r.right-i.right,a=i.top-r.top,l=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,i.height>r.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:b_(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let r=x_(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&S_(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Zb(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Kc(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}_conditionallyInsertAnchor(e,t,r){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(t===this._initialContainer&&t.hasAnchor){let i=this._anchor??=_N(this._placeholder);i.classList.remove(uz),i.classList.add("cdk-drag-anchor"),i.style.transform="",r?r.before(i):Kc(t.element).appendChild(i)}}};function dz(n,e,t){return Math.max(e,Math.min(t,n))}function b_(n){return n.type[0]==="t"}function whe(n){n.preventDefault()}function mz(n,e,t){let r=fz(e,n.length-1),i=fz(t,n.length-1);if(r===i)return;let o=n[r],s=i<r?-1:1;for(let a=r;a!==i;a+=s)n[a]=n[a+s];n[i]=o}function fz(n,e){return Math.max(0,Math.min(e,n))}var Jb=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,r,i){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,r,i);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",l=o.findIndex(y=>y.drag===e),c=o[s],u=o[l].clientRect,d=c.clientRect,f=l>s?1:-1,h=this._getItemOffsetPx(u,d,f),g=this._getSiblingOffsetPx(l,o,f),_=o.slice();return mz(o,l,s),o.forEach((y,v)=>{if(_[v]===y)return;let E=y.drag===e,S=E?h:g,I=E?e.getPlaceholderElement():y.drag.getRootElement();y.offset+=S;let R=Math.round(y.offset*(1/y.drag.scale));a?(I.style.transform=Kb(`translate3d(${R}px, 0, 0)`,y.initialTransform),S_(y.clientRect,0,S)):(I.style.transform=Kb(`translate3d(0, ${R}px, 0)`,y.initialTransform),S_(y.clientRect,S,0))}),this._previousSwap.overlaps=yN(d,t,r),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:l,currentIndex:s}}enter(e,t,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i,s=this._activeDraggables,a=s.indexOf(e),l=e.getPlaceholderElement(),c=s[o];if(c===e&&(c=s[o+1]),!c&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let u=c.getRootElement();u.parentElement.insertBefore(l,u),s.splice(o,0,e)}else this._element.appendChild(l),s.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(t=>t.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:r})=>{S_(r,e,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:SN(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,t,r){let i=this.orientation==="horizontal",o=i?t.left-e.left:t.top-e.top;return r===-1&&(o+=i?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,r){let i=this.orientation==="horizontal",o=t[e].clientRect,s=t[e+r*-1],a=o[i?"width":"height"]*r;if(s){let l=i?"left":"top",c=i?"right":"bottom";r===-1?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let s=r[r.length-1].clientRect;return i?e>=s.right:t>=s.bottom}else{let s=r[0].clientRect;return i?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,r,i){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(i){let c=o?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?t>=Math.floor(l.left)&&t<Math.floor(l.right):r>=Math.floor(l.top)&&r<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},xN=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<t.length;r++){let i=t[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,t,r,i){let o=this._getItemIndexFromPointerPosition(e,t,r),s=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===i.x&&s.deltaY===i.y)return null;let l=this.getItemIndex(e),c=e.getPlaceholderElement(),u=a.getRootElement();o>l?u.after(c):u.before(c),mz(this._activeItems,l,o);let d=this._getRootNode().elementFromPoint(t,r);return s.deltaX=i.x,s.deltaY=i.y,s.drag=a,s.overlaps=u===d||u.contains(d),{previousIndex:l,currentIndex:o}}enter(e,t,r,i){let o=this._activeItems.indexOf(e);o>-1&&this._activeItems.splice(o,1);let s=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i;s===-1&&(s=this._getClosestItemIndexToPointer(e,t,r));let a=this._activeItems[s];a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(s,0,e),a.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===e&&i.nextSibling!==o&&(o===null?e.appendChild(i):o.parentNode===e&&e.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,r){let i=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(r)),o=i?this._activeItems.findIndex(s=>{let a=s.getRootElement();return i===a||a.contains(i)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Zb(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==e){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),u=Math.hypot(t-l,r-c);u<i&&(i=u,o=s)}}return o}},pz=.05,_z=.05,sa=(function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n})(sa||{}),Ao=(function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n})(Ao||{}),bN=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Ot;entered=new Ot;exited=new Ot;dropped=new Ot;sorted=new Ot;receivingStarted=new Ot;receivingStopped=new Ot;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Tn.EMPTY;_verticalScrollDirection=sa.NONE;_horizontalScrollDirection=Ao.NONE;_scrollNode;_stopScrollTimers=new Ot;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o;let s=this.element=Kc(e);this._document=r,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new Xb(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,o,s,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof Jb&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new xN(this._document,this._dragDropRegistry);else{let t=new Jb(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,r)=>this.sortPredicate(t,r,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=Kc(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._domRect||!iz(this._domRect,pz,t,r))return;let o=this._sortStrategy.sort(e,t,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=sa.NONE,o=Ao.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||r||iz(s.clientRect,pz,e,t)&&([i,o]=xhe(a,s.clientRect,this._direction,e,t),(i||o)&&(r=a))}),!i&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};i=yz(l,t),o=vz(l,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),eS(0,Dy).pipe(nc(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===sa.UP?e.scrollBy(0,-t):this._verticalScrollDirection===sa.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===Ao.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===Ao.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&yN(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._domRect||!yN(this._domRect,t,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(t,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,t){let r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Zb(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function yz(n,e){let{top:t,bottom:r,height:i}=n,o=i*_z;return e>=t-o&&e<=t+o?sa.UP:e>=r-o&&e<=r+o?sa.DOWN:sa.NONE}function vz(n,e){let{left:t,right:r,width:i}=n,o=i*_z;return e>=t-o&&e<=t+o?Ao.LEFT:e>=r-o&&e<=r+o?Ao.RIGHT:Ao.NONE}function xhe(n,e,t,r,i){let o=yz(e,i),s=vz(e,r),a=sa.NONE,l=Ao.NONE;if(o){let c=n.scrollTop;o===sa.UP?c>0&&(a=sa.UP):n.scrollHeight-c>n.clientHeight&&(a=sa.DOWN)}if(s){let c=n.scrollLeft;t==="rtl"?s===Ao.RIGHT?c<0&&(l=Ao.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=Ao.LEFT):s===Ao.LEFT?c>0&&(l=Ao.LEFT):n.scrollWidth-c>n.clientWidth&&(l=Ao.RIGHT)}return[a,l]}var E_={capture:!0},mN={passive:!1,capture:!0},bhe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rr({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),IN=(()=>{class n{_ngZone=Se(nr);_document=Se(ar);_styleLoader=Se(KG);_renderer=Se(Hs).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new Ot;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=xn([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new Ot;pointerUp=new Ot;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,mN)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,r){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(bhe),this._activeDragInstances.update(i=>[...i,t]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this._scroll.next(a),E_],["selectstart",this._preventDefaultWhileDragging,mN]];i?s.push(["touchend",o,E_],["touchcancel",o,E_]):s.push(["mouseup",o,E_]),i||s.push(["mousemove",a=>this.pointerMove.next(a),mN]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,l,c])=>this._renderer.listen(this._document,a,l,c))})}}stopDragging(t){this._activeDragInstances.update(r=>{let i=r.indexOf(t);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let r=[this._scroll];return t&&t!==this._document&&r.push(new rn(i=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(t,"scroll",s=>{this._activeDragInstances().length&&i.next(s)},E_);return()=>{o()}}))),Hy(...r)}registerDirectiveNode(t,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,r)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ehe={dragStartThreshold:5,pointerDirectionChangeThreshold:5},She=(()=>{class n{_document=Se(ar);_ngZone=Se(nr);_viewportRuler=Se(ez);_dragDropRegistry=Se(IN);_renderer=Se(Hs).createRenderer(null,null);constructor(){}createDrag(t,r=Ehe){return new wN(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new bN(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EN=new ft("CDK_DRAG_PARENT");var wz=new ft("CdkDragHandle"),xz=(()=>{class n{element=Se(kr);_parentDrag=Se(EN,{optional:!0,skipSelf:!0});_dragDropRegistry=Se(IN);_stateChanges=new Ot;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){let r=this._dragDropRegistry.getDragDirectiveForNode(t);if(r){this._parentDrag=r,r._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xa({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",s0]},features:[r0([{provide:wz,useExisting:n}])]})}return n})(),Che=new ft("CDK_DRAG_CONFIG"),Ihe=new ft("CdkDropList"),bz=(()=>{class n{element=Se(kr);dropContainer=Se(Ihe,{optional:!0,skipSelf:!0});_ngZone=Se(nr);_viewContainerRef=Se(qs);_dir=Se(QG,{optional:!0});_changeDetectorRef=Se(op);_selfHandle=Se(wz,{optional:!0,self:!0});_parentDrag=Se(EN,{optional:!0,skipSelf:!0});_dragDropRegistry=Se(IN);_destroyed=new Ot;_handles=new ui([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new fr;released=new fr;ended=new fr;entered=new fr;exited=new fr;dropped=new fr;moved=new rn(t=>{let r=this._dragRef.moved.pipe(cn(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(t);return()=>{r.unsubscribe()}});_injector=Se(bi);constructor(){let t=this.dropContainer,r=Se(Che,{optional:!0}),i=Se(She);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),t&&(t.addItem(this),t._dropListRef.beforeStarted.pipe(nc(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){Xm(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let r=this._handles.getValue();r.push(t),this._handles.next(r)}_removeHandle(t){let r=this._handles.getValue(),i=r.indexOf(t);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,r=t;this.rootElementSelector&&(r=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):Kc(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof i=="object"&&i?i:XG(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(ma(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){t.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(t){let{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=t;this.disabled=l??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe(Yr(t=>{let r=t.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Ui(t=>Hy(...t.map(r=>r._stateChanges.pipe(Uf(r))))),nc(this._destroyed)).subscribe(t=>{let r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xa({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&hl("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",s0],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",mk]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r0([{provide:EN,useExisting:n}]),od]})}return n})();var Dhe=(n,e)=>e.key;function The(n,e){if(n&1){let t=Ei();Be(0,"div",2)(1,"button",3),un("click",function(i){let o=Zn(t);return or().openWindow(o),Yn(i.stopPropagation())}),Be(2,"span",4),xt(3,"\u{1F50D}"),ze(),xt(4," View Details "),ze()()}if(n&2){let t=e;n0("left",t.clientX,"px")("top",t.clientY,"px")}}function Mhe(n,e){if(n&1&&(Be(0,"tr",15)(1,"td",20),xt(2),ze(),Be(3,"td",21),xt(4),ze()()),n&2){let t=e.$implicit;en(2),ps(" ",t.key," "),en(2),ps(" ",t.value," ")}}function Ahe(n,e){n&1&&(Be(0,"tr")(1,"td",22),xt(2," No data available to display. "),ze()())}function Rhe(n,e){if(n&1){let t=Ei();Be(0,"div",1)(1,"div",5)(2,"div",6),Ft(3,"div",7),Be(4,"h3",8),xt(5,"Feature Attributes"),ze()(),Be(6,"button",9),un("click",function(){Zn(t);let i=or();return Yn(i.closeWindow())}),Cr(),Be(7,"svg",10),Ft(8,"path",11),ze()()(),to(),Be(9,"div",12)(10,"table",13)(11,"tbody",14),b5(12,Mhe,5,2,"tr",15,Dhe,!1,Ahe,3,0,"tr"),ze()()(),Be(15,"div",16)(16,"button",17),un("click",function(){Zn(t);let i=or();return Yn(i.closeWindow())}),xt(17," Close "),ze(),Be(18,"div",18)(19,"span",19),xt(20),ze()()()()}if(n&2){let t,r=or();en(12),E5(r.filteredData()),en(8),ps("UID: ",(t=r.selectedFeatureData())==null?null:t.ol_uid)}}var Qb=class n{mapService=Se(Ai);filteredData;selectedFeatureData=xn(null);_el=Se(kr);isWindowOpen=xn(!1);constructor(){this.filteredData=i0(()=>{let e=this.selectedFeatureData();if(!e||typeof e!="object")return[];let t=["geometry","ol_uid","clientX","clientY"];return Object.entries(e).filter(([r])=>!t.includes(r)).map(([r,i])=>({key:String(r),value:i==null?"---":String(i)}))})}clickout(e){this.mapService.rightClickedFeature()&&(this._el.nativeElement.contains(e.target)||this.mapService.rightClickedFeature.set(null))}openWindow(e){this.selectedFeatureData.set(e),this.isWindowOpen.set(!0),this.mapService.rightClickedFeature.set(null)}closeWindow(){this.isWindowOpen.set(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rr({type:n,selectors:[["app-map-context-menu"]],hostBindings:function(t,r){t&1&&un("click",function(o){return r.clickout(o)},hc)},decls:2,vars:2,consts:[[1,"fixed","z-[2000]","bg-white","shadow-xl","rounded-lg","py-2","min-w-[160px]","border","border-slate-200",3,"left","top"],["cdkDrag","",1,"fixed","z-[1001]","w-[350px]","bg-white","rounded-xl","shadow-2xl","border","border-slate-300","flex","flex-col","pointer-events-auto","overflow-hidden",2,"left","60px","top","100px"],[1,"fixed","z-[2000]","bg-white","shadow-xl","rounded-lg","py-2","min-w-[160px]","border","border-slate-200"],[1,"w-full","px-4","py-2","text-left","text-sm","hover:bg-slate-100","flex","items-center","gap-2","transition-colors",3,"click"],[1,"text-slate-500"],["cdkDragHandle","",1,"flex","items-center","justify-between","bg-slate-900","px-4","py-2.5","cursor-move","active:cursor-grabbing","select-none"],[1,"flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-indigo-500","animate-pulse"],[1,"text-white","text-[11px]","font-bold","uppercase","tracking-widest"],[1,"text-slate-400","hover:text-white","p-1","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["d","M6 18L18 6M6 6l12 12","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"max-h-[350px]","overflow-y-auto"],[1,"w-full","text-[12px]","text-left"],[1,"divide-y","divide-slate-100"],[1,"hover:bg-slate-50","transition-colors"],[1,"p-2.5","bg-slate-50","border-t","border-slate-200","flex","justify-between","items-center"],[1,"text-[10px]","bg-indigo-600","text-white","px-4","py-1.5","rounded","shadow-sm","font-bold","uppercase","hover:bg-indigo-700","transition-all","active:scale-95",3,"click"],[1,"flex","flex-col","items-end"],[1,"text-[9px]","text-slate-400","font-mono"],[1,"px-4","py-2.5","font-bold","text-slate-500","bg-slate-50/50","w-[120px]","border-r","border-slate-100","uppercase","text-[10px]"],[1,"px-4","py-2.5","text-slate-700","font-medium","selection:bg-indigo-100"],["colspan","2",1,"px-4","py-8","text-center","text-slate-400","italic"]],template:function(t,r){if(t&1&&(Jv(0,The,5,4,"div",0),Jv(1,Rhe,21,2,"div",1)),t&2){let i;Qv((i=r.mapService.rightClickedFeature())?0:-1,i),en(),Qv(r.isWindowOpen()?1:-1)}},dependencies:[Si,bz,xz],encapsulation:2})};var Nhe=["mapContainer"],eE=class n{mapViewerService=Se(Ai);_geoDataService=Se(ih);_drawService=Se(Rl);mapContainer;map;importedDataVectorSource;showExportMenu=!1;static BASEMAP_CRS="EPSG:3857";static FALLBACK_CRS="EPSG:4326";constructor(){ip(()=>{let e=this._geoDataService.currentData();if(console.log("data signal:",e),!e||!this.importedDataVectorSource)return;let t=new $o,r=[];Array.isArray(e.geojson)?e.geojson.forEach(i=>{let o=t.readFeatures(i,{dataProjection:e.crs,featureProjection:n.BASEMAP_CRS});r.push(...o)}):r=t.readFeatures(e.geojson,{dataProjection:e.crs,featureProjection:n.BASEMAP_CRS}),this.importedDataVectorSource.clear(),this.importedDataVectorSource.addFeatures(r)})}ngAfterViewInit(){this._initializeMap()}_initializeMap(){this.importedDataVectorSource=new kc,this.map=new W6({target:this.mapContainer.nativeElement,layers:[...this._createBasemaps(),this._createImportedVectorLayer(),this._createDrawingVectorLayer()],view:new vs({center:[0,0],zoom:2,projection:n.BASEMAP_CRS}),controls:e1({zoom:!1}).extend([new $b])}),this.mapViewerService.setMap(this.map)}_styleByGeometryType=e=>{let t=e.getGeometry()?.getType();return console.log("style called for:",t),this._styleCache[t??"Point"]};_styleCache={Point:new jr({image:new El({radius:6,fill:new ei({color:"#d11313"})})}),LineString:new jr({stroke:new yi({color:"#005eff",width:3})}),MultiLineString:new jr({stroke:new yi({color:"#0752d4ff",width:3})}),Polygon:new jr({fill:new ei({color:"rgba(0,255,153,0.4)"}),stroke:new yi({color:"#009966",width:2})})};_createImportedVectorLayer(){let e=new Pd({source:this.importedDataVectorSource,style:this._styleByGeometryType});return e.setProperties({id:"imported",name:"Imported Data",type:"vector",removable:!1}),e}_createDrawingVectorLayer(){let e=new Pd({source:this._drawService.source,style:this._styleByGeometryType});return e.setProperties({id:"drawing",name:"Drawing Data",type:"vector",removable:!1}),e}_createBasemaps(){let e=new QT({source:new jF,visible:!0});e.setProperties({id:"osm",name:"OpenStreetMap",type:"basemap",removable:!1,thumbnail:"assets/map-previews/osm.webp"});let t=new QT({source:new fB({layer:"alidade_smooth_dark",retina:!0}),visible:!1});return t.setProperties({id:"Stadia Maps Dark",name:"Stadia Maps Dark",type:"basemap",removable:!1,thumbnail:"assets/map-previews/dark.webp"}),[e,t]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rr({type:n,selectors:[["app-map-viewer"]],viewQuery:function(t,r){if(t&1&&e2(Nhe,7),t&2){let i;t2(i=n2())&&(r.mapContainer=i.first)}},decls:8,vars:0,consts:[["mapContainer",""],[1,"relative","w-full","h-screen","font-sans","overflow-hidden","bg-slate-900"],[1,"w-full","h-full","opacity-90",3,"contextmenu"],[1,"absolute","top-6","right-1","z-20","transition-all","duration-500"]],template:function(t,r){if(t&1){let i=Ei();Be(0,"div",1)(1,"div",2,0),un("contextmenu",function(s){return Zn(i),Yn(r.mapViewerService.handleRightClick(s))}),ze(),Ft(3,"app-toolbar"),Be(4,"div",3),Ft(5,"app-layer-panel"),ze(),Ft(6,"app-mouse-position")(7,"app-map-context-menu"),ze()}},dependencies:[Si,eb,tb,Wb,Qb],styles:[".ol-control.advanced-zoom{top:20px;left:20px;background:#ffffffe6!important;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);padding:4px;border-radius:8px;border:1px solid rgba(255,255,255,.3);box-shadow:0 8px 32px #00000026;display:flex;flex-direction:column;gap:2px;transition:transform .2s ease;height:auto;width:auto}  .ol-control.advanced-zoom:hover{transform:translateY(-2px)}  .ol-control.advanced-zoom button{width:24px!important;height:24px!important;background-color:transparent!important;color:#2c3e50!important;border:none;border-radius:8px!important;font-size:22px;font-weight:300;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;position:relative}  .ol-control.advanced-zoom button.ol-zoom-in:hover{background-color:#3498db33!important;color:#3498db!important}  .ol-control.advanced-zoom button.ol-zoom-out:hover{background-color:#e74c3c33!important;color:#e74c3c!important}  .ol-control.advanced-zoom button:active{transform:scale(.9)}  .zoom-level-indicator{height:28px;display:flex;align-items:center;justify-content:center;font-family:Inter,Segoe UI,sans-serif;font-size:13px;font-weight:700;color:#34495e;background:#0000000f;margin:4px 0;border-radius:6px;cursor:default;-webkit-user-select:none;user-select:none;pointer-events:none}"]})};var tE=class n{title=xn("geo-etl-engine");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rr({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"main"]],template:function(t,r){t&1&&(Be(0,"main",0),Ft(1,"app-map-viewer"),ze())},dependencies:[eE],encapsulation:2})};Z5(tE,DO).catch(n=>console.error(n));
