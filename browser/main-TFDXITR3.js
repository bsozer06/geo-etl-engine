import{a as zn}from"./chunk-FK6H3RFT.js";import{a as Ze,b as fn,c as Hg,d as Ii,e as LN,f as bt}from"./chunk-4IDNTCH7.js";var EM=Ii((L7,bM)=>{"use strict";(function(t){typeof L7=="object"&&typeof bM<"u"?bM.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=t()})(function(){return(function t(e,n,r){function i(a,l){if(!n[a]){if(!e[a]){var c=typeof Hg=="function"&&Hg;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(d){var h=e[a][1][d];return i(h||d)},f,f.exports,t,e,n,r)}return n[a].exports}for(var o=typeof Hg=="function"&&Hg,s=0;s<r.length;s++)i(r[s]);return i})({1:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(s){for(var a,l,c,u,f,d,h,g=[],y=0,_=s.length,v=_,E=r.getTypeOf(s)!=="string";y<s.length;)v=_-y,c=E?(a=s[y++],l=y<_?s[y++]:0,y<_?s[y++]:0):(a=s.charCodeAt(y++),l=y<_?s.charCodeAt(y++):0,y<_?s.charCodeAt(y++):0),u=a>>2,f=(3&a)<<4|l>>4,d=1<v?(15&l)<<2|c>>6:64,h=2<v?63&c:64,g.push(o.charAt(u)+o.charAt(f)+o.charAt(d)+o.charAt(h));return g.join("")},n.decode=function(s){var a,l,c,u,f,d,h=0,g=0,y="data:";if(s.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var _,v=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===o.charAt(64)&&v--,s.charAt(s.length-2)===o.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=i.uint8array?new Uint8Array(0|v):new Array(0|v);h<s.length;)a=o.indexOf(s.charAt(h++))<<2|(u=o.indexOf(s.charAt(h++)))>>4,l=(15&u)<<4|(f=o.indexOf(s.charAt(h++)))>>2,c=(3&f)<<6|(d=o.indexOf(s.charAt(h++))),_[g++]=a,f!==64&&(_[g++]=l),d!==64&&(_[g++]=c);return _}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var r=t("./external"),i=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),s=t("./stream/DataLengthProbe");function a(l,c,u,f,d){this.compressedSize=l,this.uncompressedSize=c,this.crc32=u,this.compression=f,this.compressedContent=d}a.prototype={getContentWorker:function(){var l=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),c=this;return l.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(l,c,u){return l.pipe(new o).pipe(new s("uncompressedSize")).pipe(c.compressWorker(u)).pipe(new s("compressedSize")).withStreamInfo("compression",c)},e.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var r=t("./utils"),i=(function(){for(var o,s=[],a=0;a<256;a++){o=a;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;s[a]=o}return s})();e.exports=function(o,s){return o!==void 0&&o.length?r.getTypeOf(o)!=="string"?(function(a,l,c,u){var f=i,d=u+c;a^=-1;for(var h=u;h<d;h++)a=a>>>8^f[255&(a^l[h])];return-1^a})(0|s,o,o.length,0):(function(a,l,c,u){var f=i,d=u+c;a^=-1;for(var h=u;h<d;h++)a=a>>>8^f[255&(a^l.charCodeAt(h))];return-1^a})(0|s,o,o.length,0):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var r=null;r=typeof Promise<"u"?Promise:t("lie"),e.exports={Promise:r}},{lie:37}],7:[function(t,e,n){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=t("pako"),o=t("./utils"),s=t("./stream/GenericWorker"),a=r?"uint8array":"array";function l(c,u){s.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=u,this.meta={}}n.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(a,c.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(u){c.push({data:u,meta:c.meta})}},n.compressWorker=function(c){return new l("Deflate",c)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function r(f,d){var h,g="";for(h=0;h<d;h++)g+=String.fromCharCode(255&f),f>>>=8;return g}function i(f,d,h,g,y,_){var v,E,S=f.file,I=f.compression,R=_!==a.utf8encode,V=o.transformTo("string",_(S.name)),j=o.transformTo("string",a.utf8encode(S.name)),F=S.comment,k=o.transformTo("string",_(F)),N=o.transformTo("string",a.utf8encode(F)),T=j.length!==S.name.length,x=N.length!==F.length,O="",$="",Y="",se=S.dir,K=S.date,te={crc32:0,compressedSize:0,uncompressedSize:0};d&&!h||(te.crc32=f.crc32,te.compressedSize=f.compressedSize,te.uncompressedSize=f.uncompressedSize);var W=0;d&&(W|=8),R||!T&&!x||(W|=2048);var ee=0,pe=0;se&&(ee|=16),y==="UNIX"?(pe=798,ee|=(function(z,Q){var ne=z;return z||(ne=Q?16893:33204),(65535&ne)<<16})(S.unixPermissions,se)):(pe=20,ee|=(function(z){return 63&(z||0)})(S.dosPermissions)),v=K.getUTCHours(),v<<=6,v|=K.getUTCMinutes(),v<<=5,v|=K.getUTCSeconds()/2,E=K.getUTCFullYear()-1980,E<<=4,E|=K.getUTCMonth()+1,E<<=5,E|=K.getUTCDate(),T&&($=r(1,1)+r(l(V),4)+j,O+="up"+r($.length,2)+$),x&&(Y=r(1,1)+r(l(k),4)+N,O+="uc"+r(Y.length,2)+Y);var M="";return M+=`
\0`,M+=r(W,2),M+=I.magic,M+=r(v,2),M+=r(E,2),M+=r(te.crc32,4),M+=r(te.compressedSize,4),M+=r(te.uncompressedSize,4),M+=r(V.length,2),M+=r(O.length,2),{fileRecord:c.LOCAL_FILE_HEADER+M+V+O,dirRecord:c.CENTRAL_FILE_HEADER+r(pe,2)+M+r(k.length,2)+"\0\0\0\0"+r(ee,4)+r(g,4)+V+O+k}}var o=t("../utils"),s=t("../stream/GenericWorker"),a=t("../utf8"),l=t("../crc32"),c=t("../signature");function u(f,d,h,g){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=h,this.encodeFileName=g,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,s),u.prototype.push=function(f){var d=f.meta.percent||0,h=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,s.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:h?(d+100*(h-g-1))/h:100}}))},u.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var d=this.streamFiles&&!f.file.dir;if(d){var h=i(f,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(f){this.accumulate=!1;var d=this.streamFiles&&!f.file.dir,h=i(f,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),d)this.push({data:(function(g){return c.DATA_DESCRIPTOR+r(g.crc32,4)+r(g.compressedSize,4)+r(g.uncompressedSize,4)})(f),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var f=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var h=this.bytesWritten-f,g=(function(y,_,v,E,S){var I=o.transformTo("string",S(E));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(y,2)+r(y,2)+r(_,4)+r(v,4)+r(I.length,2)+I})(this.dirRecords.length,h,f,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(f){this._sources.push(f);var d=this;return f.on("data",function(h){d.processChunk(h)}),f.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),f.on("error",function(h){d.error(h)}),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(f){var d=this._sources;if(!s.prototype.error.call(this,f))return!1;for(var h=0;h<d.length;h++)try{d[h].error(f)}catch{}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var f=this._sources,d=0;d<f.length;d++)f[d].lock()},e.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var r=t("../compressions"),i=t("./ZipFileWorker");n.generateWorker=function(o,s,a){var l=new i(s.streamFiles,a,s.platform,s.encodeFileName),c=0;try{o.forEach(function(u,f){c++;var d=(function(_,v){var E=_||v,S=r[E];if(!S)throw new Error(E+" is not a valid compression method !");return S})(f.options.compression,s.compression),h=f.options.compressionOptions||s.compressionOptions||{},g=f.dir,y=f.date;f._compressWorker(d,h).withStreamInfo("file",{name:u,dir:g,date:y,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(l)}),l.entriesCount=c}catch(u){l.error(u)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new r;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(i,o){return new r().loadAsync(i,o)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./external"),o=t("./utf8"),s=t("./zipEntries"),a=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function c(u){return new i.Promise(function(f,d){var h=u.decompressed.getContentWorker().pipe(new a);h.on("error",function(g){d(g)}).on("end",function(){h.streamInfo.crc32!==u.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}e.exports=function(u,f){var d=this;return f=r.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(u)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",u,!0,f.optimizedBinaryString,f.base64).then(function(h){var g=new s(f);return g.load(h),g}).then(function(h){var g=[i.Promise.resolve(h)],y=h.files;if(f.checkCRC32)for(var _=0;_<y.length;_++)g.push(c(y[_]));return i.Promise.all(g)}).then(function(h){for(var g=h.shift(),y=g.files,_=0;_<y.length;_++){var v=y[_],E=v.fileNameStr,S=r.resolve(v.fileNameStr);d.file(S,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:f.createFolders}),v.dir||(d.file(S).unsafeOriginalName=E)}return g.zipComment.length&&(d.comment=g.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../stream/GenericWorker");function o(s,a){i.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(a)}r.inherits(o,i),o.prototype._bindStream=function(s){var a=this;(this._stream=s).pause(),s.on("data",function(l){a.push({data:l,meta:{percent:0}})}).on("error",function(l){a.isPaused?this.generatedError=l:a.error(l)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var r=t("readable-stream").Readable;function i(o,s,a){r.call(this,s),this._helper=o;var l=this;o.on("data",function(c,u){l.push(c)||l._helper.pause(),a&&a(u)}).on("error",function(c){l.emit("error",c)}).on("end",function(){l.push(null)})}t("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){"use strict";e.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,i);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,i)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var i=new Buffer(r);return i.fill(0),i},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,e,n){"use strict";function r(S,I,R){var V,j=o.getTypeOf(I),F=o.extend(R||{},l);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(S=y(S)),F.createFolders&&(V=g(S))&&_.call(this,V,!0);var k=j==="string"&&F.binary===!1&&F.base64===!1;R&&R.binary!==void 0||(F.binary=!k),(I instanceof c&&I.uncompressedSize===0||F.dir||!I||I.length===0)&&(F.base64=!1,F.binary=!0,I="",F.compression="STORE",j="string");var N=null;N=I instanceof c||I instanceof s?I:d.isNode&&d.isStream(I)?new h(S,I):o.prepareContent(S,I,F.binary,F.optimizedBinaryString,F.base64);var T=new u(S,N,F);this.files[S]=T}var i=t("./utf8"),o=t("./utils"),s=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),l=t("./defaults"),c=t("./compressedObject"),u=t("./zipObject"),f=t("./generate"),d=t("./nodejsUtils"),h=t("./nodejs/NodejsStreamInputAdapter"),g=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var I=S.lastIndexOf("/");return 0<I?S.substring(0,I):""},y=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},_=function(S,I){return I=I!==void 0?I:l.createFolders,S=y(S),this.files[S]||r.call(this,S,null,{dir:!0,createFolders:I}),this.files[S]};function v(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var I,R,V;for(I in this.files)V=this.files[I],(R=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&S(R,V)},filter:function(S){var I=[];return this.forEach(function(R,V){S(R,V)&&I.push(V)}),I},file:function(S,I,R){if(arguments.length!==1)return S=this.root+S,r.call(this,S,I,R),this;if(v(S)){var V=S;return this.filter(function(F,k){return!k.dir&&V.test(F)})}var j=this.files[this.root+S];return j&&!j.dir?j:null},folder:function(S){if(!S)return this;if(v(S))return this.filter(function(j,F){return F.dir&&S.test(j)});var I=this.root+S,R=_.call(this,I),V=this.clone();return V.root=R.name,V},remove:function(S){S=this.root+S;var I=this.files[S];if(I||(S.slice(-1)!=="/"&&(S+="/"),I=this.files[S]),I&&!I.dir)delete this.files[S];else for(var R=this.filter(function(j,F){return F.name.slice(0,S.length)===S}),V=0;V<R.length;V++)delete this.files[R[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var I,R={};try{if((R=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var V=R.comment||this.comment||"";I=f.generateWorker(this,R,V)}catch(j){(I=new s("error")).error(j)}return new a(I,R.type||"string",R.mimeType)},generateAsync:function(S,I){return this.generateInternalStream(S).accumulate(I)},generateNodeStream:function(S,I){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(I)}};e.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){"use strict";e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var r=t("./DataReader");function i(o){r.call(this,o);for(var s=0;s<this.data.length;s++)o[s]=255&o[s]}t("../utils").inherits(i,r),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var s=o.charCodeAt(0),a=o.charCodeAt(1),l=o.charCodeAt(2),c=o.charCodeAt(3),u=this.length-4;0<=u;--u)if(this.data[u]===s&&this.data[u+1]===a&&this.data[u+2]===l&&this.data[u+3]===c)return u-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var s=o.charCodeAt(0),a=o.charCodeAt(1),l=o.charCodeAt(2),c=o.charCodeAt(3),u=this.readData(4);return s===u[0]&&a===u[1]&&l===u[2]&&c===u[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var r=t("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var s,a=0;for(this.checkOffset(o),s=this.index+o-1;s>=this.index;s--)a=(a<<8)+this.byteAt(s);return this.index+=o,a},readString:function(o){return r.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){"use strict";var r=t("./Uint8ArrayReader");function i(o){r.call(this,o)}t("../utils").inherits(i,r),i.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var r=t("./DataReader");function i(o){r.call(this,o)}t("../utils").inherits(i,r),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var r=t("./ArrayReader");function i(o){r.call(this,o)}t("../utils").inherits(i,r),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../support"),o=t("./ArrayReader"),s=t("./StringReader"),a=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(c){var u=r.getTypeOf(c);return r.checkSupport(u),u!=="string"||i.uint8array?u==="nodebuffer"?new a(c):i.uint8array?new l(r.transformTo("uint8array",c)):new o(r.transformTo("array",c)):new s(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../utils");function o(s){r.call(this,"ConvertWorker to "+s),this.destType=s}i.inherits(o,r),o.prototype.processChunk=function(s){this.push({data:i.transformTo(this.destType,s.data),meta:s.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,r),o.prototype.processChunk=function(s){this.streamInfo.crc32=i(s.data,this.streamInfo.crc32||0),this.push(s)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(s){i.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}r.inherits(o,i),o.prototype.processChunk=function(s){if(s){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+s.data.length}i.prototype.processChunk.call(this,s)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(s){i.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(l){a.dataIsReady=!0,a.data=l,a.max=l&&l.length||0,a.type=r.getTypeOf(l),a.isPaused||a._tickAndRepeat()},function(l){a.error(l)})}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,a);break;case"uint8array":s=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":s=this.data.slice(this.index,a)}return this.index=a,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function r(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var s=0;s<this._listeners[i].length;s++)this._listeners[i][s].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(s){o.processChunk(s)}),i.on("end",function(){o.end()}),i.on("error",function(s){o.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},e.exports=r},{}],29:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./ConvertWorker"),o=t("./GenericWorker"),s=t("../base64"),a=t("../support"),l=t("../external"),c=null;if(a.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function u(d,h){return new l.Promise(function(g,y){var _=[],v=d._internalType,E=d._outputType,S=d._mimeType;d.on("data",function(I,R){_.push(I),h&&h(R)}).on("error",function(I){_=[],y(I)}).on("end",function(){try{var I=(function(R,V,j){switch(R){case"blob":return r.newBlob(r.transformTo("arraybuffer",V),j);case"base64":return s.encode(V);default:return r.transformTo(R,V)}})(E,(function(R,V){var j,F=0,k=null,N=0;for(j=0;j<V.length;j++)N+=V[j].length;switch(R){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(k=new Uint8Array(N),j=0;j<V.length;j++)k.set(V[j],F),F+=V[j].length;return k;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+R+"'")}})(v,_),S);g(I)}catch(R){y(R)}_=[]}).resume()})}function f(d,h,g){var y=h;switch(h){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=h,this._mimeType=g,r.checkSupport(y),this._worker=d.pipe(new i(y)),d.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}f.prototype={accumulate:function(d){return u(this,d)},on:function(d,h){var g=this;return d==="data"?this._worker.on(d,function(y){h.call(g,y.data,y.meta)}):this._worker.on(d,function(){r.delay(h,arguments,g)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},d)}},e.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=i.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var r=t("./utils"),i=t("./support"),o=t("./nodejsUtils"),s=t("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;a[254]=a[254]=1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}n.utf8encode=function(f){return i.nodebuffer?o.newBufferFrom(f,"utf-8"):(function(d){var h,g,y,_,v,E=d.length,S=0;for(_=0;_<E;_++)(64512&(g=d.charCodeAt(_)))==55296&&_+1<E&&(64512&(y=d.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),_++),S+=g<128?1:g<2048?2:g<65536?3:4;for(h=i.uint8array?new Uint8Array(S):new Array(S),_=v=0;v<S;_++)(64512&(g=d.charCodeAt(_)))==55296&&_+1<E&&(64512&(y=d.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),_++),g<128?h[v++]=g:(g<2048?h[v++]=192|g>>>6:(g<65536?h[v++]=224|g>>>12:(h[v++]=240|g>>>18,h[v++]=128|g>>>12&63),h[v++]=128|g>>>6&63),h[v++]=128|63&g);return h})(f)},n.utf8decode=function(f){return i.nodebuffer?r.transformTo("nodebuffer",f).toString("utf-8"):(function(d){var h,g,y,_,v=d.length,E=new Array(2*v);for(h=g=0;h<v;)if((y=d[h++])<128)E[g++]=y;else if(4<(_=a[y]))E[g++]=65533,h+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&h<v;)y=y<<6|63&d[h++],_--;1<_?E[g++]=65533:y<65536?E[g++]=y:(y-=65536,E[g++]=55296|y>>10&1023,E[g++]=56320|1023&y)}return E.length!==g&&(E.subarray?E=E.subarray(0,g):E.length=g),r.applyFromCharCode(E)})(f=r.transformTo(i.uint8array?"uint8array":"array",f))},r.inherits(c,s),c.prototype.processChunk=function(f){var d=r.transformTo(i.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var h=d;(d=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),d.set(h,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var g=(function(_,v){var E;for((v=v||_.length)>_.length&&(v=_.length),E=v-1;0<=E&&(192&_[E])==128;)E--;return E<0||E===0?v:E+a[_[E]]>v?E:v})(d),y=d;g!==d.length&&(i.uint8array?(y=d.subarray(0,g),this.leftOver=d.subarray(g,d.length)):(y=d.slice(0,g),this.leftOver=d.slice(g,d.length))),this.push({data:n.utf8decode(y),meta:f.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,s),u.prototype.processChunk=function(f){this.push({data:n.utf8encode(f.data),meta:f.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var r=t("./support"),i=t("./base64"),o=t("./nodejsUtils"),s=t("./external");function a(h){return h}function l(h,g){for(var y=0;y<h.length;++y)g[y]=255&h.charCodeAt(y);return g}t("setimmediate"),n.newBlob=function(h,g){n.checkSupport("blob");try{return new Blob([h],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(h),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(h,g,y){var _=[],v=0,E=h.length;if(E<=y)return String.fromCharCode.apply(null,h);for(;v<E;)g==="array"||g==="nodebuffer"?_.push(String.fromCharCode.apply(null,h.slice(v,Math.min(v+y,E)))):_.push(String.fromCharCode.apply(null,h.subarray(v,Math.min(v+y,E)))),v+=y;return _.join("")},stringifyByChar:function(h){for(var g="",y=0;y<h.length;y++)g+=String.fromCharCode(h[y]);return g},applyCanBeUsed:{uint8array:(function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function u(h){var g=65536,y=n.getTypeOf(h),_=!0;if(y==="uint8array"?_=c.applyCanBeUsed.uint8array:y==="nodebuffer"&&(_=c.applyCanBeUsed.nodebuffer),_)for(;1<g;)try{return c.stringifyByChunk(h,y,g)}catch{g=Math.floor(g/2)}return c.stringifyByChar(h)}function f(h,g){for(var y=0;y<h.length;y++)g[y]=h[y];return g}n.applyFromCharCode=u;var d={};d.string={string:a,array:function(h){return l(h,new Array(h.length))},arraybuffer:function(h){return d.string.uint8array(h).buffer},uint8array:function(h){return l(h,new Uint8Array(h.length))},nodebuffer:function(h){return l(h,o.allocBuffer(h.length))}},d.array={string:u,array:a,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},d.arraybuffer={string:function(h){return u(new Uint8Array(h))},array:function(h){return f(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:a,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},d.uint8array={string:u,array:function(h){return f(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:a,nodebuffer:function(h){return o.newBufferFrom(h)}},d.nodebuffer={string:u,array:function(h){return f(h,new Array(h.length))},arraybuffer:function(h){return d.nodebuffer.uint8array(h).buffer},uint8array:function(h){return f(h,new Uint8Array(h.length))},nodebuffer:a},n.transformTo=function(h,g){if(g=g||"",!h)return g;n.checkSupport(h);var y=n.getTypeOf(g);return d[y][h](g)},n.resolve=function(h){for(var g=h.split("/"),y=[],_=0;_<g.length;_++){var v=g[_];v==="."||v===""&&_!==0&&_!==g.length-1||(v===".."?y.pop():y.push(v))}return y.join("/")},n.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":r.nodebuffer&&o.isBuffer(h)?"nodebuffer":r.uint8array&&h instanceof Uint8Array?"uint8array":r.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(h){if(!r[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(h){var g,y,_="";for(y=0;y<(h||"").length;y++)_+="\\x"+((g=h.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return _},n.delay=function(h,g,y){setImmediate(function(){h.apply(y||null,g||[])})},n.inherits=function(h,g){function y(){}y.prototype=g.prototype,h.prototype=new y},n.extend=function(){var h,g,y={};for(h=0;h<arguments.length;h++)for(g in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],g)&&y[g]===void 0&&(y[g]=arguments[h][g]);return y},n.prepareContent=function(h,g,y,_,v){return s.Promise.resolve(g).then(function(E){return r.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new s.Promise(function(S,I){var R=new FileReader;R.onload=function(V){S(V.target.result)},R.onerror=function(V){I(V.target.error)},R.readAsArrayBuffer(E)}):E}).then(function(E){var S=n.getTypeOf(E);return S?(S==="arraybuffer"?E=n.transformTo("uint8array",E):S==="string"&&(v?E=i.decode(E):y&&_!==!0&&(E=(function(I){return l(I,r.uint8array?new Uint8Array(I.length):new Array(I.length))})(E))),E):s.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./signature"),s=t("./zipEntry"),a=t("./support");function l(c){this.files=[],this.loadOptions=c}l.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var u=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(u)+", expected "+i.pretty(c)+")")}},isSignature:function(c,u){var f=this.reader.index;this.reader.setIndex(c);var d=this.reader.readString(4)===u;return this.reader.setIndex(f),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),u=a.uint8array?"uint8array":"array",f=i.transformTo(u,c);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,u,f,d=this.zip64EndOfCentralSize-44;0<d;)c=this.reader.readInt(2),u=this.reader.readInt(4),f=this.reader.readData(u),this.zip64ExtensibleData[c]={id:c,length:u,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,u;for(c=0;c<this.files.length;c++)u=this.files[c],this.reader.setIndex(u.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),u.readLocalPart(this.reader),u.handleUTF8(),u.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(c=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var u=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var d=u-f;if(0<d)this.isSignature(u,o.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(c){this.reader=r(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./compressedObject"),s=t("./crc32"),a=t("./utf8"),l=t("./compressions"),c=t("./support");function u(f,d){this.options=f,this.loadOptions=d}u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var d,h;if(f.skip(22),this.fileNameLength=f.readInt(2),h=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=(function(g){for(var y in l)if(Object.prototype.hasOwnProperty.call(l,y)&&l[y].magic===g)return l[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,d,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var d=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(d),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var d,h,g,y=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<y;)d=f.readInt(2),h=f.readInt(2),g=f.readData(h),this.extraFields[d]={id:d,length:h,value:g};f.setIndex(y)},handleUTF8:function(){var f=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var h=i.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=i.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var d=r(f.value);return d.readInt(1)!==1||s(this.fileName)!==d.readInt(4)?null:a.utf8decode(d.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var d=r(f.value);return d.readInt(1)!==1||s(this.fileComment)!==d.readInt(4)?null:a.utf8decode(d.readData(f.length-5))}return null}},e.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function r(d,h,g){this.name=d,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=h,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var i=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),s=t("./utf8"),a=t("./compressedObject"),l=t("./stream/GenericWorker");r.prototype={internalStream:function(d){var h=null,g="string";try{if(!d)throw new Error("No output type specified.");var y=(g=d.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),h=this._decompressWorker();var _=!this._dataBinary;_&&!y&&(h=h.pipe(new s.Utf8EncodeWorker)),!_&&y&&(h=h.pipe(new s.Utf8DecodeWorker))}catch(v){(h=new l("error")).error(v)}return new i(h,g,"")},async:function(d,h){return this.internalStream(d).accumulate(h)},nodeStream:function(d,h){return this.internalStream(d||"nodebuffer").toNodejsStream(h)},_compressWorker:function(d,h){if(this._data instanceof a&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(g,d,h)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)r.prototype[c[f]]=u;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){(function(r){"use strict";var i,o,s=r.MutationObserver||r.WebKitMutationObserver;if(s){var a=0,l=new s(d),c=r.document.createTextNode("");l.observe(c,{characterData:!0}),i=function(){c.data=a=++a%2}}else if(r.setImmediate||r.MessageChannel===void 0)i="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var h=r.document.createElement("script");h.onreadystatechange=function(){d(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},r.document.documentElement.appendChild(h)}:function(){setTimeout(d,0)};else{var u=new r.MessageChannel;u.port1.onmessage=d,i=function(){u.port2.postMessage(0)}}var f=[];function d(){var h,g;o=!0;for(var y=f.length;y;){for(g=f,f=[],h=-1;++h<y;)g[h]();y=f.length}o=!1}e.exports=function(h){f.push(h)!==1||o||i()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,e,n){"use strict";var r=t("immediate");function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,y!==i&&h(this,y)}function u(y,_,v){this.promise=y,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function f(y,_,v){r(function(){var E;try{E=_(v)}catch(S){return o.reject(y,S)}E===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,E)})}function d(y){var _=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof _=="function")return function(){_.apply(y,arguments)}}function h(y,_){var v=!1;function E(R){v||(v=!0,o.reject(y,R))}function S(R){v||(v=!0,o.resolve(y,R))}var I=g(function(){_(S,E)});I.status==="error"&&E(I.value)}function g(y,_){var v={};try{v.value=y(_),v.status="success"}catch(E){v.status="error",v.value=E}return v}(e.exports=c).prototype.finally=function(y){if(typeof y!="function")return this;var _=this.constructor;return this.then(function(v){return _.resolve(y()).then(function(){return v})},function(v){return _.resolve(y()).then(function(){throw v})})},c.prototype.catch=function(y){return this.then(null,y)},c.prototype.then=function(y,_){if(typeof y!="function"&&this.state===a||typeof _!="function"&&this.state===s)return this;var v=new this.constructor(i);return this.state!==l?f(v,this.state===a?y:_,this.outcome):this.queue.push(new u(v,y,_)),v},u.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},u.prototype.otherCallFulfilled=function(y){f(this.promise,this.onFulfilled,y)},u.prototype.callRejected=function(y){o.reject(this.promise,y)},u.prototype.otherCallRejected=function(y){f(this.promise,this.onRejected,y)},o.resolve=function(y,_){var v=g(d,_);if(v.status==="error")return o.reject(y,v.value);var E=v.value;if(E)h(y,E);else{y.state=a,y.outcome=_;for(var S=-1,I=y.queue.length;++S<I;)y.queue[S].callFulfilled(_)}return y},o.reject=function(y,_){y.state=s,y.outcome=_;for(var v=-1,E=y.queue.length;++v<E;)y.queue[v].callRejected(_);return y},c.resolve=function(y){return y instanceof this?y:o.resolve(new this(i),y)},c.reject=function(y){var _=new this(i);return o.reject(_,y)},c.all=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=y.length,E=!1;if(!v)return this.resolve([]);for(var S=new Array(v),I=0,R=-1,V=new this(i);++R<v;)j(y[R],R);return V;function j(F,k){_.resolve(F).then(function(N){S[k]=N,++I!==v||E||(E=!0,o.resolve(V,S))},function(N){E||(E=!0,o.reject(V,N))})}},c.race=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=y.length,E=!1;if(!v)return this.resolve([]);for(var S=-1,I=new this(i);++S<v;)R=y[S],_.resolve(R).then(function(V){E||(E=!0,o.resolve(I,V))},function(V){E||(E=!0,o.reject(I,V))});var R;return I}},{immediate:36}],38:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),s=t("./zlib/messages"),a=t("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,f=0,d=8;function h(y){if(!(this instanceof h))return new h(y);this.options=i.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},y||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var v=r.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(v!==c)throw new Error(s[v]);if(_.header&&r.deflateSetHeader(this.strm,_.header),_.dictionary){var E;if(E=typeof _.dictionary=="string"?o.string2buf(_.dictionary):l.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(v=r.deflateSetDictionary(this.strm,E))!==c)throw new Error(s[v]);this._dict_set=!0}}function g(y,_){var v=new h(_);if(v.push(y,!0),v.err)throw v.msg||s[v.err];return v.result}h.prototype.push=function(y,_){var v,E,S=this.strm,I=this.options.chunkSize;if(this.ended)return!1;E=_===~~_?_:_===!0?4:0,typeof y=="string"?S.input=o.string2buf(y):l.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new i.Buf8(I),S.next_out=0,S.avail_out=I),(v=r.deflate(S,E))!==1&&v!==c)return this.onEnd(v),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(S.output,S.next_out))):this.onData(i.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&v!==1);return E===4?(v=r.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===c):E!==2||(this.onEnd(c),!(S.avail_out=0))},h.prototype.onData=function(y){this.chunks.push(y)},h.prototype.onEnd=function(y){y===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},n.Deflate=h,n.deflate=g,n.deflateRaw=function(y,_){return(_=_||{}).raw=!0,g(y,_)},n.gzip=function(y,_){return(_=_||{}).gzip=!0,g(y,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),s=t("./zlib/constants"),a=t("./zlib/messages"),l=t("./zlib/zstream"),c=t("./zlib/gzheader"),u=Object.prototype.toString;function f(h){if(!(this instanceof f))return new f(h);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},h||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||h&&h.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var y=r.inflateInit2(this.strm,g.windowBits);if(y!==s.Z_OK)throw new Error(a[y]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function d(h,g){var y=new f(g);if(y.push(h,!0),y.err)throw y.msg||a[y.err];return y.result}f.prototype.push=function(h,g){var y,_,v,E,S,I,R=this.strm,V=this.options.chunkSize,j=this.options.dictionary,F=!1;if(this.ended)return!1;_=g===~~g?g:g===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof h=="string"?R.input=o.binstring2buf(h):u.call(h)==="[object ArrayBuffer]"?R.input=new Uint8Array(h):R.input=h,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new i.Buf8(V),R.next_out=0,R.avail_out=V),(y=r.inflate(R,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&j&&(I=typeof j=="string"?o.string2buf(j):u.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,y=r.inflateSetDictionary(this.strm,I)),y===s.Z_BUF_ERROR&&F===!0&&(y=s.Z_OK,F=!1),y!==s.Z_STREAM_END&&y!==s.Z_OK)return this.onEnd(y),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&y!==s.Z_STREAM_END&&(R.avail_in!==0||_!==s.Z_FINISH&&_!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=o.utf8border(R.output,R.next_out),E=R.next_out-v,S=o.buf2string(R.output,v),R.next_out=E,R.avail_out=V-E,E&&i.arraySet(R.output,R.output,v,E,0),this.onData(S)):this.onData(i.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(F=!0)}while((0<R.avail_in||R.avail_out===0)&&y!==s.Z_STREAM_END);return y===s.Z_STREAM_END&&(_=s.Z_FINISH),_===s.Z_FINISH?(y=r.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===s.Z_OK):_!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(R.avail_out=0))},f.prototype.onData=function(h){this.chunks.push(h)},f.prototype.onEnd=function(h){h===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},n.Inflate=f,n.inflate=d,n.inflateRaw=function(h,g){return(g=g||{}).raw=!0,d(h,g)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var l=a.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])}}return s},n.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var i={arraySet:function(s,a,l,c,u){if(a.subarray&&s.subarray)s.set(a.subarray(l,l+c),u);else for(var f=0;f<c;f++)s[u+f]=a[l+f]},flattenChunks:function(s){var a,l,c,u,f,d;for(a=c=0,l=s.length;a<l;a++)c+=s[a].length;for(d=new Uint8Array(c),a=u=0,l=s.length;a<l;a++)f=s[a],d.set(f,u),u+=f.length;return d}},o={arraySet:function(s,a,l,c,u){for(var f=0;f<c;f++)s[u+f]=a[l+f]},flattenChunks:function(s){return[].concat.apply([],s)}};n.setTyped=function(s){s?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(t,e,n){"use strict";var r=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(c,u){if(u<65537&&(c.subarray&&o||!c.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(c,u));for(var f="",d=0;d<u;d++)f+=String.fromCharCode(c[d]);return f}s[254]=s[254]=1,n.string2buf=function(c){var u,f,d,h,g,y=c.length,_=0;for(h=0;h<y;h++)(64512&(f=c.charCodeAt(h)))==55296&&h+1<y&&(64512&(d=c.charCodeAt(h+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),h++),_+=f<128?1:f<2048?2:f<65536?3:4;for(u=new r.Buf8(_),h=g=0;g<_;h++)(64512&(f=c.charCodeAt(h)))==55296&&h+1<y&&(64512&(d=c.charCodeAt(h+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),h++),f<128?u[g++]=f:(f<2048?u[g++]=192|f>>>6:(f<65536?u[g++]=224|f>>>12:(u[g++]=240|f>>>18,u[g++]=128|f>>>12&63),u[g++]=128|f>>>6&63),u[g++]=128|63&f);return u},n.buf2binstring=function(c){return l(c,c.length)},n.binstring2buf=function(c){for(var u=new r.Buf8(c.length),f=0,d=u.length;f<d;f++)u[f]=c.charCodeAt(f);return u},n.buf2string=function(c,u){var f,d,h,g,y=u||c.length,_=new Array(2*y);for(f=d=0;f<y;)if((h=c[f++])<128)_[d++]=h;else if(4<(g=s[h]))_[d++]=65533,f+=g-1;else{for(h&=g===2?31:g===3?15:7;1<g&&f<y;)h=h<<6|63&c[f++],g--;1<g?_[d++]=65533:h<65536?_[d++]=h:(h-=65536,_[d++]=55296|h>>10&1023,_[d++]=56320|1023&h)}return l(_,d)},n.utf8border=function(c,u){var f;for((u=u||c.length)>c.length&&(u=c.length),f=u-1;0<=f&&(192&c[f])==128;)f--;return f<0||f===0?u:f+s[c[f]]>u?f:u}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(r,i,o,s){for(var a=65535&r|0,l=r>>>16&65535|0,c=0;o!==0;){for(o-=c=2e3<o?2e3:o;l=l+(a=a+i[s++]|0)|0,--c;);a%=65521,l%=65521}return a|l<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var r=(function(){for(var i,o=[],s=0;s<256;s++){i=s;for(var a=0;a<8;a++)i=1&i?3988292384^i>>>1:i>>>1;o[s]=i}return o})();e.exports=function(i,o,s,a){var l=r,c=a+s;i^=-1;for(var u=a;u<c;u++)i=i>>>8^l[255&(i^o[u])];return-1^i}},{}],46:[function(t,e,n){"use strict";var r,i=t("../utils/common"),o=t("./trees"),s=t("./adler32"),a=t("./crc32"),l=t("./messages"),c=0,u=4,f=0,d=-2,h=-1,g=4,y=2,_=8,v=9,E=286,S=30,I=19,R=2*E+1,V=15,j=3,F=258,k=F+j+1,N=42,T=113,x=1,O=2,$=3,Y=4;function se(A,fe){return A.msg=l[fe],fe}function K(A){return(A<<1)-(4<A?9:0)}function te(A){for(var fe=A.length;0<=--fe;)A[fe]=0}function W(A){var fe=A.state,he=fe.pending;he>A.avail_out&&(he=A.avail_out),he!==0&&(i.arraySet(A.output,fe.pending_buf,fe.pending_out,he,A.next_out),A.next_out+=he,fe.pending_out+=he,A.total_out+=he,A.avail_out-=he,fe.pending-=he,fe.pending===0&&(fe.pending_out=0))}function ee(A,fe){o._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,fe),A.block_start=A.strstart,W(A.strm)}function pe(A,fe){A.pending_buf[A.pending++]=fe}function M(A,fe){A.pending_buf[A.pending++]=fe>>>8&255,A.pending_buf[A.pending++]=255&fe}function z(A,fe){var he,C,G=A.max_chain_length,ie=A.strstart,ve=A.prev_length,ce=A.nice_match,ae=A.strstart>A.w_size-k?A.strstart-(A.w_size-k):0,xe=A.window,Ie=A.w_mask,be=A.prev,Ge=A.strstart+F,Xe=xe[ie+ve-1],Ve=xe[ie+ve];A.prev_length>=A.good_match&&(G>>=2),ce>A.lookahead&&(ce=A.lookahead);do if(xe[(he=fe)+ve]===Ve&&xe[he+ve-1]===Xe&&xe[he]===xe[ie]&&xe[++he]===xe[ie+1]){ie+=2,he++;do;while(xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&xe[++ie]===xe[++he]&&ie<Ge);if(C=F-(Ge-ie),ie=Ge-F,ve<C){if(A.match_start=fe,ce<=(ve=C))break;Xe=xe[ie+ve-1],Ve=xe[ie+ve]}}while((fe=be[fe&Ie])>ae&&--G!=0);return ve<=A.lookahead?ve:A.lookahead}function Q(A){var fe,he,C,G,ie,ve,ce,ae,xe,Ie,be=A.w_size;do{if(G=A.window_size-A.lookahead-A.strstart,A.strstart>=be+(be-k)){for(i.arraySet(A.window,A.window,be,be,0),A.match_start-=be,A.strstart-=be,A.block_start-=be,fe=he=A.hash_size;C=A.head[--fe],A.head[fe]=be<=C?C-be:0,--he;);for(fe=he=be;C=A.prev[--fe],A.prev[fe]=be<=C?C-be:0,--he;);G+=be}if(A.strm.avail_in===0)break;if(ve=A.strm,ce=A.window,ae=A.strstart+A.lookahead,xe=G,Ie=void 0,Ie=ve.avail_in,xe<Ie&&(Ie=xe),he=Ie===0?0:(ve.avail_in-=Ie,i.arraySet(ce,ve.input,ve.next_in,Ie,ae),ve.state.wrap===1?ve.adler=s(ve.adler,ce,Ie,ae):ve.state.wrap===2&&(ve.adler=a(ve.adler,ce,Ie,ae)),ve.next_in+=Ie,ve.total_in+=Ie,Ie),A.lookahead+=he,A.lookahead+A.insert>=j)for(ie=A.strstart-A.insert,A.ins_h=A.window[ie],A.ins_h=(A.ins_h<<A.hash_shift^A.window[ie+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[ie+j-1])&A.hash_mask,A.prev[ie&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=ie,ie++,A.insert--,!(A.lookahead+A.insert<j)););}while(A.lookahead<k&&A.strm.avail_in!==0)}function ne(A,fe){for(var he,C;;){if(A.lookahead<k){if(Q(A),A.lookahead<k&&fe===c)return x;if(A.lookahead===0)break}if(he=0,A.lookahead>=j&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+j-1])&A.hash_mask,he=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),he!==0&&A.strstart-he<=A.w_size-k&&(A.match_length=z(A,he)),A.match_length>=j)if(C=o._tr_tally(A,A.strstart-A.match_start,A.match_length-j),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=j){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+j-1])&A.hash_mask,he=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else C=o._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(C&&(ee(A,!1),A.strm.avail_out===0))return x}return A.insert=A.strstart<j-1?A.strstart:j-1,fe===u?(ee(A,!0),A.strm.avail_out===0?$:Y):A.last_lit&&(ee(A,!1),A.strm.avail_out===0)?x:O}function re(A,fe){for(var he,C,G;;){if(A.lookahead<k){if(Q(A),A.lookahead<k&&fe===c)return x;if(A.lookahead===0)break}if(he=0,A.lookahead>=j&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+j-1])&A.hash_mask,he=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=j-1,he!==0&&A.prev_length<A.max_lazy_match&&A.strstart-he<=A.w_size-k&&(A.match_length=z(A,he),A.match_length<=5&&(A.strategy===1||A.match_length===j&&4096<A.strstart-A.match_start)&&(A.match_length=j-1)),A.prev_length>=j&&A.match_length<=A.prev_length){for(G=A.strstart+A.lookahead-j,C=o._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-j),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=G&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+j-1])&A.hash_mask,he=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=j-1,A.strstart++,C&&(ee(A,!1),A.strm.avail_out===0))return x}else if(A.match_available){if((C=o._tr_tally(A,0,A.window[A.strstart-1]))&&ee(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return x}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(C=o._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<j-1?A.strstart:j-1,fe===u?(ee(A,!0),A.strm.avail_out===0?$:Y):A.last_lit&&(ee(A,!1),A.strm.avail_out===0)?x:O}function le(A,fe,he,C,G){this.good_length=A,this.max_lazy=fe,this.nice_length=he,this.max_chain=C,this.func=G}function _e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*R),this.dyn_dtree=new i.Buf16(2*(2*S+1)),this.bl_tree=new i.Buf16(2*(2*I+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(V+1),this.heap=new i.Buf16(2*E+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*E+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ye(A){var fe;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=y,(fe=A.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?N:T,A.adler=fe.wrap===2?0:1,fe.last_flush=c,o._tr_init(fe),f):se(A,d)}function Se(A){var fe=ye(A);return fe===f&&(function(he){he.window_size=2*he.w_size,te(he.head),he.max_lazy_match=r[he.level].max_lazy,he.good_match=r[he.level].good_length,he.nice_match=r[he.level].nice_length,he.max_chain_length=r[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=j-1,he.match_available=0,he.ins_h=0})(A.state),fe}function Pe(A,fe,he,C,G,ie){if(!A)return d;var ve=1;if(fe===h&&(fe=6),C<0?(ve=0,C=-C):15<C&&(ve=2,C-=16),G<1||v<G||he!==_||C<8||15<C||fe<0||9<fe||ie<0||g<ie)return se(A,d);C===8&&(C=9);var ce=new _e;return(A.state=ce).strm=A,ce.wrap=ve,ce.gzhead=null,ce.w_bits=C,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=G+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+j-1)/j),ce.window=new i.Buf8(2*ce.w_size),ce.head=new i.Buf16(ce.hash_size),ce.prev=new i.Buf16(ce.w_size),ce.lit_bufsize=1<<G+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new i.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=fe,ce.strategy=ie,ce.method=he,Se(A)}r=[new le(0,0,0,0,function(A,fe){var he=65535;for(he>A.pending_buf_size-5&&(he=A.pending_buf_size-5);;){if(A.lookahead<=1){if(Q(A),A.lookahead===0&&fe===c)return x;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var C=A.block_start+he;if((A.strstart===0||A.strstart>=C)&&(A.lookahead=A.strstart-C,A.strstart=C,ee(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-k&&(ee(A,!1),A.strm.avail_out===0))return x}return A.insert=0,fe===u?(ee(A,!0),A.strm.avail_out===0?$:Y):(A.strstart>A.block_start&&(ee(A,!1),A.strm.avail_out),x)}),new le(4,4,8,4,ne),new le(4,5,16,8,ne),new le(4,6,32,32,ne),new le(4,4,16,16,re),new le(8,16,32,32,re),new le(8,16,128,128,re),new le(8,32,128,256,re),new le(32,128,258,1024,re),new le(32,258,258,4096,re)],n.deflateInit=function(A,fe){return Pe(A,fe,_,15,8,0)},n.deflateInit2=Pe,n.deflateReset=Se,n.deflateResetKeep=ye,n.deflateSetHeader=function(A,fe){return A&&A.state?A.state.wrap!==2?d:(A.state.gzhead=fe,f):d},n.deflate=function(A,fe){var he,C,G,ie;if(!A||!A.state||5<fe||fe<0)return A?se(A,d):d;if(C=A.state,!A.output||!A.input&&A.avail_in!==0||C.status===666&&fe!==u)return se(A,A.avail_out===0?-5:d);if(C.strm=A,he=C.last_flush,C.last_flush=fe,C.status===N)if(C.wrap===2)A.adler=0,pe(C,31),pe(C,139),pe(C,8),C.gzhead?(pe(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),pe(C,255&C.gzhead.time),pe(C,C.gzhead.time>>8&255),pe(C,C.gzhead.time>>16&255),pe(C,C.gzhead.time>>24&255),pe(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),pe(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(pe(C,255&C.gzhead.extra.length),pe(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(A.adler=a(A.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(pe(C,0),pe(C,0),pe(C,0),pe(C,0),pe(C,0),pe(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),pe(C,3),C.status=T);else{var ve=_+(C.w_bits-8<<4)<<8;ve|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(ve|=32),ve+=31-ve%31,C.status=T,M(C,ve),C.strstart!==0&&(M(C,A.adler>>>16),M(C,65535&A.adler)),A.adler=1}if(C.status===69)if(C.gzhead.extra){for(G=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>G&&(A.adler=a(A.adler,C.pending_buf,C.pending-G,G)),W(A),G=C.pending,C.pending!==C.pending_buf_size));)pe(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>G&&(A.adler=a(A.adler,C.pending_buf,C.pending-G,G)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){G=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>G&&(A.adler=a(A.adler,C.pending_buf,C.pending-G,G)),W(A),G=C.pending,C.pending===C.pending_buf_size)){ie=1;break}ie=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,pe(C,ie)}while(ie!==0);C.gzhead.hcrc&&C.pending>G&&(A.adler=a(A.adler,C.pending_buf,C.pending-G,G)),ie===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){G=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>G&&(A.adler=a(A.adler,C.pending_buf,C.pending-G,G)),W(A),G=C.pending,C.pending===C.pending_buf_size)){ie=1;break}ie=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,pe(C,ie)}while(ie!==0);C.gzhead.hcrc&&C.pending>G&&(A.adler=a(A.adler,C.pending_buf,C.pending-G,G)),ie===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&W(A),C.pending+2<=C.pending_buf_size&&(pe(C,255&A.adler),pe(C,A.adler>>8&255),A.adler=0,C.status=T)):C.status=T),C.pending!==0){if(W(A),A.avail_out===0)return C.last_flush=-1,f}else if(A.avail_in===0&&K(fe)<=K(he)&&fe!==u)return se(A,-5);if(C.status===666&&A.avail_in!==0)return se(A,-5);if(A.avail_in!==0||C.lookahead!==0||fe!==c&&C.status!==666){var ce=C.strategy===2?(function(ae,xe){for(var Ie;;){if(ae.lookahead===0&&(Q(ae),ae.lookahead===0)){if(xe===c)return x;break}if(ae.match_length=0,Ie=o._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,Ie&&(ee(ae,!1),ae.strm.avail_out===0))return x}return ae.insert=0,xe===u?(ee(ae,!0),ae.strm.avail_out===0?$:Y):ae.last_lit&&(ee(ae,!1),ae.strm.avail_out===0)?x:O})(C,fe):C.strategy===3?(function(ae,xe){for(var Ie,be,Ge,Xe,Ve=ae.window;;){if(ae.lookahead<=F){if(Q(ae),ae.lookahead<=F&&xe===c)return x;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=j&&0<ae.strstart&&(be=Ve[Ge=ae.strstart-1])===Ve[++Ge]&&be===Ve[++Ge]&&be===Ve[++Ge]){Xe=ae.strstart+F;do;while(be===Ve[++Ge]&&be===Ve[++Ge]&&be===Ve[++Ge]&&be===Ve[++Ge]&&be===Ve[++Ge]&&be===Ve[++Ge]&&be===Ve[++Ge]&&be===Ve[++Ge]&&Ge<Xe);ae.match_length=F-(Xe-Ge),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=j?(Ie=o._tr_tally(ae,1,ae.match_length-j),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(Ie=o._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),Ie&&(ee(ae,!1),ae.strm.avail_out===0))return x}return ae.insert=0,xe===u?(ee(ae,!0),ae.strm.avail_out===0?$:Y):ae.last_lit&&(ee(ae,!1),ae.strm.avail_out===0)?x:O})(C,fe):r[C.level].func(C,fe);if(ce!==$&&ce!==Y||(C.status=666),ce===x||ce===$)return A.avail_out===0&&(C.last_flush=-1),f;if(ce===O&&(fe===1?o._tr_align(C):fe!==5&&(o._tr_stored_block(C,0,0,!1),fe===3&&(te(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),W(A),A.avail_out===0))return C.last_flush=-1,f}return fe!==u?f:C.wrap<=0?1:(C.wrap===2?(pe(C,255&A.adler),pe(C,A.adler>>8&255),pe(C,A.adler>>16&255),pe(C,A.adler>>24&255),pe(C,255&A.total_in),pe(C,A.total_in>>8&255),pe(C,A.total_in>>16&255),pe(C,A.total_in>>24&255)):(M(C,A.adler>>>16),M(C,65535&A.adler)),W(A),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?f:1)},n.deflateEnd=function(A){var fe;return A&&A.state?(fe=A.state.status)!==N&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==T&&fe!==666?se(A,d):(A.state=null,fe===T?se(A,-3):f):d},n.deflateSetDictionary=function(A,fe){var he,C,G,ie,ve,ce,ae,xe,Ie=fe.length;if(!A||!A.state||(ie=(he=A.state).wrap)===2||ie===1&&he.status!==N||he.lookahead)return d;for(ie===1&&(A.adler=s(A.adler,fe,Ie,0)),he.wrap=0,Ie>=he.w_size&&(ie===0&&(te(he.head),he.strstart=0,he.block_start=0,he.insert=0),xe=new i.Buf8(he.w_size),i.arraySet(xe,fe,Ie-he.w_size,he.w_size,0),fe=xe,Ie=he.w_size),ve=A.avail_in,ce=A.next_in,ae=A.input,A.avail_in=Ie,A.next_in=0,A.input=fe,Q(he);he.lookahead>=j;){for(C=he.strstart,G=he.lookahead-(j-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[C+j-1])&he.hash_mask,he.prev[C&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=C,C++,--G;);he.strstart=C,he.lookahead=j-1,Q(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=j-1,he.match_available=0,A.next_in=ce,A.input=ae,A.avail_in=ve,he.wrap=ie,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(r,i){var o,s,a,l,c,u,f,d,h,g,y,_,v,E,S,I,R,V,j,F,k,N,T,x,O;o=r.state,s=r.next_in,x=r.input,a=s+(r.avail_in-5),l=r.next_out,O=r.output,c=l-(i-r.avail_out),u=l+(r.avail_out-257),f=o.dmax,d=o.wsize,h=o.whave,g=o.wnext,y=o.window,_=o.hold,v=o.bits,E=o.lencode,S=o.distcode,I=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{v<15&&(_+=x[s++]<<v,v+=8,_+=x[s++]<<v,v+=8),V=E[_&I];t:for(;;){if(_>>>=j=V>>>24,v-=j,(j=V>>>16&255)===0)O[l++]=65535&V;else{if(!(16&j)){if((64&j)==0){V=E[(65535&V)+(_&(1<<j)-1)];continue t}if(32&j){o.mode=12;break e}r.msg="invalid literal/length code",o.mode=30;break e}F=65535&V,(j&=15)&&(v<j&&(_+=x[s++]<<v,v+=8),F+=_&(1<<j)-1,_>>>=j,v-=j),v<15&&(_+=x[s++]<<v,v+=8,_+=x[s++]<<v,v+=8),V=S[_&R];n:for(;;){if(_>>>=j=V>>>24,v-=j,!(16&(j=V>>>16&255))){if((64&j)==0){V=S[(65535&V)+(_&(1<<j)-1)];continue n}r.msg="invalid distance code",o.mode=30;break e}if(k=65535&V,v<(j&=15)&&(_+=x[s++]<<v,(v+=8)<j&&(_+=x[s++]<<v,v+=8)),f<(k+=_&(1<<j)-1)){r.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=j,v-=j,(j=l-c)<k){if(h<(j=k-j)&&o.sane){r.msg="invalid distance too far back",o.mode=30;break e}if(T=y,(N=0)===g){if(N+=d-j,j<F){for(F-=j;O[l++]=y[N++],--j;);N=l-k,T=O}}else if(g<j){if(N+=d+g-j,(j-=g)<F){for(F-=j;O[l++]=y[N++],--j;);if(N=0,g<F){for(F-=j=g;O[l++]=y[N++],--j;);N=l-k,T=O}}}else if(N+=g-j,j<F){for(F-=j;O[l++]=y[N++],--j;);N=l-k,T=O}for(;2<F;)O[l++]=T[N++],O[l++]=T[N++],O[l++]=T[N++],F-=3;F&&(O[l++]=T[N++],1<F&&(O[l++]=T[N++]))}else{for(N=l-k;O[l++]=O[N++],O[l++]=O[N++],O[l++]=O[N++],2<(F-=3););F&&(O[l++]=O[N++],1<F&&(O[l++]=O[N++]))}break}}break}}while(s<a&&l<u);s-=F=v>>3,_&=(1<<(v-=F<<3))-1,r.next_in=s,r.next_out=l,r.avail_in=s<a?a-s+5:5-(s-a),r.avail_out=l<u?u-l+257:257-(l-u),o.hold=_,o.bits=v}},{}],49:[function(t,e,n){"use strict";var r=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),s=t("./inffast"),a=t("./inftrees"),l=1,c=2,u=0,f=-2,d=1,h=852,g=592;function y(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(N){var T;return N&&N.state?(T=N.state,N.total_in=N.total_out=T.total=0,N.msg="",T.wrap&&(N.adler=1&T.wrap),T.mode=d,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new r.Buf32(h),T.distcode=T.distdyn=new r.Buf32(g),T.sane=1,T.back=-1,u):f}function E(N){var T;return N&&N.state?((T=N.state).wsize=0,T.whave=0,T.wnext=0,v(N)):f}function S(N,T){var x,O;return N&&N.state?(O=N.state,T<0?(x=0,T=-T):(x=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?f:(O.window!==null&&O.wbits!==T&&(O.window=null),O.wrap=x,O.wbits=T,E(N))):f}function I(N,T){var x,O;return N?(O=new _,(N.state=O).window=null,(x=S(N,T))!==u&&(N.state=null),x):f}var R,V,j=!0;function F(N){if(j){var T;for(R=new r.Buf32(512),V=new r.Buf32(32),T=0;T<144;)N.lens[T++]=8;for(;T<256;)N.lens[T++]=9;for(;T<280;)N.lens[T++]=7;for(;T<288;)N.lens[T++]=8;for(a(l,N.lens,0,288,R,0,N.work,{bits:9}),T=0;T<32;)N.lens[T++]=5;a(c,N.lens,0,32,V,0,N.work,{bits:5}),j=!1}N.lencode=R,N.lenbits=9,N.distcode=V,N.distbits=5}function k(N,T,x,O){var $,Y=N.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new r.Buf8(Y.wsize)),O>=Y.wsize?(r.arraySet(Y.window,T,x-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(O<($=Y.wsize-Y.wnext)&&($=O),r.arraySet(Y.window,T,x-O,$,Y.wnext),(O-=$)?(r.arraySet(Y.window,T,x-O,O,0),Y.wnext=O,Y.whave=Y.wsize):(Y.wnext+=$,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=$))),0}n.inflateReset=E,n.inflateReset2=S,n.inflateResetKeep=v,n.inflateInit=function(N){return I(N,15)},n.inflateInit2=I,n.inflate=function(N,T){var x,O,$,Y,se,K,te,W,ee,pe,M,z,Q,ne,re,le,_e,ye,Se,Pe,A,fe,he,C,G=0,ie=new r.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return f;(x=N.state).mode===12&&(x.mode=13),se=N.next_out,$=N.output,te=N.avail_out,Y=N.next_in,O=N.input,K=N.avail_in,W=x.hold,ee=x.bits,pe=K,M=te,fe=u;e:for(;;)switch(x.mode){case d:if(x.wrap===0){x.mode=13;break}for(;ee<16;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if(2&x.wrap&&W===35615){ie[x.check=0]=255&W,ie[1]=W>>>8&255,x.check=o(x.check,ie,2,0),ee=W=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&W)<<8)+(W>>8))%31){N.msg="incorrect header check",x.mode=30;break}if((15&W)!=8){N.msg="unknown compression method",x.mode=30;break}if(ee-=4,A=8+(15&(W>>>=4)),x.wbits===0)x.wbits=A;else if(A>x.wbits){N.msg="invalid window size",x.mode=30;break}x.dmax=1<<A,N.adler=x.check=1,x.mode=512&W?10:12,ee=W=0;break;case 2:for(;ee<16;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if(x.flags=W,(255&x.flags)!=8){N.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){N.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=W>>8&1),512&x.flags&&(ie[0]=255&W,ie[1]=W>>>8&255,x.check=o(x.check,ie,2,0)),ee=W=0,x.mode=3;case 3:for(;ee<32;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}x.head&&(x.head.time=W),512&x.flags&&(ie[0]=255&W,ie[1]=W>>>8&255,ie[2]=W>>>16&255,ie[3]=W>>>24&255,x.check=o(x.check,ie,4,0)),ee=W=0,x.mode=4;case 4:for(;ee<16;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}x.head&&(x.head.xflags=255&W,x.head.os=W>>8),512&x.flags&&(ie[0]=255&W,ie[1]=W>>>8&255,x.check=o(x.check,ie,2,0)),ee=W=0,x.mode=5;case 5:if(1024&x.flags){for(;ee<16;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}x.length=W,x.head&&(x.head.extra_len=W),512&x.flags&&(ie[0]=255&W,ie[1]=W>>>8&255,x.check=o(x.check,ie,2,0)),ee=W=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(K<(z=x.length)&&(z=K),z&&(x.head&&(A=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),r.arraySet(x.head.extra,O,Y,z,A)),512&x.flags&&(x.check=o(x.check,O,z,Y)),K-=z,Y+=z,x.length-=z),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(K===0)break e;for(z=0;A=O[Y+z++],x.head&&A&&x.length<65536&&(x.head.name+=String.fromCharCode(A)),A&&z<K;);if(512&x.flags&&(x.check=o(x.check,O,z,Y)),K-=z,Y+=z,A)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(K===0)break e;for(z=0;A=O[Y+z++],x.head&&A&&x.length<65536&&(x.head.comment+=String.fromCharCode(A)),A&&z<K;);if(512&x.flags&&(x.check=o(x.check,O,z,Y)),K-=z,Y+=z,A)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;ee<16;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if(W!==(65535&x.check)){N.msg="header crc mismatch",x.mode=30;break}ee=W=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),N.adler=x.check=0,x.mode=12;break;case 10:for(;ee<32;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}N.adler=x.check=y(W),ee=W=0,x.mode=11;case 11:if(x.havedict===0)return N.next_out=se,N.avail_out=te,N.next_in=Y,N.avail_in=K,x.hold=W,x.bits=ee,2;N.adler=x.check=1,x.mode=12;case 12:if(T===5||T===6)break e;case 13:if(x.last){W>>>=7&ee,ee-=7&ee,x.mode=27;break}for(;ee<3;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}switch(x.last=1&W,ee-=1,3&(W>>>=1)){case 0:x.mode=14;break;case 1:if(F(x),x.mode=20,T!==6)break;W>>>=2,ee-=2;break e;case 2:x.mode=17;break;case 3:N.msg="invalid block type",x.mode=30}W>>>=2,ee-=2;break;case 14:for(W>>>=7&ee,ee-=7&ee;ee<32;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if((65535&W)!=(W>>>16^65535)){N.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&W,ee=W=0,x.mode=15,T===6)break e;case 15:x.mode=16;case 16:if(z=x.length){if(K<z&&(z=K),te<z&&(z=te),z===0)break e;r.arraySet($,O,Y,z,se),K-=z,Y+=z,te-=z,se+=z,x.length-=z;break}x.mode=12;break;case 17:for(;ee<14;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if(x.nlen=257+(31&W),W>>>=5,ee-=5,x.ndist=1+(31&W),W>>>=5,ee-=5,x.ncode=4+(15&W),W>>>=4,ee-=4,286<x.nlen||30<x.ndist){N.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;ee<3;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}x.lens[ve[x.have++]]=7&W,W>>>=3,ee-=3}for(;x.have<19;)x.lens[ve[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,he={bits:x.lenbits},fe=a(0,x.lens,0,19,x.lencode,0,x.work,he),x.lenbits=he.bits,fe){N.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;le=(G=x.lencode[W&(1<<x.lenbits)-1])>>>16&255,_e=65535&G,!((re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if(_e<16)W>>>=re,ee-=re,x.lens[x.have++]=_e;else{if(_e===16){for(C=re+2;ee<C;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if(W>>>=re,ee-=re,x.have===0){N.msg="invalid bit length repeat",x.mode=30;break}A=x.lens[x.have-1],z=3+(3&W),W>>>=2,ee-=2}else if(_e===17){for(C=re+3;ee<C;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}ee-=re,A=0,z=3+(7&(W>>>=re)),W>>>=3,ee-=3}else{for(C=re+7;ee<C;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}ee-=re,A=0,z=11+(127&(W>>>=re)),W>>>=7,ee-=7}if(x.have+z>x.nlen+x.ndist){N.msg="invalid bit length repeat",x.mode=30;break}for(;z--;)x.lens[x.have++]=A}}if(x.mode===30)break;if(x.lens[256]===0){N.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,he={bits:x.lenbits},fe=a(l,x.lens,0,x.nlen,x.lencode,0,x.work,he),x.lenbits=he.bits,fe){N.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,he={bits:x.distbits},fe=a(c,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,he),x.distbits=he.bits,fe){N.msg="invalid distances set",x.mode=30;break}if(x.mode=20,T===6)break e;case 20:x.mode=21;case 21:if(6<=K&&258<=te){N.next_out=se,N.avail_out=te,N.next_in=Y,N.avail_in=K,x.hold=W,x.bits=ee,s(N,M),se=N.next_out,$=N.output,te=N.avail_out,Y=N.next_in,O=N.input,K=N.avail_in,W=x.hold,ee=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;le=(G=x.lencode[W&(1<<x.lenbits)-1])>>>16&255,_e=65535&G,!((re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if(le&&(240&le)==0){for(ye=re,Se=le,Pe=_e;le=(G=x.lencode[Pe+((W&(1<<ye+Se)-1)>>ye)])>>>16&255,_e=65535&G,!(ye+(re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}W>>>=ye,ee-=ye,x.back+=ye}if(W>>>=re,ee-=re,x.back+=re,x.length=_e,le===0){x.mode=26;break}if(32&le){x.back=-1,x.mode=12;break}if(64&le){N.msg="invalid literal/length code",x.mode=30;break}x.extra=15&le,x.mode=22;case 22:if(x.extra){for(C=x.extra;ee<C;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}x.length+=W&(1<<x.extra)-1,W>>>=x.extra,ee-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;le=(G=x.distcode[W&(1<<x.distbits)-1])>>>16&255,_e=65535&G,!((re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if((240&le)==0){for(ye=re,Se=le,Pe=_e;le=(G=x.distcode[Pe+((W&(1<<ye+Se)-1)>>ye)])>>>16&255,_e=65535&G,!(ye+(re=G>>>24)<=ee);){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}W>>>=ye,ee-=ye,x.back+=ye}if(W>>>=re,ee-=re,x.back+=re,64&le){N.msg="invalid distance code",x.mode=30;break}x.offset=_e,x.extra=15&le,x.mode=24;case 24:if(x.extra){for(C=x.extra;ee<C;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}x.offset+=W&(1<<x.extra)-1,W>>>=x.extra,ee-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){N.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(te===0)break e;if(z=M-te,x.offset>z){if((z=x.offset-z)>x.whave&&x.sane){N.msg="invalid distance too far back",x.mode=30;break}Q=z>x.wnext?(z-=x.wnext,x.wsize-z):x.wnext-z,z>x.length&&(z=x.length),ne=x.window}else ne=$,Q=se-x.offset,z=x.length;for(te<z&&(z=te),te-=z,x.length-=z;$[se++]=ne[Q++],--z;);x.length===0&&(x.mode=21);break;case 26:if(te===0)break e;$[se++]=x.length,te--,x.mode=21;break;case 27:if(x.wrap){for(;ee<32;){if(K===0)break e;K--,W|=O[Y++]<<ee,ee+=8}if(M-=te,N.total_out+=M,x.total+=M,M&&(N.adler=x.check=x.flags?o(x.check,$,M,se-M):i(x.check,$,M,se-M)),M=te,(x.flags?W:y(W))!==x.check){N.msg="incorrect data check",x.mode=30;break}ee=W=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;ee<32;){if(K===0)break e;K--,W+=O[Y++]<<ee,ee+=8}if(W!==(4294967295&x.total)){N.msg="incorrect length check",x.mode=30;break}ee=W=0}x.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return f}return N.next_out=se,N.avail_out=te,N.next_in=Y,N.avail_in=K,x.hold=W,x.bits=ee,(x.wsize||M!==N.avail_out&&x.mode<30&&(x.mode<27||T!==4))&&k(N,N.output,N.next_out,M-N.avail_out)?(x.mode=31,-4):(pe-=N.avail_in,M-=N.avail_out,N.total_in+=pe,N.total_out+=M,x.total+=M,x.wrap&&M&&(N.adler=x.check=x.flags?o(x.check,$,M,N.next_out-M):i(x.check,$,M,N.next_out-M)),N.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(pe==0&&M===0||T===4)&&fe===u&&(fe=-5),fe)},n.inflateEnd=function(N){if(!N||!N.state)return f;var T=N.state;return T.window&&(T.window=null),N.state=null,u},n.inflateGetHeader=function(N,T){var x;return N&&N.state?(2&(x=N.state).wrap)==0?f:((x.head=T).done=!1,u):f},n.inflateSetDictionary=function(N,T){var x,O=T.length;return N&&N.state?(x=N.state).wrap!==0&&x.mode!==11?f:x.mode===11&&i(1,T,O,0)!==x.check?-3:k(N,T,O,O)?(x.mode=31,-4):(x.havedict=1,u):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(l,c,u,f,d,h,g,y){var _,v,E,S,I,R,V,j,F,k=y.bits,N=0,T=0,x=0,O=0,$=0,Y=0,se=0,K=0,te=0,W=0,ee=null,pe=0,M=new r.Buf16(16),z=new r.Buf16(16),Q=null,ne=0;for(N=0;N<=15;N++)M[N]=0;for(T=0;T<f;T++)M[c[u+T]]++;for($=k,O=15;1<=O&&M[O]===0;O--);if(O<$&&($=O),O===0)return d[h++]=20971520,d[h++]=20971520,y.bits=1,0;for(x=1;x<O&&M[x]===0;x++);for($<x&&($=x),N=K=1;N<=15;N++)if(K<<=1,(K-=M[N])<0)return-1;if(0<K&&(l===0||O!==1))return-1;for(z[1]=0,N=1;N<15;N++)z[N+1]=z[N]+M[N];for(T=0;T<f;T++)c[u+T]!==0&&(g[z[c[u+T]]++]=T);if(R=l===0?(ee=Q=g,19):l===1?(ee=i,pe-=257,Q=o,ne-=257,256):(ee=s,Q=a,-1),N=x,I=h,se=T=W=0,E=-1,S=(te=1<<(Y=$))-1,l===1&&852<te||l===2&&592<te)return 1;for(;;){for(V=N-se,F=g[T]<R?(j=0,g[T]):g[T]>R?(j=Q[ne+g[T]],ee[pe+g[T]]):(j=96,0),_=1<<N-se,x=v=1<<Y;d[I+(W>>se)+(v-=_)]=V<<24|j<<16|F|0,v!==0;);for(_=1<<N-1;W&_;)_>>=1;if(_!==0?(W&=_-1,W+=_):W=0,T++,--M[N]==0){if(N===O)break;N=c[u+g[T]]}if($<N&&(W&S)!==E){for(se===0&&(se=$),I+=x,K=1<<(Y=N-se);Y+se<O&&!((K-=M[Y+se])<=0);)Y++,K<<=1;if(te+=1<<Y,l===1&&852<te||l===2&&592<te)return 1;d[E=W&S]=$<<24|Y<<16|I-h|0}}return W!==0&&(d[I+W]=N-se<<24|64<<16|0),y.bits=$,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var r=t("../utils/common"),i=0,o=1;function s(G){for(var ie=G.length;0<=--ie;)G[ie]=0}var a=0,l=29,c=256,u=c+1+l,f=30,d=19,h=2*u+1,g=15,y=16,_=7,v=256,E=16,S=17,I=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(2*(u+2));s(k);var N=new Array(2*f);s(N);var T=new Array(512);s(T);var x=new Array(256);s(x);var O=new Array(l);s(O);var $,Y,se,K=new Array(f);function te(G,ie,ve,ce,ae){this.static_tree=G,this.extra_bits=ie,this.extra_base=ve,this.elems=ce,this.max_length=ae,this.has_stree=G&&G.length}function W(G,ie){this.dyn_tree=G,this.max_code=0,this.stat_desc=ie}function ee(G){return G<256?T[G]:T[256+(G>>>7)]}function pe(G,ie){G.pending_buf[G.pending++]=255&ie,G.pending_buf[G.pending++]=ie>>>8&255}function M(G,ie,ve){G.bi_valid>y-ve?(G.bi_buf|=ie<<G.bi_valid&65535,pe(G,G.bi_buf),G.bi_buf=ie>>y-G.bi_valid,G.bi_valid+=ve-y):(G.bi_buf|=ie<<G.bi_valid&65535,G.bi_valid+=ve)}function z(G,ie,ve){M(G,ve[2*ie],ve[2*ie+1])}function Q(G,ie){for(var ve=0;ve|=1&G,G>>>=1,ve<<=1,0<--ie;);return ve>>>1}function ne(G,ie,ve){var ce,ae,xe=new Array(g+1),Ie=0;for(ce=1;ce<=g;ce++)xe[ce]=Ie=Ie+ve[ce-1]<<1;for(ae=0;ae<=ie;ae++){var be=G[2*ae+1];be!==0&&(G[2*ae]=Q(xe[be]++,be))}}function re(G){var ie;for(ie=0;ie<u;ie++)G.dyn_ltree[2*ie]=0;for(ie=0;ie<f;ie++)G.dyn_dtree[2*ie]=0;for(ie=0;ie<d;ie++)G.bl_tree[2*ie]=0;G.dyn_ltree[2*v]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function le(G){8<G.bi_valid?pe(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function _e(G,ie,ve,ce){var ae=2*ie,xe=2*ve;return G[ae]<G[xe]||G[ae]===G[xe]&&ce[ie]<=ce[ve]}function ye(G,ie,ve){for(var ce=G.heap[ve],ae=ve<<1;ae<=G.heap_len&&(ae<G.heap_len&&_e(ie,G.heap[ae+1],G.heap[ae],G.depth)&&ae++,!_e(ie,ce,G.heap[ae],G.depth));)G.heap[ve]=G.heap[ae],ve=ae,ae<<=1;G.heap[ve]=ce}function Se(G,ie,ve){var ce,ae,xe,Ie,be=0;if(G.last_lit!==0)for(;ce=G.pending_buf[G.d_buf+2*be]<<8|G.pending_buf[G.d_buf+2*be+1],ae=G.pending_buf[G.l_buf+be],be++,ce===0?z(G,ae,ie):(z(G,(xe=x[ae])+c+1,ie),(Ie=R[xe])!==0&&M(G,ae-=O[xe],Ie),z(G,xe=ee(--ce),ve),(Ie=V[xe])!==0&&M(G,ce-=K[xe],Ie)),be<G.last_lit;);z(G,v,ie)}function Pe(G,ie){var ve,ce,ae,xe=ie.dyn_tree,Ie=ie.stat_desc.static_tree,be=ie.stat_desc.has_stree,Ge=ie.stat_desc.elems,Xe=-1;for(G.heap_len=0,G.heap_max=h,ve=0;ve<Ge;ve++)xe[2*ve]!==0?(G.heap[++G.heap_len]=Xe=ve,G.depth[ve]=0):xe[2*ve+1]=0;for(;G.heap_len<2;)xe[2*(ae=G.heap[++G.heap_len]=Xe<2?++Xe:0)]=1,G.depth[ae]=0,G.opt_len--,be&&(G.static_len-=Ie[2*ae+1]);for(ie.max_code=Xe,ve=G.heap_len>>1;1<=ve;ve--)ye(G,xe,ve);for(ae=Ge;ve=G.heap[1],G.heap[1]=G.heap[G.heap_len--],ye(G,xe,1),ce=G.heap[1],G.heap[--G.heap_max]=ve,G.heap[--G.heap_max]=ce,xe[2*ae]=xe[2*ve]+xe[2*ce],G.depth[ae]=(G.depth[ve]>=G.depth[ce]?G.depth[ve]:G.depth[ce])+1,xe[2*ve+1]=xe[2*ce+1]=ae,G.heap[1]=ae++,ye(G,xe,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],(function(Ve,yt){var Rt,Ye,wt,He,Un,Jt,vt=yt.dyn_tree,At=yt.max_code,Mn=yt.stat_desc.static_tree,ct=yt.stat_desc.has_stree,Tn=yt.stat_desc.extra_bits,ft=yt.stat_desc.extra_base,pt=yt.stat_desc.max_length,on=0;for(He=0;He<=g;He++)Ve.bl_count[He]=0;for(vt[2*Ve.heap[Ve.heap_max]+1]=0,Rt=Ve.heap_max+1;Rt<h;Rt++)pt<(He=vt[2*vt[2*(Ye=Ve.heap[Rt])+1]+1]+1)&&(He=pt,on++),vt[2*Ye+1]=He,At<Ye||(Ve.bl_count[He]++,Un=0,ft<=Ye&&(Un=Tn[Ye-ft]),Jt=vt[2*Ye],Ve.opt_len+=Jt*(He+Un),ct&&(Ve.static_len+=Jt*(Mn[2*Ye+1]+Un)));if(on!==0){do{for(He=pt-1;Ve.bl_count[He]===0;)He--;Ve.bl_count[He]--,Ve.bl_count[He+1]+=2,Ve.bl_count[pt]--,on-=2}while(0<on);for(He=pt;He!==0;He--)for(Ye=Ve.bl_count[He];Ye!==0;)At<(wt=Ve.heap[--Rt])||(vt[2*wt+1]!==He&&(Ve.opt_len+=(He-vt[2*wt+1])*vt[2*wt],vt[2*wt+1]=He),Ye--)}})(G,ie),ne(xe,Xe,G.bl_count)}function A(G,ie,ve){var ce,ae,xe=-1,Ie=ie[1],be=0,Ge=7,Xe=4;for(Ie===0&&(Ge=138,Xe=3),ie[2*(ve+1)+1]=65535,ce=0;ce<=ve;ce++)ae=Ie,Ie=ie[2*(ce+1)+1],++be<Ge&&ae===Ie||(be<Xe?G.bl_tree[2*ae]+=be:ae!==0?(ae!==xe&&G.bl_tree[2*ae]++,G.bl_tree[2*E]++):be<=10?G.bl_tree[2*S]++:G.bl_tree[2*I]++,xe=ae,Xe=(be=0)===Ie?(Ge=138,3):ae===Ie?(Ge=6,3):(Ge=7,4))}function fe(G,ie,ve){var ce,ae,xe=-1,Ie=ie[1],be=0,Ge=7,Xe=4;for(Ie===0&&(Ge=138,Xe=3),ce=0;ce<=ve;ce++)if(ae=Ie,Ie=ie[2*(ce+1)+1],!(++be<Ge&&ae===Ie)){if(be<Xe)for(;z(G,ae,G.bl_tree),--be!=0;);else ae!==0?(ae!==xe&&(z(G,ae,G.bl_tree),be--),z(G,E,G.bl_tree),M(G,be-3,2)):be<=10?(z(G,S,G.bl_tree),M(G,be-3,3)):(z(G,I,G.bl_tree),M(G,be-11,7));xe=ae,Xe=(be=0)===Ie?(Ge=138,3):ae===Ie?(Ge=6,3):(Ge=7,4)}}s(K);var he=!1;function C(G,ie,ve,ce){M(G,(a<<1)+(ce?1:0),3),(function(ae,xe,Ie,be){le(ae),be&&(pe(ae,Ie),pe(ae,~Ie)),r.arraySet(ae.pending_buf,ae.window,xe,Ie,ae.pending),ae.pending+=Ie})(G,ie,ve,!0)}n._tr_init=function(G){he||((function(){var ie,ve,ce,ae,xe,Ie=new Array(g+1);for(ae=ce=0;ae<l-1;ae++)for(O[ae]=ce,ie=0;ie<1<<R[ae];ie++)x[ce++]=ae;for(x[ce-1]=ae,ae=xe=0;ae<16;ae++)for(K[ae]=xe,ie=0;ie<1<<V[ae];ie++)T[xe++]=ae;for(xe>>=7;ae<f;ae++)for(K[ae]=xe<<7,ie=0;ie<1<<V[ae]-7;ie++)T[256+xe++]=ae;for(ve=0;ve<=g;ve++)Ie[ve]=0;for(ie=0;ie<=143;)k[2*ie+1]=8,ie++,Ie[8]++;for(;ie<=255;)k[2*ie+1]=9,ie++,Ie[9]++;for(;ie<=279;)k[2*ie+1]=7,ie++,Ie[7]++;for(;ie<=287;)k[2*ie+1]=8,ie++,Ie[8]++;for(ne(k,u+1,Ie),ie=0;ie<f;ie++)N[2*ie+1]=5,N[2*ie]=Q(ie,5);$=new te(k,R,c+1,u,g),Y=new te(N,V,0,f,g),se=new te(new Array(0),j,0,d,_)})(),he=!0),G.l_desc=new W(G.dyn_ltree,$),G.d_desc=new W(G.dyn_dtree,Y),G.bl_desc=new W(G.bl_tree,se),G.bi_buf=0,G.bi_valid=0,re(G)},n._tr_stored_block=C,n._tr_flush_block=function(G,ie,ve,ce){var ae,xe,Ie=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=(function(be){var Ge,Xe=4093624447;for(Ge=0;Ge<=31;Ge++,Xe>>>=1)if(1&Xe&&be.dyn_ltree[2*Ge]!==0)return i;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return o;for(Ge=32;Ge<c;Ge++)if(be.dyn_ltree[2*Ge]!==0)return o;return i})(G)),Pe(G,G.l_desc),Pe(G,G.d_desc),Ie=(function(be){var Ge;for(A(be,be.dyn_ltree,be.l_desc.max_code),A(be,be.dyn_dtree,be.d_desc.max_code),Pe(be,be.bl_desc),Ge=d-1;3<=Ge&&be.bl_tree[2*F[Ge]+1]===0;Ge--);return be.opt_len+=3*(Ge+1)+5+5+4,Ge})(G),ae=G.opt_len+3+7>>>3,(xe=G.static_len+3+7>>>3)<=ae&&(ae=xe)):ae=xe=ve+5,ve+4<=ae&&ie!==-1?C(G,ie,ve,ce):G.strategy===4||xe===ae?(M(G,2+(ce?1:0),3),Se(G,k,N)):(M(G,4+(ce?1:0),3),(function(be,Ge,Xe,Ve){var yt;for(M(be,Ge-257,5),M(be,Xe-1,5),M(be,Ve-4,4),yt=0;yt<Ve;yt++)M(be,be.bl_tree[2*F[yt]+1],3);fe(be,be.dyn_ltree,Ge-1),fe(be,be.dyn_dtree,Xe-1)})(G,G.l_desc.max_code+1,G.d_desc.max_code+1,Ie+1),Se(G,G.dyn_ltree,G.dyn_dtree)),re(G),ce&&le(G)},n._tr_tally=function(G,ie,ve){return G.pending_buf[G.d_buf+2*G.last_lit]=ie>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&ie,G.pending_buf[G.l_buf+G.last_lit]=255&ve,G.last_lit++,ie===0?G.dyn_ltree[2*ve]++:(G.matches++,ie--,G.dyn_ltree[2*(x[ve]+c+1)]++,G.dyn_dtree[2*ee(ie)]++),G.last_lit===G.lit_bufsize-1},n._tr_align=function(G){M(G,2,3),z(G,v,k),(function(ie){ie.bi_valid===16?(pe(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)})(G)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){(function(r){(function(i,o){"use strict";if(!i.setImmediate){var s,a,l,c,u=1,f={},d=!1,h=i.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(i);g=g&&g.setTimeout?g:i,s={}.toString.call(i.process)==="[object process]"?function(E){process.nextTick(function(){_(E)})}:(function(){if(i.postMessage&&!i.importScripts){var E=!0,S=i.onmessage;return i.onmessage=function(){E=!1},i.postMessage("","*"),i.onmessage=S,E}})()?(c="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",v,!1):i.attachEvent("onmessage",v),function(E){i.postMessage(c+E,"*")}):i.MessageChannel?((l=new MessageChannel).port1.onmessage=function(E){_(E.data)},function(E){l.port2.postMessage(E)}):h&&"onreadystatechange"in h.createElement("script")?(a=h.documentElement,function(E){var S=h.createElement("script");S.onreadystatechange=function(){_(E),S.onreadystatechange=null,a.removeChild(S),S=null},a.appendChild(S)}):function(E){setTimeout(_,0,E)},g.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var S=new Array(arguments.length-1),I=0;I<S.length;I++)S[I]=arguments[I+1];var R={callback:E,args:S};return f[u]=R,s(u),u++},g.clearImmediate=y}function y(E){delete f[E]}function _(E){if(d)setTimeout(_,0,E);else{var S=f[E];if(S){d=!0;try{(function(I){var R=I.callback,V=I.args;switch(V.length){case 0:R();break;case 1:R(V[0]);break;case 2:R(V[0],V[1]);break;case 3:R(V[0],V[1],V[2]);break;default:R.apply(o,V)}})(S)}finally{y(E),d=!1}}}}function v(E){E.source===i&&typeof E.data=="string"&&E.data.indexOf(c)===0&&_(+E.data.slice(c.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var LM=Ii((mUe,Z7)=>{"use strict";Z7.exports.geometries={NULL:0,POINT:1,POLYLINE:3,POLYGON:5,MULTIPOINT:8,POINTZ:11,POLYLINEZ:13,POLYGONZ:15,MULTIPOINTZ:18,POINTM:21,POLYLINEM:23,POLYGONM:25,MULTIPOINTM:28,MULTIPATCH:31}});var kM=Ii((yUe,X7)=>{"use strict";X7.exports={C:254,L:1,D:8,N:18,M:18,F:18,B:8}});var K7=Ii((_Ue,$w)=>{"use strict";$w.exports.lpad=function(e,n,r){for(;e.length<n;)e=r+e;return e};$w.exports.rpad=function(e,n,r){for(;e.length<n;)e=e+r;return e};$w.exports.writeField=function(e,n,r,i){for(var o=0;o<n;o++)e.setUint8(i,r.charCodeAt(o)),i++;return i}});var Q7=Ii((vUe,Yw)=>{"use strict";var qre=kM(),Wre={string:"C",number:"N",boolean:"L",null:"C"};Yw.exports.multi=$re;Yw.exports.bytesPer=Zre;Yw.exports.obj=J7;function $re(t){var e={};t.forEach(n);function n(r){Yre(e,r)}return J7(e)}function Yre(t,e){for(var n in e){var r=typeof e[n]<"u"&&e[n]!==null;(typeof t[n]>"u"||r)&&(t[n]=e[n])}return t}function J7(t){var e={},n=[];for(var r in t)e[r]=t[r]===null?"null":typeof t[r];for(var i in e){var o=Wre[e[i]];o&&n.push({name:i,type:o,size:qre[o]})}return n}function Zre(t){return t.reduce(function(e,n){return e+n.size},1)}});var nj=Ii((xUe,tj)=>{"use strict";var wUe=kM(),$p=K7(),ej=Q7();tj.exports=function(e,n){var r=n||ej.multi(e),i=32*r.length+1,o=ej.bytesPer(r),s=new ArrayBuffer(i+32+o*e.length+1),a=new Date,l=new DataView(s);l.setUint8(0,3),l.setUint8(1,a.getFullYear()-1900),l.setUint8(2,a.getMonth()+1),l.setUint8(3,a.getDate()),l.setUint32(4,e.length,!0);var c=i+32;l.setUint16(8,c,!0),l.setUint16(10,o,!0),l.setInt8(32+i-1,13),r.forEach(function(f,d){f.name.split("").slice(0,10).forEach(function(h,g){l.setInt8(32+d*32+g,h.charCodeAt(0))}),l.setInt8(32+d*32+11,f.type.charCodeAt(0)),l.setInt8(32+d*32+16,f.size),f.type=="N"&&l.setInt8(32+d*32+17,3)});var u=i+32;return e.forEach(function(f,d){l.setUint8(u,32),u++,r.forEach(function(h){var g=f[h.name];switch((g===null||typeof g>"u")&&(g=""),h.type){case"L":l.setUint8(u,g?84:70),u++;break;case"D":u=$p.writeField(l,8,$p.lpad(g.toString(),8," "),u);break;case"N":u=$p.writeField(l,h.size,$p.lpad(g.toString(),h.size," ").substr(0,18),u);break;case"C":u=$p.writeField(l,h.size,$p.rpad(g.toString(),h.size," "),u);break;default:throw new Error("Unknown field type")}})}),l.setUint8(u,26),l}});var ij=Ii((bUe,rj)=>{"use strict";rj.exports.structure=nj()});var OM=Ii((EUe,oj)=>{"use strict";oj.exports='GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]]'});var FM=Ii((SUe,Zw)=>{"use strict";Zw.exports.enlarge=function(e,n){return n[0]<e.xmin&&(e.xmin=n[0]),n[0]>e.xmax&&(e.xmax=n[0]),n[1]<e.ymin&&(e.ymin=n[1]),n[1]>e.ymax&&(e.ymax=n[1]),e};Zw.exports.enlargeExtent=function(e,n){return n.xmax>e.xmax&&(e.xmax=n.xmax),n.xmin<e.xmin&&(e.xmin=n.xmin),n.ymax>e.ymax&&(e.ymax=n.ymax),n.ymin<e.ymin&&(e.ymin=n.ymin),e};Zw.exports.blank=function(){return{xmin:Number.MAX_VALUE,ymin:Number.MAX_VALUE,xmax:-Number.MAX_VALUE,ymax:-Number.MAX_VALUE}}});var aj=Ii((CUe,Yp)=>{"use strict";var sj=FM();Yp.exports.write=function(e,n,r,i){var o=28,s=100,a=0,l=0;e.forEach(function(u,f){r.setInt32(a,f+1),r.setInt32(a+4,10),r.setInt32(a+8,1,!0),r.setFloat64(a+12,u[0],!0),r.setFloat64(a+20,u[1],!0),i.setInt32(l,s/2),i.setInt32(l+4,10),l+=8,a+=o,s+=o})};Yp.exports.extent=function(t){return t.reduce(function(e,n){return sj.enlarge(e,n)},sj.blank())};Yp.exports.parts=function(e,n){return e.length};Yp.exports.shxLength=function(t){return t.length*8};Yp.exports.shpLength=function(t){return t.length*28}});var uj=Ii((IUe,Zp)=>{"use strict";var Xw=FM(),lj=LM();Zp.exports.write=function(e,n,r,i,o){var s=0,a=0,l=100;e.forEach(c);function c(u,f){var d=Kw(u),h=cj([u],o),g=d.length*16+48+(h-1)*4,y=d.reduce(function(E,S){return Xw.enlarge(E,S)},Xw.blank());i.setInt32(a,l/2),i.setInt32(a+4,g/2),a+=8,l+=g+8,r.setInt32(s,f+1),r.setInt32(s+4,g/2),r.setInt32(s+8,o,!0),r.setFloat64(s+12,y.xmin,!0),r.setFloat64(s+20,y.ymin,!0),r.setFloat64(s+28,y.xmax,!0),r.setFloat64(s+36,y.ymax,!0),r.setInt32(s+44,h,!0),r.setInt32(s+48,d.length,!0),r.setInt32(s+52,0,!0);for(var _=u.reduce(function(E,S){return Array.isArray(S[0][0])?E=E.concat(S):E.push(S),E},[]),v=1;v<h;v++)r.setInt32(s+52+v*4,_.reduce(function(E,S,I){return I<v?E+S.length:E},0),!0);d.forEach(function(S,I){r.setFloat64(s+56+I*16+(h-1)*4,S[0],!0),r.setFloat64(s+56+I*16+(h-1)*4+8,S[1],!0)}),s+=g+8}};Zp.exports.shpLength=function(t){return t.length*56+Kw(t).length*16};Zp.exports.shxLength=function(t){return t.length*8};Zp.exports.extent=function(t){return Kw(t).reduce(function(e,n){return Xw.enlarge(e,n)},Xw.blank())};function cj(t,e){var n=1;return(e===lj.geometries.POLYGON||e===lj.geometries.POLYLINE)&&(n=t.reduce(function(r,i){return r+=i.length,Array.isArray(i[0][0][0])&&(r+=i.reduce(function(o,s){return o+s.length-1},0)),r},0)),n}Zp.exports.parts=cj;function Kw(t,e){return e===void 0&&(e=[]),typeof t[0][0]=="object"?t.reduce(function(n,r){return n.concat(Kw(r))},e):t}});var jM=Ii((DUe,pj)=>{"use strict";var Xre=LM(),Kre=ij(),Jre=OM(),Qre=aj(),hj=uj(),eie={1:Qre,5:hj,3:hj};pj.exports=tie;function tie(t,e,n,r){var i=Xre.geometries[e],o=eie[i],s=o.parts(n,i),a=100+(s-n.length)*4+o.shpLength(n),l=100+o.shxLength(n),c=new ArrayBuffer(a),u=new DataView(c),f=new ArrayBuffer(l),d=new DataView(f),h=o.extent(n);fj(u,i),fj(d,i),dj(h,u),dj(h,d),o.write(n,h,new DataView(c,100),new DataView(f,100),i),u.setInt32(24,a/2),d.setInt32(24,50+n.length*4);var g=Kre.structure(t);r(null,{shp:u,shx:d,dbf:g,prj:Jre})}function fj(t,e){t.setInt32(0,9994),t.setInt32(28,1e3,!0),t.setInt32(32,e,!0)}function dj(t,e){e.setFloat64(36,t.xmin,!0),e.setFloat64(44,t.ymin,!0),e.setFloat64(52,t.xmax,!0),e.setFloat64(60,t.ymax,!0)}});var mj=Ii((AUe,Xp)=>{"use strict";Xp.exports.point=y1("Point","POINT");Xp.exports.line=y1("LineString","POLYLINE");Xp.exports.multiline=y1("MultiLineString","POLYLINE");Xp.exports.polygon=y1("Polygon","POLYGON");Xp.exports.multipolygon=y1("MultiPolygon","POLYGON");function y1(t,e){return function(n){var r=n.features.filter(rie(t));return{geometries:e==="POLYLINE"?[r.map(gj)]:r.map(gj),properties:r.map(nie),type:e}}}function gj(t){return t.geometry.coordinates}function nie(t){return t.properties}function rie(t){return Array.isArray(t)?function(e){return t.includes(e.geometry.type)}:function(e){return e.geometry.type===t}}});var BM=Ii((MUe,yj)=>{"use strict";var iie=jM(),_1=mj(),oie=OM(),sie=EM();yj.exports=function(t,e,n=!1){let r=new sie,i=r;e&&e.folder&&(i=r.folder(e.folder));var o=e&&e.prj?e.prj:oie;[_1.point(t),_1.line(t),_1.polygon(t),_1.multipolygon(t),_1.multiline(t)].forEach(function(a){a.geometries.length&&a.geometries[0].length&&iie(a.properties,a.type,a.geometries,function(l,c){var u=e&&e.types&&e.types[a.type.toLowerCase()]?e.types[a.type.toLowerCase()]:a.type;i.file(u+".shp",c.shp.buffer,{binary:!0}),i.file(u+".shx",c.shx.buffer,{binary:!0}),i.file(u+".dbf",c.dbf.buffer,{binary:!0}),i.file(u+".prj",o)})});var s={};return!e||!e.outputType?s.type="base64":s.type=e.outputType,!e||!e.compression?s.compression="DEFLATE":s.compression=e.compression,n?r.generateNodeStream(fn(Ze({},s),{streamFiles:!0})):r.generateAsync(s)}});var _j=Ii((UM,GM)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof UM<"u"?e():(e(),t.FileSaver={})})(UM,function(){"use strict";function t(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,l,c){var u=new XMLHttpRequest;u.open("GET",a),u.responseType="blob",u.onload=function(){s(u.response,l,c)},u.onerror=function(){console.error("could not download file")},u.send()}function n(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,l,c){var u=i.URL||i.webkitURL,f=document.createElement("a");l=l||a.name||"download",f.download=l,f.rel="noopener",typeof a=="string"?(f.href=a,f.origin===location.origin?r(f):n(f.href)?e(a,l,c):r(f,f.target="_blank")):(f.href=u.createObjectURL(a),setTimeout(function(){u.revokeObjectURL(f.href)},4e4),setTimeout(function(){r(f)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(t(a,c),l);else if(n(a))e(a,l,c);else{var u=document.createElement("a");u.href=a,u.target="_blank",setTimeout(function(){r(u)})}}:function(a,l,c,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof a=="string")return e(a,l,c);var f=a.type==="application/octet-stream",d=/constructor/i.test(i.HTMLElement)||i.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||f&&d||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var v=g.result;v=h?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=v:location=v,u=null},g.readAsDataURL(a)}else{var y=i.URL||i.webkitURL,_=y.createObjectURL(a);u?u.location=_:location.href=_,u=null,setTimeout(function(){y.revokeObjectURL(_)},4e4)}});i.saveAs=s.saveAs=s,typeof GM<"u"&&(GM.exports=s)})});var wj=Ii((NUe,vj)=>{"use strict";var aie=BM(),lie=_j().saveAs;vj.exports=function(t,e){let n="download";e&&(e.filename||e.folder)&&(n=e.filename||e.folder),aie(t,e).then(function(r){lie(r,n+".zip")})}});var xj=Ii((RUe,Jw)=>{"use strict";Jw.exports.download=wj();Jw.exports.write=jM();Jw.exports.zip=BM()});var Mb;function Iy(){return Mb}function za(t){let e=Mb;return Mb=t,e}var kN=Symbol("NotFound");function Qf(t){return t===kN||t?.name==="\u0275NotFound"}var Gi=null,Dy=!1,Tb=1,GU=null,lo=Symbol("SIGNAL");function Ft(t){let e=Gi;return Gi=t,e}function Ny(){return Gi}var dh={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ed(t){if(Dy)throw new Error("");if(Gi===null)return;Gi.consumerOnSignalRead(t);let e=Gi.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Gi.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Gi.producers,n!==void 0&&n.producer===t)){Gi.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Gi&&(!r||VU(i,Gi)))return;let o=rd(Gi),s={producer:t,consumer:Gi,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Gi.producersTail=s,e!==void 0?e.nextProducer=s:Gi.producers=s,o&&BN(t,s)}function ON(){Tb++}function Ry(t){if(!(rd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Tb)){if(!t.producerMustRecompute(t)&&!nd(t)){Ty(t);return}t.producerRecomputeValue(t),Ty(t)}}function Nb(t){if(t.consumers===void 0)return;let e=Dy;Dy=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||zU(r)}}finally{Dy=e}}function Rb(){return Gi?.consumerAllowSignalWrites!==!1}function zU(t){t.dirty=!0,Nb(t),t.consumerMarkedDirty?.(t)}function Ty(t){t.dirty=!1,t.lastCleanEpoch=Tb}function ph(t){return t&&FN(t),Ft(t)}function FN(t){t.producersTail=void 0,t.recomputing=!0}function td(t,e){Ft(e),t&&jN(t)}function jN(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(rd(t))do n=Pb(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function nd(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Ry(n),r!==n.version))return!0}return!1}function gh(t){if(rd(t)){let e=t.producers;for(;e!==void 0;)e=Pb(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function BN(t,e){let n=t.consumersTail,r=rd(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)BN(i.producer,i)}function Pb(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!rd(e)){let o=e.producers;for(;o!==void 0;)o=Pb(o)}return n}function rd(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Py(t){GU?.(t)}function VU(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ly(t,e){return Object.is(t,e)}function ky(t,e){let n=Object.create(HU);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Ry(n),ed(n),n.value===qg)throw n.error;return n.value};return r[lo]=n,Py(n),r}var Ay=Symbol("UNSET"),My=Symbol("COMPUTING"),qg=Symbol("ERRORED"),HU=fn(Ze({},dh),{value:Ay,dirty:!0,error:null,equal:Ly,kind:"computed",producerMustRecompute(t){return t.value===Ay||t.value===My},producerRecomputeValue(t){if(t.value===My)throw new Error("");let e=t.value;t.value=My;let n=ph(t),r,i=!1;try{r=t.computation(),Ft(null),i=e!==Ay&&e!==qg&&r!==qg&&t.equal(e,r)}catch(o){r=qg,t.error=o}finally{td(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function qU(){throw new Error}var UN=qU;function GN(t){UN(t)}function Lb(t){UN=t}var WU=null;function kb(t,e){let n=Object.create(Oy);n.value=t,e!==void 0&&(n.equal=e);let r=()=>zN(n);return r[lo]=n,Py(n),[r,s=>id(n,s),s=>Ob(n,s)]}function zN(t){return ed(t),t.value}function id(t,e){Rb()||GN(t),t.equal(t.value,e)||(t.value=e,$U(t))}function Ob(t,e){Rb()||GN(t),id(t,e(t.value))}var Oy=fn(Ze({},dh),{equal:Ly,value:void 0,kind:"signal"});function $U(t){t.version++,ON(),Nb(t),WU?.(t)}function jt(t){return typeof t=="function"}function od(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fy=od(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wg(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var kr=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(jt(r))try{r()}catch(o){e=o instanceof Fy?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{VN(o)}catch(s){e=e??[],s instanceof Fy?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Fy(e)}}add(e){var n;if(e&&e!==this)if(this.closed)VN(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wg(n,e)}remove(e){let{_finalizers:n}=this;n&&Wg(n,e),e instanceof t&&e._removeParent(this)}};kr.EMPTY=(()=>{let t=new kr;return t.closed=!0,t})();var Fb=kr.EMPTY;function jy(t){return t instanceof kr||t&&"closed"in t&&jt(t.remove)&&jt(t.add)&&jt(t.unsubscribe)}function VN(t){jt(t)?t():t.unsubscribe()}var aa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var sd={setTimeout(t,e,...n){let{delegate:r}=sd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=sd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function By(t){sd.setTimeout(()=>{let{onUnhandledError:e}=aa;if(e)e(t);else throw t})}function $g(){}var HN=jb("C",void 0,void 0);function qN(t){return jb("E",void 0,t)}function WN(t){return jb("N",t,void 0)}function jb(t,e,n){return{kind:t,value:e,error:n}}var mh=null;function ad(t){if(aa.useDeprecatedSynchronousErrorHandling){let e=!mh;if(e&&(mh={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=mh;if(mh=null,n)throw r}}else t()}function $N(t){aa.useDeprecatedSynchronousErrorHandling&&mh&&(mh.errorThrown=!0,mh.error=t)}var yh=class extends kr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jy(e)&&e.add(this)):this.destination=XU}static create(e,n,r){return new ld(e,n,r)}next(e){this.isStopped?Ub(WN(e),this):this._next(e)}error(e){this.isStopped?Ub(qN(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ub(HN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YU=Function.prototype.bind;function Bb(t,e){return YU.call(t,e)}var Gb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Uy(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Uy(r)}else Uy(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Uy(n)}}},ld=class extends yh{constructor(e,n,r){super();let i;if(jt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&aa.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bb(e.next,o),error:e.error&&Bb(e.error,o),complete:e.complete&&Bb(e.complete,o)}):i=e}this.destination=new Gb(i)}};function Uy(t){aa.useDeprecatedSynchronousErrorHandling?$N(t):By(t)}function ZU(t){throw t}function Ub(t,e){let{onStoppedNotification:n}=aa;n&&sd.setTimeout(()=>n(t,e))}var XU={closed:!0,next:$g,error:ZU,complete:$g};var cd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rs(t){return t}function zb(...t){return Vb(t)}function Vb(t){return t.length===0?rs:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var wn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=JU(n)?n:new ld(n,r,i);return ad(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=YN(r),new r((i,o)=>{let s=new ld({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[cd](){return this}pipe(...n){return Vb(n)(this)}toPromise(n){return n=YN(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function YN(t){var e;return(e=t??aa.Promise)!==null&&e!==void 0?e:Promise}function KU(t){return t&&jt(t.next)&&jt(t.error)&&jt(t.complete)}function JU(t){return t&&t instanceof yh||KU(t)&&jy(t)}function Hb(t){return jt(t?.lift)}function dn(t){return e=>{if(Hb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pn(t,e,n,r,i){return new qb(t,e,n,r,i)}var qb=class extends yh{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ud(){return dn((t,e)=>{let n=null;t._refCount++;let r=pn(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var hd=class extends wn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kr;let n=this.getSubject();e.add(this.source.subscribe(pn(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kr.EMPTY)}return e}refCount(){return ud()(this)}};var ZN=od(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var li=(()=>{class t extends wn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Gy(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ZN}next(n){ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Fb:(this.currentObservers=null,o.push(n),new kr(()=>{this.currentObservers=null,Wg(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new wn;return n.source=this,n}}return t.create=(e,n)=>new Gy(e,n),t})(),Gy=class extends li{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Fb}};var Di=class extends li{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xo=new wn(t=>t.complete());function XN(t){return t&&jt(t.schedule)}function KN(t){return t[t.length-1]}function JN(t){return jt(KN(t))?t.pop():void 0}function Yc(t){return XN(KN(t))?t.pop():void 0}function e3(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function QN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _h(t){return this instanceof _h?(this.v=t,this):new _h(t)}function t3(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,f)}}function a(h,g){r[h]&&(i[h]=function(y){return new Promise(function(_,v){o.push([h,y,_,v])>1||l(h,y)})},g&&(i[h]=g(i[h])))}function l(h,g){try{c(r[h](g))}catch(y){d(o[0][3],y)}}function c(h){h.value instanceof _h?Promise.resolve(h.value.v).then(u,f):d(o[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function d(h,g){h(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function n3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof QN=="function"?QN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var zy=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vy(t){return jt(t?.then)}function Hy(t){return jt(t[cd])}function qy(t){return Symbol.asyncIterator&&jt(t?.[Symbol.asyncIterator])}function Wy(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $y=QU();function Yy(t){return jt(t?.[$y])}function Zy(t){return t3(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield _h(n.read());if(i)return yield _h(void 0);yield yield _h(r)}}finally{n.releaseLock()}})}function Xy(t){return jt(t?.getReader)}function ci(t){if(t instanceof wn)return t;if(t!=null){if(Hy(t))return eG(t);if(zy(t))return tG(t);if(Vy(t))return nG(t);if(qy(t))return r3(t);if(Yy(t))return rG(t);if(Xy(t))return iG(t)}throw Wy(t)}function eG(t){return new wn(e=>{let n=t[cd]();if(jt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tG(t){return new wn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function nG(t){return new wn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,By)})}function rG(t){return new wn(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function r3(t){return new wn(e=>{oG(t,e).catch(n=>e.error(n))})}function iG(t){return r3(Zy(t))}function oG(t,e){var n,r,i,o;return e3(this,void 0,void 0,function*(){try{for(n=n3(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function bo(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ky(t,e=0){return dn((n,r)=>{n.subscribe(pn(r,i=>bo(r,t,()=>r.next(i),e),()=>bo(r,t,()=>r.complete(),e),i=>bo(r,t,()=>r.error(i),e)))})}function Jy(t,e=0){return dn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function i3(t,e){return ci(t).pipe(Jy(e),Ky(e))}function o3(t,e){return ci(t).pipe(Jy(e),Ky(e))}function s3(t,e){return new wn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function a3(t,e){return new wn(n=>{let r;return bo(n,e,()=>{r=t[$y](),bo(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>jt(r?.return)&&r.return()})}function Qy(t,e){if(!t)throw new Error("Iterable cannot be null");return new wn(n=>{bo(n,e,()=>{let r=t[Symbol.asyncIterator]();bo(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function l3(t,e){return Qy(Zy(t),e)}function c3(t,e){if(t!=null){if(Hy(t))return i3(t,e);if(zy(t))return s3(t,e);if(Vy(t))return o3(t,e);if(qy(t))return Qy(t,e);if(Yy(t))return a3(t,e);if(Xy(t))return l3(t,e)}throw Wy(t)}function Or(t,e){return e?c3(t,e):ci(t)}function Tt(...t){let e=Yc(t);return Or(t,e)}function fd(t,e){let n=jt(t)?t:()=>t,r=i=>i.error(n());return new wn(e?i=>e.schedule(r,0,i):r)}function Wb(t){return!!t&&(t instanceof wn||jt(t.lift)&&jt(t.subscribe))}var kl=od(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function gn(t,e){return dn((n,r)=>{let i=0;n.subscribe(pn(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:sG}=Array;function aG(t,e){return sG(e)?t(...e):t(e)}function u3(t){return gn(e=>aG(t,e))}var{isArray:lG}=Array,{getPrototypeOf:cG,prototype:uG,keys:hG}=Object;function h3(t){if(t.length===1){let e=t[0];if(lG(e))return{args:e,keys:null};if(fG(e)){let n=hG(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function fG(t){return t&&typeof t=="object"&&cG(t)===uG}function f3(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function e_(...t){let e=Yc(t),n=JN(t),{args:r,keys:i}=h3(t);if(r.length===0)return Or([],e);let o=new wn(dG(r,e,i?s=>f3(i,s):rs));return n?o.pipe(u3(n)):o}function dG(t,e,n=rs){return r=>{d3(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)d3(e,()=>{let c=Or(t[l],e),u=!1;c.subscribe(pn(r,f=>{o[l]=f,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function d3(t,e,n){t?bo(n,t,e):e()}function p3(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,f=!1,d=()=>{f&&!l.length&&!c&&e.complete()},h=y=>c<r?g(y):l.push(y),g=y=>{o&&e.next(y),c++;let _=!1;ci(n(y,u++)).subscribe(pn(e,v=>{i?.(v),o?h(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){let v=l.shift();s?bo(e,s,()=>g(v)):g(v)}d()}catch(v){e.error(v)}}))};return t.subscribe(pn(e,h,()=>{f=!0,d()})),()=>{a?.()}}function Xr(t,e,n=1/0){return jt(e)?Xr((r,i)=>gn((o,s)=>e(r,o,i,s))(ci(t(r,i))),n):(typeof e=="number"&&(n=e),dn((r,i)=>p3(r,i,t,n)))}function g3(t=1/0){return Xr(rs,t)}function m3(){return g3(1)}function dd(...t){return m3()(Or(t,Yc(t)))}function Yg(t){return new wn(e=>{ci(t()).subscribe(e)})}function Ns(t,e){return dn((n,r)=>{let i=0;n.subscribe(pn(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Zc(t){return dn((e,n)=>{let r=null,i=!1,o;r=e.subscribe(pn(n,void 0,void 0,s=>{o=ci(t(s,Zc(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function y3(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(pn(s,u=>{let f=c++;l=a?t(l,u,f):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function pd(t,e){return jt(e)?Xr(t,e,1):Xr(t,1)}function Xc(t){return dn((e,n)=>{let r=!1;e.subscribe(pn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ol(t){return t<=0?()=>xo:dn((e,n)=>{let r=0;e.subscribe(pn(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function t_(t=pG){return dn((e,n)=>{let r=!1;e.subscribe(pn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function pG(){return new kl}function Zg(t){return dn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Fl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ns((i,o)=>t(i,o,r)):rs,Ol(1),n?Xc(e):t_(()=>new kl))}function gd(t){return t<=0?()=>xo:dn((e,n)=>{let r=[];e.subscribe(pn(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $b(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ns((i,o)=>t(i,o,r)):rs,gd(1),n?Xc(e):t_(()=>new kl))}function Yb(t,e){return dn(y3(t,e,arguments.length>=2,!0))}function Zb(...t){let e=Yc(t);return dn((n,r)=>{(e?dd(t,n,e):dd(t,n)).subscribe(r)})}function Eo(t,e){return dn((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(pn(r,l=>{i?.unsubscribe();let c=0,u=o++;ci(t(l,u)).subscribe(i=pn(r,f=>r.next(e?e(l,f,u,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function n_(t){return dn((e,n)=>{ci(t).subscribe(pn(n,()=>n.complete(),$g)),!n.closed&&e.subscribe(n)})}function ui(t,e,n){let r=jt(t)||e||n?{next:t,error:e,complete:n}:t;return r?dn((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pn(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):rs}function _3(t){let e=Ft(null);try{return t()}finally{Ft(e)}}var v3=fn(Ze({},dh),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function w3(t){if(t.dirty=!1,t.version>0&&!nd(t))return;t.version++;let e=ph(t);try{t.cleanup(),t.fn()}finally{td(t,e)}}var a_="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ht=class extends Error{code;constructor(e,n){super(Eh(e,n)),this.code=e}};function gG(t){return`NG0${Math.abs(t)}`}function Eh(t,e){return`${gG(t)}${e?": "+e:""}`}function Rn(t){for(let e in t)if(t[e]===Rn)return e;throw Error("")}function Bl(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Bl).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function sE(t,e){return t?e?`${t} ${e}`:t:e||""}var mG=Rn({__forward_ref__:Rn});function l_(t){return t.__forward_ref__=l_,t.toString=function(){return Bl(this())},t}function So(t){return aE(t)?t():t}function aE(t){return typeof t=="function"&&t.hasOwnProperty(mG)&&t.__forward_ref__===l_}function dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yd(t){return{providers:t.providers||[],imports:t.imports||[]}}function em(t){return yG(t,c_)}function lE(t){return em(t)!==null}function yG(t,e){return t.hasOwnProperty(e)&&t[e]||null}function _G(t){let e=t?.[c_]??null;return e||null}function Kb(t){return t&&t.hasOwnProperty(i_)?t[i_]:null}var c_=Rn({\u0275prov:Rn}),i_=Rn({\u0275inj:Rn}),xt=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=dt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cE(t){return t&&!!t.\u0275providers}var uE=Rn({\u0275cmp:Rn}),hE=Rn({\u0275dir:Rn}),fE=Rn({\u0275pipe:Rn}),dE=Rn({\u0275mod:Rn}),Kg=Rn({\u0275fac:Rn}),Sh=Rn({__NG_ELEMENT_ID__:Rn}),x3=Rn({__NG_ENV_ID__:Rn});function u_(t){return typeof t=="string"?t:t==null?"":String(t)}function E3(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():u_(t)}var S3=Rn({ngErrorCode:Rn}),vG=Rn({ngErrorMessage:Rn}),wG=Rn({ngTokenPath:Rn});function pE(t,e){return C3("",-200,e)}function h_(t,e){throw new ht(-201,!1)}function C3(t,e,n){let r=new ht(e,t);return r[S3]=e,r[vG]=t,n&&(r[wG]=n),r}function xG(t){return t[S3]}var Jb;function I3(){return Jb}function is(t){let e=Jb;return Jb=t,e}function gE(t,e,n){let r=em(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;h_(t,"Injector")}var bG={},vh=bG,EG="__NG_DI_FLAG__",Qb=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=wh(n)||0;try{return this.injector.get(e,r&8?null:vh,r)}catch(i){if(Qf(i))return i;throw i}}};function SG(t,e=0){let n=Iy();if(n===void 0)throw new ht(-203,!1);if(n===null)return gE(t,void 0,e);{let r=CG(e),i=n.retrieve(t,r);if(Qf(i)){if(r.optional)return null;throw i}return i}}function Zt(t,e=0){return(I3()||SG)(So(t),e)}function Le(t,e){return Zt(t,wh(e))}function wh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function CG(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function eE(t){let e=[];for(let n=0;n<t.length;n++){let r=So(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ht(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=IG(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Zt(i,o))}else e.push(Zt(r))}return e}function IG(t){return t[EG]}function xh(t,e){let n=t.hasOwnProperty(Kg);return n?t[Kg]:null}function D3(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function A3(t){return t.flat(Number.POSITIVE_INFINITY)}function f_(t,e){t.forEach(n=>Array.isArray(n)?f_(n,e):e(n))}function mE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function M3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function T3(t,e,n){let r=_d(t,e);return r>=0?t[r|1]=n:(r=~r,M3(t,r,e,n)),r}function d_(t,e){let n=_d(t,e);if(n>=0)return t[n|1]}function _d(t,e){return DG(t,e,1)}function DG(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ch={},Rs=[],Gl=new xt(""),yE=new xt("",-1),_E=new xt(""),Jg=class{get(e,n=vh){if(n===vh){let i=C3("",-201);throw i.name="\u0275NotFound",i}return n}};function vE(t){return t[dE]||null}function Jc(t){return t[uE]||null}function wE(t){return t[hE]||null}function N3(t){return t[fE]||null}function Ih(t){return{\u0275providers:t}}function R3(t){return Ih([{provide:Gl,multi:!0,useValue:t}])}function P3(...t){return{\u0275providers:xE(!0,t),\u0275fromNgModule:!0}}function xE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return f_(e,s=>{let a=s;o_(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&L3(i,o),n}function L3(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];bE(i,o=>{e(o,r)})}}function o_(t,e,n,r){if(t=So(t),!t)return!1;let i=null,o=Kb(t),s=!o&&Jc(t);if(!o&&!s){let l=t.ngModule;if(o=Kb(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)o_(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{f_(o.imports,u=>{o_(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&L3(c,e)}if(!a){let c=xh(i)||(()=>new i);e({provide:i,useFactory:c,deps:Rs},i),e({provide:_E,useValue:i,multi:!0},i),e({provide:Gl,useValue:()=>Zt(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;bE(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function bE(t,e){for(let n of t)cE(n)&&(n=n.\u0275providers),Array.isArray(n)?bE(n,e):e(n)}var AG=Rn({provide:String,useValue:Rn});function k3(t){return t!==null&&typeof t=="object"&&AG in t}function MG(t){return!!(t&&t.useExisting)}function TG(t){return!!(t&&t.useFactory)}function s_(t){return typeof t=="function"}var nm=new xt(""),r_={},b3={},Xb;function rm(){return Xb===void 0&&(Xb=new Jg),Xb}var Ai=class{},bh=class extends Ai{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,nE(e,s=>this.processProvider(s)),this.records.set(yE,md(void 0,this)),i.has("environment")&&this.records.set(Ai,md(void 0,this));let o=this.records.get(nm);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_E,Rs,{self:!0}))}retrieve(e,n){let r=wh(n)||0;try{return this.get(e,vh,r)}catch(i){if(Qf(i))return i;throw i}}destroy(){Xg(this),this._destroyed=!0;let e=Ft(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ft(e)}}onDestroy(e){return Xg(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Xg(this);let n=za(this),r=is(void 0),i;try{return e()}finally{za(n),is(r)}}get(e,n=vh,r){if(Xg(this),e.hasOwnProperty(x3))return e[x3](this);let i=wh(r),o,s=za(this),a=is(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let u=kG(e)&&em(e);u&&this.injectableDefInScope(u)?c=md(tE(e),r_):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?rm():this.parent;return n=i&8&&n===vh?null:n,l.get(e,n)}catch(l){let c=xG(l);throw c===-200||c===-201?new ht(c,null):l}finally{is(a),za(s)}}resolveInjectorInitializers(){let e=Ft(null),n=za(this),r=is(void 0),i;try{let o=this.get(Gl,Rs,{self:!0});for(let s of o)s()}finally{za(n),is(r),Ft(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Bl(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=So(e);let n=s_(e)?e:So(e&&e.provide),r=RG(e);if(!s_(e)&&e.multi===!0){let i=this.records.get(n);i||(i=md(void 0,r_,!0),i.factory=()=>eE(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Ft(null);try{if(n.value===b3)throw pE(Bl(e));return n.value===r_&&(n.value=b3,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&LG(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ft(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=So(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function tE(t){let e=em(t),n=e!==null?e.factory:xh(t);if(n!==null)return n;if(t instanceof xt)throw new ht(204,!1);if(t instanceof Function)return NG(t);throw new ht(204,!1)}function NG(t){if(t.length>0)throw new ht(204,!1);let n=_G(t);return n!==null?()=>n.factory(t):()=>new t}function RG(t){if(k3(t))return md(void 0,t.useValue);{let e=O3(t);return md(e,r_)}}function O3(t,e,n){let r;if(s_(t)){let i=So(t);return xh(i)||tE(i)}else if(k3(t))r=()=>So(t.useValue);else if(TG(t))r=()=>t.useFactory(...eE(t.deps||[]));else if(MG(t))r=(i,o)=>Zt(So(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=So(t&&(t.useClass||t.provide));if(PG(t))r=()=>new i(...eE(t.deps));else return xh(i)||tE(i)}return r}function Xg(t){if(t.destroyed)throw new ht(205,!1)}function md(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PG(t){return!!t.deps}function LG(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kG(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function nE(t,e){for(let n of t)Array.isArray(n)?nE(n,e):n&&cE(n)?nE(n.\u0275providers,e):e(n)}function co(t,e){let n;t instanceof bh?(Xg(t),n=t):n=new Qb(t);let r,i=za(n),o=is(void 0);try{return e()}finally{za(i),is(o)}}function F3(){return I3()!==void 0||Iy()!=null}var ca=0,Nt=1,Dt=2,hi=3,Ls=4,ks=5,im=6,vd=7,zi=8,Qc=9,Va=10,Kr=11,wd=12,EE=13,Dh=14,Os=15,eu=16,Ah=17,Ha=18,om=19,SE=20,jl=21,p_=22,zl=23,os=24,g_=25,sm=26,uo=27,j3=1;var tu=7,am=8,Mh=9,ho=10;function qa(t){return Array.isArray(t)&&typeof t[j3]=="object"}function ua(t){return Array.isArray(t)&&t[j3]===!0}function CE(t){return(t.flags&4)!==0}function nu(t){return t.componentOffset>-1}function lm(t){return(t.flags&1)===1}function Th(t){return!!t.template}function xd(t){return(t[Dt]&512)!==0}function Nh(t){return(t[Dt]&256)===256}var IE="svg",B3="math";function Fs(t){for(;Array.isArray(t);)t=t[ca];return t}function DE(t,e){return Fs(e[t])}function Wa(t,e){return Fs(e[t.index])}function m_(t,e){return t.data[e]}function U3(t,e){return t[e]}function js(t,e){let n=e[t];return qa(n)?n:n[ca]}function G3(t){return(t[Dt]&4)===4}function y_(t){return(t[Dt]&128)===128}function z3(t){return ua(t[hi])}function Rh(t,e){return e==null?null:t[e]}function AE(t){t[Ah]=0}function ME(t){t[Dt]&1024||(t[Dt]|=1024,y_(t)&&Ph(t))}function V3(t,e){for(;t>0;)e=e[Dh],t--;return e}function cm(t){return!!(t[Dt]&9216||t[os]?.dirty)}function __(t){t[Va].changeDetectionScheduler?.notify(8),t[Dt]&64&&(t[Dt]|=1024),cm(t)&&Ph(t)}function Ph(t){t[Va].changeDetectionScheduler?.notify(0);let e=Kc(t);for(;e!==null&&!(e[Dt]&8192||(e[Dt]|=8192,!y_(e)));)e=Kc(e)}function TE(t,e){if(Nh(t))throw new ht(911,!1);t[jl]===null&&(t[jl]=[]),t[jl].push(e)}function H3(t,e){if(t[jl]===null)return;let n=t[jl].indexOf(e);n!==-1&&t[jl].splice(n,1)}function Kc(t){let e=t[hi];return ua(e)?e[hi]:e}function NE(t){return t[vd]??=[]}function RE(t){return t.cleanup??=[]}function q3(t,e,n,r){let i=NE(e);i.push(n),t.firstCreatePass&&RE(t).push(r,i.length-1)}var Xt={lFrame:o4(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rE=!1;function W3(){return Xt.lFrame.elementDepthCount}function $3(){Xt.lFrame.elementDepthCount++}function PE(){Xt.lFrame.elementDepthCount--}function LE(){return Xt.bindingsEnabled}function Y3(){return Xt.skipHydrationRootTNode!==null}function kE(t){return Xt.skipHydrationRootTNode===t}function OE(){Xt.skipHydrationRootTNode=null}function Wn(){return Xt.lFrame.lView}function $a(){return Xt.lFrame.tView}function fr(t){return Xt.lFrame.contextLView=t,t[zi]}function dr(t){return Xt.lFrame.contextLView=null,t}function Co(){let t=FE();for(;t!==null&&t.type===64;)t=t.parent;return t}function FE(){return Xt.lFrame.currentTNode}function Z3(){let t=Xt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function bd(t,e){let n=Xt.lFrame;n.currentTNode=t,n.isParent=e}function jE(){return Xt.lFrame.isParent}function X3(){Xt.lFrame.isParent=!1}function K3(){return Xt.lFrame.contextLView}function BE(){return rE}function Ed(t){let e=rE;return rE=t,e}function J3(t){return Xt.lFrame.bindingIndex=t}function UE(){return Xt.lFrame.bindingIndex++}function Q3(t){let e=Xt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function e4(){return Xt.lFrame.inI18n}function t4(t,e){let n=Xt.lFrame;n.bindingIndex=n.bindingRootIndex=t,v_(e)}function n4(){return Xt.lFrame.currentDirectiveIndex}function v_(t){Xt.lFrame.currentDirectiveIndex=t}function r4(t){let e=Xt.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function GE(){return Xt.lFrame.currentQueryIndex}function w_(t){Xt.lFrame.currentQueryIndex=t}function OG(t){let e=t[Nt];return e.type===2?e.declTNode:e.type===1?t[ks]:null}function zE(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=OG(o),i===null||(o=o[Dh],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Xt.lFrame=i4();return r.currentTNode=e,r.lView=t,!0}function x_(t){let e=i4(),n=t[Nt];Xt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function i4(){let t=Xt.lFrame,e=t===null?null:t.child;return e===null?o4(t):e}function o4(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function s4(){let t=Xt.lFrame;return Xt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var VE=s4;function b_(){let t=s4();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function a4(t){return(Xt.lFrame.contextLView=V3(t,Xt.lFrame.contextLView))[zi]}function Lh(){return Xt.lFrame.selectedIndex}function ru(t){Xt.lFrame.selectedIndex=t}function l4(){let t=Xt.lFrame;return m_(t.tView,t.selectedIndex)}function Fr(){Xt.lFrame.currentNamespace=IE}function Io(){FG()}function FG(){Xt.lFrame.currentNamespace=null}function c4(){return Xt.lFrame.currentNamespace}var u4=!0;function E_(){return u4}function S_(t){u4=t}function iE(t,e=null,n=null,r){let i=HE(t,e,n,r);return i.resolveInjectorInitializers(),i}function HE(t,e=null,n=null,r,i=new Set){let o=[n||Rs,P3(t)];return r=r||(typeof t=="object"?void 0:Bl(t)),new bh(o,e||rm(),r||null,i)}var Ps=class t{static THROW_IF_NOT_FOUND=vh;static NULL=new Jg;static create(e,n){if(Array.isArray(e))return iE({name:""},n,e,"");{let r=e.name??"";return iE({name:r},e.parent,e.providers,r)}}static \u0275prov=dt({token:t,providedIn:"any",factory:()=>Zt(yE)});static __NG_ELEMENT_ID__=-1},fi=new xt(""),Vl=(()=>{class t{static __NG_ELEMENT_ID__=jG;static __NG_ENV_ID__=n=>n}return t})(),Qg=class extends Vl{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Nh(this._lView)}onDestroy(e){let n=this._lView;return TE(n,e),()=>H3(n,e)}};function jG(){return new Qg(Wn())}var la=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ss=new xt("",{providedIn:"root",factory:()=>{let t=Le(Ai),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(la),e.handleError(n))}}}),h4={provide:Gl,useValue:()=>void Le(la),multi:!0},BG=new xt("",{providedIn:"root",factory:()=>{let t=Le(fi).defaultView;if(!t)return;let e=Le(ss),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),Le(Vl).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function qE(){return Ih([R3(()=>void Le(BG))])}function or(t,e){let[n,r,i]=kb(t,e?.equal),o=n,s=o[lo];return o.set=r,o.update=i,o.asReadonly=WE.bind(o),o}function WE(){let t=this[lo];if(t.readonlyFn===void 0){let e=()=>this();e[lo]=t,t.readonlyFn=e}return t.readonlyFn}var um=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=UG}return t})();function UG(){return new um(Wn(),Co())}var Ul=class{},hm=new xt("",{providedIn:"root",factory:()=>!1});var $E=new xt(""),YE=new xt(""),Hl=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Di(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new wn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=dt({token:t,providedIn:"root",factory:()=>new t})}return t})();function kh(...t){}var fm=(()=>{class t{static \u0275prov=dt({token:t,providedIn:"root",factory:()=>new oE})}return t})(),oE=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function vm(t){return{toString:t}.toString()}function YG(t){return typeof t=="function"}var T_=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function H4(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var W_=(()=>{let t=()=>q4;return t.ngInherit=!0,t})();function q4(t){return t.type.prototype.ngOnChanges&&(t.setInput=XG),ZG}function ZG(){let t=$4(this),e=t?.current;if(e){let n=t.previous;if(n===Ch)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function XG(t,e,n,r,i){let o=this.declaredInputs[r],s=$4(t)||KG(t,{previous:Ch,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new T_(c&&c.currentValue,n,l===Ch),H4(t,e,i,n)}var W4="__ngSimpleChanges__";function $4(t){return t[W4]||null}function KG(t,e){return t[W4]=e}var f4=[];var $n=function(t,e=null,n){for(let r=0;r<f4.length;r++){let i=f4[r];i(t,e,n)}};function JG(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=q4(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Y4(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function I_(t,e,n){Z4(t,e,3,n)}function D_(t,e,n,r){(t[Dt]&3)===n&&Z4(t,e,n,r)}function ZE(t,e){let n=t[Dt];(n&3)===e&&(n&=16383,n+=1,t[Dt]=n)}function Z4(t,e,n,r){let i=r!==void 0?t[Ah]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Ah]+=65536),(a<o||o==-1)&&(QG(t,n,e,l),t[Ah]=(t[Ah]&4294901760)+l+2),l++}function d4(t,e){$n(4,t,e);let n=Ft(null);try{e.call(t)}finally{Ft(n),$n(5,t,e)}}function QG(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Dt]>>14<t[Ah]>>16&&(t[Dt]&3)===e&&(t[Dt]+=16384,d4(a,o)):d4(a,o)}var Cd=-1,gm=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function ez(t){return(t.flags&8)!==0}function tz(t){return(t.flags&16)!==0}function nz(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];iz(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function rz(t){return t===3||t===4||t===6}function iz(t){return t.charCodeAt(0)===64}function $_(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?p4(t,n,i,null,e[++r]):p4(t,n,i,null,null))}}return t}function p4(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function X4(t){return t!==Cd}function N_(t){return t&32767}function oz(t){return t>>16}function R_(t,e){let n=oz(t),r=e;for(;n>0;)r=r[Dh],n--;return r}var n5=!0;function g4(t){let e=n5;return n5=t,e}var sz=256,K4=sz-1,J4=5,az=0,Ya={};function lz(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sh)&&(r=n[Sh]),r==null&&(r=n[Sh]=az++);let i=r&K4,o=1<<i;e.data[t+(i>>J4)]|=o}function Q4(t,e){let n=eR(t,e);if(n!==-1)return n;let r=e[Nt];r.firstCreatePass&&(t.injectorIndex=e.length,XE(r.data,t),XE(e,null),XE(r.blueprint,null));let i=S5(t,e),o=t.injectorIndex;if(X4(i)){let s=N_(i),a=R_(i,e),l=a[Nt].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function XE(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eR(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function S5(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=oR(i),r===null)return Cd;if(n++,i=i[Dh],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Cd}function cz(t,e,n){lz(t,e,n)}function tR(t,e,n){if(n&8||t!==void 0)return t;h_(e,"NodeInjector")}function nR(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Qc],o=is(void 0);try{return i?i.get(e,r,n&8):gE(e,r,n&8)}finally{is(o)}}return tR(r,e,n)}function rR(t,e,n,r=0,i){if(t!==null){if(e[Dt]&2048&&!(r&2)){let s=dz(t,e,n,r,Ya);if(s!==Ya)return s}let o=iR(t,e,n,r,Ya);if(o!==Ya)return o}return nR(e,n,r,i)}function iR(t,e,n,r,i){let o=hz(n);if(typeof o=="function"){if(!zE(e,t,r))return r&1?tR(i,n,r):nR(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))h_(n);else return s}finally{VE()}}else if(typeof o=="number"){let s=null,a=eR(t,e),l=Cd,c=r&1?e[Os][ks]:null;for((a===-1||r&4)&&(l=a===-1?S5(t,e):e[a+8],l===Cd||!y4(r,!1)?a=-1:(s=e[Nt],a=N_(l),e=R_(l,e)));a!==-1;){let u=e[Nt];if(m4(o,a,u.data)){let f=uz(a,e,n,s,r,c);if(f!==Ya)return f}l=e[a+8],l!==Cd&&y4(r,e[Nt].data[a+8]===c)&&m4(o,a,e)?(s=u,a=N_(l),e=R_(l,e)):a=-1}}return i}function uz(t,e,n,r,i,o){let s=e[Nt],a=s.data[t+8],l=r==null?nu(a)&&n5:r!=s&&(a.type&3)!==0,c=i&1&&o===a,u=A_(a,s,n,l,c);return u!==null?P_(e,s,u,a,i):Ya}function A_(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,f=r?a:a+u,d=i?a+u:c;for(let h=f;h<d;h++){let g=s[h];if(h<l&&n===g||h>=l&&g.type===n)return h}if(i){let h=s[l];if(h&&Th(h)&&h.type===n)return l}return null}function P_(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof gm){let a=o;if(a.resolving){let h=E3(s[n]);throw pE(h)}let l=g4(a.canSeeViewProviders);a.resolving=!0;let c=s[n].type||s[n],u,f=a.injectImpl?is(a.injectImpl):null,d=zE(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&JG(n,s[n],e)}finally{f!==null&&is(f),g4(l),a.resolving=!1,VE()}}return o}function hz(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Sh)?t[Sh]:void 0;return typeof e=="number"?e>=0?e&K4:fz:e}function m4(t,e,n){let r=1<<t;return!!(n[e+(t>>J4)]&r)}function y4(t,e){return!(t&2)&&!(t&1&&e)}var Oh=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rR(this._tNode,this._lView,e,wh(r),n)}};function fz(){return new Oh(Co(),Wn())}function Y_(t){return vm(()=>{let e=t.prototype.constructor,n=e[Kg]||r5(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Kg]||r5(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function r5(t){return aE(t)?()=>{let e=r5(So(t));return e&&e()}:xh(t)}function dz(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Dt]&2048&&!xd(s);){let a=iR(o,s,n,r|2,Ya);if(a!==Ya)return a;let l=o.parent;if(!l){let c=s[SE];if(c){let u=c.get(n,Ya,r);if(u!==Ya)return u}l=oR(s),s=s[Dh]}o=l}return i}function oR(t){let e=t[Nt],n=e.type;return n===2?e.declTNode:n===1?t[ks]:null}function pz(){return Td(Co(),Wn())}function Td(t,e){return new as(Wa(t,e))}var as=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=pz}return t})();function gz(t){return t instanceof as?t.nativeElement:t}function mz(){return this._results[Symbol.iterator]()}var L_=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new li}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=A3(e);(this._changesDetected=!D3(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=mz};function sR(t){return(t.flags&128)===128}var C5=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(C5||{}),aR=new Map,yz=0;function _z(){return yz++}function vz(t){aR.set(t[om],t)}function i5(t){aR.delete(t[om])}var _4="__ngContext__";function Id(t,e){qa(e)?(t[_4]=e[om],vz(e)):t[_4]=e}function lR(t){return uR(t[wd])}function cR(t){return uR(t[Ls])}function uR(t){for(;t!==null&&!ua(t);)t=t[Ls];return t}var o5;function I5(t){o5=t}function hR(){if(o5!==void 0)return o5;if(typeof document<"u")return document;throw new ht(210,!1)}var Z_=new xt("",{providedIn:"root",factory:()=>wz}),wz="ng",X_=new xt(""),wm=new xt("",{providedIn:"platform",factory:()=>"unknown"});var K_=new xt("",{providedIn:"root",factory:()=>hR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xz="h",bz="b";var fR=!1,dR=new xt("",{providedIn:"root",factory:()=>fR});var Ez=(t,e,n,r)=>{};function Sz(t,e,n,r){Ez(t,e,n,r)}function D5(t){return(t.flags&32)===32}var Cz=()=>null;function pR(t,e,n=!1){return Cz(t,e,n)}function gR(t,e){let n=t.contentQueries;if(n!==null){let r=Ft(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];w_(o),a.contentQueries(2,e[s],s)}}}finally{Ft(r)}}}function s5(t,e,n){w_(0);let r=Ft(null);try{e(t,n)}finally{Ft(r)}}function mR(t,e,n){if(CE(e)){let r=Ft(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Ft(r)}}}var ql=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(ql||{});var k_=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${a_})`}};function A5(t){return t instanceof k_?t.changingThisBreaksApplicationSecurity:t}function yR(t,e){let n=_R(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${a_})`)}return n===e}function _R(t){return t instanceof k_&&t.getTypeName()||null}var Iz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vR(t){return t=String(t),t.match(Iz)?t:"unsafe:"+t}function Dz(t,e){return t.createText(e)}function Az(t,e,n){t.setValue(e,n)}function wR(t,e,n){return t.createElement(e,n)}function O_(t,e,n,r,i){t.insertBefore(e,n,r,i)}function xR(t,e,n){t.appendChild(e,n)}function v4(t,e,n,r,i){r!==null?O_(t,e,n,r,i):xR(t,e,n)}function Mz(t,e,n,r){t.removeChild(null,e,n,r)}function Tz(t,e,n){t.setAttribute(e,"style",n)}function Nz(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bR(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&nz(t,e,r),i!==null&&Nz(t,e,i),o!==null&&Tz(t,e,o)}var M5=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(M5||{});function T5(t){let e=Rz();return e?e.sanitize(M5.URL,t)||"":yR(t,"URL")?A5(t):vR(u_(t))}function Rz(){let t=Wn();return t&&t[Va].sanitizer}function Uh(t){return t.ownerDocument}function ER(t){return t instanceof Function?t():t}function Pz(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var SR="ng-template";function Lz(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Pz(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(N5(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function N5(t){return t.type===4&&t.value!==SR}function kz(t,e,n){let r=t.type===4&&!n?SR:t.value;return e===r}function Oz(t,e,n){let r=4,i=t.attrs,o=i!==null?Bz(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!ha(r)&&!ha(l))return!1;if(s&&ha(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!kz(t,l,n)||l===""&&e.length===1){if(ha(r))return!1;s=!0}}else if(r&8){if(i===null||!Lz(t,i,l,n)){if(ha(r))return!1;s=!0}}else{let c=e[++a],u=Fz(l,i,N5(t),n);if(u===-1){if(ha(r))return!1;s=!0;continue}if(c!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(ha(r))return!1;s=!0}}}}return ha(r)||s}function ha(t){return(t&1)===0}function Fz(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Uz(e,t)}function jz(t,e,n=!1){for(let r=0;r<e.length;r++)if(Oz(t,e[r],n))return!0;return!1}function Bz(t){for(let e=0;e<t.length;e++){let n=t[e];if(rz(n))return e}return t.length}function Uz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function w4(t,e){return t?":not("+e.trim()+")":e}function Gz(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ha(s)&&(e+=w4(o,i),i=""),r=s,o=o||!ha(r);n++}return i!==""&&(e+=w4(o,i)),e}function zz(t){return t.map(Gz).join(",")}function Vz(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!ha(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var su={};function R5(t,e,n,r,i,o,s,a,l,c,u){let f=uo+r,d=f+i,h=Hz(f,d),g=typeof c=="function"?c():c;return h[Nt]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function Hz(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:su);return n}function qz(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=R5(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function P5(t,e,n,r,i,o,s,a,l,c,u){let f=e.blueprint.slice();return f[ca]=i,f[Dt]=r|4|128|8|64|1024,(c!==null||t&&t[Dt]&2048)&&(f[Dt]|=2048),AE(f),f[hi]=f[Dh]=t,f[zi]=n,f[Va]=s||t&&t[Va],f[Kr]=a||t&&t[Kr],f[Qc]=l||t&&t[Qc]||null,f[ks]=o,f[om]=_z(),f[im]=u,f[SE]=c,f[Os]=e.type==2?t[Os]:f,f}function Wz(t,e,n){let r=Wa(e,t),i=qz(n),o=t[Va].rendererFactory,s=L5(t,P5(t,i,null,CR(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function CR(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function IR(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function L5(t,e){return t[wd]?t[EE][Ls]=e:t[wd]=e,t[EE]=e,e}function xn(t=1){DR($a(),Wn(),Lh()+t,!1)}function DR(t,e,n,r){if(!r)if((e[Dt]&3)===3){let o=t.preOrderCheckHooks;o!==null&&I_(e,o,n)}else{let o=t.preOrderHooks;o!==null&&D_(e,o,0,n)}ru(n)}var J_=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(J_||{});function a5(t,e,n,r){let i=Ft(null);try{let[o,s,a]=t.inputs[n],l=null;(s&J_.SignalBased)!==0&&(l=e[o][lo]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):H4(e,l,o,r)}finally{Ft(i)}}var Za=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Za||{}),$z;function k5(t,e){return $z(t,e)}var Dd=new Set,O5=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(O5||{}),xm=new xt(""),x4=new Set;function Q_(t){x4.has(t)||(x4.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var AR=!1,l5=class extends li{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,F3()&&(this.destroyRef=Le(Vl,{optional:!0})??void 0,this.pendingTasks=Le(Hl,{optional:!0})??void 0)}emit(e){let n=Ft(null);try{super.next(e)}finally{Ft(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof kr&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},fo=l5;function MR(t){let e,n;function r(){t=kh;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function b4(t){return queueMicrotask(()=>t()),()=>{t=kh}}var F5="isAngularZone",F_=F5+"_ID",Yz=0,Jr=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fo(!1);onMicrotaskEmpty=new fo(!1);onStable=new fo(!1);onError=new fo(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=AR}=e;if(typeof Zone>"u")throw new ht(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Kz(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(F5)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ht(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ht(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Zz,kh,kh);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Zz={};function j5(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xz(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){MR(()=>{t.callbackScheduled=!1,c5(t),t.isCheckStableRunning=!0,j5(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),c5(t)}function Kz(t){let e=()=>{Xz(t)},n=Yz++;t._inner=t._inner.fork({name:"angular",properties:{[F5]:!0,[F_]:n,[F_+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Jz(l))return r.invokeTask(o,s,a,l);try{return E4(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),S4(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return E4(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Qz(l)&&e(),S4(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,c5(t),j5(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function c5(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function E4(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function S4(t){t._nesting--,j5(t)}var j_=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fo;onMicrotaskEmpty=new fo;onStable=new fo;onError=new fo;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Jz(t){return TR(t,"__ignore_ng_zone__")}function Qz(t){return TR(t,"__scheduler_tick__")}function TR(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var NR=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=dt({token:t,providedIn:"root",factory:()=>new t})}return t})();var eV=new xt("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function RR(t,e,n){let r=t.get(eV);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function tV(t,e){for(let[n,r]of e)RR(t,r.animateFns)}function C4(t,e,n,r){let i=t?.[sm]?.enter;e!==null&&i&&i.has(n.index)&&tV(r,i)}function Sd(t,e,n,r,i,o,s,a){if(i!=null){let l,c=!1;ua(i)?l=i:qa(i)&&(c=!0,i=i[ca]);let u=Fs(i);t===0&&r!==null?(C4(a,r,o,n),s==null?xR(e,r,u):O_(e,r,u,s||null,!0)):t===1&&r!==null?(C4(a,r,o,n),O_(e,r,u,s||null,!0)):t===2?I4(a,o,n,f=>{Mz(e,u,c,f)}):t===3&&I4(a,o,n,()=>{e.destroyNode(u)}),l!=null&&pV(e,t,n,l,o,r,s)}}function nV(t,e){PR(t,e),e[ca]=null,e[ks]=null}function rV(t,e,n,r,i,o){r[ca]=i,r[ks]=e,ev(t,r,n,1,i,o)}function PR(t,e){e[Va].changeDetectionScheduler?.notify(9),ev(t,e,e[Kr],2,null,null)}function iV(t){let e=t[wd];if(!e)return KE(t[Nt],t);for(;e;){let n=null;if(qa(e))n=e[wd];else{let r=e[ho];r&&(n=r)}if(!n){for(;e&&!e[Ls]&&e!==t;)qa(e)&&KE(e[Nt],e),e=e[hi];e===null&&(e=t),qa(e)&&KE(e[Nt],e),n=e&&e[Ls]}e=n}}function B5(t,e){let n=t[Mh],r=n.indexOf(e);n.splice(r,1)}function LR(t,e){if(Nh(e))return;let n=e[Kr];n.destroyNode&&ev(t,e,n,3,null,null),iV(e)}function KE(t,e){if(Nh(e))return;let n=Ft(null);try{e[Dt]&=-129,e[Dt]|=256,e[os]&&gh(e[os]),aV(t,e),sV(t,e),e[Nt].type===1&&e[Kr].destroy();let r=e[eu];if(r!==null&&ua(e[hi])){r!==e[hi]&&B5(r,e);let i=e[Ha];i!==null&&i.detachView(t)}i5(e)}finally{Ft(n)}}function I4(t,e,n,r){let i=t?.[sm];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Dd.add(t),RR(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:u}=c();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),oV(t,r)}else t&&Dd.delete(t),r(!1)},i)}function oV(t,e){let n=t[sm]?.running;if(n){n.then(()=>{t[sm].running=void 0,Dd.delete(t),e(!0)});return}e(!1)}function sV(t,e){let n=t.cleanup,r=e[vd];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[vd]=null);let i=e[jl];if(i!==null){e[jl]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[zl];if(o!==null){e[zl]=null;for(let s of o)s.destroy()}}function aV(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof gm)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];$n(4,a,l);try{l.call(a)}finally{$n(5,a,l)}}else{$n(4,i,o);try{o.call(i)}finally{$n(5,i,o)}}}}}function lV(t,e,n){return cV(t,e.parent,n)}function cV(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ca];if(nu(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ql.None||i===ql.Emulated)return null}return Wa(r,n)}function uV(t,e,n){return fV(t,e,n)}function hV(t,e,n){return t.type&40?Wa(t,n):null}var fV=hV,D4;function U5(t,e,n,r){let i=lV(t,r,e),o=e[Kr],s=r.parent||e[ks],a=uV(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)v4(o,i,n[l],a,!1);else v4(o,i,n,a,!1);D4!==void 0&&D4(o,r,e,n,i)}function dm(t,e){if(e!==null){let n=e.type;if(n&3)return Wa(e,t);if(n&4)return u5(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return dm(t,r);{let i=t[e.index];return ua(i)?u5(-1,i):Fs(i)}}else{if(n&128)return dm(t,e.next);if(n&32)return k5(e,t)()||Fs(t[e.index]);{let r=kR(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Kc(t[Os]);return dm(i,r)}else return dm(t,e.next)}}}return null}function kR(t,e){if(e!==null){let r=t[Os][ks],i=e.projection;return r.projection[i]}return null}function u5(t,e){let n=ho+t+1;if(n<e.length){let r=e[n],i=r[Nt].firstChild;if(i!==null)return dm(r,i)}return e[tu]}function G5(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Qc];if(n.type===128){n=n.next;continue}let l=r[n.index],c=n.type;if(s&&e===0&&(l&&Id(Fs(l),r),n.flags|=2),!D5(n))if(c&8)G5(t,e,n.child,r,i,o,!1),Sd(e,t,a,i,l,n,o,r);else if(c&32){let u=k5(n,r),f;for(;f=u();)Sd(e,t,a,i,f,n,o,r);Sd(e,t,a,i,l,n,o,r)}else c&16?dV(t,e,r,n,i,o):Sd(e,t,a,i,l,n,o,r);n=s?n.projectionNext:n.next}}function ev(t,e,n,r,i,o){G5(n,r,t.firstChild,e,i,o,!1)}function dV(t,e,n,r,i,o){let s=n[Os],l=s[ks].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Sd(e,t,n[Qc],i,u,r,o,n)}else{let c=l,u=s[hi];sR(r)&&(c.flags|=128),G5(t,e,c,u,i,o,!0)}}function pV(t,e,n,r,i,o,s){let a=r[tu],l=Fs(r);a!==l&&Sd(e,t,n,o,a,i,s);for(let c=ho;c<r.length;c++){let u=r[c];ev(u[Nt],u,t,e,o,a)}}function gV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Za.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Za.Important),t.setStyle(n,r,i,o))}}function OR(t,e,n,r,i){let o=Lh(),s=r&2;try{ru(-1),s&&e.length>uo&&DR(t,e,uo,!1),$n(s?2:0,i,n),n(r,i)}finally{ru(o),$n(s?3:1,i,n)}}function z5(t,e,n){EV(t,e,n),(n.flags&64)===64&&SV(t,e,n)}function V5(t,e,n=Wa){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function mV(t,e,n,r){let o=r.get(dR,fR)||n===ql.ShadowDom,s=t.selectRootElement(e,o);return yV(s),s}function yV(t){_V(t)}var _V=()=>null;function vV(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function wV(t,e,n,r,i,o){let s=e[Nt];if(H5(t,s,e,n,r)){nu(t)&&bV(e,t.index);return}t.type&3&&(n=vV(n)),xV(t,e,n,r,i,o)}function xV(t,e,n,r,i,o){if(t.type&3){let s=Wa(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function bV(t,e){let n=js(e,t);n[Dt]&16||(n[Dt]|=64)}function EV(t,e,n){let r=n.directiveStart,i=n.directiveEnd;nu(n)&&Wz(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Q4(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=P_(e,t,s,n);if(Id(l,e),o!==null&&IV(e,s-r,l,a,n,o),Th(a)){let c=js(n.index,e);c[zi]=P_(e,t,s,n)}}}function SV(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=n4();try{ru(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];v_(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&CV(l,c)}}finally{ru(-1),v_(s)}}function CV(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function FR(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];jz(e,o.selectors,!1)&&(r??=[],Th(o)?r.unshift(o):r.push(o))}return r}function IV(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];a5(r,n,l,c)}}function jR(t,e,n,r,i){let o=uo+n,s=e[Nt],a=i(s,e,t,r,n);e[o]=a,bd(t,!0);let l=t.type===2;return l?(bR(e[Kr],a,t),(W3()===0||lm(t))&&Id(a,e),$3()):Id(a,e),E_()&&(!l||!D5(t))&&U5(s,e,a,t),t}function BR(t){let e=t;return jE()?X3():(e=e.parent,bd(e,!1)),e}function DV(t,e){let n=t[Qc];if(!n)return;let r;try{r=n.get(ss,null)}catch{r=null}r?.(e)}function H5(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],f=e.data[c];a5(f,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=e.data[l];a5(u,c,r,i),a=!0}return a}function AV(t,e){let n=js(e,t),r=n[Nt];MV(r,n);let i=n[ca];i!==null&&n[im]===null&&(n[im]=pR(i,n[Qc])),$n(18),q5(r,n,n[zi]),$n(19,n[zi])}function MV(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function q5(t,e,n){x_(e);try{let r=t.viewQuery;r!==null&&s5(1,r,n);let i=t.template;i!==null&&OR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ha]?.finishViewCreation(t),t.staticContentQueries&&gR(t,e),t.staticViewQueries&&s5(2,t.viewQuery,n);let o=t.components;o!==null&&TV(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Dt]&=-5,b_()}}function TV(t,e){for(let n=0;n<e.length;n++)AV(t,e[n])}function NV(t,e,n,r){let i=Ft(null);try{let o=e.tView,a=t[Dt]&4096?4096:16,l=P5(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[eu]=c;let u=t[Ha];return u!==null&&(l[Ha]=u.createEmbeddedView(o)),q5(o,l,n),l}finally{Ft(i)}}function A4(t,e){return!e||e.firstChild===null||sR(t)}function mm(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Fs(o)),ua(o)&&UR(o,r);let s=n.type;if(s&8)mm(t,e,n.child,r);else if(s&32){let a=k5(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=kR(e,n);if(Array.isArray(a))r.push(...a);else{let l=Kc(e[Os]);mm(l[Nt],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function UR(t,e){for(let n=ho;n<t.length;n++){let r=t[n],i=r[Nt].firstChild;i!==null&&mm(r[Nt],r,i,e)}t[tu]!==t[ca]&&e.push(t[tu])}function GR(t){if(t[g_]!==null){for(let e of t[g_])e.impl.addSequence(e);t[g_].length=0}}var zR=[];function RV(t){return t[os]??PV(t)}function PV(t){let e=zR.pop()??Object.create(kV);return e.lView=t,e}function LV(t){t.lView[os]!==t&&(t.lView=null,zR.push(t))}var kV=fn(Ze({},dh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ph(t.lView)},consumerOnSignalRead(){this.lView[os]=this}});function OV(t){let e=t[os]??Object.create(FV);return e.lView=t,e}var FV=fn(Ze({},dh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Kc(t.lView);for(;e&&!VR(e[Nt]);)e=Kc(e);e&&ME(e)},consumerOnSignalRead(){this.lView[os]=this}});function VR(t){return t.type!==2}function HR(t){if(t[zl]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[zl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Dt]&8192)}}var jV=100;function qR(t,e=0){let r=t[Va].rendererFactory,i=!1;i||r.begin?.();try{BV(t,e)}finally{i||r.end?.()}}function BV(t,e){let n=BE();try{Ed(!0),h5(t,e);let r=0;for(;cm(t);){if(r===jV)throw new ht(103,!1);r++,h5(t,1)}}finally{Ed(n)}}function UV(t,e,n,r){if(Nh(e))return;let i=e[Dt],o=!1,s=!1;x_(e);let a=!0,l=null,c=null;o||(VR(t)?(c=RV(e),l=ph(c)):Ny()===null?(a=!1,c=OV(e),l=ph(c)):e[os]&&(gh(e[os]),e[os]=null));try{AE(e),J3(t.bindingStartIndex),n!==null&&OR(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&I_(e,h,null)}else{let h=t.preOrderHooks;h!==null&&D_(e,h,0,null),ZE(e,0)}if(s||GV(e),HR(e),WR(e,0),t.contentQueries!==null&&gR(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&I_(e,h)}else{let h=t.contentHooks;h!==null&&D_(e,h,1),ZE(e,1)}VV(t,e);let f=t.components;f!==null&&YR(e,f,0);let d=t.viewQuery;if(d!==null&&s5(2,d,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&I_(e,h)}else{let h=t.viewHooks;h!==null&&D_(e,h,2),ZE(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[p_]){for(let h of e[p_])h();e[p_]=null}o||(GR(e),e[Dt]&=-73)}catch(u){throw o||Ph(e),u}finally{c!==null&&(td(c,l),a&&LV(c)),b_()}}function WR(t,e){for(let n=lR(t);n!==null;n=cR(n))for(let r=ho;r<n.length;r++){let i=n[r];$R(i,e)}}function GV(t){for(let e=lR(t);e!==null;e=cR(e)){if(!(e[Dt]&2))continue;let n=e[Mh];for(let r=0;r<n.length;r++){let i=n[r];ME(i)}}}function zV(t,e,n){$n(18);let r=js(e,t);$R(r,n),$n(19,r[zi])}function $R(t,e){y_(t)&&h5(t,e)}function h5(t,e){let r=t[Nt],i=t[Dt],o=t[os],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&nd(o)),s||=!1,o&&(o.dirty=!1),t[Dt]&=-9217,s)UV(r,t,r.template,t[zi]);else if(i&8192){let a=Ft(null);try{HR(t),WR(t,1);let l=r.components;l!==null&&YR(t,l,1),GR(t)}finally{Ft(a)}}}function YR(t,e,n){for(let r=0;r<e.length;r++)zV(t,e[r],n)}function VV(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ru(~i);else{let o=i,s=n[++r],a=n[++r];t4(s,o);let l=e[o];$n(24,l),a(2,l),$n(25,l)}}}finally{ru(-1)}}function W5(t,e){let n=BE()?64:1088;for(t[Va].changeDetectionScheduler?.notify(e);t;){t[Dt]|=n;let r=Kc(t);if(xd(t)&&!r)return t;t=r}return null}function ZR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function HV(t,e,n,r=!0){let i=e[Nt];if(qV(i,e,t,n),r){let s=u5(n,t),a=e[Kr],l=a.parentNode(t[tu]);l!==null&&rV(i,t[ks],a,e,l,s)}let o=e[im];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function f5(t,e){if(t.length<=ho)return;let n=ho+e,r=t[n];if(r){let i=r[eu];i!==null&&i!==t&&B5(i,r),e>0&&(t[n-1][Ls]=r[Ls]);let o=tm(t,ho+e);nV(r[Nt],r);let s=o[Ha];s!==null&&s.detachView(o[Nt]),r[hi]=null,r[Ls]=null,r[Dt]&=-129}return r}function qV(t,e,n,r){let i=ho+r,o=n.length;r>0&&(n[i-1][Ls]=e),r<o-ho?(e[Ls]=n[i],mE(n,ho+r,e)):(n.push(e),e[Ls]=null),e[hi]=n;let s=e[eu];s!==null&&n!==s&&XR(s,e);let a=e[Ha];a!==null&&a.insertView(t),__(e),e[Dt]|=128}function XR(t,e){let n=t[Mh],r=e[hi];if(qa(r))t[Dt]|=2;else{let i=r[hi][Os];e[Os]!==i&&(t[Dt]|=2)}n===null?t[Mh]=[e]:n.push(e)}var iu=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Nt];return mm(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[zi]}set context(e){this._lView[zi]=e}get destroyed(){return Nh(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[hi];if(ua(e)){let n=e[am],r=n?n.indexOf(this):-1;r>-1&&(f5(e,r),tm(n,r))}this._attachedToViewContainer=!1}LR(this._lView[Nt],this._lView)}onDestroy(e){TE(this._lView,e)}markForCheck(){W5(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Dt]&=-129}reattach(){__(this._lView),this._lView[Dt]|=128}detectChanges(){this._lView[Dt]|=1024,qR(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=xd(this._lView),n=this._lView[eu];n!==null&&!e&&B5(n,this._lView),PR(this._lView[Nt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ht(902,!1);this._appRef=e;let n=xd(this._lView),r=this._lView[eu];r!==null&&!n&&XR(r,this._lView),__(this._lView)}};var ou=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=WV;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=NV(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new iu(o)}}return t})();function WV(){return $5(Co(),Wn())}function $5(t,e){return t.type&4?new ou(e,t,Td(t,e)):null}function tv(t,e,n,r,i){let o=t.data[e];if(o===null)o=$V(t,e,n,r,i),e4()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Z3();o.injectorIndex=s===null?-1:s.injectorIndex}return bd(o,!0),o}function $V(t,e,n,r,i){let o=FE(),s=jE(),a=s?o:o&&o.parent,l=t.data[e]=ZV(t,a,n,e,r,i);return YV(t,l,o,s),l}function YV(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function ZV(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Y3()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Bge=new RegExp(`^(\\d+)*(${bz}|${xz})*(.*)`);var XV=()=>null;function M4(t,e){return XV(t,e)}var KR=class{},nv=class{},d5=class{resolveComponentFactory(e){throw new ht(917,!1)}},bm=class{static NULL=new d5},Fh=class{},Y5=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>KV()}return t})();function KV(){let t=Wn(),e=Co(),n=js(e.index,t);return(qa(n)?n:t)[Kr]}var JR=(()=>{class t{static \u0275prov=dt({token:t,providedIn:"root",factory:()=>null})}return t})();var M_={},p5=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,M_,r);return i!==M_||n===M_?i:this.parentInjector.get(e,n,r)}};function B_(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=sE(i,a);else if(o==2){let l=a,c=e[++s];r=sE(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Do(t,e=0){let n=Wn();if(n===null)return Zt(t,e);let r=Co();return rR(r,n,So(t),e)}function QR(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}eH(t,e,n,a,o,l,c)}o!==null&&r!==null&&JV(n,r,o)}function JV(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ht(-301,!1);r.push(e[i],o)}}function QV(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function eH(t,e,n,r,i,o,s){let a=r.length,l=!1;for(let d=0;d<a;d++){let h=r[d];!l&&Th(h)&&(l=!0,QV(t,n,d)),cz(Q4(n,e),t,h.type)}sH(n,t.data.length,a);for(let d=0;d<a;d++){let h=r[d];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,f=IR(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let d=0;d<a;d++){let h=r[d];if(n.mergedAttrs=$_(n.mergedAttrs,h.hostAttrs),nH(t,n,e,f,h),oH(f,h,i),s!==null&&s.has(h)){let[y,_]=s.get(h);n.directiveToIndex.set(h.type,[f,y+n.directiveStart,_+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,f);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}tH(t,n,o)}function tH(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))T4(0,e,i,r),T4(1,e,i,r),R4(e,r,!1);else{let o=n.get(i);N4(0,e,o,r),N4(1,e,o,r),R4(e,r,!0)}}}function T4(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),eP(e,o)}}function N4(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),eP(e,s)}}function eP(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function R4(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||N5(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function nH(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=xh(i.type,!0)),s=new gm(o,Th(i),Do,null);t.blueprint[r]=s,n[r]=s,rH(t,e,r,IR(t,n,i.hostVars,su),i)}function rH(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;iH(s)!=a&&s.push(a),s.push(n,r,o)}}function iH(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function oH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Th(e)&&(n[""]=t)}}function sH(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tP(t,e,n,r,i,o,s,a){let l=e[Nt],c=l.consts,u=Rh(c,s),f=tv(l,t,n,r,u);return o&&QR(l,e,f,Rh(c,a),i),f.mergedAttrs=$_(f.mergedAttrs,f.attrs),f.attrs!==null&&B_(f,f.attrs,!1),f.mergedAttrs!==null&&B_(f,f.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,f),f}function nP(t,e){Y4(t,e),CE(e)&&t.queries.elementEnd(e)}function aH(t,e,n,r,i,o){let s=e.consts,a=Rh(s,i),l=tv(e,t,n,r,a);if(l.mergedAttrs=$_(l.mergedAttrs,l.attrs),o!=null){let c=Rh(s,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&B_(l,l.attrs,!1),l.mergedAttrs!==null&&B_(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Z5(t){return iP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function rP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function iP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function X5(t,e,n){if(n===su)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function JE(t,e,n){return function r(i){let o=nu(t)?js(t.index,e):e;W5(o,5);let s=e[zi],a=P4(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=P4(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function P4(t,e,n,r){let i=Ft(null);try{return $n(6,e,n),n(r)!==!1}catch(o){return DV(t,o),!1}finally{$n(7,e,n),Ft(i)}}function lH(t,e,n,r,i,o,s,a){let l=lm(t),c=!1,u=null;if(!r&&l&&(u=uH(e,n,o,t.index)),u!==null){let f=u.__ngLastListenerFn__||u;f.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let f=Wa(t,n),d=r?r(f):f;Sz(n,d,o,a);let h=i.listen(d,o,a);if(!cH(o)){let g=r?y=>r(Fs(y[t.index])):t.index;oP(g,e,n,o,a,h,!1)}}return c}function cH(t){return t.startsWith("animation")||t.startsWith("transition")}function uH(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[vd],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function oP(t,e,n,r,i,o,s){let a=e.firstCreatePass?RE(e):null,l=NE(n),c=l.length;l.push(i,o),a&&a.push(r,t,c,(c+1)*(s?-1:1))}function L4(t,e,n,r,i,o){let s=e[n],a=e[Nt],c=a.data[n].outputs[r],f=s[c].subscribe(o);oP(t.index,a,e,i,o,f,!0)}var g5=Symbol("BINDING");var U_=class extends bm{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Jc(e);return new Ad(n,this.ngModule)}};function hH(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&J_.SignalBased)!==0};return i&&(o.transform=i),o})}function fH(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function dH(t,e,n){let r=e instanceof Ai?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new p5(n,r):n}function pH(t){let e=t.get(Fh,null);if(e===null)throw new ht(407,!1);let n=t.get(JR,null),r=t.get(Ul,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function gH(t,e){let n=sP(t);return wR(e,n,n==="svg"?IE:n==="math"?B3:null)}function sP(t){return(t.selectors[0][0]||"div").toLowerCase()}var Ad=class extends nv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=hH(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=fH(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=zz(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){$n(22);let a=Ft(null);try{let l=this.componentDef,c=mH(r,l,s,o),u=dH(l,i||this.ngModule,e),f=pH(u),d=f.rendererFactory.createRenderer(null,l),h=r?mV(d,r,l.encapsulation,u):gH(l,d),g=s?.some(k4)||o?.some(v=>typeof v!="function"&&v.bindings.some(k4)),y=P5(null,c,null,512|CR(l),null,null,f,d,u,null,pR(h,u,!0));y[uo]=h,x_(y);let _=null;try{let v=tP(uo,y,2,"#host",()=>c.directiveRegistry,!0,0);bR(d,h,v),Id(h,y),z5(c,y,v),mR(c,v,y),nP(c,v),n!==void 0&&_H(v,this.ngContentSelectors,n),_=js(v.index,y),y[zi]=_[zi],q5(c,y,null)}catch(v){throw _!==null&&i5(_),i5(y),v}finally{$n(23),b_()}return new G_(this.componentType,y,!!g)}finally{Ft(a)}}};function mH(t,e,n,r){let i=t?["ng-version","20.3.15"]:Vz(e.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[g5].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let f=r[u];if(typeof f!="function")for(let d of f.bindings){a+=d[g5].requiredVars;let h=u+1;d.create&&(d.targetIdx=h,(o??=[]).push(d)),d.update&&(d.targetIdx=h,(s??=[]).push(d))}}let l=[e];if(r)for(let u of r){let f=typeof u=="function"?u:u.type,d=wE(f);l.push(d)}return R5(0,null,yH(o,s),1,a,l,null,null,null,[i],null)}function yH(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function k4(t){let e=t[g5].kind;return e==="input"||e==="twoWay"}var G_=class extends KR{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=m_(n[Nt],uo),this.location=Td(this._tNode,n),this.instance=js(this._tNode.index,n)[zi],this.hostView=this.changeDetectorRef=new iu(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=H5(r,i[Nt],i,e,n);this.previousInputValues.set(e,n);let s=js(r.index,i);W5(s,1)}get injector(){return new Oh(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _H(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wl=(()=>{class t{static __NG_ELEMENT_ID__=vH}return t})();function vH(){let t=Co();return lP(t,Wn())}var wH=Wl,aP=class extends wH{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Td(this._hostTNode,this._hostLView)}get injector(){return new Oh(this._hostTNode,this._hostLView)}get parentInjector(){let e=S5(this._hostTNode,this._hostLView);if(X4(e)){let n=R_(e,this._hostLView),r=N_(e),i=n[Nt].data[r+8];return new Oh(i,n)}else return new Oh(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=O4(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ho}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=M4(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,A4(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let l=e&&!YG(e),c;if(l)c=n;else{let _=n||{};c=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef,s=_.directives,a=_.bindings}let u=l?e:new Ad(Jc(e)),f=r||this.parentInjector;if(!o&&u.ngModule==null){let v=(l?f:this.parentInjector).get(Ai,null);v&&(o=v)}let d=Jc(u.componentType??{}),h=M4(this._lContainer,d?.id??null),g=h?.firstChild??null,y=u.create(f,i,g,o,s,a);return this.insertImpl(y.hostView,c,A4(this._hostTNode,h)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(z3(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[hi],c=new aP(l,l[ks],l[hi]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return HV(s,i,o,r),e.attachToViewContainerRef(),mE(QE(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=O4(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=f5(this._lContainer,n);r&&(tm(QE(this._lContainer),n),LR(r[Nt],r))}detach(e){let n=this._adjustIndex(e,-1),r=f5(this._lContainer,n);return r&&tm(QE(this._lContainer),n)!=null?new iu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function O4(t){return t[am]}function QE(t){return t[am]||(t[am]=[])}function lP(t,e){let n,r=e[t.index];return ua(r)?n=r:(n=ZR(r,e,null,t),e[t.index]=n,L5(e,n)),bH(n,e,t,r),new aP(n,t,e)}function xH(t,e){let n=t[Kr],r=n.createComment(""),i=Wa(e,t),o=n.parentNode(i);return O_(n,o,r,n.nextSibling(i),!1),r}var bH=CH,EH=()=>!1;function SH(t,e,n){return EH(t,e,n)}function CH(t,e,n,r){if(t[tu])return;let i;n.type&8?i=Fs(r):i=xH(e,n),t[tu]=i}var m5=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},y5=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)K5(e,n).matches!==null&&this.queries[n].setDirty()}},_5=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=PH(e):this.predicate=e}},v5=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},w5=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,IH(n,o)),this.matchTNodeWithReadOption(e,n,A_(n,e,o,!1,!1))}else r===ou?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,A_(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===as||i===Wl||i===ou&&n.type&4)this.addMatch(n.index,-2);else{let o=A_(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function IH(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function DH(t,e){return t.type&11?Td(t,e):t.type&4?$5(t,e):null}function AH(t,e,n,r){return n===-1?DH(e,t):n===-2?MH(t,e,r):P_(t,t[Nt],n,e)}function MH(t,e,n){if(n===as)return Td(e,t);if(n===ou)return $5(e,t);if(n===Wl)return lP(e,t)}function cP(t,e,n,r){let i=e[Ha].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(AH(e,u,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function x5(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=cP(t,e,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let f=ho;f<u.length;f++){let d=u[f];d[eu]===d[hi]&&x5(d[Nt],d,c,r)}if(u[Mh]!==null){let f=u[Mh];for(let d=0;d<f.length;d++){let h=f[d];x5(h[Nt],h,c,r)}}}}}return r}function TH(t,e){return t[Ha].queries[e].queryList}function NH(t,e,n){let r=new L_((n&4)===4);return q3(t,e,r,r.destroy),(e[Ha]??=new y5).queries.push(new m5(r))-1}function RH(t,e,n){let r=$a();return r.firstCreatePass&&(LH(r,new _5(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),NH(r,Wn(),e)}function PH(t){return t.split(",").map(e=>e.trim())}function LH(t,e,n){t.queries===null&&(t.queries=new v5),t.queries.track(new w5(e,n))}function K5(t,e){return t.queries.getByIndex(e)}function kH(t,e){let n=t[Nt],r=K5(n,e);return r.crossesNgTemplate?x5(n,t,e,[]):cP(n,t,r,e)}var jh=class{},rv=class{};var z_=class extends jh{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new U_(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=vE(e);this._bootstrapComponents=ER(o.bootstrap),this._r3Injector=HE(e,n,[{provide:jh,useValue:this},{provide:bm,useValue:this.componentFactoryResolver},...r],Bl(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},V_=class extends rv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new z_(this.moduleType,e,[])}};var ym=class extends jh{injector;componentFactoryResolver=new U_(this);instance=null;constructor(e){super();let n=new bh([...e.providers,{provide:jh,useValue:this},{provide:bm,useValue:this.componentFactoryResolver}],e.parent||rm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Em(t,e,n=null){return new ym({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var OH=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=xE(!1,n.type),i=r.length>0?Em([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=dt({token:t,providedIn:"environment",factory:()=>new t(Zt(Ai))})}return t})();function br(t){return vm(()=>{let e=uP(t),n=fn(Ze({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===C5.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(OH).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ql.Emulated,styles:t.styles||Rs,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Q_("NgStandalone"),hP(n);let r=t.dependencies;return n.directiveDefs=F4(r,FH),n.pipeDefs=F4(r,N3),n.id=UH(n),n})}function FH(t){return Jc(t)||wE(t)}function Sm(t){return vm(()=>({type:t.type,bootstrap:t.bootstrap||Rs,declarations:t.declarations||Rs,imports:t.imports||Rs,exports:t.exports||Rs,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jH(t,e){if(t==null)return Ch;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=J_.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function BH(t){if(t==null)return Ch;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Gh(t){return vm(()=>{let e=uP(t);return hP(e),e})}function uP(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ch,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Rs,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:jH(t.inputs,e),outputs:BH(t.outputs),debugInfo:null}}function hP(t){t.features?.forEach(e=>e(t))}function F4(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function UH(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function GH(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=$_(t.mergedAttrs,t.attrs);let u=t.tView=R5(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),bd(t,!1);let l=VH(n,e,t,r);E_()&&U5(n,e,l,t),Id(l,e);let c=ZR(l,e,l,t);e[r+uo]=c,L5(e,c),SH(c,t,e)}function zH(t,e,n,r,i,o,s,a,l,c,u){let f=n+uo,d;return e.firstCreatePass?(d=tv(e,f,4,s||null,a||null),LE()&&QR(e,t,d,Rh(e.consts,c),FR),Y4(e,d)):d=e.data[f],GH(d,t,e,n,r,i,o,l),lm(d)&&z5(e,t,d),c!=null&&V5(t,d,u),d}function Qr(t,e,n,r,i,o,s,a){let l=Wn(),c=$a(),u=Rh(c.consts,o);return zH(l,c,t,e,n,r,i,u,void 0,s,a),Qr}var VH=HH;function HH(t,e,n,r){return S_(!0),e[Kr].createComment("")}var J5=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Q5=new xt("");function Nd(t){return!!t&&typeof t.then=="function"}function eS(t){return!!t&&typeof t.subscribe=="function"}var fP=new xt("");var tS=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Le(fP,{optional:!0})??[];injector=Le(Ps);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=co(this.injector,i);if(Nd(o))n.push(o);else if(eS(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iv=new xt("");function dP(){Lb(()=>{let t="";throw new ht(600,t)})}function pP(t){return t.isBoundToModule}var qH=10;var zh=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Le(ss);afterRenderManager=Le(NR);zonelessEnabled=Le(hm);rootEffectScheduler=Le(fm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new li;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Le(Hl);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(gn(n=>!n))}constructor(){Le(xm,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Le(Ai);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ps.NULL){return this._injector.get(Jr).run(()=>{$n(10);let s=n instanceof nv;if(!this._injector.get(tS).done){let g="";throw new ht(405,g)}let l;s?l=n:l=this._injector.get(bm).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=pP(l)?void 0:this._injector.get(jh),u=r||l.selector,f=l.create(i,[],u,c),d=f.location.nativeElement,h=f.injector.get(Q5,null);return h?.registerApplication(d),f.onDestroy(()=>{this.detachView(f.hostView),pm(this.components,f),h?.unregisterApplication(d)}),this._loadComponent(f),$n(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){$n(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(O5.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ht(101,!1);let n=Ft(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ft(n),this.afterTick.next(),$n(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fh,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<qH;)$n(14),this.synchronizeOnce(),$n(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!cm(i))continue;let o=r&&!this.zonelessEnabled?0:1;qR(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>cm(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;pm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(iv,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>pm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ht(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pm(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Wge=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Kn(t,e,n){let r=Wn(),i=UE();if(X5(r,i,e)){let o=$a(),s=l4();wV(s,r,t,e,r[Kr],n)}return Kn}function j4(t,e,n,r,i){H5(e,t,n,i?"class":"style",r)}function ze(t,e,n,r){let i=Wn(),o=i[Nt],s=t+uo,a=o.firstCreatePass?tP(s,i,2,e,FR,LE(),n,r):o.data[s];if(jR(a,i,t,e,gP),lm(a)){let l=i[Nt];z5(l,i,a),mR(l,a,i)}return r!=null&&V5(i,a),ze}function $e(){let t=$a(),e=Co(),n=BR(e);return t.firstCreatePass&&nP(t,n),kE(n)&&OE(),PE(),n.classesWithoutHost!=null&&ez(n)&&j4(t,n,Wn(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&tz(n)&&j4(t,n,Wn(),n.stylesWithoutHost,!1),$e}function $t(t,e,n,r){return ze(t,e,n,r),$e(),$t}function $l(t,e,n,r){let i=Wn(),o=i[Nt],s=t+uo,a=o.firstCreatePass?aH(s,o,2,e,n,r):o.data[s];return jR(a,i,t,e,gP),r!=null&&V5(i,a),$l}function au(){let t=Co(),e=BR(t);return kE(e)&&OE(),PE(),au}function Cm(t,e,n,r){return $l(t,e,n,r),au(),Cm}var gP=(t,e,n,r,i)=>(S_(!0),wR(e[Kr],r,c4()));function ls(){return Wn()}var Im="en-US";var WH=Im;function mP(t){typeof t=="string"&&(WH=t.toLowerCase().replace(/_/g,"-"))}function jn(t,e,n){let r=Wn(),i=$a(),o=Co();return $H(i,r,r[Kr],o,t,e,n),jn}function $H(t,e,n,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=JE(r,e,o),lH(r,t,e,s,n,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let f=0;f<u.length;f+=2){let d=u[f],h=u[f+1];l??=JE(r,e,o),L4(r,e,d,h,i,l)}if(c&&c.length)for(let f of c)l??=JE(r,e,o),L4(r,e,f,i,i,l)}}function Er(t=1){return a4(t)}function nS(t,e,n){RH(t,e,n)}function rS(t){let e=Wn(),n=$a(),r=GE();w_(r+1);let i=K5(n,r);if(t.dirty&&G3(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=kH(e,r);t.reset(o,gz),t.notifyOnChanges()}return!0}return!1}function iS(){return TH(Wn(),GE())}function oS(t){let e=K3();return U3(e,uo+t)}function C_(t,e){return t<<17|e<<2}function Bh(t){return t>>17&32767}function YH(t){return(t&2)==2}function ZH(t,e){return t&131071|e<<17}function b5(t){return t|2}function Md(t){return(t&131068)>>2}function e5(t,e){return t&-131069|e<<2}function XH(t){return(t&1)===1}function E5(t){return t|1}function KH(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Bh(s),l=Md(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||_d(f,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let d=Bh(t[a+1]);t[r+1]=C_(d,a),d!==0&&(t[d+1]=e5(t[d+1],r)),t[a+1]=ZH(t[a+1],r)}else t[r+1]=C_(a,0),a!==0&&(t[a+1]=e5(t[a+1],r)),a=r;else t[r+1]=C_(l,0),a===0?a=r:t[l+1]=e5(t[l+1],r),l=r;c&&(t[r+1]=b5(t[r+1])),B4(t,u,r,!0),B4(t,u,r,!1),JH(e,u,t,r,o),s=C_(a,l),o?e.classBindings=s:e.styleBindings=s}function JH(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&_d(o,e)>=0&&(n[r+1]=E5(n[r+1]))}function B4(t,e,n,r){let i=t[n+1],o=e===null,s=r?Bh(i):Md(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];QH(l,e)&&(a=!0,t[s+1]=r?E5(c):b5(c)),s=r?Bh(c):Md(c)}a&&(t[n+1]=r?b5(i):E5(i))}function QH(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?_d(t,e)>=0:!1}function Vh(t,e){return eq(t,e,null,!0),Vh}function eq(t,e,n,r){let i=Wn(),o=$a(),s=Q3(2);if(o.firstUpdatePass&&nq(o,t,s,r),e!==su&&X5(i,s,e)){let a=o.data[Lh()];aq(o,a,i,i[Kr],t,i[s+1]=lq(e,n),r,s)}}function tq(t,e){return e>=t.expandoStartIndex}function nq(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Lh()],s=tq(t,n);cq(o,r)&&e===null&&!s&&(e=!1),e=rq(i,o,e,r),KH(i,o,e,n,s,r)}}function rq(t,e,n,r){let i=r4(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=t5(null,t,e,n,r),n=_m(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=t5(i,t,e,n,r),o===null){let l=iq(t,e,r);l!==void 0&&Array.isArray(l)&&(l=t5(null,t,e,l[1],r),l=_m(l,e.attrs,r),oq(t,e,r,l))}else o=sq(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function iq(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Md(r)!==0)return t[Bh(r)]}function oq(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Bh(i)]=r}function sq(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=_m(r,s,n)}return _m(r,e.attrs,n)}function t5(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=_m(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function _m(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),T3(t,s,n?!0:e[++o]))}return t===void 0?null:t}function aq(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=XH(c)?U4(l,e,n,i,Md(c),s):void 0;if(!H_(u)){H_(o)||YH(c)&&(o=U4(l,null,n,i,a,s));let f=DE(Lh(),n);gV(r,s,f,i,o)}}function U4(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,f=u===null,d=n[i+1];d===su&&(d=f?Rs:void 0);let h=f?d_(d,r):u===r?d:void 0;if(c&&!H_(h)&&(h=d_(l,r)),H_(h)&&(a=h,s))return a;let g=t[i+1];i=s?Bh(g):Md(g)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=d_(l,r))}return a}function H_(t){return t!==void 0}function lq(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Bl(A5(t)))),t}function cq(t,e){return(t.flags&(e?8:16))!==0}function Bt(t,e=""){let n=Wn(),r=$a(),i=t+uo,o=r.firstCreatePass?tv(r,i,1,e,null):r.data[i],s=uq(r,n,o,e,t);n[i]=s,E_()&&U5(r,n,s,o),bd(o,!1)}var uq=(t,e,n,r,i)=>(S_(!0),Dz(e[Kr],r));function hq(t,e,n,r=""){return X5(t,UE(),n)?e+u_(n)+r:su}function Yl(t,e,n){let r=Wn(),i=hq(r,t,e,n);return i!==su&&fq(r,Lh(),i),Yl}function fq(t,e,n){let r=DE(e,t);Az(t[Kr],r,n)}var q_=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},sS=(()=>{class t{compileModuleSync(n){return new V_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=vE(n),o=ER(i.declarations).reduce((s,a)=>{let l=Jc(a);return l&&s.push(new Ad(l)),s},[]);return new q_(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dq=(()=>{class t{zone=Le(Jr);changeDetectionScheduler=Le(Ul);applicationRef=Le(zh);applicationErrorHandler=Le(ss);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yP=new xt("",{factory:()=>!1});function aS({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Jr(fn(Ze({},cS()),{scheduleInRootZone:n})),[{provide:Jr,useFactory:t},{provide:Gl,multi:!0,useFactory:()=>{let r=Le(dq,{optional:!0});return()=>r.initialize()}},{provide:Gl,multi:!0,useFactory:()=>{let r=Le(pq);return()=>{r.initialize()}}},e===!0?{provide:$E,useValue:!0}:[],{provide:YE,useValue:n??AR},{provide:ss,useFactory:()=>{let r=Le(Jr),i=Le(Ai),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(la),o.handleError(s))})}}}]}function lS(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=aS({ngZoneFactory:()=>{let i=cS(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Q_("NgZone_CoalesceEvent"),new Jr(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ih([{provide:yP,useValue:!0},{provide:hm,useValue:!1},r])}function cS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var pq=(()=>{class t{subscription=new kr;initialized=!1;zone=Le(Jr);pendingTasks=Le(Hl);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Jr.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Jr.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _P=(()=>{class t{applicationErrorHandler=Le(ss);appRef=Le(zh);taskService=Le(Hl);ngZone=Le(Jr);zonelessEnabled=Le(hm);tracing=Le(xm,{optional:!0});disableScheduling=Le($E,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new kr;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(F_):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Le(YE,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof j_||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?b4:MR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(F_+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,b4(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gq(){return typeof $localize<"u"&&$localize.locale||Im}var ov=new xt("",{providedIn:"root",factory:()=>Le(ov,{optional:!0,skipSelf:!0})||gq()});function Zl(t){return _3(t)}function hS(t,e){return ky(t,e?.equal)}var uS=class{[lo];constructor(e){this[lo]=e}destroy(){this[lo].destroy()}};function Dm(t,e){let n=e?.injector??Le(Ps),r=e?.manualCleanup!==!0?n.get(Vl):null,i,o=n.get(um,null,{optional:!0}),s=n.get(Ul);return o!==null?(i=_q(o.view,s,t),r instanceof Qg&&r._lView===o.view&&(r=null)):i=vq(t,n.get(fm),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new uS(i)}var vP=fn(Ze({},v3),{cleanupFns:void 0,zone:null,onDestroyFn:kh,run(){let t=Ed(!1);try{w3(this)}finally{Ed(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=Ft(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Ft(t)}}}),mq=fn(Ze({},vP),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){gh(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),yq=fn(Ze({},vP),{consumerMarkedDirty(){this.view[Dt]|=8192,Ph(this.view),this.notifier.notify(13)},destroy(){gh(this),this.onDestroyFn(),this.cleanup(),this.view[zl]?.delete(this)}});function _q(t,e,n){let r=Object.create(yq);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=wP(r,n),t[zl]??=new Set,t[zl].add(r),r.consumerMarkedDirty(r),r}function vq(t,e,n){let r=Object.create(mq);return r.fn=wP(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function wP(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var SP=Symbol("InputSignalNode#UNSET"),Fq=fn(Ze({},Oy),{transformFn:void 0,applyValueToInputSignal(t,e){id(t,e)}});function CP(t,e){let n=Object.create(Fq);n.value=t,n.transformFn=e?.transform;function r(){if(ed(n),n.value===SP){let i=null;throw new ht(-950,i)}return n.value}return r[lo]=n,r}var jq=new xt("");jq.__NG_ELEMENT_ID__=t=>{let e=Co();if(e===null)throw new ht(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new ht(204,!1)};function xP(t,e){return CP(t,e)}function Bq(t){return CP(SP,t)}var IP=(xP.required=Bq,xP);var fS=new xt(""),Uq=new xt("");function Am(t){return!t.moduleRef}function Gq(t){let e=Am(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Jr);return n.run(()=>{Am(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ss),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Am(t)){let o=()=>e.destroy(),s=t.platformInjector.get(fS);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(fS);s.add(o),t.moduleRef.onDestroy(()=>{pm(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Vq(r,n,()=>{let o=e.get(Hl),s=o.add(),a=e.get(tS);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(ov,Im);if(mP(l||Im),!e.get(Uq,!0))return Am(t)?e.get(zh):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Am(t)){let u=e.get(zh);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return zq?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var zq;function Vq(t,e,n){try{let r=n();return Nd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var sv=null;function Hq(t=[],e){return Ps.create({name:e,providers:[{provide:nm,useValue:"platform"},{provide:fS,useValue:new Set([()=>sv=null])},...t]})}function qq(t=[]){if(sv)return sv;let e=Hq(t);return sv=e,dP(),Wq(e),e}function Wq(t){let e=t.get(X_,null);co(t,()=>{e?.forEach(n=>n())})}var yS=(()=>{class t{static __NG_ELEMENT_ID__=$q}return t})();function $q(t){return Yq(Co(),Wn(),(t&16)===16)}function Yq(t,e,n){if(nu(t)&&!n){let r=js(t.index,e);return new iu(r,r)}else if(t.type&175){let r=e[Os];return new iu(r,e)}return null}var dS=class{constructor(){}supports(e){return Z5(e)}create(e){return new pS(e)}},Zq=(t,e)=>e,pS=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Zq}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<bP(r,i,o)?n:r,a=bP(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let d=0;d<c;d++){let h=d<o.length?o[d]:o[d]=0,g=h+d;u<=g&&g<c&&(o[d]=h+1)}let f=s.previousIndex;o[f]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Z5(e))throw new ht(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,rP(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new gS(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new av),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new av),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},gS=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},mS=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},av=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new mS,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bP(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function EP(){return new _S([new dS])}var _S=(()=>{class t{factories;static \u0275prov=dt({token:t,providedIn:"root",factory:EP});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=Le(t,{optional:!0,skipSelf:!0});return t.create(n,r||EP())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new ht(901,!1)}}return t})();function DP(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;$n(8);try{let o=i?.injector??qq(r),s=[aS({}),{provide:Ul,useExisting:_P},h4,...n||[]],a=new ym({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Gq({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{$n(9)}}var TP=null;function Kl(){return TP}function vS(t){TP??=t}var Mm=class{},wS=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:()=>Le(NP),providedIn:"platform"})}return t})();var NP=(()=>{class t extends wS{_location;_history;_doc=Le(fi);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kl().getBaseHref(this._doc)}onPopState(n){let r=Kl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Kl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function RP(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function AP(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function lu(t){return t&&t[0]!=="?"?`?${t}`:t}var lv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:()=>Le(LP),providedIn:"root"})}return t})(),PP=new xt(""),LP=(()=>{class t extends lv{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Le(fi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return RP(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+lu(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+lu(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+lu(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Zt(wS),Zt(PP,8))};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rd=(()=>{class t{_subject=new li;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Jq(AP(MP(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+lu(r))}normalize(n){return t.stripTrailingSlash(Kq(this._basePath,MP(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+lu(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+lu(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=lu;static joinWithSlash=RP;static stripTrailingSlash=AP;static \u0275fac=function(r){return new(r||t)(Zt(lv))};static \u0275prov=dt({token:t,factory:()=>Xq(),providedIn:"root"})}return t})();function Xq(){return new Rd(Zt(lv))}function Kq(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function MP(t){return t.replace(/\/index.html$/,"")}function Jq(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var xS=/\s+/,kP=[],Tm=(()=>{class t{_ngEl;_renderer;initialClasses=kP;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(xS):kP}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(xS):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(xS).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Do(as),Do(Y5))};static \u0275dir=Gh({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var cv=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hv=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new cv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),OP(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);OP(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Do(Wl),Do(ou),Do(_S))};static \u0275dir=Gh({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function OP(t,e){t.context.$implicit=e.item}var fa=(()=>{class t{_viewContainer;_context=new uv;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){FP(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){FP(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Do(Wl),Do(ou))};static \u0275dir=Gh({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),uv=class{$implicit=null;ngIf=null};function FP(t,e){if(t&&!t.createEmbeddedView)throw new ht(2020,!1)}var Vi=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Sm({type:t});static \u0275inj=yd({})}return t})();function bS(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Nm=class{};var jP="browser";var Pm=class{_doc;constructor(e){this._doc=e}manager},fv=(()=>{class t extends Pm{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Zt(fi))};static \u0275prov=dt({token:t,factory:t.\u0275fac})}return t})(),pv=new xt(""),DS=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof fv));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof fv);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ht(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Zt(pv),Zt(Jr))};static \u0275prov=dt({token:t,factory:t.\u0275fac})}return t})(),ES="ng-app-id";function BP(t){for(let e of t)e.remove()}function UP(t,e){let n=e.createElement("style");return n.textContent=t,n}function Qq(t,e,n,r){let i=t.head?.querySelectorAll(`style[${ES}="${e}"],link[${ES}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ES),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function CS(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var AS=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,Qq(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,UP);r?.forEach(i=>this.addUsage(i,this.external,CS))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(BP(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])BP(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,UP(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,CS(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Zt(fi),Zt(Z_),Zt(K_,8),Zt(wm))};static \u0275prov=dt({token:t,factory:t.\u0275fac})}return t})(),SS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},MS=/%COMP%/g;var zP="%COMP%",eW=`_nghost-${zP}`,tW=`_ngcontent-${zP}`,nW=!0,rW=new xt("",{providedIn:"root",factory:()=>nW});function iW(t){return tW.replace(MS,t)}function oW(t){return eW.replace(MS,t)}function VP(t,e){return e.map(n=>n.replace(MS,t))}var TS=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l=null,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new Lm(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof dv?i.applyToHost(n):i instanceof km&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,d=this.tracingService;switch(r.encapsulation){case ql.Emulated:o=new dv(l,c,r,this.appId,u,s,a,f,d);break;case ql.ShadowDom:return new IS(l,c,n,r,s,a,this.nonce,f,d);default:o=new km(l,c,r,u,s,a,f,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Zt(DS),Zt(AS),Zt(Z_),Zt(rW),Zt(fi),Zt(Jr),Zt(K_),Zt(xm,8))};static \u0275prov=dt({token:t,factory:t.\u0275fac})}return t})(),Lm=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(SS[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(GP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(GP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ht(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=SS[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=SS[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Za.DashCase|Za.Important)?e.style.setProperty(n,r,i&Za.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Za.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Kl().getGlobalEventTarget(this.doc,e),!e))throw new ht(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function GP(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var IS=class extends Lm{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=VP(i.id,u);for(let d of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}let f=i.getExternalStyles?.();if(f)for(let d of f){let h=CS(d,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},km=class extends Lm{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?VP(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Dd.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},dv=class extends km{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,l,c,u),this.contentAttr=iW(u),this.hostAttr=oW(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var gv=class t extends Mm{supportsDOMEvents=!0;static makeCurrent(){vS(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=sW();return n==null?null:aW(n)}resetBaseElement(){Om=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bS(document.cookie,e)}},Om=null;function sW(){return Om=Om||document.head.querySelector("base"),Om?Om.getAttribute("href"):null}function aW(t){return new URL(t,document.baseURI).pathname}var lW=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac})}return t})(),HP=["alt","control","meta","shift"],cW={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},qP=(()=>{class t extends Pm{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kl().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HP.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=cW[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HP.forEach(s=>{if(s!==i){let a=uW[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Zt(fi))};static \u0275prov=dt({token:t,factory:t.\u0275fac})}return t})();function NS(t,e,n){let r=Ze({rootComponent:t,platformRef:n?.platformRef},hW(e));return DP(r)}function hW(t){return{appProviders:[...mW,...t?.providers??[]],platformProviders:gW}}function fW(){gv.makeCurrent()}function dW(){return new la}function pW(){return I5(document),document}var gW=[{provide:wm,useValue:jP},{provide:X_,useValue:fW,multi:!0},{provide:fi,useFactory:pW}];var mW=[{provide:nm,useValue:"root"},{provide:la,useFactory:dW},{provide:pv,useClass:fv,multi:!0,deps:[fi]},{provide:pv,useClass:qP,multi:!0,deps:[fi]},TS,AS,DS,{provide:Fh,useExisting:TS},{provide:Nm,useClass:lW},[]];var WP=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Zt(fi))};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ut="primary",Zm=Symbol("RouteTitle"),OS=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function jd(t){return new OS(t)}function _W(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xa(t[n],e[n]))return!1;return!0}function Xa(t,e){let n=t?FS(t):void 0,r=e?FS(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eL(t[i],e[i]))return!1;return!0}function FS(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function tL(t){return t.length>0?t[t.length-1]:null}function ec(t){return Wb(t)?t:Nd(t)?Or(Promise.resolve(t)):Tt(t)}var wW={exact:rL,subset:iL},nL={exact:xW,subset:bW,ignored:()=>!0};function $P(t,e,n){return wW[n.paths](t.root,e.root,n.matrixParams)&&nL[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xW(t,e){return Xa(t,e)}function rL(t,e,n){if(!qh(t.segments,e.segments)||!_v(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rL(t.children[r],e.children[r],n))return!1;return!0}function bW(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eL(t[n],e[n]))}function iL(t,e,n){return oL(t,e,e.segments,n)}function oL(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!qh(i,n)||e.hasChildren()||!_v(i,n,r))}else if(t.segments.length===n.length){if(!qh(t.segments,n)||!_v(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iL(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!qh(t.segments,i)||!_v(t.segments,i,r)||!t.children[Ut]?!1:oL(t.children[Ut],e,o,r)}}function _v(t,e,n){return e.every((r,i)=>nL[n](t[i].parameters,r.parameters))}var Ql=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Pn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=jd(this.queryParams),this._queryParamMap}toString(){return CW.serialize(this)}},Pn=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vv(this)}},Hh=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=jd(this.parameters),this._parameterMap}toString(){return aL(this)}};function EW(t,e){return qh(t,e)&&t.every((n,r)=>Xa(n.parameters,e[r].parameters))}function qh(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function SW(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ut&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ut&&(n=n.concat(e(i,r)))}),n}var Nv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:()=>new Bd,providedIn:"root"})}return t})(),Bd=class{parse(e){let n=new BS(e);return new Ql(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fm(e.root,!0)}`,r=AW(e.queryParams),i=typeof e.fragment=="string"?`#${IW(e.fragment)}`:"";return`${n}${r}${i}`}},CW=new Bd;function vv(t){return t.segments.map(e=>aL(e)).join("/")}function Fm(t,e){if(!t.hasChildren())return vv(t);if(e){let n=t.children[Ut]?Fm(t.children[Ut],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ut&&r.push(`${i}:${Fm(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=SW(t,(r,i)=>i===Ut?[Fm(t.children[Ut],!1)]:[`${i}:${Fm(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ut]!=null?`${vv(t)}/${n[0]}`:`${vv(t)}/(${n.join("//")})`}}function sL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mv(t){return sL(t).replace(/%3B/gi,";")}function IW(t){return encodeURI(t)}function jS(t){return sL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wv(t){return decodeURIComponent(t)}function YP(t){return wv(t.replace(/\+/g,"%20"))}function aL(t){return`${jS(t.path)}${DW(t.parameters)}`}function DW(t){return Object.entries(t).map(([e,n])=>`;${jS(e)}=${jS(n)}`).join("")}function AW(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${mv(n)}=${mv(i)}`).join("&"):`${mv(n)}=${mv(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var MW=/^[^\/()?;#]+/;function RS(t){let e=t.match(MW);return e?e[0]:""}var TW=/^[^\/()?;=#]+/;function NW(t){let e=t.match(TW);return e?e[0]:""}var RW=/^[^=?&#]+/;function PW(t){let e=t.match(RW);return e?e[0]:""}var LW=/^[^&#]+/;function kW(t){let e=t.match(LW);return e?e[0]:""}var BS=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ut]=new Pn(e,n)),r}parseSegment(){let e=RS(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ht(4009,!1);return this.capture(e),new Hh(wv(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=NW(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=RS(this.remaining);i&&(r=i,this.capture(r))}e[wv(n)]=wv(r)}parseQueryParam(e){let n=PW(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=kW(this.remaining);s&&(r=s,this.capture(r))}let i=YP(n),o=YP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=RS(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ht(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ut);let s=this.parseChildren();n[o??Ut]=Object.keys(s).length===1&&s[Ut]?s[Ut]:new Pn([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ht(4011,!1)}};function lL(t){return t.segments.length>0?new Pn([],{[Ut]:t}):t}function cL(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=cL(i);if(r===Ut&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Pn(t.segments,e);return OW(n)}function OW(t){if(t.numberOfChildren===1&&t.children[Ut]){let e=t.children[Ut];return new Pn(t.segments.concat(e.segments),e.children)}return t}function Ud(t){return t instanceof Ql}function FW(t,e,n=null,r=null){let i=uL(t);return hL(i,e,n,r)}function uL(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new Pn(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=lL(r);return e??i}function hL(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return PS(i,i,i,n,r);let o=jW(e);if(o.toRoot())return PS(i,i,new Pn([],{}),n,r);let s=BW(o,i,t),a=s.processChildren?Bm(s.segmentGroup,s.index,o.commands):dL(s.segmentGroup,s.index,o.commands);return PS(i,s.segmentGroup,a,n,r)}function xv(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function zm(t){return typeof t=="object"&&t!=null&&t.outlets}function PS(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=fL(t,e,n);let a=lL(cL(s));return new Ql(a,o,i)}function fL(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=fL(o,e,n)}),new Pn(t.segments,r)}var bv=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&xv(r[0]))throw new ht(4003,!1);let i=r.find(zm);if(i&&i!==tL(r))throw new ht(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function jW(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bv(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new bv(n,e,r)}var kd=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function BW(t,e,n){if(t.isAbsolute)return new kd(e,!0,0);if(!n)return new kd(e,!1,NaN);if(n.parent===null)return new kd(n,!0,0);let r=xv(t.commands[0])?0:1,i=n.segments.length-1+r;return UW(n,i,t.numberOfDoubleDots)}function UW(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ht(4005,!1);i=r.segments.length}return new kd(r,!1,i-o)}function GW(t){return zm(t[0])?t[0].outlets:{[Ut]:t}}function dL(t,e,n){if(t??=new Pn([],{}),t.segments.length===0&&t.hasChildren())return Bm(t,e,n);let r=zW(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Pn(t.segments.slice(0,r.pathIndex),{});return o.children[Ut]=new Pn(t.segments.slice(r.pathIndex),t.children),Bm(o,0,i)}else return r.match&&i.length===0?new Pn(t.segments,{}):r.match&&!t.hasChildren()?US(t,e,n):r.match?Bm(t,0,i):US(t,e,n)}function Bm(t,e,n){if(n.length===0)return new Pn(t.segments,{});{let r=GW(n),i={};if(Object.keys(r).some(o=>o!==Ut)&&t.children[Ut]&&t.numberOfChildren===1&&t.children[Ut].segments.length===0){let o=Bm(t.children[Ut],e,n);return new Pn(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dL(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Pn(t.segments,i)}}function zW(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(zm(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!XP(l,c,s))return o;r+=2}else{if(!XP(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function US(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(zm(o)){let l=VW(o.outlets);return new Pn(r,l)}if(i===0&&xv(n[0])){let l=t.segments[e];r.push(new Hh(l.path,ZP(n[0]))),i++;continue}let s=zm(o)?o.outlets[Ut]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&xv(a)?(r.push(new Hh(s,ZP(a))),i+=2):(r.push(new Hh(s,{})),i++)}return new Pn(r,{})}function VW(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=US(new Pn([],{}),0,r))}),e}function ZP(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function XP(t,e,n){return t==n.path&&Xa(e,n.parameters)}var Um="imperative",Mi=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Mi||{}),Bs=class{id;url;constructor(e,n){this.id=e,this.url=n}},Gd=class extends Bs{type=Mi.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cu=class extends Bs{urlAfterRedirects;type=Mi.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ao=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ao||{}),Ev=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Ev||{}),Jl=class extends Bs{reason;code;type=Mi.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},uu=class extends Bs{reason;code;type=Mi.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Vm=class extends Bs{error;target;type=Mi.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sv=class extends Bs{urlAfterRedirects;state;type=Mi.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},GS=class extends Bs{urlAfterRedirects;state;type=Mi.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zS=class extends Bs{urlAfterRedirects;state;shouldActivate;type=Mi.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},VS=class extends Bs{urlAfterRedirects;state;type=Mi.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},HS=class extends Bs{urlAfterRedirects;state;type=Mi.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qS=class{route;type=Mi.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},WS=class{route;type=Mi.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$S=class{snapshot;type=Mi.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},YS=class{snapshot;type=Mi.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ZS=class{snapshot;type=Mi.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},XS=class{snapshot;type=Mi.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Hm=class{},zd=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function HW(t){return!(t instanceof Hm)&&!(t instanceof zd)}function qW(t,e){return t.providers&&!t._injector&&(t._injector=Em(t.providers,e,`Route: ${t.path}`)),t._injector??e}function da(t){return t.outlet||Ut}function WW(t,e){let n=t.filter(r=>da(r)===e);return n.push(...t.filter(r=>da(r)!==e)),n}function Hd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var KS=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Hd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Xm(this.rootInjector)}},Xm=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new KS(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Zt(Ai))};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cv=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=JS(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=JS(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=QS(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return QS(e,this._root).map(n=>n.value)}};function JS(t,e){if(t===e.value)return e;for(let n of e.children){let r=JS(t,n);if(r)return r}return null}function QS(t,e){if(t===e.value)return[e];for(let n of e.children){let r=QS(t,n);if(r.length)return r.unshift(e),r}return[]}var cs=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ld(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Iv=class extends Cv{snapshot;constructor(e,n){super(e),this.snapshot=n,lC(this,e)}toString(){return this.snapshot.toString()}};function pL(t){let e=$W(t),n=new Di([new Hh("",{})]),r=new Di({}),i=new Di({}),o=new Di({}),s=new Di(""),a=new Wh(n,r,o,s,i,Ut,t,e.root);return a.snapshot=e.root,new Iv(new cs(a,[]),e)}function $W(t){let e={},n={},r={},o=new Od([],e,r,"",n,Ut,t,null,{});return new Av("",new cs(o,[]))}var Wh=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(gn(c=>c[Zm]))??Tt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(gn(e=>jd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(gn(e=>jd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dv(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Ze(Ze({},e.params),t.params),data:Ze(Ze({},e.data),t.data),resolve:Ze(Ze(Ze(Ze({},t.data),e.data),i?.data),t._resolvedData)}:r={params:Ze({},t.params),data:Ze({},t.data),resolve:Ze(Ze({},t.data),t._resolvedData??{})},i&&mL(i)&&(r.resolve[Zm]=i.title),r}var Od=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Zm]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=jd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=jd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Av=class extends Cv{url;constructor(e,n){super(n),this.url=e,lC(this,n)}toString(){return gL(this._root)}};function lC(t,e){e.value._routerState=t,e.children.forEach(n=>lC(t,n))}function gL(t){let e=t.children.length>0?` { ${t.children.map(gL).join(", ")} } `:"";return`${t.value}${e}`}function LS(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xa(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xa(e.params,n.params)||t.paramsSubject.next(n.params),vW(e.url,n.url)||t.urlSubject.next(n.url),Xa(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eC(t,e){let n=Xa(t.params,e.params)&&EW(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||eC(t.parent,e.parent))}function mL(t){return typeof t.title=="string"||t.title===null}var YW=new xt(""),yL=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ut;activateEvents=new fo;deactivateEvents=new fo;attachEvents=new fo;detachEvents=new fo;routerOutletData=IP();parentContexts=Le(Xm);location=Le(Wl);changeDetector=Le(yS);inputBinder=Le(Rv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ht(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ht(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ht(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ht(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new tC(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Gh({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[W_]})}return t})(),tC=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Wh?this.route:e===Xm?this.childContexts:e===YW?this.outletData:this.parent.get(e,n)}},Rv=new xt("");var _L=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=br({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&$t(0,"router-outlet")},dependencies:[yL],encapsulation:2})}return t})();function cC(t){let e=t.children&&t.children.map(cC),n=e?fn(Ze({},t),{children:e}):Ze({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ut&&(n.component=_L),n}function ZW(t,e,n){let r=qm(t,e._root,n?n._root:void 0);return new Iv(r,e)}function qm(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=XW(t,e,n);return new cs(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>qm(t,a)),s}}let r=KW(e.value),i=e.children.map(o=>qm(t,o));return new cs(r,i)}}function XW(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return qm(t,r,i);return qm(t,r)})}function KW(t){return new Wh(new Di(t.url),new Di(t.params),new Di(t.queryParams),new Di(t.fragment),new Di(t.data),t.outlet,t.component,t)}var Wm=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},vL="ngNavigationCancelingError";function Mv(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ud(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wL(!1,Ao.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function wL(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[vL]=!0,n.cancellationCode=e,n}function JW(t){return xL(t)&&Ud(t.url)}function xL(t){return!!t&&t[vL]}var QW=(t,e,n,r)=>gn(i=>(new nC(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),nC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),LS(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ld(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ld(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ld(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ld(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new XS(o.value.snapshot))}),e.children.length&&this.forwardEvent(new YS(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(LS(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),LS(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Tv=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fd=class{component;route;constructor(e,n){this.component=e,this.route=n}};function e$(t,e,n){let r=t._root,i=e?e._root:null;return jm(r,i,n,[r.value])}function t$(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function qd(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!lE(t)?t:e.get(t):r}function jm(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ld(e);return t.children.forEach(s=>{n$(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Gm(a,n.getContext(s),i)),i}function n$(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=r$(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Tv(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?jm(t,e,a?a.children:null,r,i):jm(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fd(a.outlet.component,s))}else s&&Gm(e,a,i),i.canActivateChecks.push(new Tv(r)),o.component?jm(t,null,a?a.children:null,r,i):jm(t,null,n,r,i);return i}function r$(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!qh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qh(t.url,e.url)||!Xa(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eC(t,e)||!Xa(t.queryParams,e.queryParams);case"paramsChange":default:return!eC(t,e)}}function Gm(t,e,n){let r=Ld(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Gm(s,e.children.getContext(o),n):Gm(s,null,n):Gm(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Fd(e.outlet.component,i)):n.canDeactivateChecks.push(new Fd(null,i)):n.canDeactivateChecks.push(new Fd(null,i))}function Km(t){return typeof t=="function"}function i$(t){return typeof t=="boolean"}function o$(t){return t&&Km(t.canLoad)}function s$(t){return t&&Km(t.canActivate)}function a$(t){return t&&Km(t.canActivateChild)}function l$(t){return t&&Km(t.canDeactivate)}function c$(t){return t&&Km(t.canMatch)}function bL(t){return t instanceof kl||t?.name==="EmptyError"}var yv=Symbol("INITIAL_VALUE");function Vd(){return Eo(t=>e_(t.map(e=>e.pipe(Ol(1),Zb(yv)))).pipe(gn(e=>{for(let n of e)if(n!==!0){if(n===yv)return yv;if(n===!1||u$(n))return n}return!0}),Ns(e=>e!==yv),Ol(1)))}function u$(t){return Ud(t)||t instanceof Wm}function h$(t,e){return Xr(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Tt(fn(Ze({},n),{guardsResult:!0})):f$(s,r,i,t).pipe(Xr(a=>a&&i$(a)?d$(r,o,t,e):Tt(a)),gn(a=>fn(Ze({},n),{guardsResult:a})))})}function f$(t,e,n,r){return Or(t).pipe(Xr(i=>_$(i.component,i.route,n,e,r)),Fl(i=>i!==!0,!0))}function d$(t,e,n,r){return Or(e).pipe(pd(i=>dd(g$(i.route.parent,r),p$(i.route,r),y$(t,i.path,n),m$(t,i.route,n))),Fl(i=>i!==!0,!0))}function p$(t,e){return t!==null&&e&&e(new ZS(t)),Tt(!0)}function g$(t,e){return t!==null&&e&&e(new $S(t)),Tt(!0)}function m$(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Tt(!0);let i=r.map(o=>Yg(()=>{let s=Hd(e)??n,a=qd(o,s),l=s$(a)?a.canActivate(e,t):co(s,()=>a(e,t));return ec(l).pipe(Fl())}));return Tt(i).pipe(Vd())}function y$(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>t$(s)).filter(s=>s!==null).map(s=>Yg(()=>{let a=s.guards.map(l=>{let c=Hd(s.node)??n,u=qd(l,c),f=a$(u)?u.canActivateChild(r,t):co(c,()=>u(r,t));return ec(f).pipe(Fl())});return Tt(a).pipe(Vd())}));return Tt(o).pipe(Vd())}function _$(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Tt(!0);let s=o.map(a=>{let l=Hd(e)??i,c=qd(a,l),u=l$(c)?c.canDeactivate(t,e,n,r):co(l,()=>c(t,e,n,r));return ec(u).pipe(Fl())});return Tt(s).pipe(Vd())}function v$(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Tt(!0);let o=i.map(s=>{let a=qd(s,t),l=o$(a)?a.canLoad(e,n):co(t,()=>a(e,n));return ec(l)});return Tt(o).pipe(Vd(),EL(r))}function EL(t){return zb(ui(e=>{if(typeof e!="boolean")throw Mv(t,e)}),gn(e=>e===!0))}function w$(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Tt(!0);let o=i.map(s=>{let a=qd(s,t),l=c$(a)?a.canMatch(e,n):co(t,()=>a(e,n));return ec(l)});return Tt(o).pipe(Vd(),EL(r))}var $m=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ym=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Pd(t){return fd(new $m(t))}function x$(t){return fd(new ht(4e3,!1))}function b$(t){return fd(wL(!1,Ao.GuardRejected))}var rC=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Tt(r);if(i.numberOfChildren>1||!i.children[Ut])return x$(`${e.redirectTo}`);i=i.children[Ut]}}applyRedirectCommands(e,n,r,i,o){return E$(n,i,o).pipe(gn(s=>{if(s instanceof Ql)throw new Ym(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ym(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Ql(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Pn(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ht(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function E$(t,e,n){if(typeof t=="string")return Tt(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:f}=e;return ec(co(n,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:f})))}var iC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S$(t,e,n,r,i){let o=SL(t,e,n);return o.matched?(r=qW(e,r),w$(r,e,n,i).pipe(gn(s=>s===!0?o:Ze({},iC)))):Tt(o)}function SL(t,e,n){if(e.path==="**")return C$(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?Ze({},iC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_W)(n,t,e);if(!i)return Ze({},iC);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Ze(Ze({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function C$(t){return{matched:!0,parameters:t.length>0?tL(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function KP(t,e,n,r){return n.length>0&&A$(t,n,r)?{segmentGroup:new Pn(e,D$(r,new Pn(n,t.children))),slicedSegments:[]}:n.length===0&&M$(t,n,r)?{segmentGroup:new Pn(t.segments,I$(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pn(t.segments,t.children),slicedSegments:n}}function I$(t,e,n,r){let i={};for(let o of n)if(Pv(t,e,o)&&!r[da(o)]){let s=new Pn([],{});i[da(o)]=s}return Ze(Ze({},r),i)}function D$(t,e){let n={};n[Ut]=e;for(let r of t)if(r.path===""&&da(r)!==Ut){let i=new Pn([],{});n[da(r)]=i}return n}function A$(t,e,n){return n.some(r=>Pv(t,e,r)&&da(r)!==Ut)}function M$(t,e,n){return n.some(r=>Pv(t,e,r))}function Pv(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function T$(t,e,n){return e.length===0&&!t.children[n]}var oC=class{};function N$(t,e,n,r,i,o,s="emptyOnly"){return new sC(t,e,n,r,i,s,o).recognize()}var R$=31,sC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rC(this.urlSerializer,this.urlTree)}noMatchError(e){return new ht(4002,`'${e.segmentGroup}'`)}recognize(){let e=KP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(gn(({children:n,rootSnapshot:r})=>{let i=new cs(r,n),o=new Av("",i),s=FW(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Od([],Object.freeze({}),Object.freeze(Ze({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ut,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ut,n).pipe(gn(r=>({children:r,rootSnapshot:n})),Zc(r=>{if(r instanceof Ym)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $m?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(gn(s=>s instanceof cs?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Or(o).pipe(pd(s=>{let a=r.children[s],l=WW(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Yb((s,a)=>(s.push(...a),s)),Xc(null),$b(),Xr(s=>{if(s===null)return Pd(r);let a=CL(s);return P$(a),Tt(a)}))}processSegment(e,n,r,i,o,s,a){return Or(n).pipe(pd(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(Zc(c=>{if(c instanceof $m)return Tt(null);throw c}))),Fl(l=>!!l),Zc(l=>{if(bL(l))return T$(r,i,o)?Tt(new oC):Pd(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return da(r)!==s&&(s===Ut||!Pv(i,o,r))?Pd(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):Pd(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:d}=SL(n,i,o);if(!l)return Pd(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>R$&&(this.allowRedirects=!1));let h=new Od(o,c,Object.freeze(Ze({},this.urlTree.queryParams)),this.urlTree.fragment,JP(i),da(i),i.component??i._loadedComponent??null,i,QP(i)),g=Dv(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(g.params),h.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,h,e).pipe(Eo(_=>this.applyRedirects.lineralizeSegments(i,_)),Xr(_=>this.processSegment(e,r,n,_.concat(d),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=S$(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Eo(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Eo(({routes:c})=>{let u=r._loadedInjector??e,{parameters:f,consumedSegments:d,remainingSegments:h}=l,g=new Od(d,f,Object.freeze(Ze({},this.urlTree.queryParams)),this.urlTree.fragment,JP(r),da(r),r.component??r._loadedComponent??null,r,QP(r)),y=Dv(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:_,slicedSegments:v}=KP(n,d,h,c);if(v.length===0&&_.hasChildren())return this.processChildren(u,c,_,g).pipe(gn(S=>new cs(g,S)));if(c.length===0&&v.length===0)return Tt(new cs(g,[]));let E=da(r)===o;return this.processSegment(u,c,_,v,E?Ut:o,!0,g).pipe(gn(S=>new cs(g,S instanceof cs?[S]:[])))}))):Pd(n)))}getChildConfig(e,n,r){return n.children?Tt({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Tt({routes:n._loadedRoutes,injector:n._loadedInjector}):v$(e,n,r,this.urlSerializer).pipe(Xr(i=>i?this.configLoader.loadChildren(e,n).pipe(ui(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):b$(n))):Tt({routes:[],injector:e})}};function P$(t){t.sort((e,n)=>e.value.outlet===Ut?-1:n.value.outlet===Ut?1:e.value.outlet.localeCompare(n.value.outlet))}function L$(t){let e=t.value.routeConfig;return e&&e.path===""}function CL(t){let e=[],n=new Set;for(let r of t){if(!L$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=CL(r.children);e.push(new cs(r.value,i))}return e.filter(r=>!n.has(r))}function JP(t){return t.data||{}}function QP(t){return t.resolve||{}}function k$(t,e,n,r,i,o){return Xr(s=>N$(t,e,n,r,s.extractedUrl,i,o).pipe(gn(({state:a,tree:l})=>fn(Ze({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function O$(t,e){return Xr(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Tt(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of IL(l))s.add(c);let a=0;return Or(s).pipe(pd(l=>o.has(l)?F$(l,r,t,e):(l.data=Dv(l,l.parent,t).resolve,Tt(void 0))),ui(()=>a++),gd(1),Xr(l=>a===s.size?Tt(n):xo))})}function IL(t){let e=t.children.map(n=>IL(n)).flat();return[t,...e]}function F$(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!mL(i)&&(o[Zm]=i.title),Yg(()=>(t.data=Dv(t,t.parent,n).resolve,j$(o,t,e,r).pipe(gn(s=>(t._resolvedData=s,t.data=Ze(Ze({},t.data),s),null)))))}function j$(t,e,n,r){let i=FS(t);if(i.length===0)return Tt({});let o={};return Or(i).pipe(Xr(s=>B$(t[s],e,n,r).pipe(Fl(),ui(a=>{if(a instanceof Wm)throw Mv(new Bd,a);o[s]=a}))),gd(1),gn(()=>o),Zc(s=>bL(s)?xo:fd(s)))}function B$(t,e,n,r){let i=Hd(e)??r,o=qd(t,i),s=o.resolve?o.resolve(e,n):co(i,()=>o(e,n));return ec(s)}function kS(t){return Eo(e=>{let n=t(e);return n?Or(n).pipe(gn(()=>e)):Tt(e)})}var DL=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ut);return r}getResolvedTitleForRoute(n){return n.data[Zm]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:()=>Le(U$),providedIn:"root"})}return t})(),U$=(()=>{class t extends DL{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Zt(WP))};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lv=new xt("",{providedIn:"root",factory:()=>({})}),kv=new xt(""),AL=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Le(sS);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Tt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ec(co(n,()=>r.loadComponent())).pipe(gn(ML),Eo(TL),ui(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Zg(()=>{this.componentLoaders.delete(r)})),o=new hd(i,()=>new li).pipe(ud());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=G$(r,this.compiler,n,this.onLoadEndListener).pipe(Zg(()=>{this.childrenLoaders.delete(r)})),s=new hd(o,()=>new li).pipe(ud());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G$(t,e,n,r){return ec(co(n,()=>t.loadChildren())).pipe(gn(ML),Eo(TL),Xr(i=>i instanceof rv||Array.isArray(i)?Tt(i):Or(e.compileModuleAsync(i))),gn(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(kv,[],{optional:!0,self:!0}).flat()),{routes:s.map(cC),injector:o}}))}function z$(t){return t&&typeof t=="object"&&"default"in t}function ML(t){return z$(t)?t.default:t}function TL(t){return Tt(t)}var uC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:()=>Le(V$),providedIn:"root"})}return t})(),V$=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NL=new xt("");var RL=new xt(""),PL=(()=>{class t{currentNavigation=or(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new li;transitionAbortWithErrorSubject=new li;configLoader=Le(AL);environmentInjector=Le(Ai);destroyRef=Le(Vl);urlSerializer=Le(Nv);rootContexts=Le(Xm);location=Le(Rd);inputBindingEnabled=Le(Rv,{optional:!0})!==null;titleStrategy=Le(DL);options=Le(Lv,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Le(uC);createViewTransition=Le(NL,{optional:!0});navigationErrorHandler=Le(RL,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Tt(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new qS(i)),r=i=>this.events.next(new WS(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Zl(()=>{this.transitions?.next(fn(Ze({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Di(null),this.transitions.pipe(Ns(r=>r!==null),Eo(r=>{let i=!1;return Tt(r).pipe(Eo(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ao.SupersededByNewNavigation),xo;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?fn(Ze({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new uu(o.id,this.urlSerializer.serialize(o.rawUrl),"",Ev.IgnoredSameUrlNavigation)),o.resolve(!1),xo;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Tt(o).pipe(Eo(l=>(this.events.next(new Gd(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?xo:Promise.resolve(l))),k$(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ui(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=l.urlAfterRedirects,u));let c=new Sv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:f,extras:d}=o,h=new Gd(l,this.urlSerializer.serialize(c),u,f);this.events.next(h);let g=pL(this.rootComponentType).snapshot;return this.currentTransition=r=fn(Ze({},o),{targetSnapshot:g,urlAfterRedirects:c,extras:fn(Ze({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=c,y)),Tt(r)}else return this.events.next(new uu(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Ev.IgnoredByUrlHandlingStrategy)),o.resolve(!1),xo}),ui(o=>{let s=new GS(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),gn(o=>(this.currentTransition=r=fn(Ze({},o),{guards:e$(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),h$(this.environmentInjector,o=>this.events.next(o)),ui(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Mv(this.urlSerializer,o.guardsResult);let s=new zS(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ns(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ao.GuardRejected),!1)),kS(o=>{if(o.guards.canActivateChecks.length!==0)return Tt(o).pipe(ui(s=>{let a=new VS(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Eo(s=>{let a=!1;return Tt(s).pipe(O$(this.paramsInheritanceStrategy,this.environmentInjector),ui({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ao.NoDataFromResolver)}}))}),ui(s=>{let a=new HS(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),kS(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let c=Hd(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(ui(u=>{a.component=u}),gn(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return e_(s(o.targetSnapshot.root)).pipe(Xc(null),Ol(1))}),kS(()=>this.afterPreactivation()),Eo(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Or(a).pipe(gn(()=>r)):Tt(r)}),gn(o=>{let s=ZW(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=fn(Ze({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ui(()=>{this.events.next(new Hm)}),QW(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ol(1),n_(new wn(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ns(()=>!i&&!r.targetRouterState),ui(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ao.Aborted)}))),ui({next:o=>{i=!0,this.lastSuccessfulNavigation=Zl(this.currentNavigation),this.events.next(new cu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),n_(this.transitionAbortWithErrorSubject.pipe(ui(o=>{throw o}))),Zg(()=>{i||this.cancelNavigationTransition(r,"",Ao.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Zc(o=>{if(this.destroyed)return r.resolve(!1),xo;if(i=!0,xL(o))this.events.next(new Jl(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),JW(o)?this.events.next(new zd(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Vm(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=co(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Wm){let{message:l,cancellationCode:c}=Mv(this.urlSerializer,a);this.events.next(new Jl(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new zd(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return xo}))}))}cancelNavigationTransition(n,r,i){let o=new Jl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Zl(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function H$(t){return t!==Um}var q$=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:()=>Le(W$),providedIn:"root"})}return t})(),aC=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},W$=(()=>{class t extends aC{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Y_(t)))(i||t)}})();static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LL=(()=>{class t{urlSerializer=Le(Nv);options=Le(Lv,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Le(Rd);urlHandlingStrategy=Le(uC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ql;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Ql?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=pL(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:()=>Le($$),providedIn:"root"})}return t})(),$$=(()=>{class t extends LL{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Gd?this.updateStateMemento():n instanceof uu?this.commitTransition(r):n instanceof Sv?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Hm?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Jl&&n.code!==Ao.SupersededByNewNavigation&&n.code!==Ao.Redirect?this.restoreHistory(r):n instanceof Vm?this.restoreHistory(r,!0):n instanceof cu&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=Ze(Ze({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=Ze(Ze({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Y_(t)))(i||t)}})();static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kL(t,e){t.events.pipe(Ns(n=>n instanceof cu||n instanceof Jl||n instanceof Vm||n instanceof uu),gn(n=>n instanceof cu||n instanceof uu?0:(n instanceof Jl?n.code===Ao.Redirect||n.code===Ao.SupersededByNewNavigation:!1)?2:1),Ns(n=>n!==2),Ol(1)).subscribe(()=>{e()})}var Y$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Z$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hC=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Le(J5);stateManager=Le(LL);options=Le(Lv,{optional:!0})||{};pendingTasks=Le(Hl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Le(PL);urlSerializer=Le(Nv);location=Le(Rd);urlHandlingStrategy=Le(uC);injector=Le(Ai);_events=new li;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Le(q$);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Le(kv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Le(Rv,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new kr;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Zl(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Jl&&r.code!==Ao.Redirect&&r.code!==Ao.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cu)this.navigated=!0;else if(r instanceof zd){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=Ze({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||H$(i.source)},s);this.scheduleNavigation(a,Um,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}HW(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Um,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Ze({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(ss)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Zl(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(cC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=Ze(Ze({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let d=i?i.snapshot:this.routerState.snapshot.root;f=uL(d)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return hL(f,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ud(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Um,null,r)}navigate(n,r={skipLocationChange:!1}){return X$(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Eh(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=Ze({},Y$):r===!1?i=Ze({},Z$):i=r,Ud(n))return $P(this.currentUrlTree,n,i);let o=this.parseUrl(n);return $P(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,d)=>{a=f,l=d});let u=this.pendingTasks.add();return kL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function X$(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ht(4008,!1)}var K$=new xt("");function fC(t,...e){return Ih([{provide:kv,multi:!0,useValue:t},[],{provide:Wh,useFactory:J$,deps:[hC]},{provide:iv,multi:!0,useFactory:Q$},e.map(n=>n.\u0275providers)])}function J$(t){return t.routerState.root}function Q$(){let t=Le(Ps);return e=>{let n=t.get(zh);if(e!==n.components[0])return;let r=t.get(hC),i=t.get(eY);t.get(tY)===1&&r.initialNavigation(),t.get(nY,null,{optional:!0})?.setUpPreloading(),t.get(K$,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var eY=new xt("",{factory:()=>new li}),tY=new xt("",{providedIn:"root",factory:()=>1});var nY=new xt("");var OL=[];var FL={providers:[qE(),lS({eventCoalescing:!0}),fC(OL)]};var di={ADD:"add",REMOVE:"remove"};var pa={PROPERTYCHANGE:"propertychange"};var Ke={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};var dC=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},hu=dC;function jL(t,e,n){let r,i;n=n||Mo;let o=0,s=t.length,a=!1;for(;o<s;)r=o+(s-o>>1),i=+n(t[r],e),i<0?o=r+1:(s=r,a=!i);return a?o:~o}function Mo(t,e){return t>e?1:t<e?-1:0}function BL(t,e){return t<e?1:t>e?-1:0}function Wd(t,e,n){if(t[0]<=e)return 0;let r=t.length;if(e<=t[r-1])return r-1;if(typeof n=="function"){for(let i=1;i<r;++i){let o=t[i];if(o===e)return i;if(o<e)return n(e,t[i-1],o)>0?i-1:i}return r-1}if(n>0){for(let i=1;i<r;++i)if(t[i]<e)return i-1;return r-1}if(n<0){for(let i=1;i<r;++i)if(t[i]<=e)return i;return r-1}for(let i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function UL(t,e,n){for(;e<n;){let r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Kt(t,e){let n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function Hi(t,e){let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function GL(t,e,n){let r=e||Mo;return t.every(function(i,o){if(o===0)return!0;let s=r(t[o-1],i);return!(s>0||n&&s===0)})}function ga(){return!0}function Us(){return!1}function tc(){}function Ov(t){let e,n,r;return function(){let i=Array.prototype.slice.call(arguments);return(!n||this!==r||!Hi(i,n))&&(r=this,n=i,e=t.apply(this,arguments)),e}}function zL(t){function e(){let n;try{n=t()}catch(r){return Promise.reject(r)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function Ka(t){for(let e in t)delete t[e]}function us(t){let e;for(e in t)return!1;return!e}var pC=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var jr=pC;var gC=class extends hu{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;let r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){let n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;let o=n?new jr(e):e;o.target||(o.target=this.eventTarget_||this);let s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});r in s||(s[r]=0,a[r]=0),++s[r];let l;for(let c=0,u=i.length;c<u;++c)if("handleEvent"in i[c]?l=i[c].handleEvent(o):l=i[c].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--s[r]===0){let c=a[r];for(delete a[r];c--;)this.removeEventListener(r,tc);delete s[r]}return l}disposeInternal(){this.listeners_&&Ka(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;let r=this.listeners_[e];if(!r)return;let i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=tc,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}},fu=gC;function Lt(t,e,n,r,i){if(i){let s=n;n=function(a){return t.removeEventListener(e,n),s.call(r??this,a)}}else r&&r!==t&&(n=n.bind(r));let o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function $d(t,e,n,r){return Lt(t,e,n,r,!0)}function en(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Ka(t))}var Yd=class extends fu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ke.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){let r=e.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=Lt(this,e[o],n);return i}return Lt(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){let i=e.length;r=new Array(i);for(let o=0;o<i;++o)r[o]=$d(this,e[o],n)}else r=$d(this,e,n);return n.ol_key=r,r}unInternal(e,n){let r=n.ol_key;if(r)Fv(r);else if(Array.isArray(e))for(let i=0,o=e.length;i<o;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}};Yd.prototype.on;Yd.prototype.once;Yd.prototype.un;function Fv(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)en(t[e]);else en(t)}var jv=Yd;function Je(){throw new Error("Unimplemented abstract method.")}var iY=0;function Et(t){return t.ol_uid||(t.ol_uid=String(++iY))}var Bv=class extends jr{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}},mC=class extends jv{constructor(e){super(),this.on,this.once,this.un,Et(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new Bv(r,e,n)),r=pa.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new Bv(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){let i=this.values_||(this.values_={});if(r)i[e]=n;else{let o=i[e];i[e]=n,o!==n&&this.notify(e,o)}}setProperties(e,n){for(let r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){let r=this.values_[e];delete this.values_[e],us(this.values_)&&(this.values_=null),n||this.notify(e,r)}}},Br=mC;var VL={LENGTH:"length"},Zd=class extends jr{constructor(e,n,r){super(e),this.element=n,this.index=r}},yC=class extends Br{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e??[],this.unique_)for(let r=1,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){let n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(VL.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Zd(di.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){let n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){let n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;let n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Zd(di.REMOVE,n,e)),n}setAt(e,n){let r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);let i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Zd(di.REMOVE,i,e)),this.dispatchEvent(new Zd(di.ADD,n,e))}updateLength_(){this.set(VL.LENGTH,this.array_.length)}assertUnique_(e,n){let r=this.array_;for(let i=0,o=r.length;i<o;++i)if(r[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}},Ti=yC;var _C=class extends jr{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}},du=_C;var vC=class extends du{constructor(e,n,r,i,o,s){super(e,n,o),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Gs=vC;var ln={SINGLECLICK:"singleclick",CLICK:Ke.CLICK,DBLCLICK:Ke.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var $h=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",oY=$h.includes("safari")&&!$h.includes("chrom"),LEe=oY&&($h.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test($h)),HL=$h.includes("webkit")&&!$h.includes("edge"),wC=$h.includes("macintosh"),qL=typeof devicePixelRatio<"u"?devicePixelRatio:1,Sr=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,xC=typeof Image<"u"&&Image.prototype.decode;var Uv=(function(){let t=!1;try{let e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t})();var Jm={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var bC=class extends fu{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;let r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=Lt(r,Jm.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Lt(r,Jm.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ke.TOUCHMOVE,this.boundHandleTouchMove_,Uv?{passive:!1}:!1)}emulateClick_(e){let n=new Gs(ln.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Gs(ln.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let r=new Gs(ln.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){let n=e,r=n.pointerId;if(n.type==ln.POINTERUP||n.type==ln.POINTERCANCEL){delete this.trackedTouches_[r];for(let i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==ln.POINTERDOWN||n.type==ln.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);let n=new Gs(ln.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(en),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);let n=new Gs(ln.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){let r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Lt(r,ln.POINTERMOVE,this.handlePointerMove_,this),Lt(r,ln.POINTERUP,this.handlePointerUp_,this),Lt(this.element_,ln.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(Lt(this.element_.getRootNode(),ln.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;let n=new Gs(ln.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;let n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Gs(ln.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){let n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(en(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ke.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(en(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(en),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},WL=bC;var Ja={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};var Ni={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var ot={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Gt(t,e){if(!t)throw new Error(e)}var Qm=1/0,EC=class{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Ka(this.queuedElements_)}dequeue(){let e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));let i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){Gt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let n=this.priorityFunction_(e);return n!=Qm?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){let n=this.elements_,r=this.priorities_,i=n.length,o=n[e],s=r[e],a=e;for(;e<i>>1;){let l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<i&&r[c]<r[l]?c:l;n[e]=n[u],r[e]=r[u],e=u}n[e]=o,r[e]=s,this.siftDown_(a,e)}siftDown_(e,n){let r=this.elements_,i=this.priorities_,o=r[n],s=i[n];for(;n>e;){let a=this.getParentIndex_(n);if(i[a]>s)r[n]=r[a],i[n]=i[a],n=a;else break}r[n]=o,i[n]=s}reprioritize(){let e=this.priorityFunction_,n=this.elements_,r=this.priorities_,i=0,o=n.length,s,a,l;for(a=0;a<o;++a)s=n[a],l=e(s),l==Qm?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=l,n[i++]=s);n.length=i,r.length=i,this.heapify_()}},$L=EC;var SC=class extends $L{constructor(e,n){super(r=>e.apply(null,r),r=>r[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){let n=super.enqueue(e);return n&&e[0].addEventListener(Ke.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){let n=e.target,r=n.getState();if(r===ot.LOADED||r===ot.ERROR||r===ot.EMPTY){r!==ot.ERROR&&n.removeEventListener(Ke.CHANGE,this.boundHandleTileChange_);let i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;){let i=this.dequeue()[0],o=i.getKey();i.getState()===ot.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,i.load())}}},YL=SC;function ZL(t,e,n,r,i){if(!t||!(n in t.wantedTiles))return Qm;if(!t.wantedTiles[n][e.getKey()])return Qm;let o=t.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}var ti={ANIMATING:0,INTERACTING:1};var zs={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function tn(t,e,n){return Math.min(Math.max(t,e),n)}function XL(t,e,n,r,i,o){let s=i-n,a=o-r;if(s!==0||a!==0){let l=((t-n)*s+(e-r)*a)/(s*s+a*a);l>1?(n=i,r=o):l>0&&(n+=s*l,r+=a*l)}return To(t,e,n,r)}function To(t,e,n,r){let i=n-t,o=r-e;return i*i+o*o}function KL(t){let e=t.length;for(let r=0;r<e;r++){let i=r,o=Math.abs(t[r][r]);for(let a=r+1;a<e;a++){let l=Math.abs(t[a][r]);l>o&&(o=l,i=a)}if(o===0)return null;let s=t[i];t[i]=t[r],t[r]=s;for(let a=r+1;a<e;a++){let l=-t[a][r]/t[r][r];for(let c=r;c<e+1;c++)r==c?t[a][c]=0:t[a][c]+=l*t[r][c]}}let n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function Gv(t){return t*180/Math.PI}function hs(t){return t*Math.PI/180}function ma(t,e){let n=t%e;return n*e<0?n+e:n}function Ri(t,e,n){return t+n*(e-t)}function pu(t,e){let n=Math.pow(10,e);return Math.round(t*n)/n}function e0(t,e){return Math.floor(pu(t,e))}function t0(t,e){return Math.ceil(pu(t,e))}function zv(t,e,n){if(t>=e&&t<n)return t;let r=n-e;return((t-e)%r+r)%r+e}function CC(t,e,n){return(function(r,i,o,s,a){if(!r)return;if(!i&&!e)return r;let l=e?0:o[0]*i,c=e?0:o[1]*i,u=a?a[0]:0,f=a?a[1]:0,d=t[0]+l/2+u,h=t[2]-l/2+u,g=t[1]+c/2+f,y=t[3]-c/2+f;d>h&&(d=(h+d)/2,h=d),g>y&&(g=(y+g)/2,y=g);let _=tn(r[0],d,h),v=tn(r[1],g,y);if(s&&n&&i){let E=30*i;_+=-E*Math.log(1+Math.max(0,d-r[0])/E)+E*Math.log(1+Math.max(0,r[0]-h)/E),v+=-E*Math.log(1+Math.max(0,g-r[1])/E)+E*Math.log(1+Math.max(0,r[1]-y)/E)}return[_,v]})}function JL(t){return t}var Ur={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function n0(t){let e=Cr();for(let n=0,r=t.length;n<r;++n)Zh(e,t[n]);return e}function sY(t,e,n){let r=Math.min.apply(null,t),i=Math.min.apply(null,e),o=Math.max.apply(null,t),s=Math.max.apply(null,e);return po(r,i,o,s,n)}function gu(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Hv(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function No(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function ya(t,e){return r0(t,e[0],e[1])}function Yh(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function r0(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Vv(t,e){let n=t[0],r=t[1],i=t[2],o=t[3],s=e[0],a=e[1],l=Ur.UNKNOWN;return s<n?l=l|Ur.LEFT:s>i&&(l=l|Ur.RIGHT),a<r?l=l|Ur.BELOW:a>o&&(l=l|Ur.ABOVE),l===Ur.UNKNOWN&&(l=Ur.INTERSECTING),l}function Cr(){return[1/0,1/0,-1/0,-1/0]}function po(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function nc(t){return po(1/0,1/0,-1/0,-1/0,t)}function qv(t,e){let n=t[0],r=t[1];return po(n,r,n,r,e)}function Xd(t,e,n,r,i){let o=nc(i);return IC(o,t,e,n,r)}function rc(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Wv(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Zh(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function IC(t,e,n,r,i){for(;n<r;n+=i)aY(t,e[n],e[n+1]);return t}function aY(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Kd(t,e){let n;return n=e(Xh(t)),n||(n=e(Kh(t)),n)||(n=e(Jh(t)),n)||(n=e(fs(t)),n)?n:!1}function i0(t){let e=0;return el(t)||(e=zt(t)*nr(t)),e}function Xh(t){return[t[0],t[1]]}function Kh(t){return[t[2],t[1]]}function Ro(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function QL(t,e){let n;if(e==="bottom-left")n=Xh(t);else if(e==="bottom-right")n=Kh(t);else if(e==="top-left")n=fs(t);else if(e==="top-right")n=Jh(t);else throw new Error("Invalid corner");return n}function o0(t,e,n,r,i){let[o,s,a,l,c,u,f,d]=DC(t,e,n,r);return po(Math.min(o,a,c,f),Math.min(s,l,u,d),Math.max(o,a,c,f),Math.max(s,l,u,d),i)}function DC(t,e,n,r){let i=e*r[0]/2,o=e*r[1]/2,s=Math.cos(n),a=Math.sin(n),l=i*s,c=i*a,u=o*s,f=o*a,d=t[0],h=t[1];return[d-l+f,h-c-u,d-l-f,h-c+u,d+l-f,h+c+u,d+l+f,h+c-u,d-l+f,h-c-u]}function nr(t){return t[3]-t[1]}function Qa(t,e,n){let r=n||Cr();return Qn(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):nc(r),r}function fs(t){return[t[0],t[3]]}function Jh(t){return[t[2],t[3]]}function zt(t){return t[2]-t[0]}function Qn(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function el(t){return t[2]<t[0]||t[3]<t[1]}function ek(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function tk(t,e,n){let r=!1,i=Vv(t,e),o=Vv(t,n);if(i===Ur.INTERSECTING||o===Ur.INTERSECTING)r=!0;else{let s=t[0],a=t[1],l=t[2],c=t[3],u=e[0],f=e[1],d=n[0],h=n[1],g=(h-f)/(d-u),y,_;o&Ur.ABOVE&&!(i&Ur.ABOVE)&&(y=d-(h-c)/g,r=y>=s&&y<=l),!r&&o&Ur.RIGHT&&!(i&Ur.RIGHT)&&(_=h-(d-l)*g,r=_>=a&&_<=c),!r&&o&Ur.BELOW&&!(i&Ur.BELOW)&&(y=d-(h-a)/g,r=y>=s&&y<=l),!r&&o&Ur.LEFT&&!(i&Ur.LEFT)&&(_=h-(d-s)*g,r=_>=a&&_<=c)}return r}function nk(t,e,n,r){if(el(t))return nc(n);let i=[];if(r>1){let a=t[2]-t[0],l=t[3]-t[1];for(let c=0;c<r;++c)i.push(t[0]+a*c/r,t[1],t[2],t[1]+l*c/r,t[2]-a*c/r,t[3],t[0],t[3]-l*c/r)}else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);let o=[],s=[];for(let a=0,l=i.length;a<l;a+=2)o.push(i[a]),s.push(i[a+1]);return sY(o,s,n)}function AC(t,e){let n=e.getExtent(),r=Ro(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){let i=zt(n),s=Math.floor((r[0]-n[0])/i)*i;t[0]-=s,t[2]-=s}return t}function $v(t,e,n){if(e.canWrapX()){let r=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[r[0],t[1],r[2],t[3]]];AC(t,e);let i=zt(r);if(zt(t)>i&&!n)return[[r[0],t[1],r[2],t[3]]];if(t[0]<r[0])return[[t[0]+i,t[1],r[2],t[3]],[r[0],t[1],t[2],t[3]]];if(t[2]>r[2])return[[t[0],t[1],r[2],t[3]],[r[0],t[1],t[2]-i,t[3]]]}return[t]}function Jd(t,e,n){let r=n!==void 0?t.toFixed(n):""+t,i=r.indexOf(".");return i=i===-1?r.length:i,i>e?r:new Array(1+e-i).join("0")+r}function rk(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function ik(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function Qh(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Qd(t,e){let n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t}function ok(t,e){return t[0]*=e,t[1]*=e,t}function MC(t,e){let n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Yv(t,e){return Math.sqrt(MC(t,e))}function Zv(t,e){if(e.canWrapX()){let n=zt(e.getExtent()),r=TC(t,e,n);r&&(t[0]-=r*n)}return t}function TC(t,e,n){let r=e.getExtent(),i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||zt(r),i=Math.floor((t[0]-r[0])/n)),i}function NC(t){return Math.pow(t,3)}function Po(t){return 1-NC(1-t)}function sk(t){return 3*t*t-2*t*t*t}function ak(t){return t}var lY=63710088e-1;function RC(t,e,n){n=n||lY;let r=hs(t[1]),i=hs(e[1]),o=(i-r)/2,s=hs(e[0]-t[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var lk={info:1,warn:2,error:3,none:4},cY=lk.info;function Xv(...t){cY>lk.warn||console.warn(...t)}var ic={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var PC=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ic[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},mu=PC;var s0=6378137,ep=Math.PI*s0,uY=[-ep,-ep,ep,ep],hY=[-180,-85,180,85],Kv=s0*Math.log(Math.tan(Math.PI/2)),yu=class extends mu{constructor(e){super({code:e,units:"m",extent:uY,global:!0,worldExtent:hY,getPointResolution:function(n,r){return n/Math.cosh(r[1]/s0)}})}},LC=[new yu("EPSG:3857"),new yu("EPSG:102100"),new yu("EPSG:102113"),new yu("EPSG:900913"),new yu("http://www.opengis.net/def/crs/EPSG/0/3857"),new yu("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ck(t,e,n,r){let i=t.length;n=n>1?n:2,r=r??n,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let o=0;o<i;o+=r){e[o]=ep*t[o]/180;let s=s0*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));s>Kv?s=Kv:s<-Kv&&(s=-Kv),e[o+1]=s}return e}function uk(t,e,n,r){let i=t.length;n=n>1?n:2,r=r??n,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let o=0;o<i;o+=r)e[o]=180*t[o]/ep,e[o+1]=360*Math.atan(Math.exp(t[o+1]/s0))/Math.PI-90;return e}var fY=6378137,hk=[-180,-90,180,90],dY=Math.PI*fY/180,oc=class extends mu{constructor(e,n){super({code:e,units:"degrees",extent:hk,axisOrientation:n,global:!0,metersPerUnit:dY,worldExtent:hk})}},kC=[new oc("CRS:84"),new oc("EPSG:4326","neu"),new oc("urn:ogc:def:crs:OGC:1.3:CRS84"),new oc("urn:ogc:def:crs:OGC:2:84"),new oc("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new oc("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new oc("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var OC={};function tp(t){return OC[t]||OC[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function fk(t,e){OC[t]=e}var np={};function _u(t,e,n){let r=t.getCode(),i=e.getCode();r in np||(np[r]={}),np[r][i]=n}function rp(t,e){return t in np&&e in np[t]?np[t][e]:null}var Jv=.9996,Vs=.00669438,e2=Vs*Vs,t2=e2*Vs,ef=Vs/(1-Vs),dk=Math.sqrt(1-Vs),ip=(1-dk)/(1+dk),yk=ip*ip,FC=yk*ip,jC=FC*ip,_k=jC*ip,vk=1-Vs/4-3*e2/64-5*t2/256,pY=3*Vs/8+3*e2/32+45*t2/1024,gY=15*e2/256+45*t2/1024,mY=35*t2/3072,yY=3/2*ip-27/32*FC+269/512*_k,_Y=21/16*yk-55/32*jC,vY=151/96*FC-417/128*_k,wY=1097/512*jC,Qv=6378137;function xY(t,e,n){let r=t-5e5,s=(n.north?e:e-1e7)/Jv/(Qv*vk),a=s+yY*Math.sin(2*s)+_Y*Math.sin(4*s)+vY*Math.sin(6*s)+wY*Math.sin(8*s),l=Math.sin(a),c=l*l,u=Math.cos(a),f=l/u,d=f*f,h=d*d,g=1-Vs*c,y=Math.sqrt(1-Vs*c),_=Qv/y,v=(1-Vs)/g,E=ef*u**2,S=E*E,I=r/(_*Jv),R=I*I,V=R*I,j=V*I,F=j*I,k=F*I,N=a-f/v*(R/2-j/24*(5+3*d+10*E-4*S-9*ef))+k/720*(61+90*d+298*E+45*h-252*ef-3*S),T=(I-V/6*(1+2*d+E)+F/120*(5-2*E+28*d-3*S+8*ef+24*h))/u;return T=zv(T+hs(wk(n.number)),-Math.PI,Math.PI),[Gv(T),Gv(N)]}var pk=-80,gk=84,bY=-180,EY=180;function SY(t,e,n){t=zv(t,bY,EY),e<pk?e=pk:e>gk&&(e=gk);let r=hs(e),i=Math.sin(r),o=Math.cos(r),s=i/o,a=s*s,l=a*a,c=hs(t),u=wk(n.number),f=hs(u),d=Qv/Math.sqrt(1-Vs*i**2),h=ef*o**2,g=o*zv(c-f,-Math.PI,Math.PI),y=g*g,_=y*g,v=_*g,E=v*g,S=E*g,I=Qv*(vk*r-pY*Math.sin(2*r)+gY*Math.sin(4*r)-mY*Math.sin(6*r)),R=Jv*d*(g+_/6*(1-a+h)+E/120*(5-18*a+l+72*h-58*ef))+5e5,V=Jv*(I+d*s*(y/2+v/24*(5-a+9*h+4*h**2)+S/720*(61-58*a+l+600*h-330*ef)));return n.north||(V+=1e7),[R,V]}function wk(t){return(t-1)*6-180+3}var CY=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function xk(t){let e=0;for(let i of CY){let o=t.match(i);if(o){e=parseInt(o[1]);break}}if(!e)return null;let n=0,r=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(r=!0,n=e-32600),n?{number:n,north:r}:null}function mk(t,e){return function(n,r,i,o){let s=n.length;i=i>1?i:2,o=o??i,r||(i>2?r=n.slice():r=new Array(s));for(let a=0;a<s;a+=o){let l=n[a],c=n[a+1],u=t(l,c,e);r[a]=u[0],r[a+1]=u[1]}return r}}function bk(t){return xk(t)?new mu({code:t,units:"m"}):null}function Ek(t){let e=xk(t.getCode());return e?{forward:mk(SY,e),inverse:mk(xY,e)}:null}var IY=[Ek],DY=[bk];var UC=!0;function Sk(t){UC=!(t===void 0?!0:t)}function GC(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function a0(t){fk(t.getCode(),t),_u(t,t,GC)}function AY(t){t.forEach(a0)}function nn(t){if(typeof t!="string")return t;let e=tp(t);if(e)return e;for(let n of DY){let r=n(t);if(r)return r}return null}function zC(t,e,n,r){t=nn(t);let i,o=t.getPointResolutionFunc();if(o){if(i=o(e,n),r&&r!==t.getUnits()){let s=t.getMetersPerUnit();s&&(i=i*s/ic[r])}}else{let s=t.getUnits();if(s=="degrees"&&!r||r=="degrees")i=e;else{let a=tf(t,nn("EPSG:4326"));if(!a&&s!=="degrees")i=e*t.getMetersPerUnit();else{let c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];c=a(c,c,2);let u=RC(c.slice(0,2),c.slice(2,4)),f=RC(c.slice(4,6),c.slice(6,8));i=(u+f)/2}let l=r?ic[r]:t.getMetersPerUnit();l!==void 0&&(i/=l)}}return i}function n2(t){AY(t),t.forEach(function(e){t.forEach(function(n){e!==n&&_u(e,n,GC)})})}function MY(t,e,n,r){t.forEach(function(i){e.forEach(function(o){_u(i,o,n),_u(o,i,r)})})}function i2(t,e){return t?typeof t=="string"?nn(t):t:nn(e)}function r2(t){return(function(e,n,r,i){let o=e.length;r=r!==void 0?r:2,i=i??r,n=n!==void 0?n:new Array(o);for(let s=0;s<o;s+=i){let a=t(e.slice(s,s+r)),l=a.length;for(let c=0,u=i;c<u;++c)n[s+c]=c>=l?e[s+c]:a[c]}return n})}function Ck(t,e,n,r){let i=nn(t),o=nn(e);_u(i,o,r2(n)),_u(o,i,r2(r))}function Ik(t,e){let n=nf(t,e!==void 0?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=ma(r+180,360)-180),n}function vu(t,e){if(t===e)return!0;let n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||tf(t,e)===GC)&&n}function tf(t,e){let n=t.getCode(),r=e.getCode(),i=rp(n,r);if(i)return i;let o=null,s=null;for(let l of IY)o||(o=l(t)),s||(s=l(e));if(!o&&!s)return null;let a="EPSG:4326";if(s)if(o)i=BC(o.inverse,s.forward);else{let l=rp(n,a);l&&(i=BC(l,s.forward))}else{let l=rp(a,r);l&&(i=BC(o.inverse,l))}return i&&(a0(t),a0(e),_u(t,e,i)),i}function BC(t,e){return function(n,r,i,o){return r=t(n,r,i,o),e(r,r,i,o)}}function sc(t,e){let n=nn(t),r=nn(e);return tf(n,r)}function nf(t,e,n){let r=sc(e,n);if(!r){let i=nn(e).getCode(),o=nn(n).getCode();throw new Error(`No transform available between ${i} and ${o}`)}return r(t,void 0,t.length)}function VC(t,e,n,r){let i=sc(e,n);return nk(t,i,void 0,r)}var _a=null;function ac(){return _a}function l0(t,e){return _a?nf(t,e,_a):t}function Lo(t,e){return _a?nf(t,_a,e):(UC&&!Qh(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(UC=!1,Xv("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function wu(t,e){return _a?VC(t,e,_a):t}function Hs(t,e){return _a?VC(t,_a,e):t}function Dk(t,e){if(!_a)return t;let n=nn(e).getMetersPerUnit(),r=_a.getMetersPerUnit();return n&&r?t*n/r:t}function HC(t,e,n){return function(r){let i,o;if(t.canWrapX()){let s=t.getExtent(),a=zt(s);r=r.slice(0),o=TC(r,t,a),o&&(r[0]=r[0]-o*a),r[0]=tn(r[0],s[0],s[2]),r[1]=tn(r[1],s[1],s[3]),i=n(r)}else i=n(r);return o&&e.canWrapX()&&(i[0]+=o*zt(e.getExtent())),i}}function TY(){n2(LC),n2(kC),MY(kC,LC,ck,uk)}TY();var H5e=new Array(6);function pi(){return[1,0,0,1,0,0]}function Ak(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function sr(t,e){let n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Pi(t,e,n,r,i,o,s,a){let l=Math.sin(o),c=Math.cos(o);return t[0]=r*c,t[1]=i*l,t[2]=-r*l,t[3]=i*c,t[4]=s*r*c-a*r*l+e,t[5]=s*i*l+a*i*c+n,t}function s2(t,e){let n=NY(e);Gt(n!==0,"Transformation matrix cannot be inverted");let r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5];return t[0]=s/n,t[1]=-i/n,t[2]=-o/n,t[3]=r/n,t[4]=(o*l-s*a)/n,t[5]=-(r*l-i*a)/n,t}function NY(t){return t[0]*t[3]-t[1]*t[2]}var RY=[1e5,1e5,1e5,1e5,2,2];function Mk(t){return"matrix("+t.join(", ")+")"}function o2(t){return t.substring(7,t.length-1).split(",").map(parseFloat)}function Tk(t,e){let n=o2(t),r=o2(e);for(let i=0;i<6;++i)if(Math.round((n[i]-r[i])*RY[i])!==0)return!1;return!0}function ko(t,e,n,r,i,o,s){o=o||[],s=s||2;let a=0;for(let l=e;l<n;l+=r){let c=t[l],u=t[l+1];o[a++]=i[0]*c+i[2]*u+i[4],o[a++]=i[1]*c+i[3]*u+i[5];for(let f=2;f<s;f++)o[a++]=t[l+f]}return o&&o.length!=a&&(o.length=a),o}function op(t,e,n,r,i,o,s){s=s||[];let a=Math.cos(i),l=Math.sin(i),c=o[0],u=o[1],f=0;for(let d=e;d<n;d+=r){let h=t[d]-c,g=t[d+1]-u;s[f++]=c+h*a-g*l,s[f++]=u+h*l+g*a;for(let y=d+2;y<d+r;++y)s[f++]=t[y]}return s&&s.length!=f&&(s.length=f),s}function Nk(t,e,n,r,i,o,s,a){a=a||[];let l=s[0],c=s[1],u=0;for(let f=e;f<n;f+=r){let d=t[f]-l,h=t[f+1]-c;a[u++]=l+i*d,a[u++]=c+o*h;for(let g=f+2;g<f+r;++g)a[u++]=t[g]}return a&&a.length!=u&&(a.length=u),a}function Rk(t,e,n,r,i,o,s){s=s||[];let a=0;for(let l=e;l<n;l+=r){s[a++]=t[l]+i,s[a++]=t[l+1]+o;for(let c=l+2;c<l+r;++c)s[a++]=t[c]}return s&&s.length!=a&&(s.length=a),s}var Pk=pi(),PY=[NaN,NaN],qC=class extends Br{constructor(){super(),this.extent_=Cr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Ov((e,n,r)=>{if(!r)return this.getSimplifiedGeometry(n);let i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Je()}closestPointXY(e,n,r,i){return Je()}containsXY(e,n){return this.closestPointXY(e,n,PY,Number.MIN_VALUE)===0}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Je()}getExtent(e){if(this.extentRevision_!=this.getRevision()){let n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&nc(n),this.extentRevision_=this.getRevision()}return ek(this.extent_,e)}rotate(e,n){Je()}scale(e,n,r){Je()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Je()}getType(){return Je()}applyTransform(e){Je()}intersectsExtent(e){return Je()}translate(e,n){Je()}transform(e,n){let r=nn(e),i=r.getUnits()=="tile-pixels"?function(o,s,a){let l=r.getExtent(),c=r.getWorldExtent(),u=nr(c)/nr(l);Pi(Pk,c[0],c[3],u,-u,0,0,0);let f=ko(o,0,o.length,a,Pk,s),d=sc(r,n);return d?d(f,f,a):f}:sc(r,n);return this.applyTransform(i),this}},a2=qC;var WC=class extends a2{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Xd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Je()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=c0(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Je()}setLayout(e,n,r){let i;if(e)i=c0(e);else{for(let o=0;o<r;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=xu(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){let r=this.getFlatCoordinates();if(r){let i=this.getStride();op(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=Ro(this.getExtent()));let i=this.getFlatCoordinates();if(i){let o=this.getStride();Nk(i,0,i.length,o,e,n,r,i),this.changed()}}translate(e,n){let r=this.getFlatCoordinates();if(r){let i=this.getStride();Rk(r,0,r.length,i,e,n,r),this.changed()}}};function xu(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function c0(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function Lk(t,e,n){let r=t.getFlatCoordinates();if(!r)return null;let i=t.getStride();return ko(r,0,r.length,i,e,n)}var qi=WC;function $C(t,e,n,r){let i=0,o=t[n-r],s=t[n-r+1],a=0,l=0;for(;e<n;e+=r){let c=t[e]-o,u=t[e+1]-s;i+=l*c-a*u,a=c,l=u}return i/2}function YC(t,e,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){let a=n[o];i+=$C(t,e,a,r),e=a}return i}function kk(t,e,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){let a=n[o];i+=YC(t,e,a,r),e=a[a.length-1]}return i}function Ok(t,e,n,r,i,o,s){let a=t[e],l=t[e+1],c=t[n]-a,u=t[n+1]-l,f;if(c===0&&u===0)f=e;else{let d=((i-a)*c+(o-l)*u)/(c*c+u*u);if(d>1)f=n;else if(d>0){for(let h=0;h<r;++h)s[h]=Ri(t[e+h],t[n+h],d);s.length=r;return}else f=e}for(let d=0;d<r;++d)s[d]=t[f+d];s.length=r}function u0(t,e,n,r,i){let o=t[e],s=t[e+1];for(e+=r;e<n;e+=r){let a=t[e],l=t[e+1],c=To(o,s,a,l);c>i&&(i=c),o=a,s=l}return i}function h0(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){let a=n[o];i=u0(t,e,a,r,i),e=a}return i}function Fk(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){let a=n[o];i=h0(t,e,a,r,i),e=a[a.length-1]}return i}function f0(t,e,n,r,i,o,s,a,l,c,u){if(e==n)return c;let f,d;if(i===0){if(d=To(s,a,t[e],t[e+1]),d<c){for(f=0;f<r;++f)l[f]=t[e+f];return l.length=r,d}return c}u=u||[NaN,NaN];let h=e+r;for(;h<n;)if(Ok(t,h-r,h,r,s,a,u),d=To(s,a,u[0],u[1]),d<c){for(c=d,f=0;f<r;++f)l[f]=u[f];l.length=r,h+=r}else h+=r*Math.max((Math.sqrt(d)-Math.sqrt(c))/i|0,1);if(o&&(Ok(t,n-r,e,r,s,a,u),d=To(s,a,u[0],u[1]),d<c)){for(c=d,f=0;f<r;++f)l[f]=u[f];l.length=r}return c}function d0(t,e,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let f=0,d=n.length;f<d;++f){let h=n[f];c=f0(t,e,h,r,i,o,s,a,l,c,u),e=h}return c}function jk(t,e,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let f=0,d=n.length;f<d;++f){let h=n[f];c=d0(t,e,h,r,i,o,s,a,l,c,u),e=h[h.length-1]}return c}function l2(t,e,n,r){for(let i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}function rf(t,e,n,r){for(let i=0,o=n.length;i<o;++i){let s=n[i];for(let a=0;a<r;++a)t[e++]=s[a]}return e}function bu(t,e,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=rf(t,e,n[s],r);i[o++]=l,e=l}return i.length=o,i}function c2(t,e,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=bu(t,e,n[s],r,i[o]);l.length===0&&(l[0]=e),i[o++]=l,e=l[l.length-1]}return i.length=o,i}function qs(t,e,n,r,i){i=i!==void 0?i:[];let o=0;for(let s=e;s<n;s+=r)i[o++]=t.slice(s,s+r);return i.length=o,i}function Eu(t,e,n,r,i){i=i!==void 0?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=n[s];i[o++]=qs(t,e,l,r,i[o]),e=l}return i.length=o,i}function p0(t,e,n,r,i){i=i!==void 0?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=n[s];i[o++]=l.length===1&&l[0]===e?[]:Eu(t,e,l,r,i[o]),e=l[l.length-1]}return i.length=o,i}function of(t,e,n,r,i,o,s){let a=(n-e)/r;if(a<3){for(;e<n;e+=r)o[s++]=t[e],o[s++]=t[e+1];return s}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[e,n-r],u=0;for(;c.length>0;){let f=c.pop(),d=c.pop(),h=0,g=t[d],y=t[d+1],_=t[f],v=t[f+1];for(let E=d+r;E<f;E+=r){let S=t[E],I=t[E+1],R=XL(S,I,g,y,_,v);R>h&&(u=E,h=R)}h>i&&(l[(u-e)/r]=1,d+r<u&&c.push(d,u),u+r<f&&c.push(u,f))}for(let f=0;f<a;++f)l[f]&&(o[s++]=t[e+f*r],o[s++]=t[e+f*r+1]);return s}function u2(t,e,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){let u=n[l];s=of(t,e,u,r,i,o,s),a.push(s),e=u}return s}function Su(t,e){return e*Math.round(t/e)}function LY(t,e,n,r,i,o,s){if(e==n)return s;let a=Su(t[e],i),l=Su(t[e+1],i);e+=r,o[s++]=a,o[s++]=l;let c,u;do if(c=Su(t[e],i),u=Su(t[e+1],i),e+=r,e==n)return o[s++]=c,o[s++]=u,s;while(c==a&&u==l);for(;e<n;){let f=Su(t[e],i),d=Su(t[e+1],i);if(e+=r,f==c&&d==u)continue;let h=c-a,g=u-l,y=f-a,_=d-l;if(h*_==g*y&&(h<0&&y<h||h==y||h>0&&y>h)&&(g<0&&_<g||g==_||g>0&&_>g)){c=f,u=d;continue}o[s++]=c,o[s++]=u,a=c,l=u,c=f,u=d}return o[s++]=c,o[s++]=u,s}function g0(t,e,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){let u=n[l];s=LY(t,e,u,r,i,o,s),a.push(s),e=u}return s}function Bk(t,e,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){let u=n[l],f=[];s=g0(t,e,u,r,i,o,s,f),a.push(f),e=u[u.length-1]}return s}var ZC=class t extends qi{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new t(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<No(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(u0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),f0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return $C(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return qs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){let n=[];return n.length=of(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rf(this.flatCoordinates,0,e,this.stride),this.changed()}},XC=ZC;var KC=class t extends qi{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){let e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){let o=this.flatCoordinates,s=To(e,n,o[0],o[1]);if(s<i){let a=this.stride;for(let l=0;l<a;++l)r[l]=o[l];return r.length=a,s}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return qv(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return r0(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l2(this.flatCoordinates,0,e,this.stride),this.changed()}},gi=KC;function Uk(t,e,n,r,i){return!Kd(i,function(s){return!Cu(t,e,n,r,s[0],s[1])})}function Cu(t,e,n,r,i,o){let s=0,a=t[n-r],l=t[n-r+1];for(;e<n;e+=r){let c=t[e],u=t[e+1];l<=o?u>o&&(c-a)*(o-l)-(i-a)*(u-l)>0&&s++:u<=o&&(c-a)*(o-l)-(i-a)*(u-l)<0&&s--,a=c,l=u}return s!==0}function m0(t,e,n,r,i,o){if(n.length===0||!Cu(t,e,n[0],r,i,o))return!1;for(let s=1,a=n.length;s<a;++s)if(Cu(t,n[s-1],n[s],r,i,o))return!1;return!0}function Gk(t,e,n,r,i,o){if(n.length===0)return!1;for(let s=0,a=n.length;s<a;++s){let l=n[s];if(m0(t,e,l,r,i,o))return!0;e=l[l.length-1]}return!1}function y0(t,e,n,r,i,o,s){let a,l,c,u,f,d,h,g=i[o+1],y=[];for(let E=0,S=n.length;E<S;++E){let I=n[E];for(u=t[I-r],d=t[I-r+1],a=e;a<I;a+=r)f=t[a],h=t[a+1],(g<=d&&h<=g||d<=g&&g<=h)&&(c=(g-d)/(h-d)*(f-u)+u,y.push(c)),u=f,d=h}let _=NaN,v=-1/0;for(y.sort(Mo),u=y[0],a=1,l=y.length;a<l;++a){f=y[a];let E=Math.abs(f-u);E>v&&(c=(u+f)/2,m0(t,e,n,r,c,g)&&(_=c,v=E)),u=f}return isNaN(_)&&(_=i[o]),s?(s.push(_,g,v),s):[_,g,v]}function h2(t,e,n,r,i){let o=[];for(let s=0,a=n.length;s<a;++s){let l=n[s];o=y0(t,e,l,r,i,2*s,o),e=l[l.length-1]}return o}function f2(t,e,n,r,i){let o;for(e+=r;e<n;e+=r)if(o=i(t.slice(e-r,e),t.slice(e,e+r)),o)return o;return!1}function _0(t,e,n,r,i,o){return o=o??IC(Cr(),t,e,n,r),Qn(i,o)?o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:f2(t,e,n,r,function(s,a){return tk(i,s,a)}):!1}function zk(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){if(_0(t,e,n[o],r,i))return!0;e=n[o]}return!1}function JC(t,e,n,r,i){return!!(_0(t,e,n,r,i)||Cu(t,e,n,r,i[0],i[1])||Cu(t,e,n,r,i[0],i[3])||Cu(t,e,n,r,i[2],i[1])||Cu(t,e,n,r,i[2],i[3]))}function QC(t,e,n,r,i){if(!JC(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let o=1,s=n.length;o<s;++o)if(Uk(t,n[o-1],n[o],r,i)&&!_0(t,n[o-1],n[o],r,i))return!1;return!0}function Vk(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){let a=n[o];if(QC(t,e,a,r,i))return!0;e=a[a.length-1]}return!1}function Hk(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){let o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function eI(t,e,n,r){let i=0,o=t[n-r],s=t[n-r+1];for(;e<n;e+=r){let a=t[e],l=t[e+1];i+=(a-o)*(l+s),o=a,s=l}return i===0?void 0:i>0}function v0(t,e,n,r,i){i=i!==void 0?i:!1;for(let o=0,s=n.length;o<s;++o){let a=n[o],l=eI(t,e,a,r);if(o===0){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=a}return!0}function d2(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){let a=n[o];if(!v0(t,e,a,r,i))return!1;a.length&&(e=a[a.length-1])}return!0}function sp(t,e,n,r,i){i=i!==void 0?i:!1;for(let o=0,s=n.length;o<s;++o){let a=n[o],l=eI(t,e,a,r);(o===0?i&&l||!i&&!l:i&&!l||!i&&l)&&Hk(t,e,a,r),e=a}return e}function w0(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o)e=sp(t,e,n[o],r,i);return e}function qk(t,e){let n=[],r=0,i=0,o;for(let s=0,a=e.length;s<a;++s){let l=e[s],c=eI(t,r,l,2);if(o===void 0&&(o=c),c===o)n.push(e.slice(i,s+1));else{if(n.length===0)continue;n[n.length-1].push(e[i])}i=s+1,r=l}return n}var p2=class t extends qi{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Kt(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<No(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(h0(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d0(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return m0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return YC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),sp(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Eu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let e=Ro(this.getExtent());this.flatInteriorPoint_=y0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new gi(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new XC(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){let e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[],o=0;for(let s=0,a=r.length;s<a;++s){let l=r[s],c=new XC(n.slice(o,l),e);i.push(c),o=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;v0(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=sp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let n=[],r=[];return n.length=g0(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new t(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return QC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let r=bu(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}},Li=p2;function tI(t){if(el(t))throw new Error("Cannot create polygon from empty extent");let e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new p2(o,"XY",[o.length])}function nI(t,e,n,r){let i=zt(e)/n[0],o=nr(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function rI(t,e,n){let r=Math.min(t,e),i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),tn(r,n/2,e*2)}function Wk(t,e,n,r){return e=e!==void 0?e:!0,(function(i,o,s,a){if(i!==void 0){let l=t[0],c=t[t.length-1],u=n?nI(l,n,s,r):l;if(a)return e?rI(i,u,c):tn(i,c,u);let f=Math.min(u,i),d=Math.floor(Wd(t,f,o));return t[d]>u&&d<t.length-1?t[d+1]:t[d]}})}function $k(t,e,n,r,i,o){return r=r!==void 0?r:!0,n=n!==void 0?n:0,(function(s,a,l,c){if(s!==void 0){let u=i?nI(e,i,l,o):e;if(c)return r?rI(s,u,n):tn(s,n,u);let f=1e-9,d=Math.ceil(Math.log(e/u)/Math.log(t)-f),h=-a*(.5-f)+.5,g=Math.min(u,s),y=Math.floor(Math.log(e/g)/Math.log(t)+h),_=Math.max(d,y),v=e/Math.pow(t,_);return tn(v,n,u)}})}function iI(t,e,n,r,i){return n=n!==void 0?n:!0,(function(o,s,a,l){if(o!==void 0){let c=r?nI(t,r,a,i):t;return!n||!l?tn(o,e,c):rI(o,c,e)}})}function ap(t){if(t!==void 0)return 0}function oI(t){if(t!==void 0)return t}function Yk(t){let e=2*Math.PI/t;return(function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n})}function Zk(t){let e=t===void 0?hs(5):t;return(function(n,r){return r||n===void 0?n:Math.abs(n)<=e?0:n})}var sI=0,lI=class extends Br{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=i2(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&Sk(),e.center&&(e.center=Lo(e.center,this.projection_)),e.extent&&(e.extent=Hs(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){let n=Object.assign({},e);for(let a in zs)delete n[a];this.setProperties(n,!0);let r=OY(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;let i=kY(e),o=r.constraint,s=FY(e);this.constraints_={center:i,resolution:o,rotation:s},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;let r=this.getCenterInternal();if(r){let i=e||[0,0,0,0];n=n||[0,0,0,0];let o=this.getResolution(),s=o/2*(i[3]-n[3]+n[1]-i[1]),a=o/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+s,r[1]-a])}}getUpdatedOptions_(e){let n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=Lo(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Lo(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){let u=arguments[i];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(i===n){r&&g2(r,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;i<n;++i){let u=arguments[i],f={start:o,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||sk,callback:r};if(u.center&&(f.sourceCenter=s,f.targetCenter=u.center.slice(),s=f.targetCenter),u.zoom!==void 0?(f.sourceResolution=a,f.targetResolution=this.getResolutionForZoom(u.zoom),a=f.targetResolution):u.resolution&&(f.sourceResolution=a,f.targetResolution=u.resolution,a=f.targetResolution),u.rotation!==void 0){f.sourceRotation=l;let d=ma(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=l+d,l=f.targetRotation}jY(f)?f.complete=!0:o+=f.duration,c.push(f)}this.animations_.push(c),this.setHint(ti.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ti.ANIMATING]>0}getInteracting(){return this.hints_[ti.INTERACTING]>0}cancelAnimations(){this.setHint(ti.ANIMATING,-this.hints_[ti.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){let i=this.animations_[n];if(i[0].callback&&g2(i[0].callback,!1),!e)for(let o=0,s=i.length;o<s;++o){let a=i[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let e=Date.now(),n=!1;for(let r=this.animations_.length-1;r>=0;--r){let i=this.animations_[r],o=!0;for(let s=0,a=i.length;s<a;++s){let l=i[s];if(l.complete)continue;let c=e-l.start,u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):o=!1;let f=l.easing(u);if(l.sourceCenter){let d=l.sourceCenter[0],h=l.sourceCenter[1],g=l.targetCenter[0],y=l.targetCenter[1];this.nextCenter_=l.targetCenter;let _=d+f*(g-d),v=h+f*(y-h);this.targetCenter_=[_,v]}if(l.sourceResolution&&l.targetResolution){let d=f===1?l.targetResolution:l.sourceResolution+f*(l.targetResolution-l.sourceResolution);if(l.anchor){let h=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(d,0,h,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let d=f===1?ma(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+f*(l.targetRotation-l.sourceRotation);if(l.anchor){let h=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(h,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(o){this.animations_[r]=null,this.setHint(ti.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let s=i[0].callback;s&&g2(s,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r,i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],Qd(r,e-this.getRotation()),rk(r,n)),r}calculateCenterZoom(e,n){let r,i=this.getCenterInternal(),o=this.getResolution();if(i!==void 0&&o!==void 0){let s=n[0]-e*(n[0]-i[0])/o,a=n[1]-e*(n[1]-i[1])/o;r=[s,a]}return r}getViewportSize_(e){let n=this.viewportSize_;if(e){let r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let e=this.getCenterInternal();return e&&l0(e,this.getProjection())}getCenterInternal(){return this.get(zs.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){let n=this.calculateExtentInternal(e);return wu(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();let n=this.getCenterInternal();Gt(n,"The view center is not defined");let r=this.getResolution();Gt(r!==void 0,"The view resolution is not defined");let i=this.getRotation();return Gt(i!==void 0,"The view rotation is not defined"),o0(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(zs.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Hs(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();let r=zt(e)/n[0],i=nr(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;let n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return(function(o){return n/Math.pow(e,o*i)})}getRotation(){return this.get(zs.ROTATION)}getValueForResolutionFunction(e){let n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(r/i)/n;return(function(s){return Math.log(r/s)/n/o})}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e),r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){let e=this.getProjection(),n=this.getResolution(),r=this.getRotation(),i=this.getCenterInternal(),o=this.padding_;if(o){let s=this.getViewportSizeMinusPadding_();i=aI(i,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e,n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){let o=Wd(this.resolutions_,e,1);n=o,r=this.resolutions_[o],o==this.resolutions_.length-1?i=2:i=r/this.resolutions_[o+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];let n=tn(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,tn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(Gt(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Gt(!el(e),"Cannot fit empty extent provided as `geometry`");let i=Hs(e,this.getProjection());r=tI(i)}else if(e.getType()==="Circle"){let i=Hs(e.getExtent(),this.getProjection());r=tI(i),r.rotate(this.getRotation(),Ro(i))}else{let i=ac();i?r=e.clone().transform(i,this.getProjection()):r=e}this.fitInternal(r,n)}rotatedExtentForGeometry(e){let n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),o=e.getFlatCoordinates(),s=e.getStride(),a=1/0,l=1/0,c=-1/0,u=-1/0;for(let f=0,d=o.length;f<d;f+=s){let h=o[f]*r-o[f+1]*i,g=o[f]*i+o[f+1]*r;a=Math.min(a,h),l=Math.min(l,g),c=Math.max(c,h),u=Math.max(u,g)}return[a,l,c,u]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());let i=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1,s;n.minResolution!==void 0?s=n.minResolution:n.maxZoom!==void 0?s=this.getResolutionForZoom(n.maxZoom):s=0;let a=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(a,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);let c=this.getRotation(),u=Math.sin(c),f=Math.cos(c),d=Ro(a);d[0]+=(i[1]-i[3])/2*l,d[1]+=(i[0]-i[2])/2*l;let h=d[0]*f-d[1]*u,g=d[1]*f+d[0]*u,y=this.getConstrainedCenter([h,g],l),_=n.callback?n.callback:tc;n.duration!==void 0?this.animateInternal({resolution:l,center:y,duration:n.duration,easing:n.easing},_):(this.targetResolution_=l,this.targetCenter_=y,this.applyTargetState_(!1,!0),g2(_,!0))}centerOn(e,n,r){this.centerOnInternal(Lo(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(aI(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let o,s=this.padding_;if(s&&e){let a=this.getViewportSizeMinusPadding_(-r),l=aI(e,i,[a[0]/2+s[3],a[1]/2+s[0]],n,r);o=[e[0]-l[0],e[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){let n=l0(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){let n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Lo(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){let r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Lo(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){let r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Lo(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){let r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),o=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,o,r),a=this.constraints_.center(this.targetCenter_,s,o,r,this.calculateCenterShift(this.targetCenter_,s,i,o));this.get(zs.ROTATION)!==i&&this.set(zs.ROTATION,i),this.get(zs.RESOLUTION)!==s&&(this.set(zs.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(zs.CENTER)||!Qh(this.get(zs.CENTER),a))&&this.set(zs.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;let i=n||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,i,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!Qh(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:e,easing:Po,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ti.INTERACTING,1)}endInteraction(e,n,r){r=r&&Lo(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(ti.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){let r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){let r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;let r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}};function g2(t,e){setTimeout(function(){t(e)},0)}function kY(t){if(t.extent!==void 0){let n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return CC(t.extent,t.constrainOnlyCenter,n)}let e=i2(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){let n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,CC(n,!1,!1)}return JL}function OY(t){let e,n,r,s=t.minZoom!==void 0?t.minZoom:sI,a=t.maxZoom!==void 0?t.maxZoom:28,l=t.zoomFactor!==void 0?t.zoomFactor:2,c=t.multiWorld!==void 0?t.multiWorld:!1,u=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,f=t.showFullExtent!==void 0?t.showFullExtent:!1,d=i2(t.projection,"EPSG:3857"),h=d.getExtent(),g=t.constrainOnlyCenter,y=t.extent;if(!c&&!y&&d.isGlobal()&&(g=!1,y=h),t.resolutions!==void 0){let _=t.resolutions;n=_[s],r=_[a]!==void 0?_[a]:_[_.length-1],t.constrainResolution?e=Wk(_,u,!g&&y,f):e=iI(n,r,u,!g&&y,f)}else{let v=(h?Math.max(zt(h),nr(h)):360*ic.degrees/d.getMetersPerUnit())/256/Math.pow(2,sI),E=v/Math.pow(2,28-sI);n=t.maxResolution,n!==void 0?s=0:n=v/Math.pow(l,s),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(l,a):r=v/Math.pow(l,a):r=E),a=s+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,a-s),t.constrainResolution?e=$k(l,n,r,u,!g&&y,f):e=iI(n,r,u,!g&&y,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:s,zoomFactor:l}}function FY(t){if(t.enableRotation!==void 0?t.enableRotation:!0){let n=t.constrainRotation;return n===void 0||n===!0?Zk():n===!1?oI:typeof n=="number"?Yk(n):oI}return ap}function jY(t){return!(t.sourceCenter&&t.targetCenter&&!Qh(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function aI(t,e,n,r,i){let o=Math.cos(-i),s=Math.sin(-i),a=t[0]*o-t[1]*s,l=t[1]*o+t[0]*s;a+=(e[0]/2-n[0])*r,l+=(n[1]-e[1]/2)*r,s=-s;let c=a*o-l*s,u=l*o+a*s;return[c,u]}var ds=lI;var x0="ol-hidden";var Iu="ol-unselectable";var lp="ol-control",cI="ol-collapsed",BY=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),Kk=["style","variant","weight","size","lineHeight","family"],m2={normal:400,bold:700},y2=function(t){let e=t.match(BY);if(!e)return null;let n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let r=0,i=Kk.length;r<i;++r){let o=e[r+1];o!==void 0&&(n[Kk[r]]=typeof o=="string"?o.trim():o)}return isNaN(Number(n.weight))&&n.weight in m2&&(n.weight=m2[n.weight]),n.families=n.family.split(/,\s?/).map(r=>r.trim().replace(/^['"]|['"]$/g,"")),n};function Ln(t,e,n,r){let i;return n&&n.length?i=n.shift():Sr?i=new class extends OffscreenCanvas{style={}}(t??300,e??150):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}var uI;function cp(){return uI||(uI=Ln(1,1)),uI}function sf(t){let e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function hI(t,e){let n=e.parentNode;n&&n.replaceChild(t,e)}function Jk(t){for(;t.lastChild;)t.lastChild.remove()}function Qk(t,e){let n=t.childNodes;for(let r=0;;++r){let i=n[r],o=e[r];if(!i&&!o)break;if(i!==o){if(!i){t.appendChild(o);continue}if(!o){t.removeChild(i),--r;continue}t.insertBefore(o,i)}}}function _2(){return new Proxy({childNodes:[],appendChild:function(e){return this.childNodes.push(e),e},remove:function(){},removeChild:function(e){let n=this.childNodes.indexOf(e);if(n===-1)throw new Error("Node to remove was not found");return this.childNodes.splice(n,1),e},insertBefore:function(e,n){let r=this.childNodes.indexOf(n);if(r===-1)throw new Error("Reference node not found");return this.childNodes.splice(r,0,e),e},style:{}},{get(e,n,r){return n==="firstElementChild"?e.childNodes.length>0?e.childNodes[0]:null:Reflect.get(e,n,r)}})}function va(t){return typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas}var fI=class extends Br{constructor(e){super();let n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let n=0,r=this.listenerKeys.length;n<r;++n)en(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=e,e){let n=this.target_??e.getOverlayContainerStopEvent();this.element&&n.appendChild(this.element),this.render!==tc&&this.listenerKeys.push(Lt(e,Ja.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}},lc=fI;var dI=class extends lc{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;let n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",s=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;let a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=i):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Ke.CLICK,this.handleClick_.bind(this),!1);let c=n+" "+Iu+" "+lp+(this.collapsed_&&this.collapsible_?" "+cI:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){let n=this.getMap().getAllLayers(),r=new Set(n.flatMap(i=>i.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(i=>r.add(i)):r.add(this.attributions_)),!this.overrideCollapsible_){let i=!n.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(i)}return Array.from(r)}updateElement_(e){return bt(this,null,function*(){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let n=yield Promise.all(this.collectSourceAttributions_(e).map(i=>zL(()=>i))),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Hi(n,this.renderedAttributions_)){Jk(this.ulElement_);for(let i=0,o=n.length;i<o;++i){let s=document.createElement("li");s.innerHTML=n[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}})}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(cI),this.collapsed_?hI(this.collapseLabel_,this.label_):hI(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},e8=dI;var pI=class extends lc{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});let n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"\u21E7",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));let o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(Ke.CLICK,this.handleClick_.bind(this),!1);let a=n+" "+Iu+" "+lp,l=this.element;l.className=a,l.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(x0)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let n=this.getMap().getView();if(!n)return;let r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Po}):n.setRotation(0))}render(e){let n=e.frameState;if(!n)return;let r=n.viewState.rotation;if(r!=this.rotation_){let i="rotate("+r+"rad)";if(this.autoHide_){let o=this.element.classList.contains(x0);!o&&r===0?this.element.classList.add(x0):o&&r!==0&&this.element.classList.remove(x0)}this.label_.style.transform=i}this.rotation_=r}},t8=pI;var gI=class extends lc{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});let n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",s=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof s=="string"?document.createTextNode(s):s),u.addEventListener(Ke.CLICK,this.handleClick_.bind(this,r),!1);let f=document.createElement("button");f.className=o,f.setAttribute("type","button"),f.title=c,f.appendChild(typeof a=="string"?document.createTextNode(a):a),f.addEventListener(Ke.CLICK,this.handleClick_.bind(this,-r),!1);let d=n+" "+Iu+" "+lp,h=this.element;h.className=d,h.appendChild(u),h.appendChild(f),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){let r=this.getMap().getView();if(!r)return;let i=r.getZoom();if(i!==void 0){let o=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:o,duration:this.duration_,easing:Po})):r.setZoom(o)}}},n8=gI;function b0(t){t=t||{};let e=new Ti;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new n8(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new t8(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new e8(t.attributionOptions)),e}var mI=class{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;let e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;let i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;let o=this.points_[n]-this.points_[r],s=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},r8=mI;var E0={ACTIVE:"active"};var yI=class extends Br{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(E0.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(E0.ACTIVE,e)}setMap(e){this.map_=e}};function i8(t,e,n){let r=t.getCenterInternal();if(r){let i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:ak,center:t.getConstrainedCenter(i)})}}function up(t,e,n,r){let i=t.getZoom();if(i===void 0)return;let o=t.getConstrainedZoom(i+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:r!==void 0?r:250,easing:Po})}var tl=yI;var _I=class extends tl{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==ln.DBLCLICK){let r=e.originalEvent,i=e.map,o=e.coordinate,s=r.shiftKey?-this.delta_:this.delta_,a=i.getView();up(a,s,o,this.duration_),r.preventDefault(),n=!0}return!n}},o8=_I;function S0(t){let e=arguments;return function(n){let r=!0;for(let i=0,o=e.length;i<o&&(r=r&&e[i](n),!!r);++i);return r}}var s8=function(t){let e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},UY=function(t){let e=t.map.getTargetElement(),n=e.getRootNode(),r=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(r):e.contains(r)},v2=function(t){let e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?UY(t):!0},hp=ga;var w2=function(t){let e=t.originalEvent;return"pointerId"in e&&e.button==0&&!(HL&&wC&&e.ctrlKey)},a8=Us;var fp=function(t){let e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};var l8=function(t){let e=t.originalEvent;return wC?e.metaKey:e.ctrlKey},C0=function(t){let e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},x2=function(t){let e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},b2=function(t){let e=t.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"};var c8=function(t){let e=t.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};var vI=class extends tl{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ln.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ln.POINTERUP){let r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==ln.POINTERDOWN){let r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==ln.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function dp(t){let e=t.length,n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}var Ws=vI;var wI=class extends Ws{constructor(e){super({stopDown:Us}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let n=e.condition?e.condition:S0(fp,c8);this.condition_=e.onFocusOnly?S0(v2,n):n,this.noKinetic_=!1}handleDragEvent(e){let n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());let r=this.targetPointers,i=n.getEventPixel(dp(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){let o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();ok(o,a.getResolution()),Qd(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){let n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=r.getCenterInternal(),a=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:Po})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){let r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},u8=wI;var xI=class extends Ws{constructor(e){e=e||{},super({stopDown:Us}),this.condition_=e.condition?e.condition:s8,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!b2(e))return;let n=e.map,r=n.getView();if(r.getConstraints().rotation===ap)return;let i=n.getSize(),o=e.pixel,s=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(this.lastAngle_!==void 0){let a=s-this.lastAngle_;r.adjustRotationInternal(-a)}this.lastAngle_=s}handleUpEvent(e){return b2(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return b2(e)&&w2(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},h8=xI;var bI=class extends hu{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new Li([i])}getGeometry(){return this.geometry_}},f8=bI;var pp={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},af=class extends jr{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}},EI=class extends Ws{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new f8(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??w2,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){let i=r[0]-n[0],o=r[1]-n[1];return i*i+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new af(pp.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;let n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new af(n?pp.BOXEND:pp.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new af(pp.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new af(pp.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new af(pp.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}},d8=EI;var SI=class extends d8{constructor(e){e=e||{};let n=e.condition?e.condition:C0;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){let r=this.getMap().getView(),i=this.getGeometry();if(this.out_){let o=r.rotatedExtentForGeometry(i),s=r.getResolutionForExtentInternal(o),a=r.getResolution()/s;i=i.clone(),i.scale(a*a)}r.fitInternal(i,{duration:this.duration_,easing:Po})}},p8=SI;var Du={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var CI=class extends tl{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return fp(n)&&x2(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Ke.KEYDOWN){let r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==Du.DOWN||i==Du.LEFT||i==Du.RIGHT||i==Du.UP)){let s=e.map.getView(),a=s.getResolution()*this.pixelDelta_,l=0,c=0;i==Du.DOWN?c=-a:i==Du.LEFT?l=-a:i==Du.RIGHT?l=a:c=a;let u=[l,c];Qd(u,s.getRotation()),i8(s,u,this.duration_),r.preventDefault(),n=!0}}return!n}},g8=CI;var II=class extends tl{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!l8(n)&&x2(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Ke.KEYDOWN||e.type==Ke.KEYPRESS){let r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){let o=e.map,s=i==="+"?this.delta_:-this.delta_,a=o.getView();up(a,s,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}},m8=II;var GY=40,zY=300,DI=class extends tl{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;let n=e.condition?e.condition:hp;this.condition_=e.onFocusOnly?S0(v2,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Ke.WHEEL)return!0;let r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let o=i.deltaY;switch(i.deltaMode){case WheelEvent.DOM_DELTA_LINE:o*=GY;break;case WheelEvent.DOM_DELTA_PAGE:o*=zY;break;default:}if(o===0)return!1;this.lastDelta_=o;let s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");let a=r.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?r.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=o;let l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(e){let n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-tn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),up(n,r,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},y8=DI;var AI=class extends Ws{constructor(e){e=e||{};let n=e;n.stopDown||(n.stopDown=Us),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0,r=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){let l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=o;let s=e.map,a=s.getView();a.getConstraints().rotation!==ap&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(dp(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){let n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},_8=AI;var MI=class extends Ws{constructor(e){e=e||{};let n=e;n.stopDown||(n.stopDown=Us),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1,r=this.targetPointers[0],i=this.targetPointers[1],o=r.clientX-i.clientX,s=r.clientY-i.clientY,a=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;let l=e.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(dp(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){let r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){let n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},v8=MI;function w8(t){t=t||{};let e=new Ti,n=new r8(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new h8),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new o8({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new u8({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new _8),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new v8({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new g8),e.push(new m8({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new y8({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new p8({duration:t.zoomDuration})),e}var Sn={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var TI=class extends Br{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;let n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Sn.OPACITY]=e.opacity!==void 0?e.opacity:1,Gt(typeof n[Sn.OPACITY]=="number","Layer opacity must be a number"),n[Sn.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Sn.Z_INDEX]=e.zIndex,n[Sn.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Sn.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Sn.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Sn.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){let n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=tn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Je()}getLayerStatesArray(e){return Je()}getExtent(){return this.get(Sn.EXTENT)}getMaxResolution(){return this.get(Sn.MAX_RESOLUTION)}getMinResolution(){return this.get(Sn.MIN_RESOLUTION)}getMinZoom(){return this.get(Sn.MIN_ZOOM)}getMaxZoom(){return this.get(Sn.MAX_ZOOM)}getOpacity(){return this.get(Sn.OPACITY)}getSourceState(){return Je()}getVisible(){return this.get(Sn.VISIBLE)}getZIndex(){return this.get(Sn.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Sn.EXTENT,e)}setMaxResolution(e){this.set(Sn.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Sn.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Sn.MAX_ZOOM,e)}setMinZoom(e){this.set(Sn.MIN_ZOOM,e)}setOpacity(e){Gt(typeof e=="number","Layer opacity must be a number"),this.set(Sn.OPACITY,e)}setVisible(e){this.set(Sn.VISIBLE,e)}setZIndex(e){this.set(Sn.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},E2=TI;var Au={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"},wa=class extends jr{constructor(e,n){super(e),this.layer=n}},NI={LAYERS:"layers"},RI=class t extends E2{constructor(e){e=e||{};let n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(NI.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Ti(r.slice(),{unique:!0}):Gt(typeof r.getArray=="function","Expected `layers` to be an array or a `Collection`"):r=new Ti(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(en),this.layersListenerKeys_.length=0;let e=this.getLayers();this.layersListenerKeys_.push(Lt(e,di.ADD,this.handleLayersAdd_,this),Lt(e,di.REMOVE,this.handleLayersRemove_,this));for(let r in this.listenerKeys_)this.listenerKeys_[r].forEach(en);Ka(this.listenerKeys_);let n=e.getArray();for(let r=0,i=n.length;r<i;r++){let o=n[r];this.registerLayerListeners_(o),this.dispatchEvent(new wa(Au.ADDLAYER,o))}this.changed()}registerLayerListeners_(e){let n=[Lt(e,pa.PROPERTYCHANGE,this.handleLayerChange_,this),Lt(e,Ke.CHANGE,this.handleLayerChange_,this)];e instanceof t&&n.push(Lt(e,Au.ADDLAYER,this.handleLayerGroupAdd_,this),Lt(e,Au.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[Et(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new wa(Au.ADDLAYER,e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new wa(Au.REMOVELAYER,e.layer))}handleLayersAdd_(e){let n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new wa(Au.ADDLAYER,n)),this.changed()}handleLayersRemove_(e){let n=e.element,r=Et(n);this.listenerKeys_[r].forEach(en),delete this.listenerKeys_[r],this.dispatchEvent(new wa(Au.REMOVELAYER,n)),this.changed()}getLayers(){return this.get(NI.LAYERS)}setLayers(e){let n=this.getLayers();if(n){let r=n.getArray();for(let i=0,o=r.length;i<o;++i)this.dispatchEvent(new wa(Au.REMOVELAYER,r[i]))}this.set(NI.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){let n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(n)});let i=this.getLayerState(),o=i.zIndex;!e&&i.zIndex===void 0&&(o=0);for(let s=r,a=n.length;s<a;s++){let l=n[s];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=Qa(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=o)}return n}getSourceState(){return"ready"}},I0=RI;var ki={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var PI=class extends E2{constructor(e){let n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Sn.SOURCE,this.handleSourcePropertyChange_);let r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Sn.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(en(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let e=this.getSource();e&&(this.sourceChangeKey_=Lt(e,Ke.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n,r=this.getMapInternal();!e&&r&&(e=r.getView()),e instanceof ds?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&r&&(n.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let i;if(n.layerStatesArray){if(i=n.layerStatesArray.find(s=>s.layer===this),!i)return!1}else i=this.getLayerState();let o=this.getExtent();return D0(i,n.viewState)&&(!o||Qn(o,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n=this.getSource()?.getAttributions();if(!n)return[];let r=e instanceof ds?e.getViewStateAndExtent():e,i=n(r);return Array.isArray(i)||(i=[i]),i}render(e,n){let r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){let n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Sn.MAP,e)}getMapInternal(){return this.get(Sn.MAP)}setMap(e){this.mapPrecomposeKey_&&(en(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(en(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Lt(e,ki.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Lt(this,Ke.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){let n=e.frameState.layerStatesArray,r=this.getLayerState(!1);Gt(!n.some(i=>i.layer===r.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(r)}setSource(e){this.set(Sn.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}};function D0(t,e){if(!t.visible)return!1;let n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;let r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}var lf=PI;function S2(t,e,n=0,r=t.length-1,i=VY){for(;r>n;){if(r-n>600){let l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*f/l+d)),g=Math.min(r,Math.floor(e+(l-c)*f/l+d));S2(t,e,h,g,i)}let o=t[e],s=n,a=r;for(A0(t,n,e),i(t[r],o)>0&&A0(t,n,r);s<a;){for(A0(t,s,a),s++,a--;i(t[s],o)<0;)s++;for(;i(t[a],o)>0;)a--}i(t[n],o)===0?A0(t,n,a):(a++,A0(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}}function A0(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function VY(t,e){return t<e?-1:t>e?1:0}var yp=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data,r=[];if(!I2(e,n))return r;let i=this.toBBox,o=[];for(;n;){for(let s=0;s<n.children.length;s++){let a=n.children[s],l=n.leaf?i(a):a;I2(e,l)&&(n.leaf?r.push(a):kI(e,l)?this._all(a,r):o.push(a))}n=o.pop()}return r}collides(e){let n=this.data;if(!I2(e,n))return!1;let r=[];for(;n;){for(let i=0;i<n.children.length;i++){let o=n.children[i],s=n.leaf?this.toBBox(o):o;if(I2(e,s)){if(n.leaf||kI(e,s))return!0;r.push(o)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){let r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=mp([]),this}remove(e,n){if(!e)return this;let r=this.data,i=this.toBBox(e),o=[],s=[],a,l,c;for(;r||o.length;){if(r||(r=o.pop(),l=o[o.length-1],a=s.pop(),c=!0),r.leaf){let u=HY(e,r.children,n);if(u!==-1)return r.children.splice(u,1),o.push(r),this._condense(o),this}!c&&!r.leaf&&kI(r,i)?(o.push(r),s.push(a),a=0,l=r,r=r.children[0]):l?(a++,r=l.children[a],c=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){let r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){let o=r-n+1,s=this._maxEntries,a;if(o<=s)return a=mp(e.slice(n,r+1)),gp(a,this.toBBox),a;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),a=mp([]),a.leaf=!1,a.height=i;let l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));x8(e,n,r,c,this.compareMinX);for(let u=n;u<=r;u+=c){let f=Math.min(u+c-1,r);x8(e,u,f,l,this.compareMinY);for(let d=u;d<=f;d+=l){let h=Math.min(d+l-1,f);a.children.push(this._build(e,d,h,i-1))}}return gp(a,this.toBBox),a}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let o=1/0,s=1/0,a;for(let l=0;l<n.children.length;l++){let c=n.children[l],u=LI(c),f=$Y(e,c)-u;f<s?(s=f,o=u<o?u:o,a=c):f===s&&u<o&&(o=u,a=c)}n=a||n.children[0]}return n}_insert(e,n,r){let i=r?e:this.toBBox(e),o=[],s=this._chooseSubtree(i,this.data,n,o);for(s.children.push(e),T0(s,i);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(i,o,n)}_split(e,n){let r=e[n],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);let s=this._chooseSplitIndex(r,o,i),a=mp(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,gp(r,this.toBBox),gp(a,this.toBBox),n?e[n-1].children.push(a):this._splitRoot(r,a)}_splitRoot(e,n){this.data=mp([e,n]),this.data.height=e.height+1,this.data.leaf=!1,gp(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,o=1/0,s=1/0;for(let a=n;a<=r-n;a++){let l=M0(e,0,a,this.toBBox),c=M0(e,a,r,this.toBBox),u=YY(l,c),f=LI(l)+LI(c);u<o?(o=u,i=a,s=f<s?f:s):u===o&&f<s&&(s=f,i=a)}return i||r-n}_chooseSplitAxis(e,n,r){let i=e.leaf?this.compareMinX:qY,o=e.leaf?this.compareMinY:WY,s=this._allDistMargin(e,n,r,i),a=this._allDistMargin(e,n,r,o);s<a&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);let o=this.toBBox,s=M0(e,0,n,o),a=M0(e,r-n,r,o),l=C2(s)+C2(a);for(let c=n;c<r-n;c++){let u=e.children[c];T0(s,e.leaf?o(u):u),l+=C2(s)}for(let c=r-n-1;c>=n;c--){let u=e.children[c];T0(a,e.leaf?o(u):u),l+=C2(a)}return l}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)T0(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():gp(e[n],this.toBBox)}};function HY(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function gp(t,e){M0(t,0,t.children.length,e,t)}function M0(t,e,n,r,i){i||(i=mp(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=e;o<n;o++){let s=t.children[o];T0(i,t.leaf?r(s):s)}return i}function T0(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function qY(t,e){return t.minX-e.minX}function WY(t,e){return t.minY-e.minY}function LI(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function C2(t){return t.maxX-t.minX+(t.maxY-t.minY)}function $Y(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function YY(t,e){let n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function kI(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function I2(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function mp(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x8(t,e,n,r,i){let o=[e,n];for(;o.length;){if(n=o.pop(),e=o.pop(),n-e<=r)continue;let s=e+Math.ceil((n-e)/r/2)*r;S2(t,s,e,n,i),o.push(e,s,s,n)}}var A2=[NaN,NaN,NaN,0],OI;function ZY(){return OI||(OI=Ln(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),OI}var XY=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,KY=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,JY=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,QY=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function D2(t,e){return t.endsWith("%")?Number(t.substring(0,t.length-1))/e:Number(t)}function R0(t){throw new Error('failed to parse "'+t+'" as color')}function b8(t){if(t.toLowerCase().startsWith("rgb")){let o=t.match(KY)||t.match(XY)||t.match(JY);if(o){let s=o[4],a=100/255;return[tn(D2(o[1],a)+.5|0,0,255),tn(D2(o[2],a)+.5|0,0,255),tn(D2(o[3],a)+.5|0,0,255),s!==void 0?tn(D2(s,100),0,1):1]}R0(t)}if(t.startsWith("#")){if(QY.test(t)){let o=t.substring(1),s=o.length<=4?1:2,a=[0,0,0,255];for(let l=0,c=o.length;l<c;l+=s){let u=parseInt(o.substring(l,l+s),16);s===1&&(u+=u<<4),a[l/s]=u}return a[3]=a[3]/255,a}R0(t)}let e=ZY();e.fillStyle="#abcdef";let n=e.fillStyle;e.fillStyle=t,e.fillStyle===n&&(e.fillStyle="#fedcba",n=e.fillStyle,e.fillStyle=t,e.fillStyle===n&&R0(t));let r=e.fillStyle;if(r.startsWith("#")||r.startsWith("rgba"))return b8(r);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);let i=Array.from(e.getImageData(0,0,1,1).data);return i[3]=pu(i[3]/255,3),i}function E8(t){return typeof t=="string"?t:L0(t)}var eZ=1024,N0={},FI=0;function S8(t){if(t.length===4)return t;let e=t.slice();return e[3]=1,e}function jI(t){return t>.0031308?Math.pow(t,1/2.4)*269.025-14.025:t*3294.6}function BI(t){return t>.2068965?Math.pow(t,3):(t-4/29)*(108/841)}function UI(t){return t>10.314724?Math.pow((t+14.025)/269.025,2.4):t/3294.6}function GI(t){return t>.0088564?Math.pow(t,1/3):t/(108/841)+4/29}function zI(t){let e=UI(t[0]),n=UI(t[1]),r=UI(t[2]),i=GI(e*.222488403+n*.716873169+r*.06060791),o=500*(GI(e*.452247074+n*.399439023+r*.148375274)-i),s=200*(i-GI(e*.016863605+n*.117638439+r*.865350722)),a=Math.atan2(s,o)*(180/Math.PI);return[116*i-16,Math.sqrt(o*o+s*s),a<0?a+360:a,t[3]]}function C8(t){let e=(t[0]+16)/116,n=t[1],r=t[2]*Math.PI/180,i=BI(e),o=BI(e+n/500*Math.cos(r)),s=BI(e-n/200*Math.sin(r)),a=jI(o*3.021973625-i*1.617392459-s*.404875592),l=jI(o*-.943766287+i*1.916279586+s*.027607165),c=jI(o*.069407491-i*.22898585+s*1.159737864);return[tn(a+.5|0,0,255),tn(l+.5|0,0,255),tn(c+.5|0,0,255),t[3]]}function P0(t){if(t==="none")return A2;if(N0.hasOwnProperty(t))return N0[t];if(FI>=eZ){let n=0;for(let r in N0)(n++&3)===0&&(delete N0[r],--FI)}let e=b8(t);e.length!==4&&R0(t);for(let n of e)isNaN(n)&&R0(t);return N0[t]=e,++FI,e}function ps(t){return Array.isArray(t)?t:P0(t)}function L0(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);let i=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+r+","+i+")"}function VI(t){return t[0]>0&&t[1]>0}function I8(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function pr(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}var cf=0;var Wi=1<<cf++,rn=1<<cf++,go=1<<cf++,gs=1<<cf++,Tu=1<<cf++,k0=1<<cf++,M2=Math.pow(2,cf)-1,WI={[Wi]:"boolean",[rn]:"number",[go]:"string",[gs]:"color",[Tu]:"number[]",[k0]:"size"},tZ=Object.keys(WI).map(Number).sort(Mo);function nZ(t){return t in WI}function O0(t){let e=[];for(let n of tZ)F0(t,n)&&e.push(WI[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function F0(t,e){return(t&e)===e}function Mu(t,e){return t===e}var gr=class{constructor(e,n){if(!nZ(e))throw new Error(`literal expressions must have a specific type, got ${O0(e)}`);this.type=e,this.value=n}},qI=class{constructor(e,n,...r){this.type=e,this.operator=n,this.args=r}};function $I(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function mi(t,e,n){switch(typeof t){case"boolean":{if(Mu(e,go))return new gr(go,t?"true":"false");if(!F0(e,Wi))throw new Error(`got a boolean, but expected ${O0(e)}`);return new gr(Wi,t)}case"number":{if(Mu(e,k0))return new gr(k0,pr(t));if(Mu(e,Wi))return new gr(Wi,!!t);if(Mu(e,go))return new gr(go,t.toString());if(!F0(e,rn))throw new Error(`got a number, but expected ${O0(e)}`);return new gr(rn,t)}case"string":{if(Mu(e,gs))return new gr(gs,P0(t));if(Mu(e,Wi))return new gr(Wi,!!t);if(!F0(e,go))throw new Error(`got a string, but expected ${O0(e)}`);return new gr(go,t)}default:}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return dZ(t,e,n);for(let r of t)if(typeof r!="number")throw new Error("expected an array of numbers");if(Mu(e,k0)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new gr(k0,t)}if(Mu(e,gs)){if(t.length===3)return new gr(gs,[...t,1]);if(t.length===4)return new gr(gs,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!F0(e,Tu))throw new Error(`got an array of numbers, but expected ${O0(e)}`);return new gr(Tu,t)}var Te={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},rZ={[Te.Get]:St(Yt(1,1/0),D8),[Te.Var]:St(Yt(1,1),iZ),[Te.Has]:St(Yt(1,1/0),D8),[Te.Id]:St(oZ,_p),[Te.Concat]:St(Yt(2,1/0),Cn(go)),[Te.GeometryType]:St(sZ,_p),[Te.LineMetric]:St(_p),[Te.Resolution]:St(HI,_p),[Te.Zoom]:St(HI,_p),[Te.Time]:St(HI,_p),[Te.Any]:St(Yt(2,1/0),Cn(Wi)),[Te.All]:St(Yt(2,1/0),Cn(Wi)),[Te.Not]:St(Yt(1,1),Cn(Wi)),[Te.Equal]:St(Yt(2,2),Cn(M2)),[Te.NotEqual]:St(Yt(2,2),Cn(M2)),[Te.GreaterThan]:St(Yt(2,2),Cn(rn)),[Te.GreaterThanOrEqualTo]:St(Yt(2,2),Cn(rn)),[Te.LessThan]:St(Yt(2,2),Cn(rn)),[Te.LessThanOrEqualTo]:St(Yt(2,2),Cn(rn)),[Te.Multiply]:St(Yt(2,1/0),A8),[Te.Coalesce]:St(Yt(2,1/0),A8),[Te.Divide]:St(Yt(2,2),Cn(rn)),[Te.Add]:St(Yt(2,1/0),Cn(rn)),[Te.Subtract]:St(Yt(2,2),Cn(rn)),[Te.Clamp]:St(Yt(3,3),Cn(rn)),[Te.Mod]:St(Yt(2,2),Cn(rn)),[Te.Pow]:St(Yt(2,2),Cn(rn)),[Te.Abs]:St(Yt(1,1),Cn(rn)),[Te.Floor]:St(Yt(1,1),Cn(rn)),[Te.Ceil]:St(Yt(1,1),Cn(rn)),[Te.Round]:St(Yt(1,1),Cn(rn)),[Te.Sin]:St(Yt(1,1),Cn(rn)),[Te.Cos]:St(Yt(1,1),Cn(rn)),[Te.Atan]:St(Yt(1,2),Cn(rn)),[Te.Sqrt]:St(Yt(1,1),Cn(rn)),[Te.Match]:St(Yt(4,1/0),M8,lZ),[Te.Between]:St(Yt(3,3),Cn(rn)),[Te.Interpolate]:St(Yt(6,1/0),M8,cZ),[Te.Case]:St(Yt(3,1/0),aZ,uZ),[Te.In]:St(Yt(2,2),hZ),[Te.Number]:St(Yt(1,1/0),Cn(M2)),[Te.String]:St(Yt(1,1/0),Cn(M2)),[Te.Array]:St(Yt(1,1/0),Cn(rn)),[Te.Color]:St(Yt(1,4),Cn(rn)),[Te.Band]:St(Yt(1,3),Cn(rn)),[Te.Palette]:St(Yt(2,2),fZ),[Te.ToString]:St(Yt(1,1),Cn(Wi|rn|go|gs))};function D8(t,e,n){let r=t.length-1,i=new Array(r);for(let o=0;o<r;++o){let s=t[o+1];switch(typeof s){case"number":{i[o]=new gr(rn,s);break}case"string":{i[o]=new gr(go,s);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${s}`)}o===0&&n.properties.add(String(s))}return i}function iZ(t,e,n){let r=t[1];if(typeof r!="string")throw new Error("expected a string argument for var operation");return n.variables.add(r),[new gr(go,r)]}function oZ(t,e,n){n.featureId=!0}function sZ(t,e,n){n.geometryType=!0}function HI(t,e,n){n.mapState=!0}function _p(t,e,n){let r=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${r} operation`);return[]}function Yt(t,e){return function(n,r,i){let o=n[0],s=n.length-1;if(t===e){if(s!==t){let a=t===1?"":"s";throw new Error(`expected ${t} argument${a} for ${o}, got ${s}`)}}else if(s<t||s>e){let a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${a} arguments for ${o}, got ${s}`)}}}function A8(t,e,n){let r=t.length-1,i=new Array(r);for(let o=0;o<r;++o){let s=mi(t[o+1],e,n);i[o]=s}return i}function Cn(t){return function(e,n,r){let i=e.length-1,o=new Array(i);for(let s=0;s<i;++s){let a=mi(e[s+1],t,r);o[s]=a}return o}}function aZ(t,e,n){let r=t[0],i=t.length-1;if(i%2===0)throw new Error(`expected an odd number of arguments for ${r}, got ${i} instead`)}function M8(t,e,n){let r=t[0],i=t.length-1;if(i%2===1)throw new Error(`expected an even number of arguments for operation ${r}, got ${i} instead`)}function lZ(t,e,n){let r=t.length-1,i=go|rn|Wi,o=mi(t[1],i,n),s=mi(t[t.length-1],e,n),a=new Array(r-2);for(let l=0;l<r-2;l+=2){try{let c=mi(t[l+2],o.type,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{let c=mi(t[l+3],s.type,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[o,...a,s]}function cZ(t,e,n){let r=t[1],i;switch(r[0]){case"linear":i=1;break;case"exponential":let l=r[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);i=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(r)}`)}let o=new gr(rn,i),s;try{s=mi(t[2],rn,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){try{let c=mi(t[l+3],rn,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{let c=mi(t[l+4],e,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[o,s,...a]}function uZ(t,e,n){let r=mi(t[t.length-1],e,n),i=new Array(t.length-1);for(let o=0;o<i.length-1;o+=2){try{let s=mi(t[o+1],Wi,n);i[o]=s}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{let s=mi(t[o+2],r.type,n);i[o+1]=s}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return i[i.length-1]=r,i}function hZ(t,e,n){let r=t[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');let i;if(typeof r[0]=="string"){if(r[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=go}else i=rn;let o=new Array(r.length);for(let a=0;a<o.length;a++)try{let l=mi(r[a],i,n);o[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[mi(t[1],i,n),...o]}function fZ(t,e,n){let r;try{r=mi(t[1],rn,n)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}let i=t[2];if(!Array.isArray(i))throw new Error("the second argument of palette must be an array");let o=new Array(i.length);for(let s=0;s<o.length;s++){let a;try{a=mi(i[s],gs,n)}catch(l){throw new Error(`failed to parse color at index ${s} in palette expression: ${l.message}`)}if(!(a instanceof gr))throw new Error(`the palette color at index ${s} must be a literal value`);o[s]=a}return[r,...o]}function St(...t){return function(e,n,r){let i=e[0],o;for(let s=0;s<t.length;s++){let a=t[s](e,n,r);if(s==t.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");o=a}}return new qI(n,i,...o)}}function dZ(t,e,n){let r=t[0],i=rZ[r];if(!i)throw new Error(`unknown operator: ${r}`);return i(t,e,n)}function YI(t){if(!t)return"";let e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return YI(t.getGeometries()[0]);default:return""}}function ZI(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function nl(t,e,n){let r=mi(t,e,n);return xa(r,n)}function xa(t,e){if(t instanceof gr){if(t.type===gs&&typeof t.value=="string"){let r=P0(t.value);return function(){return r}}return function(){return t.value}}let n=t.operator;switch(n){case Te.Number:case Te.String:case Te.Coalesce:return pZ(t,e);case Te.Get:case Te.Var:case Te.Has:return gZ(t,e);case Te.Id:return r=>r.featureId;case Te.GeometryType:return r=>r.geometryType;case Te.Concat:{let r=t.args.map(i=>xa(i,e));return i=>"".concat(...r.map(o=>o(i).toString()))}case Te.Resolution:return r=>r.resolution;case Te.Any:case Te.All:case Te.Between:case Te.In:case Te.Not:return yZ(t,e);case Te.Equal:case Te.NotEqual:case Te.LessThan:case Te.LessThanOrEqualTo:case Te.GreaterThan:case Te.GreaterThanOrEqualTo:return mZ(t,e);case Te.Multiply:case Te.Divide:case Te.Add:case Te.Subtract:case Te.Clamp:case Te.Mod:case Te.Pow:case Te.Abs:case Te.Floor:case Te.Ceil:case Te.Round:case Te.Sin:case Te.Cos:case Te.Atan:case Te.Sqrt:return _Z(t,e);case Te.Case:return vZ(t,e);case Te.Match:return wZ(t,e);case Te.Interpolate:return xZ(t,e);case Te.ToString:return bZ(t,e);default:throw new Error(`Unsupported operator ${n}`)}}function pZ(t,e){let n=t.operator,r=t.args.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=xa(t.args[o],e);switch(n){case Te.Coalesce:return o=>{for(let s=0;s<r;++s){let a=i[s](o);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case Te.Number:case Te.String:return o=>{for(let s=0;s<r;++s){let a=i[s](o);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function gZ(t,e){let r=t.args[0].value;switch(t.operator){case Te.Get:return i=>{let o=t.args,s=i.properties[r];for(let a=1,l=o.length;a<l;++a){let u=o[a].value;s=s[u]}return s};case Te.Var:return i=>i.variables[r];case Te.Has:return i=>{let o=t.args;if(!(r in i.properties))return!1;let s=i.properties[r];for(let a=1,l=o.length;a<l;++a){let u=o[a].value;if(!s||!Object.hasOwn(s,u))return!1;s=s[u]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function mZ(t,e){let n=t.operator,r=xa(t.args[0],e),i=xa(t.args[1],e);switch(n){case Te.Equal:return o=>r(o)===i(o);case Te.NotEqual:return o=>r(o)!==i(o);case Te.LessThan:return o=>r(o)<i(o);case Te.LessThanOrEqualTo:return o=>r(o)<=i(o);case Te.GreaterThan:return o=>r(o)>i(o);case Te.GreaterThanOrEqualTo:return o=>r(o)>=i(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function yZ(t,e){let n=t.operator,r=t.args.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=xa(t.args[o],e);switch(n){case Te.Any:return o=>{for(let s=0;s<r;++s)if(i[s](o))return!0;return!1};case Te.All:return o=>{for(let s=0;s<r;++s)if(!i[s](o))return!1;return!0};case Te.Between:return o=>{let s=i[0](o),a=i[1](o),l=i[2](o);return s>=a&&s<=l};case Te.In:return o=>{let s=i[0](o);for(let a=1;a<r;++a)if(s===i[a](o))return!0;return!1};case Te.Not:return o=>!i[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function _Z(t,e){let n=t.operator,r=t.args.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=xa(t.args[o],e);switch(n){case Te.Multiply:return o=>{let s=1;for(let a=0;a<r;++a)s*=i[a](o);return s};case Te.Divide:return o=>i[0](o)/i[1](o);case Te.Add:return o=>{let s=0;for(let a=0;a<r;++a)s+=i[a](o);return s};case Te.Subtract:return o=>i[0](o)-i[1](o);case Te.Clamp:return o=>{let s=i[0](o),a=i[1](o);if(s<a)return a;let l=i[2](o);return s>l?l:s};case Te.Mod:return o=>i[0](o)%i[1](o);case Te.Pow:return o=>Math.pow(i[0](o),i[1](o));case Te.Abs:return o=>Math.abs(i[0](o));case Te.Floor:return o=>Math.floor(i[0](o));case Te.Ceil:return o=>Math.ceil(i[0](o));case Te.Round:return o=>Math.round(i[0](o));case Te.Sin:return o=>Math.sin(i[0](o));case Te.Cos:return o=>Math.cos(i[0](o));case Te.Atan:return r===2?o=>Math.atan2(i[0](o),i[1](o)):o=>Math.atan(i[0](o));case Te.Sqrt:return o=>Math.sqrt(i[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function vZ(t,e){let n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=xa(t.args[i],e);return i=>{for(let o=0;o<n-1;o+=2)if(r[o](i))return r[o+1](i);return r[n-1](i)}}function wZ(t,e){let n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=xa(t.args[i],e);return i=>{let o=r[0](i);for(let s=1;s<n-1;s+=2)if(o===r[s](i))return r[s+1](i);return r[n-1](i)}}function xZ(t,e){let n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=xa(t.args[i],e);return i=>{let o=r[0](i),s=r[1](i),a,l;for(let c=2;c<n;c+=2){let u=r[c](i),f=r[c+1](i),d=Array.isArray(f);if(d&&(f=S8(f)),u>=s)return c===2?f:d?EZ(o,s,a,l,u,f):j0(o,s,a,l,u,f);a=u,l=f}return l}}function bZ(t,e){let n=t.operator,r=t.args.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=xa(t.args[o],e);switch(n){case Te.ToString:return o=>{let s=i[0](o);return t.args[0].type===gs?L0(s):s.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function j0(t,e,n,r,i,o){let s=i-n;if(s===0)return r;let a=e-n,l=t===1?a/s:(Math.pow(t,a)-1)/(Math.pow(t,s)-1);return r+l*(o-r)}function EZ(t,e,n,r,i,o){if(i-n===0)return r;let a=zI(r),l=zI(o),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let u=[j0(t,e,n,a[0],i,l[0]),j0(t,e,n,a[1],i,l[1]),a[2]+j0(t,e,n,0,i,c),j0(t,e,n,r[3],i,o[3])];return C8(u)}var gt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function T8(t,e,n){let r=t,i=!0,o=!1,s=!1,a=[$d(r,Ke.LOAD,function(){s=!0,o||e()})];return r.src&&xC?(o=!0,r.decode().then(function(){i&&e()}).catch(function(l){i&&(s?e():n())})):a.push($d(r,Ke.ERROR,n)),function(){i=!1,a.forEach(en)}}function SZ(t,e){return new Promise((n,r)=>{function i(){s(),n(t)}function o(){s(),r(new Error("Image load error"))}function s(){t.removeEventListener("load",i),t.removeEventListener("error",o)}t.addEventListener("load",i),t.addEventListener("error",o),e&&(t.src=e)})}function N8(t,e){return e&&(t.src=e),t.src&&xC?new Promise((n,r)=>t.decode().then(()=>n(t)).catch(i=>t.complete&&t.width?n(t):r(i))):SZ(t)}var KI=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(let n in this.cache_){let r=this.cache_[n];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,r){let i=XI(e,n,r);return i in this.cache_?this.cache_[i]:null}getPattern(e,n,r){let i=XI(e,n,r);return i in this.patternCache_?this.patternCache_[i]:null}set(e,n,r,i,o){let s=XI(e,n,r),a=s in this.cache_;this.cache_[s]=i,o&&(i.getImageState()===gt.IDLE&&i.load(),i.getImageState()===gt.LOADING?i.ready().then(()=>{this.patternCache_[s]=cp().createPattern(i.getImage(1),"repeat")}):this.patternCache_[s]=cp().createPattern(i.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};function XI(t,e,n){let r=n?ps(n):"null";return e+":"+t+":"+r}var $i=new KI;var B0=null,T2=class extends fu{constructor(e,n,r,i,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=r,this.canvas_={},this.color_=o,this.imageState_=i===void 0?gt.IDLE:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===gt.LOADED){B0||(B0=Ln(1,1,void 0,{willReadFrequently:!0})),B0.drawImage(this.image_,0,0);try{B0.getImageData(0,0,1,1),this.tainted_=!1}catch{B0=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ke.CHANGE)}handleImageError_(){this.imageState_=gt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=gt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let e=this.size_[0],n=this.size_[1],r=Ln(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===gt.IDLE){this.image_||this.initializeImage_(),this.imageState_=gt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&N8(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==gt.LOADED)return;let n=this.image_,r=Ln(Math.ceil(n.width*e),Math.ceil(n.height*e)),i=r.canvas;r.scale(e,e),r.drawImage(n,0,0),r.globalCompositeOperation="multiply",r.fillStyle=E8(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(n,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===gt.LOADED||this.imageState_===gt.ERROR)e();else{let n=()=>{(this.imageState_===gt.LOADED||this.imageState_===gt.ERROR)&&(this.removeEventListener(Ke.CHANGE,n),e())};this.addEventListener(Ke.CHANGE,n)}})),this.ready_}};function uf(t,e,n,r,i,o){let s=e===void 0?void 0:$i.get(e,n,i);return s||(s=new T2(t,t&&"src"in t?t.src||void 0:e,n,r,i),$i.set(e,n,i,s,o)),o&&s&&!$i.getPattern(e,n,i)&&$i.set(e,n,i,s,o),s}var R8=T2;function Oo(t){return t?Array.isArray(t)?L0(t):typeof t=="object"&&"src"in t?CZ(t):t:null}function CZ(t){if(!t.offset||!t.size)return $i.getPattern(t.src,"anonymous",t.color);let e=t.src+":"+t.offset,n=$i.getPattern(e,void 0,t.color);if(n)return n;let r=$i.get(t.src,"anonymous",null);if(r.getImageState()!==gt.LOADED)return null;let i=Ln(t.size[0],t.size[1]);return i.drawImage(r.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),uf(i.canvas,e,void 0,gt.LOADED,t.color,!0),$i.getPattern(e,void 0,t.color)}var N2="10px sans-serif",ni="#000",rl="round",Fo=[],jo=0,il="round",cc=10,uc="#000",Nu="center",ff="middle",hc=[0,0,0,0],fc=1,hf=new Br,U0=null,P8,JI={},IZ=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function DZ(t,e,n){return`${t} ${e} 16px "${n}"`}var L8=(function(){let e,n;function r(o){return bt(this,null,function*(){yield n.ready;let s=yield n.load(o);if(s.length===0)return!1;let a=y2(o),l=a.families[0].toLowerCase(),c=a.weight;return s.some(u=>{let f=u.family.replace(/^['"]|['"]$/g,"").toLowerCase(),d=m2[u.weight]||u.weight;return f===l&&u.style===a.style&&d==c})})}function i(){return bt(this,null,function*(){yield n.ready;let o=!0,s=hf.getProperties(),a=Object.keys(s).filter(l=>s[l]<100);for(let l=a.length-1;l>=0;--l){let c=a[l],u=s[c];u<100&&((yield r(c))?(Ka(JI),hf.set(c,100)):(u+=10,hf.set(c,u,!0),u<100&&(o=!1)))}e=void 0,o||(e=setTimeout(i,100))})}return function(o){return bt(this,null,function*(){n||(n=Sr?self.fonts:document.fonts);let s=y2(o);if(!s)return;let a=s.families,l=!1;for(let c of a){if(IZ.has(c))continue;let u=DZ(s.style,s.weight,c);hf.get(u)===void 0&&(hf.set(u,0,!0),l=!0)}l&&(clearTimeout(e),e=setTimeout(i,100))})}})(),AZ=(function(){let t;return function(e){let n=JI[e];if(n==null){if(Sr){let r=y2(e),i=k8(e,"\u017Dg");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);JI[e]=n}return n}})();function k8(t,e){return U0||(U0=Ln(1,1)),t!=P8&&(U0.font=t,P8=U0.font),U0.measureText(e)}function O8(t,e){return k8(t,e).width}function QI(t,e,n){if(e in n)return n[e];let r=e.split(`
`).reduce((i,o)=>Math.max(i,O8(t,o)),0);return n[e]=r,r}function F8(t,e){let n=[],r=[],i=[],o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){let f=e[c];if(f===`
`||c===u){o=Math.max(o,s),i.push(s),s=0,a+=l,l=0;continue}let d=e[c+1]||t.font,h=O8(d,f);n.push(h),s+=h;let g=AZ(d);r.push(g),l=Math.max(l,g)}return{width:o,height:a,widths:n,heights:r,lineWidths:i}}function j8(t,e,n,r,i,o,s,a,l,c,u){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=f=>f.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),r.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),MZ(r,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(r,i,o,s,a,0,0,s,a)):t.drawImage(r,i,o,s,a,l,c,s*u[0],a*u[1]),t.restore()}function MZ(t,e){let n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}var eD=class t{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=pr(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Je()}getImage(e){return Je()}getHitDetectionImage(){return Je()}getPixelRatio(e){return 1}getImageState(){return Je()}getImageSize(){return Je()}getOrigin(){return Je()}getSize(){return Je()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=pr(e)}listenImageChange(e){Je()}load(){Je()}unlistenImageChange(e){Je()}ready(){return Promise.resolve()}},R2=eD;var tD=class t extends R2{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?gt.LOADING:gt.LOADED,this.imageState_===gt.LOADING&&this.ready().then(()=>this.imageState_=gt.LOADED),this.render()}clone(){let e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){let e=this.size_,n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.fill_?.getKey(),r=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(","),i=$i.get(r,null,null)?.getImage(1);if(!i){let o=this.renderOptions_,s=Math.ceil(o.size*e),a=Ln(s,s);this.draw_(o,a,e),i=a.canvas,$i.set(r,null,null,new R8(i,void 0,null,gt.LOADED,null))}return i}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius,o=this.radius2_===void 0?i:this.radius2_;if(i<o){let V=i;i=o,o=V}let s=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/s,l=o*Math.sin(a),c=Math.sqrt(o*o-l*l),u=i-c,f=Math.sqrt(l*l+u*u),d=f/l;if(e==="miter"&&d<=r)return d*n;let h=n/2/d,g=n/2*(u/f),_=Math.sqrt((i+h)*(i+h)+g*g)-i;if(this.radius2_===void 0||e==="bevel")return _*2;let v=i*Math.sin(a),E=Math.sqrt(i*i-v*v),S=o-E,R=Math.sqrt(v*v+S*S)/v;if(R<=r){let V=R*n/2-o-i;return 2*Math.max(_,V)}return _*2}createRenderOptions(){let e=rl,n=il,r=0,i=null,o=0,s,a=0;this.stroke_&&(s=Oo(this.stroke_.getColor()??uc),a=this.stroke_.getWidth()??fc,i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??il,e=this.stroke_.getLineCap()??rl,r=this.stroke_.getMiterLimit()??cc);let l=this.calculateLineJoinSize_(n,a,r),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:a,size:u,lineCap:e,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();let e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=ni),n.fillStyle=Oo(i),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let r=this.fill_.getColor(),i=0;typeof r=="string"&&(r=ps(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0&&(n=Ln(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_,r=this.radius;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{let i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);let o=this.angle_-Math.PI/2,s=2*Math.PI/n;for(let a=0;a<n;a++){let l=o+a*s,c=a%2===0?r:i;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=ni,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},P2=tD;var nD=class t extends P2{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){let e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}},df=nD;var rD=class t{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){let e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){let n=uf(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===gt.IDLE&&n.load(),n.getImageState()===gt.LOADING&&(this.patternImage_=n)}this.color_=e}getKey(){let e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Et(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:ps(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},Oi=rD;function B8(t,e,n,r){return n!==void 0&&r!==void 0?[n/t,r/e]:n!==void 0?n/t:r!==void 0?r/e:1}var iD=class t extends R2{constructor(e){e=e||{};let n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;let s=e.img!==void 0?e.img:null,a=e.src;Gt(!(a!==void 0&&s),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&s&&(a=s.src||Et(s)),Gt(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Gt(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=gt.IDLE:s!==void 0&&("complete"in s?s.complete?l=s.src?gt.LOADED:gt.IDLE:l=gt.LOADING:l=gt.LOADED),this.color_=e.color!==void 0?ps(e.color):null,this.iconImage_=uf(s,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{let f=this.getImage(1);if(f.width&&f.height)c=f.width,u=f.height;else if(f instanceof HTMLImageElement){this.initialOptions_=e;let d=()=>{if(this.unlistenImageChange(d),!this.initialOptions_)return;let h=this.iconImage_.getSize();this.setScale(B8(h[0],h[1],e.width,e.height))};this.listenImageChange(d);return}}c!==void 0&&this.setScale(B8(c,u,e.width,e.height))}}clone(){let e,n,r;return this.initialOptions_?(n=this.initialOptions_.width,r=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:r,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;let i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}let n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){let n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}setSrc(e){this.iconImage_=uf(null,e,this.crossOrigin_,gt.IDLE,this.color_)}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==gt.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){let e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==gt.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ke.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ke.CHANGE,e)}ready(){return this.iconImage_.ready()}},Ru=iD;var oD=class t{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){let e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}},Yi=oD;var Pu=class t{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=U8,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new t({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=U8,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function G8(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(Gt(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}var sD=null;function aD(t,e){if(!sD){let n=new Oi({color:"rgba(255,255,255,0.4)"}),r=new Yi({color:"#3399CC",width:1.25});sD=[new Pu({image:new df({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return sD}function z8(){let t={},e=[255,255,255,1],n=[0,153,255,1],r=3;return t.Polygon=[new Pu({fill:new Oi({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Pu({stroke:new Yi({color:e,width:r+2})}),new Pu({stroke:new Yi({color:n,width:r})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Pu({image:new df({radius:r*2,fill:new Oi({color:n}),stroke:new Yi({color:e,width:r/2})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function U8(t){return t.getGeometry()}var ri=Pu;var TZ="#333",lD=class t{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=pr(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Oi({color:TZ}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()instanceof Oi?this.getFill().clone():this.getFill(),stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=pr(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}},G0=lD;function NZ(t){return!0}function W8(t){let e=$I(),n=RZ(t,e),r=ZI();return function(i,o){if(r.properties=i.getPropertiesInternal(),r.resolution=o,e.featureId){let s=i.getId();s!==void 0?r.featureId=s:r.featureId=null}return e.geometryType&&(r.geometryType=YI(i.getGeometry())),n(r)}}function hD(t){let e=$I(),n=t.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=cD(t[s],e);let i=ZI(),o=new Array(n);return function(s,a){if(i.properties=s.getPropertiesInternal(),i.resolution=a,e.featureId){let c=s.getId();c!==void 0?i.featureId=c:i.featureId=null}let l=0;for(let c=0;c<n;++c){let u=r[c](i);u&&(o[l]=u,l+=1)}return o.length=l,o}}function RZ(t,e){let n=t.length,r=new Array(n);for(let i=0;i<n;++i){let o=t[i],s="filter"in o?nl(o.filter,Wi,e):NZ,a;if(Array.isArray(o.style)){let l=o.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=cD(o.style[c],e)}else a=[cD(o.style,e)];r[i]={filter:s,styles:a}}return function(i){let o=[],s=!1;for(let a=0;a<n;++a){let l=r[a].filter;if(l(i)&&!(t[a].else&&s)){s=!0;for(let c of r[a].styles){let u=c(i);u&&o.push(u)}}}return o}}function cD(t,e){let n=z0(t,"",e),r=V0(t,"",e),i=PZ(t,e),o=LZ(t,e),s=Bo(t,"z-index",e);if(!n&&!r&&!i&&!o&&!us(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));let a=new ri;return function(l){let c=!0;if(n){let u=n(l);u&&(c=!1),a.setFill(u)}if(r){let u=r(l);u&&(c=!1),a.setStroke(u)}if(i){let u=i(l);u&&(c=!1),a.setText(u)}if(o){let u=o(l);u&&(c=!1),a.setImage(u)}return s&&a.setZIndex(s(l)),c?null:a}}function z0(t,e,n){let r;if(e+"fill-pattern-src"in t)r=jZ(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return o=>null;r=fD(t,e+"fill-color",n)}if(!r)return null;let i=new Oi;return function(o){let s=r(o);return s===A2?null:(i.setColor(s),i)}}function V0(t,e,n){let r=Bo(t,e+"stroke-width",n),i=fD(t,e+"stroke-color",n);if(!r&&!i)return null;let o=dc(t,e+"stroke-line-cap",n),s=dc(t,e+"stroke-line-join",n),a=$8(t,e+"stroke-line-dash",n),l=Bo(t,e+"stroke-line-dash-offset",n),c=Bo(t,e+"stroke-miter-limit",n),u=new Yi;return function(f){if(i){let d=i(f);if(d===A2)return null;u.setColor(d)}if(r&&u.setWidth(r(f)),o){let d=o(f);if(d!=="butt"&&d!=="round"&&d!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(d)}if(s){let d=s(f);if(d!=="bevel"&&d!=="round"&&d!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(d)}return a&&u.setLineDash(a(f)),l&&u.setLineDashOffset(l(f)),c&&u.setMiterLimit(c(f)),u}}function PZ(t,e){let n="text-",r=dc(t,n+"value",e);if(!r)return null;let i=z0(t,n,e),o=z0(t,n+"background-",e),s=V0(t,n,e),a=V0(t,n+"background-",e),l=dc(t,n+"font",e),c=Bo(t,n+"max-angle",e),u=Bo(t,n+"offset-x",e),f=Bo(t,n+"offset-y",e),d=vp(t,n+"overflow",e),h=dc(t,n+"placement",e),g=Bo(t,n+"repeat",e),y=O2(t,n+"scale",e),_=vp(t,n+"rotate-with-view",e),v=Bo(t,n+"rotation",e),E=dc(t,n+"align",e),S=dc(t,n+"justify",e),I=dc(t,n+"baseline",e),R=vp(t,n+"keep-upright",e),V=$8(t,n+"padding",e),j=F2(t,n+"declutter-mode"),F=new G0({declutterMode:j});return function(k){if(F.setText(r(k)),i&&F.setFill(i(k)),o&&F.setBackgroundFill(o(k)),s&&F.setStroke(s(k)),a&&F.setBackgroundStroke(a(k)),l&&F.setFont(l(k)),c&&F.setMaxAngle(c(k)),u&&F.setOffsetX(u(k)),f&&F.setOffsetY(f(k)),d&&F.setOverflow(d(k)),h){let N=h(k);if(N!=="point"&&N!=="line")throw new Error("Expected point or line for text-placement");F.setPlacement(N)}if(g&&F.setRepeat(g(k)),y&&F.setScale(y(k)),_&&F.setRotateWithView(_(k)),v&&F.setRotation(v(k)),E){let N=E(k);if(N!=="left"&&N!=="center"&&N!=="right"&&N!=="end"&&N!=="start")throw new Error("Expected left, right, center, start, or end for text-align");F.setTextAlign(N)}if(S){let N=S(k);if(N!=="left"&&N!=="right"&&N!=="center")throw new Error("Expected left, right, or center for text-justify");F.setJustify(N)}if(I){let N=I(k);if(N!=="bottom"&&N!=="top"&&N!=="middle"&&N!=="alphabetic"&&N!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");F.setTextBaseline(N)}return V&&F.setPadding(V(k)),R&&F.setKeepUpright(R(k)),F}}function LZ(t,e){return"icon-src"in t?kZ(t,e):"shape-points"in t?OZ(t,e):"circle-radius"in t?FZ(t,e):null}function kZ(t,e){let n="icon-",r=n+"src",i=Y8(t[r],r),o=L2(t,n+"anchor",e),s=O2(t,n+"scale",e),a=Bo(t,n+"opacity",e),l=L2(t,n+"displacement",e),c=Bo(t,n+"rotation",e),u=vp(t,n+"rotate-with-view",e),f=H8(t,n+"anchor-origin"),d=q8(t,n+"anchor-x-units"),h=q8(t,n+"anchor-y-units"),g=zZ(t,n+"color"),y=UZ(t,n+"cross-origin"),_=GZ(t,n+"offset"),v=H8(t,n+"offset-origin"),E=k2(t,n+"width"),S=k2(t,n+"height"),I=BZ(t,n+"size"),R=F2(t,n+"declutter-mode"),V=new Ru({src:i,anchorOrigin:f,anchorXUnits:d,anchorYUnits:h,color:g,crossOrigin:y,offset:_,offsetOrigin:v,height:S,width:E,size:I,declutterMode:R});return function(j){return a&&V.setOpacity(a(j)),l&&V.setDisplacement(l(j)),c&&V.setRotation(c(j)),u&&V.setRotateWithView(u(j)),s&&V.setScale(s(j)),o&&V.setAnchor(o(j)),V}}function OZ(t,e){let n="shape-",r=n+"points",i=n+"radius",o=uD(t[r],r),s=uD(t[i],i),a=z0(t,n,e),l=V0(t,n,e),c=O2(t,n+"scale",e),u=L2(t,n+"displacement",e),f=Bo(t,n+"rotation",e),d=vp(t,n+"rotate-with-view",e),h=k2(t,n+"radius2"),g=k2(t,n+"angle"),y=F2(t,n+"declutter-mode"),_=new P2({points:o,radius:s,radius2:h,angle:g,declutterMode:y});return function(v){return a&&_.setFill(a(v)),l&&_.setStroke(l(v)),u&&_.setDisplacement(u(v)),f&&_.setRotation(f(v)),d&&_.setRotateWithView(d(v)),c&&_.setScale(c(v)),_}}function FZ(t,e){let n="circle-",r=z0(t,n,e),i=V0(t,n,e),o=Bo(t,n+"radius",e),s=O2(t,n+"scale",e),a=L2(t,n+"displacement",e),l=Bo(t,n+"rotation",e),c=vp(t,n+"rotate-with-view",e),u=F2(t,n+"declutter-mode"),f=new df({radius:5,declutterMode:u});return function(d){return o&&f.setRadius(o(d)),r&&f.setFill(r(d)),i&&f.setStroke(i(d)),a&&f.setDisplacement(a(d)),l&&f.setRotation(l(d)),c&&f.setRotateWithView(c(d)),s&&f.setScale(s(d)),f}}function Bo(t,e,n){if(!(e in t))return;let r=nl(t[e],rn,n);return function(i){return uD(r(i),e)}}function dc(t,e,n){if(!(e in t))return null;let r=nl(t[e],go,n);return function(i){return Y8(r(i),e)}}function jZ(t,e,n){let r=dc(t,e+"pattern-src",n),i=V8(t,e+"pattern-offset",n),o=V8(t,e+"pattern-size",n),s=fD(t,e+"color",n);return function(a){return{src:r(a),offset:i&&i(a),size:o&&o(a),color:s&&s(a)}}}function vp(t,e,n){if(!(e in t))return null;let r=nl(t[e],Wi,n);return function(i){let o=r(i);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function fD(t,e,n){if(!(e in t))return null;let r=nl(t[e],gs,n);return function(i){return Z8(r(i),e)}}function $8(t,e,n){if(!(e in t))return null;let r=nl(t[e],Tu,n);return function(i){return H0(r(i),e)}}function L2(t,e,n){if(!(e in t))return null;let r=nl(t[e],Tu,n);return function(i){let o=H0(r(i),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function V8(t,e,n){if(!(e in t))return null;let r=nl(t[e],Tu,n);return function(i){return X8(r(i),e)}}function O2(t,e,n){if(!(e in t))return null;let r=nl(t[e],Tu|rn,n);return function(i){return VZ(r(i),e)}}function k2(t,e){let n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function BZ(t,e){let n=t[e];if(n!==void 0){if(typeof n=="number")return pr(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function UZ(t,e){let n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function H8(t,e){let n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function q8(t,e){let n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function GZ(t,e){let n=t[e];if(n!==void 0)return H0(n,e)}function F2(t,e){let n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function zZ(t,e){let n=t[e];if(n!==void 0)return Z8(n,e)}function H0(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);let n=t.length;for(let r=0;r<n;++r)if(typeof t[r]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function Y8(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function uD(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function Z8(t,e){if(typeof t=="string")return t;let n=H0(t,e),r=n.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function X8(t,e){let n=H0(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function VZ(t,e){return typeof t=="number"?t:X8(t,e)}var K8={RENDER_ORDER:"renderOrder"},dD=class extends lf{constructor(e){e=e||{};let n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(K8.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){let r=this.getDeclutter();r in e.declutter||(e.declutter[r]=new yp(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(K8.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?aD:e;let n=HZ(e);this.styleFunction_=e===null?void 0:G8(n),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}};function HZ(t){if(t===void 0)return aD;if(!t)return null;if(typeof t=="function"||t instanceof ri)return t;if(!Array.isArray(t))return hD([t]);if(t.length===0)return[];let e=t.length,n=t[0];if(n instanceof ri){let i=new Array(e);for(let o=0;o<e;++o){let s=t[o];if(!(s instanceof ri))throw new Error("Expected a list of style instances");i[o]=s}return i}if("style"in n){let i=new Array(e);for(let o=0;o<e;++o){let s=t[o];if(!("style"in s))throw new Error("Expected a list of rules with a style property");i[o]=s}return W8(i)}return hD(t)}var j2=dD;var pD=class extends jr{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}},B2=pD;var gD=class extends hu{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Je()}calculateMatrices2D(e){let n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Pi(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),s2(i,r)}forEachFeatureAtCoordinate(e,n,r,i,o,s,a,l){let c,u=n.viewState;function f(I,R,V,j){return o.call(s,R,I?V:null,j)}let d=u.projection,h=Zv(e.slice(),d),g=[[0,0]];if(d.canWrapX()&&i){let I=d.getExtent(),R=zt(I);g.push([-R,0],[R,0])}let y=n.layerStatesArray,_=y.length,v=[],E=[];for(let I=0;I<g.length;I++)for(let R=_-1;R>=0;--R){let V=y[R],j=V.layer;if(j.hasRenderer()&&D0(V,u)&&a.call(l,j)){let F=j.getRenderer(),k=j.getSource();if(F&&k){let N=k.getWrapX()?h:e,T=f.bind(null,V.managed);E[0]=N[0]+g[I][0],E[1]=N[1]+g[I][1],c=F.forEachFeatureAtCoordinate(E,n,r,T,v)}if(c)return c}}if(v.length===0)return;let S=1/v.length;return v.forEach((I,R)=>I.distanceSq+=R*S),v.sort((I,R)=>I.distanceSq-R.distanceSq),v.some(I=>c=I.callback(I.feature,I.layer,I.geometry)),c}hasFeatureAtCoordinate(e,n,r,i,o,s){return this.forEachFeatureAtCoordinate(e,n,r,i,ga,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(e){Je()}scheduleExpireIconCache(e){$i.canExpireCache()&&e.postRenderFunctions.push(qZ)}};function qZ(t,e){$i.expire()}var J8=gD;var mD=class extends J8{constructor(e){super(e),this.fontChangeListenerKey_=Lt(hf,pa.PROPERTYCHANGE,e.redrawText,e),this.element_=Sr?_2():document.createElement("div");let n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Iu+" ol-layers";let r=e.getViewport();r&&r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){let r=this.getMap();if(r.hasListener(e)){let i=new B2(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){en(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(ki.PRECOMPOSE,e);let n=e.layerStatesArray.sort((c,u)=>c.zIndex-u.zIndex);n.some(c=>c.layer instanceof j2&&c.layer.getDeclutter())&&(e.declutter={});let i=e.viewState;this.children_.length=0;let o=[],s=null;for(let c=0,u=n.length;c<u;++c){let f=n[c];e.layerIndex=c;let d=f.layer,h=d.getSourceState();if(!D0(f,i)||h!="ready"&&h!="undefined"){d.unrender();continue}let g=d.render(e,s);g&&(g!==s&&(this.children_.push(g),s=g),o.push(f))}this.declutter(e,o),Qk(this.element_,this.children_);let l=this.getMap().getTargetElement();if(va(l)){let c=l.getContext("2d");for(let u of this.children_){let f=u.firstElementChild||u,d=u.style.backgroundColor;if(d&&(!va(f)||f.width>0)&&(c.fillStyle=d,c.fillRect(0,0,l.width,l.height)),va(f)&&f.width>0){let h=u.style.opacity||f.style.opacity;c.globalAlpha=h===""?1:Number(h);let g=f.style.transform;if(g)c.setTransform(...o2(g));else{let y=parseFloat(f.style.width)/f.width,_=parseFloat(f.style.height)/f.height;c.setTransform(y,0,0,_,0,0)}c.drawImage(f,0,0)}}c.globalAlpha=1,c.setTransform(1,0,0,1,0,0)}this.dispatchRenderEvent(ki.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let r=n.length-1;r>=0;--r){let i=n[r],o=i.layer;o.getDeclutter()&&o.renderDeclutter(e,i)}n.forEach(r=>r.layer.renderDeferred(e))}}},Q8=mD;function eO(t){if(t instanceof lf){t.setMapInternal(null);return}t instanceof I0&&t.getLayers().forEach(eO)}function tO(t,e){if(t instanceof lf){t.setMapInternal(e);return}if(t instanceof I0){let n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)tO(n[r],e)}}var yD=class extends Br{constructor(e){super(),e=e||{},this.on,this.once,this.un;let n=WZ(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:qL,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=pi(),this.pixelToCoordinateTransform_=pi(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,Sr||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,Sr||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=n.controls||(Sr?new Ti:b0()),this.interactions=n.interactions||(Sr?new Ti:w8({onFocusOnly:!0})),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new YL(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ni.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ni.VIEW,this.handleViewChanged_),this.addChangeListener(Ni.SIZE,this.handleSizeChanged_),this.addChangeListener(Ni.TARGET,this.handleTargetChanged_),this.setProperties(n.values);let r=this;e.view&&!(e.view instanceof ds)&&e.view.then(function(i){r.setView(new ds(i))}),this.controls.addEventListener(di.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(di.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(di.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(di.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(di.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(di.REMOVE,i=>{let o=i.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){tO(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){let n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_?.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;let i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};let o=r.hitTolerance!==void 0?r.hitTolerance:0,s=r.layerFilter!==void 0?r.layerFilter:ga,a=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,a,n,null,s,null)}getFeaturesAtPixel(e,n){let r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){let e=[];function n(r){r.forEach(function(i){i instanceof I0?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;let r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};let i=n.layerFilter!==void 0?n.layerFilter:ga,o=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,o,s,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){let r=this.viewport_.getBoundingClientRect(),i=this.getSize(),o=r.width/i[0],s=r.height/i[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-r.left)/o,(a.clientY-r.top)/s]}getTarget(){return this.get(Ni.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return l0(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){let n=this.frameState_;return n?sr(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){let n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ni.LAYERGROUP)}setLayers(e){let n=this.getLayerGroup();if(e instanceof Ti){n.setLayers(e);return}let r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){let i=e[n];if(!i.visible)continue;let o=i.layer.getRenderer();if(o&&!o.ready)return!0;let s=i.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){let n=Lo(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){let n=this.frameState_;return n?sr(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ni.SIZE)}getView(){return this.get(Ni.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return ZL(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;let r=new Gs(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;let n=e.originalEvent,r=n.type;if(r===Jm.POINTERDOWN||r===Ke.WHEEL||r===Ke.KEYDOWN){let i=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():i,s=n.target,a=o instanceof ShadowRoot?o.host===s?o.host.ownerDocument:o:o===i?i.documentElement:o;if(this.overlayContainerStopEvent_.contains(s)||!a.contains(s))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){let i=this.getInteractions().getArray().slice();for(let o=i.length-1;o>=0;o--){let s=i[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){let e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,o=i;if(e){let s=e.viewHints;if(s[ti.ANIMATING]||s[ti.INTERACTING]){let a=Date.now()-e.time>8;i=a?0:8,o=a?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(ki.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ki.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new du(Ja.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new du(Ja.LOADSTART,this,e))));let r=this.postRenderFunctions_;if(e)for(let i=0,o=r.length;i<o;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)en(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ke.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ke.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!va(this.targetElement_)){this.resizeObserver_?.unobserve(this.targetElement_);let r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}let e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{if(va(n)||n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Q8(this)),!va(n)){this.mapBrowserEventHandler_=new WL(this,this.moveTolerance_);for(let i in ln)this.mapBrowserEventHandler_.addEventListener(ln[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ke.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ke.WHEEL,this.boundHandleBrowserEvent_,Uv?{passive:!1}:!1);let r;if(this.keyboardEventTarget_)r=this.keyboardEventTarget_;else{let i=n.getRootNode();r=i instanceof ShadowRoot?i.host:n}if(this.targetChangeHandlerKeys_=[Lt(r,Ke.KEYDOWN,this.handleBrowserEvent,this),Lt(r,Ke.KEYPRESS,this.handleBrowserEvent,this)],n instanceof HTMLElement){let i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_?.observe(n)}}this.updateSize()}}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(en(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(en(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Lt(e,pa.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Lt(e,Ke.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(en),this.layerGroupPropertyListenerKeys_=null);let e=this.getLayerGroup();e&&(this.handleLayerAdd_(new wa("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Lt(e,pa.PROPERTYCHANGE,this.render,this),Lt(e,Ke.CHANGE,this.render,this),Lt(e,"addlayer",this.handleLayerAdd_,this),Lt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;let e=this.frameState_.layerStatesArray;for(let n=0,r=e.length;n<r;++n){let i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){eO(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){let n=this.getSize(),r=this.getView(),i=this.frameState_,o=null;if(n!==void 0&&VI(n)&&r&&r.isDef()){let s=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:o0(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:Et(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=o0(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i&&(!this.previousExtent_||!el(this.previousExtent_)&&!rc(o.extent,this.previousExtent_))&&(this.dispatchEvent(new du(Ja.MOVESTART,this,i)),this.previousExtent_=nc(this.previousExtent_)),this.previousExtent_&&!o.viewHints[ti.ANIMATING]&&!o.viewHints[ti.INTERACTING]&&!rc(o.extent,this.previousExtent_)&&(this.dispatchEvent(new du(Ja.MOVEEND,this,o)),Hv(o.extent,this.previousExtent_))),this.dispatchEvent(new du(Ja.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Ja.LOADSTART)||this.hasListener(Ja.LOADEND)||this.hasListener(ki.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){let n=this.getLayerGroup();n&&this.handleLayerRemove_(new wa("removelayer",n)),this.set(Ni.LAYERGROUP,e)}setSize(e){this.set(Ni.SIZE,e)}setTarget(e){this.set(Ni.TARGET,e)}setView(e){if(!e||e instanceof ds){this.set(Ni.VIEW,e);return}this.set(Ni.VIEW,new ds);let n=this;e.then(function(r){n.setView(new ds(r))})}updateSize(){let e=this.getTargetElement(),n;if(e){let i,o;if(va(e))i=e.width,o=e.height;else{let s=getComputedStyle(e);i=e.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),o=e.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth)}!isNaN(i)&&!isNaN(o)&&(n=[Math.max(0,i),Math.max(0,o)],!VI(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Xv("No map visible because the map container's width or height are 0."))}let r=this.getSize();n&&(!r||!Hi(n,r))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){let n=this.getView();n&&n.setViewportSize(e)}};function WZ(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);let n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new I0({layers:t.layers});n[Ni.LAYERGROUP]=r,n[Ni.TARGET]=t.target,n[Ni.VIEW]=t.view instanceof ds?t.view:new ds;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new Ti(t.controls.slice()):(Gt(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=t.controls));let o;t.interactions!==void 0&&(Array.isArray(t.interactions)?o=new Ti(t.interactions.slice()):(Gt(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=t.interactions));let s;return t.overlays!==void 0?Array.isArray(t.overlays)?s=new Ti(t.overlays.slice()):(Gt(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),s=t.overlays):s=new Ti,{controls:i,interactions:o,keyboardEventTarget:e,overlays:s,values:n}}var nO=yD;var _D=class extends fu{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(Ke.CHANGE)}release(){this.setState(ot.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==ot.EMPTY){if(this.state!==ot.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Je()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;let i=n-r+1e3/60;return i>=this.transition_?1:NC(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}},wp=_D;function U2(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}var $Z=new Error("disposed");var YZ=[256,256],vD=class extends wp{constructor(e){let n=ot.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;let e=U2(this.data_);return e?[e.width,e.height]:YZ}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ot.IDLE&&this.state!==ot.ERROR)return;this.state=ot.LOADING,this.changed();let e=this;this.loader_().then(function(n){e.data_=n,e.state=ot.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=ot.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort($Z),this.controller_=null),super.disposeInternal()}},wD=vD;var xD=class extends wp{constructor(e,n,r,i,o,s){super(e,n,s),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_,Sr?this.image_=new OffscreenCanvas(1,1):(this.image_=new Image,i!==null&&(this.image_.crossOrigin=i)),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=ot.LOADED,this.unlistenImage_(),this.changed()}getCrossOrigin(){return this.crossOrigin_}handleImageError_(){this.state=ot.ERROR,this.unlistenImage_(),this.image_=ZZ(),this.changed()}handleImageLoad_(){if(Sr)this.state=ot.LOADED;else{let e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ot.LOADED:this.state=ot.EMPTY}this.unlistenImage_(),this.changed()}load(){this.state==ot.ERROR&&(this.state=ot.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ot.IDLE&&(this.state=ot.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=T8(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};function ZZ(){let t=Ln(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var G2=xD;var z2=class{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}};function pf(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new z2(t,e,n,r)}var V2=z2;var bD,gf=[];function rO(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function ED(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function XZ(){if(bD===void 0){let t=Ln(6,6,gf);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",rO(t,4,5,4,0),rO(t,4,5,0,5);let e=t.getImageData(0,0,3,3).data;bD=ED(e,0)||ED(e,4)||ED(e,8),sf(t),gf.push(t.canvas)}return bD}function iO(t,e,n,r){let i=nf(n,e,t),o=zC(e,r,n),s=e.getMetersPerUnit();s!==void 0&&(o*=s);let a=t.getMetersPerUnit();a!==void 0&&(o/=a);let l=t.getExtent();if(!l||ya(l,i)){let c=zC(t,o,i)/o;isFinite(c)&&c>0&&(o/=c)}return o}function oO(t,e,n,r){let i=Ro(n),o=iO(t,e,i,r);return(!isFinite(o)||o<=0)&&Kd(n,function(s){return o=iO(t,e,s,r),isFinite(o)&&o>0}),o}function sO(t,e,n,r,i,o,s,a,l,c,u,f,d,h){let g=Ln(Math.round(n*t),Math.round(n*e),gf);if(f||(g.imageSmoothingEnabled=!1),l.length===0)return g.canvas;g.scale(n,n);function y(R){return Math.round(R*n)/n}g.globalCompositeOperation="lighter";let _=Cr();l.forEach(function(R,V,j){Wv(_,R.extent)});let v,E=n/r,S=(f?1:1+Math.pow(2,-24))/E;if(!d||l.length!==1||c!==0){if(v=Ln(Math.round(zt(_)*E),Math.round(nr(_)*E),gf),f||(v.imageSmoothingEnabled=!1),i&&h){let R=(i[0]-_[0])*E,V=-(i[3]-_[3])*E,j=zt(i)*E,F=nr(i)*E;v.rect(R,V,j,F),v.clip()}l.forEach(function(R,V,j){if(R.image.width>0&&R.image.height>0){if(R.clipExtent){v.save();let x=(R.clipExtent[0]-_[0])*E,O=-(R.clipExtent[3]-_[3])*E,$=zt(R.clipExtent)*E,Y=nr(R.clipExtent)*E;v.rect(f?x:Math.round(x),f?O:Math.round(O),f?$:Math.round(x+$)-Math.round(x),f?Y:Math.round(O+Y)-Math.round(O)),v.clip()}let F=(R.extent[0]-_[0])*E,k=-(R.extent[3]-_[3])*E,N=zt(R.extent)*E,T=nr(R.extent)*E;v.drawImage(R.image,c,c,R.image.width-2*c,R.image.height-2*c,f?F:Math.round(F),f?k:Math.round(k),f?N:Math.round(F+N)-Math.round(F),f?T:Math.round(k+T)-Math.round(k)),R.clipExtent&&v.restore()}})}let I=fs(s);return a.getTriangles().forEach(function(R,V,j){let F=R.source,k=R.target,N=F[0][0],T=F[0][1],x=F[1][0],O=F[1][1],$=F[2][0],Y=F[2][1],se=y((k[0][0]-I[0])/o),K=y(-(k[0][1]-I[1])/o),te=y((k[1][0]-I[0])/o),W=y(-(k[1][1]-I[1])/o),ee=y((k[2][0]-I[0])/o),pe=y(-(k[2][1]-I[1])/o),M=N,z=T;N=0,T=0,x-=M,O-=z,$-=M,Y-=z;let Q=[[x,O,0,0,te-se],[$,Y,0,0,ee-se],[0,0,x,O,W-K],[0,0,$,Y,pe-K]],ne=KL(Q);if(!ne)return;if(g.save(),g.beginPath(),XZ()||!f){g.moveTo(te,W);let le=4,_e=se-te,ye=K-W;for(let Se=0;Se<le;Se++)g.lineTo(te+y((Se+1)*_e/le),W+y(Se*ye/(le-1))),Se!=le-1&&g.lineTo(te+y((Se+1)*_e/le),W+y((Se+1)*ye/(le-1)));g.lineTo(ee,pe)}else g.moveTo(te,W),g.lineTo(se,K),g.lineTo(ee,pe);g.clip(),g.transform(ne[0],ne[2],ne[1],ne[3],se,K),g.translate(_[0]-M,_[3]-z);let re;if(v)re=v.canvas,g.scale(S,-S);else{let le=l[0],_e=le.extent;re=le.image,g.scale(zt(_e)/re.width,-nr(_e)/re.height)}g.drawImage(re,0,0),g.restore()}),v&&(sf(v),gf.push(v.canvas)),u&&(g.save(),g.globalCompositeOperation="source-over",g.strokeStyle="black",g.lineWidth=1,a.getTriangles().forEach(function(R,V,j){let F=R.target,k=(F[0][0]-I[0])/o,N=-(F[0][1]-I[1])/o,T=(F[1][0]-I[0])/o,x=-(F[1][1]-I[1])/o,O=(F[2][0]-I[0])/o,$=-(F[2][1]-I[1])/o;g.beginPath(),g.moveTo(T,x),g.lineTo(k,N),g.lineTo(O,$),g.closePath(),g.stroke()}),g.restore()),g.canvas}var KZ=10,aO=.25,SD=class{constructor(e,n,r,i,o,s,a){this.sourceProj_=e,this.targetProj_=n;let l={},c=a?r2(S=>sr(a,nf(S,this.targetProj_,this.sourceProj_))):sc(this.targetProj_,this.sourceProj_);this.transformInv_=function(S){let I=S[0]+"/"+S[1];return l[I]||(l[I]=c(S)),l[I]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&zt(i)>=zt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?zt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?zt(this.targetProj_.getExtent()):null;let u=fs(r),f=Jh(r),d=Kh(r),h=Xh(r),g=this.transformInv_(u),y=this.transformInv_(f),_=this.transformInv_(d),v=this.transformInv_(h),E=KZ+(s?Math.max(0,Math.ceil(Math.log2(i0(r)/(s*s*256*256)))):0);if(this.addQuad_(u,f,d,h,g,y,_,v,E),this.wrapsXInSource_){let S=1/0;this.triangles_.forEach(function(I,R,V){S=Math.min(S,I.source[0][0],I.source[1][0],I.source[2][0])}),this.triangles_.forEach(I=>{if(Math.max(I.source[0][0],I.source[1][0],I.source[2][0])-S>this.sourceWorldWidth_/2){let R=[[I.source[0][0],I.source[0][1]],[I.source[1][0],I.source[1][1]],[I.source[2][0],I.source[2][1]]];R[0][0]-S>this.sourceWorldWidth_/2&&(R[0][0]-=this.sourceWorldWidth_),R[1][0]-S>this.sourceWorldWidth_/2&&(R[1][0]-=this.sourceWorldWidth_),R[2][0]-S>this.sourceWorldWidth_/2&&(R[2][0]-=this.sourceWorldWidth_);let V=Math.min(R[0][0],R[1][0],R[2][0]);Math.max(R[0][0],R[1][0],R[2][0])-V<this.sourceWorldWidth_/2&&(I.source=R)}})}l={}}addTriangle_(e,n,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[e,n,r]})}addQuad_(e,n,r,i,o,s,a,l,c){let u=n0([o,s,a,l]),f=this.sourceWorldWidth_?zt(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&f>.5&&f<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let _=n0([e,n,r,i]);g=zt(_)/this.targetWorldWidth_>aO||g}!h&&this.sourceProj_.isGlobal()&&f&&(g=f>aO||g)}if(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!Qn(u,this.maxSourceExtent_))return;let y=0;if(!g&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)g=!0;else if(y=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),y!=1&&y!=2&&y!=4&&y!=8)return}if(c>0){if(!g){let _=[(e[0]+r[0])/2,(e[1]+r[1])/2],v=this.transformInv_(_),E;h?E=(ma(o[0],d)+ma(a[0],d))/2-ma(v[0],d):E=(o[0]+a[0])/2-v[0];let S=(o[1]+a[1])/2-v[1];g=E*E+S*S>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){let _=[(n[0]+r[0])/2,(n[1]+r[1])/2],v=this.transformInv_(_),E=[(i[0]+e[0])/2,(i[1]+e[1])/2],S=this.transformInv_(E);this.addQuad_(e,n,_,E,o,s,v,S,c-1),this.addQuad_(E,_,r,i,S,v,a,l,c-1)}else{let _=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(_),E=[(r[0]+i[0])/2,(r[1]+i[1])/2],S=this.transformInv_(E);this.addQuad_(e,_,E,i,o,v,S,l,c-1),this.addQuad_(_,n,r,E,v,s,a,S,c-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(y&11)==0&&this.addTriangle_(e,r,i,o,a,l),(y&14)==0&&this.addTriangle_(e,r,n,o,a,s),y&&((y&13)==0&&this.addTriangle_(n,i,e,s,l,o),(y&7)==0&&this.addTriangle_(n,i,r,s,l,a))}calculateSourceExtent(){let e=Cr();return this.triangles_.forEach(function(n,r,i){let o=n.source;Zh(e,o[0]),Zh(e,o[1]),Zh(e,o[2])}),e}getTriangles(){return this.triangles_}},lO=SD;var CD=class extends wp{constructor(e,n,r,i,o,s,a,l,c,u,f,d){super(o,ot.IDLE,d),this.renderEdges_=f!==void 0?f:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;let h=i.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),y=this.sourceTileGrid_.getExtent(),_=g?Qa(h,g):h;if(i0(_)===0){this.state=ot.EMPTY;return}let v=e.getExtent();v&&(y?y=Qa(y,v):y=v);let E=i.getResolution(this.wrappedTileCoord_[0]),S=oO(e,r,_,E);if(!isFinite(S)||S<=0){this.state=ot.EMPTY;return}let I=u!==void 0?u:.5;if(this.triangulation_=new lO(e,r,_,y,S*I,E),this.triangulation_.getTriangles().length===0){this.state=ot.EMPTY;return}this.sourceZ_=n.getZForResolution(S);let R=this.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(R[1]=tn(R[1],y[1],y[3]),R[3]=tn(R[3],y[1],y[3])):R=Qa(R,y)),!i0(R))this.state=ot.EMPTY;else{let V=0,j=0;e.canWrapX()&&(V=zt(v),j=Math.floor((R[0]-v[0])/V)),$v(R.slice(),e,!0).forEach(k=>{let N=n.getTileRangeForExtentAndZ(k,this.sourceZ_);for(let T=N.minX;T<=N.maxX;T++)for(let x=N.minY;x<=N.maxY;x++){let O=c(this.sourceZ_,T,x,a);if(O){let $=j*V;this.sourceTiles_.push({tile:O,offset:$})}}++j}),this.sourceTiles_.length===0&&(this.state=ot.EMPTY)}}getImage(){return this.canvas_}reproject_(){let e=[];if(this.sourceTiles_.forEach(n=>{let r=n.tile;if(r&&r.getState()==ot.LOADED){let i=this.sourceTileGrid_.getTileCoordExtent(r.tileCoord);i[0]+=n.offset,i[2]+=n.offset;let o=this.clipExtent_?.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),e.push({extent:i,clipExtent:o,image:r.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=ot.ERROR;else{let n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],o=typeof r=="number"?r:r[1],s=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=sO(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ot.LOADED}this.changed()}load(){if(this.state==ot.IDLE){this.state=ot.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{let r=n.getState();if(r==ot.IDLE||r==ot.LOADING){e++;let i=Lt(n,Ke.CHANGE,o=>{let s=n.getState();(s==ot.LOADED||s==ot.ERROR||s==ot.EMPTY)&&(en(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},r,i){n.getState()==ot.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(en),this.sourcesListenerKeys_=null}release(){this.canvas_&&(sf(this.canvas_.getContext("2d")),gf.push(this.canvas_),this.canvas_=null),super.release()}},H2=CD;var ID=class{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){let e=this.pop();e instanceof hu&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){let r=this.entries_[e];return Gt(r!==void 0,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){let n=this.entries_[e];return Gt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){let e=new Array(this.count_),n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){let e=new Array(this.count_),n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){let e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Gt(!(e in this.entries_),"Tried to set a value for a key that is used already");let r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}},DD=ID;function xp(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function JZ(t,e,n){return t+"/"+e+"/"+n}function bp(t,e,n,r,i){return`${Et(t)},${e},${JZ(n,r,i)}`}function cO(t){return QZ(t[0],t[1],t[2])}function QZ(t,e,n){return(e<<t)+n}function uO(t,e){let n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;let o=e.getFullTileRange(n);return o?o.containsXY(r,i):!0}var AD=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(cp(),{get:(e,n)=>{if(typeof cp()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(e,n,r)=>(this.push_(n,r),!0)})}push_(...e){let n=this.instructions_,r=this.zIndex+this.offset_;n[r]||(n[r]=[]),n[r].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let r=0,i=n.length;r<i;++r){let o=n[r];if(typeof o=="function"){o(e);continue}let s=n[++r];if(typeof e[o]=="function")e[o](...s);else{if(typeof s=="function"){e[o]=s(e);continue}e[o]=s}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},q2=AD;var eX=5,MD=class extends jv{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=eX}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Je()}getData(e){return null}prepareFrame(e){return Je()}renderFrame(e,n){return Je()}forEachFeatureAtCoordinate(e,n,r,i,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){let n=e.target;(n.getState()===gt.LOADED||n.getState()===gt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=gt.LOADED&&n!=gt.ERROR&&e.addEventListener(Ke.CHANGE,this.boundHandleImageChange_),n==gt.IDLE&&(e.load(),n=e.getState()),n==gt.LOADED}renderIfReadyAndVisible(){let e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},hO=MD;var ND=[],Ep=null;function tX(){Ep=Ln(1,1,void 0,{willReadFrequently:!0})}var TD=class extends hO{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=pi(),this.pixelTransform=pi(),this.inversePixelTransform=pi(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,r){Ep||tX(),Ep.clearRect(0,0,1,1);let i;try{Ep.drawImage(e,n,r,1,1,0,0,1,1),i=Ep.getImageData(0,0,1,1).data}catch{return Ep=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){let i=this.getLayer().getClassName(),o,s;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&Hi(ps(e.style.backgroundColor),ps(r)))){let a=e.firstElementChild;va(a)&&(s=a.getContext("2d"))}if(s&&Tk(s.canvas.style.transform,n)?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=Sr?_2():document.createElement("div"),o.className=i;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=Ln();let l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){let i=fs(r),o=Jh(r),s=Kh(r),a=Xh(r);sr(n.coordinateToPixelTransform,i),sr(n.coordinateToPixelTransform,o),sr(n.coordinateToPixelTransform,s),sr(n.coordinateToPixelTransform,a);let l=this.inversePixelTransform;sr(l,i),sr(l,o),sr(l,s),sr(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,n){let r=e.extent,i=e.viewState.resolution,o=e.viewState.rotation,s=e.pixelRatio,a=Math.round(zt(r)/i*s),l=Math.round(nr(r)/i*s);Pi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/s,1/s,o,-a/2,-l/2),s2(this.inversePixelTransform,this.pixelTransform);let c=Mk(this.pixelTransform);if(this.useContainer(n,c,this.getBackground(e)),!this.containerReused){let u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,n,r){let i=this.getLayer();if(i.hasListener(e)){let o=new B2(e,this.inversePixelTransform,r,n);i.dispatchEvent(o)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(ki.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(ki.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new q2),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(ki.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(ki.POSTRENDER,this.context,e))}getRenderTransform(e,n,r,i,o,s,a){let l=o/2,c=s/2,u=i/n,f=-u,d=-e[0]+a,h=-e[1];return Pi(this.tempTransform,l,c,u,f,-r,d,h)}disposeInternal(){delete this.frameState,super.disposeInternal()}},W2=TD;function RD(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;let r=t[n],i=r.has(e);return i||r.add(e),!i}function nX(t,e,n){let r=t[n];return r?r.delete(e):!1}function fO(t,e){let n=t.layerStatesArray[t.layerIndex];n.extent&&(e=Qa(e,Hs(n.extent,t.viewState.projection)));let r=n.layer.getRenderSource();if(!r.getWrapX()){let i=r.getTileGridForProjection(t.viewState.projection).getExtent();i&&(e=Qa(e,i))}return e}var PD=class extends W2{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Cr(),this.tempTileRange_=new V2(0,0,0,0),this.tempTileCoord_=xp(0,0,0);let r=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new DD(r),this.sourceTileCache_=null,this.maxStaleKeys=r*.5}getTileCache(){return this.tileCache_}getSourceTileCache(){return this.sourceTileCache_||(this.sourceTileCache_=new DD(512)),this.sourceTileCache_}getOrCreateTile(e,n,r,i){let o=this.tileCache_,a=this.getLayer().getSource(),l=bp(a,a.getKey(),e,n,r),c;if(o.containsKey(l))c=o.get(l);else{let u=i.viewState.projection,f=a.getProjection();if(c=a.getTile(e,n,r,i.pixelRatio,u,!f||vu(f,u)?void 0:this.getSourceTileCache()),!c)return null;o.set(l,c)}return c}getTile(e,n,r,i){let o=this.getOrCreateTile(e,n,r,i);return o||null}getData(e){let n=this.frameState;if(!n)return null;let r=this.getLayer(),i=sr(n.pixelToCoordinateTransform,e.slice()),o=r.getExtent();if(o&&!ya(o,i))return null;let s=n.viewState,a=r.getRenderSource(),l=a.getTileGridForProjection(s.projection),c=a.getTilePixelRatio(n.pixelRatio);for(let u=l.getZForResolution(s.resolution);u>=l.getMinZoom();--u){let f=l.getTileCoordForCoordAndZ(i,u),d=this.getTile(u,f[1],f[2],n);if(!d||d.getState()!==ot.LOADED)continue;let h=l.getOrigin(u),g=pr(l.getTileSize(u)),y=l.getResolution(u),_;if(d instanceof G2||d instanceof H2)_=d.getImage();else if(d instanceof wD){if(_=U2(d.getData()),!_)continue}else continue;let v=Math.floor(c*((i[0]-h[0])/y-f[1]*g[0])),E=Math.floor(c*((h[1]-i[1])/y-f[2]*g[1])),S=Math.round(c*a.getGutterForProjection(s.projection));return this.getImageData(_,v+S,E+S)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;let n=this.getLayer().getSource();if(!n)return!1;let r=n.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==r&&(this.renderedSourceRevision_=r,this.renderedSourceKey_===n.getKey()&&(this.tileCache_.clear(),this.sourceTileCache_?.clear())):this.renderedSourceRevision_=r,!0}enqueueTilesForNextExtent(){return!0}enqueueTiles(e,n,r,i,o){let s=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(s.projection),u=Et(l);u in e.wantedTiles||(e.wantedTiles[u]={});let f=e.wantedTiles[u],d=a.getMapInternal(),h=Math.max(r-o,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),d?d.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection)),g=s.rotation,y=g?DC(s.center,s.resolution,g,e.size):void 0;for(let _=r;_>=h;--_){let v=c.getTileRangeForExtentAndZ(n,_,this.tempTileRange_),E=c.getResolution(_);for(let S=v.minX;S<=v.maxX;++S)for(let I=v.minY;I<=v.maxY;++I){if(g&&!c.tileCoordIntersectsViewport([_,S,I],y))continue;let R=this.getTile(_,S,I,e);if(!R||!RD(i,R,_))continue;let j=R.getKey();if(f[j]=!0,R.getState()===ot.IDLE&&!e.tileQueue.isKeyQueued(j)){let F=xp(_,S,I,this.tempTileCoord_);e.tileQueue.enqueue([R,u,c.getTileCoordCenter(F),E])}}}}findStaleTile_(e,n){let r=this.tileCache_,i=e[0],o=e[1],s=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let c=bp(this.getLayer().getSource(),a[l],i,o,s);if(r.containsKey(c)){let u=r.peek(c);if(u.getState()===ot.LOADED)return u.endTransition(Et(this)),RD(n,u,i),!0}}return!1}findAltTiles_(e,n,r,i){let o=e.getTileRangeForTileCoordAndZ(n,r,this.tempTileRange_);if(!o)return!1;let s=!0,a=this.tileCache_,l=this.getLayer().getRenderSource(),c=l.getKey();for(let u=o.minX;u<=o.maxX;++u)for(let f=o.minY;f<=o.maxY;++f){let d=bp(l,c,r,u,f),h=!1;if(a.containsKey(d)){let g=a.peek(d);g.getState()===ot.LOADED&&(RD(i,g,r),h=!0)}h||(s=!1)}return s}renderFrame(e,n){this.renderComplete=!0;let r=e.layerStatesArray[e.layerIndex],i=e.viewState,o=i.projection,s=i.resolution,a=i.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),f=u.getTileGridForProjection(o),d=f.getZForResolution(s,u.zDirection),h=f.getResolution(d),g=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==g&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=g):this.renderedSourceKey_=g;let y=e.extent,_=u.getTilePixelRatio(l);this.prepareContainer(e,n);let v=this.context.canvas.width,E=this.context.canvas.height,S=r.extent&&Hs(r.extent,o);S&&(y=Qa(y,Hs(r.extent,o)));let I=h*v/2/_,R=h*E/2/_,V=[a[0]-I,a[1]-R,a[0]+I,a[1]+R],j={};this.renderedTiles.length=0;let F=c.getPreload();if(e.nextExtent&&this.enqueueTilesForNextExtent()){let te=f.getZForResolution(i.nextResolution,u.zDirection),W=fO(e,e.nextExtent);this.enqueueTiles(e,W,te,j,F)}let k=fO(e,y);if(this.enqueueTiles(e,k,d,j,0),F>0&&setTimeout(()=>{this.enqueueTiles(e,k,d-1,j,F-1)},0),!(d in j))return this.container;let N=Et(this),T=e.time;for(let te of j[d]){let W=te.getState();if(W===ot.EMPTY)continue;let ee=te.tileCoord;if(W===ot.LOADED&&te.getAlpha(N,T)===1){te.endTransition(N);continue}if(W!==ot.ERROR&&(this.renderComplete=!1),this.findStaleTile_(ee,j)){nX(j,te,d),e.animate=!0;continue}if(this.findAltTiles_(f,ee,d+1,j))continue;let z=f.getMinZoom();for(let Q=d-1;Q>=z&&!this.findAltTiles_(f,ee,Q,j);--Q);}let x=h/s*l/_,O=this.getRenderContext(e);Pi(this.tempTransform,v/2,E/2,x,x,0,-v/2,-E/2),r.extent&&this.clipUnrotated(O,e,S),u.getInterpolate()||(O.imageSmoothingEnabled=!1),this.preRender(O,e);let $=Object.keys(j).map(Number);$.sort(Mo);let Y,se=[],K=[];for(let te=$.length-1;te>=0;--te){let W=$[te],ee=u.getTilePixelSize(W,l,o),M=f.getResolution(W)/h,z=ee[0]*M*x,Q=ee[1]*M*x,ne=f.getTileCoordForCoordAndZ(fs(V),W),re=f.getTileCoordExtent(ne),le=sr(this.tempTransform,[_*(re[0]-V[0])/h,_*(V[3]-re[3])/h]),_e=_*u.getGutterForProjection(o);for(let ye of j[W]){if(ye.getState()!==ot.LOADED)continue;let Se=ye.tileCoord,Pe=ne[1]-Se[1],A=Math.round(le[0]-(Pe-1)*z),fe=ne[2]-Se[2],he=Math.round(le[1]-(fe-1)*Q),C=Math.round(le[0]-Pe*z),G=Math.round(le[1]-fe*Q),ie=A-C,ve=he-G,ce=$.length===1,ae=!1;Y=[C,G,C+ie,G,C+ie,G+ve,C,G+ve];for(let xe=0,Ie=se.length;xe<Ie;++xe)if(!ce&&W<K[xe]){let be=se[xe];Qn([C,G,C+ie,G+ve],[be[0],be[3],be[4],be[7]])&&(ae||(O.save(),ae=!0),O.beginPath(),O.moveTo(Y[0],Y[1]),O.lineTo(Y[2],Y[3]),O.lineTo(Y[4],Y[5]),O.lineTo(Y[6],Y[7]),O.moveTo(be[6],be[7]),O.lineTo(be[4],be[5]),O.lineTo(be[2],be[3]),O.lineTo(be[0],be[1]),O.clip())}se.push(Y),K.push(W),this.drawTile(ye,e,C,G,ie,ve,_e,ce),ae&&O.restore(),this.renderedTiles.unshift(ye),this.updateUsedTiles(e.usedTiles,u,ye)}}if(this.renderedResolution=h,this.extentChanged=!this.renderedExtent_||!rc(this.renderedExtent_,V),this.renderedExtent_=V,this.renderedPixelRatio=l,this.postRender(this.context,e),r.extent&&O.restore(),O.imageSmoothingEnabled=!0,this.renderComplete){let te=(W,ee)=>{let pe=Et(u),M=ee.wantedTiles[pe],z=M?Object.keys(M).length:0;this.updateCacheSize(z),this.tileCache_.expireCache(),this.sourceTileCache_?.expireCache()};e.postRenderFunctions.push(te)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,r,i,o,s,a,l){let c;if(e instanceof wD){if(c=U2(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;let u=this.getRenderContext(n),f=Et(this),d=n.layerStatesArray[n.layerIndex],h=d.opacity*(l?e.getAlpha(f,n.time):1),g=h!==u.globalAlpha;g&&(u.save(),u.globalAlpha=h),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,r,i,o,s),g&&u.restore(),h!==d.opacity?n.animate=!0:l&&e.endTransition(f)}getImage(){let e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,r){let i=Et(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}},dO=PD;var q0={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var LD=class extends lf{constructor(e){e=e||{};let n=Object.assign({},e),r=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=r,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(q0.PRELOAD)}setPreload(e){this.set(q0.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(q0.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(q0.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}},pO=LD;var kD=class extends pO{constructor(e){super(e)}createRenderer(){return new dO(this,{cacheSize:this.getCacheSize()})}},OD=kD;var FD=class{drawCustom(e,n,r,i,o){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,r){}drawFeature(e,n,r){}drawGeometryCollection(e,n,r){}drawLineString(e,n,r){}drawMultiLineString(e,n,r){}drawMultiPoint(e,n,r){}drawMultiPolygon(e,n,r){}drawPoint(e,n,r){}drawPolygon(e,n,r){}drawText(e,n,r){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}},$2=FD;var W0={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},$0=[W0.FILL],ol=[W0.STROKE],pc=[W0.BEGIN_PATH],jD=[W0.CLOSE_PATH],mt=W0;var BD=class extends $2{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){let r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,o=this.coordinates,s=o.length;for(let a=0,l=e.length;a<l;a+=n)i[0]=e[a],i[1]=e[a+1],ya(r,i)&&(o[s++]=i[0],o[s++]=i[1]);return s}appendFlatLineCoordinates(e,n,r,i,o,s){let a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();s&&(n+=i);let u=e[n],f=e[n+1],d=this.tmpCoordinate_,h=!0,g,y,_;for(g=n+i;g<r;g+=i)d[0]=e[g],d[1]=e[g+1],_=Vv(c,d),_!==y?(h&&(a[l++]=u,a[l++]=f,h=!1),a[l++]=d[0],a[l++]=d[1]):_===Ur.INTERSECTING?(a[l++]=d[0],a[l++]=d[1],h=!1):h=!0,u=d[0],f=d[1],y=_;return(o&&h||g===n+i)&&(a[l++]=u,a[l++]=f),l}drawCustomCoordinates_(e,n,r,i,o){for(let s=0,a=r.length;s<a;++s){let l=r[s],c=this.appendFlatLineCoordinates(e,n,l,i,!1,!1);o.push(c),n=l}return n}drawCustom(e,n,r,i,o){this.beginGeometry(e,n,o);let s=e.getType(),a=e.getStride(),l=this.coordinates.length,c,u,f,d,h;switch(s){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),d=[];let g=e.getEndss();h=0;for(let y=0,_=g.length;y<_;++y){let v=[];h=this.drawCustomCoordinates_(c,h,g[y],a,v),d.push(v)}this.instructions.push([mt.CUSTOM,l,d,e,r,p0,o]),this.hitDetectionInstructions.push([mt.CUSTOM,l,d,e,i||r,p0,o]);break;case"Polygon":case"MultiLineString":f=[],c=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),h=this.drawCustomCoordinates_(c,0,e.getEnds(),a,f),this.instructions.push([mt.CUSTOM,l,f,e,r,Eu,o]),this.hitDetectionInstructions.push([mt.CUSTOM,l,f,e,i||r,Eu,o]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([mt.CUSTOM,l,u,e,r,qs,o]),this.hitDetectionInstructions.push([mt.CUSTOM,l,u,e,i||r,qs,o]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([mt.CUSTOM,l,u,e,r,qs,o]),this.hitDetectionInstructions.push([mt.CUSTOM,l,u,e,i||r,qs,o]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([mt.CUSTOM,l,u,e,r,void 0,o]),this.hitDetectionInstructions.push([mt.CUSTOM,l,u,e,i||r,void 0,o]);break;default:}this.endGeometry(n)}beginGeometry(e,n,r){this.beginGeometryInstruction1_=[mt.BEGIN_GEOMETRY,n,0,e,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[mt.BEGIN_GEOMETRY,n,0,e,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e=this.hitDetectionInstructions;e.reverse();let n,r=e.length,i,o,s=-1;for(n=0;n<r;++n)i=e[n],o=i[0],o==mt.END_GEOMETRY?s=n:o==mt.BEGIN_GEOMETRY&&(i[2]=n,UL(this.hitDetectionInstructions,s,n),s=-1)}fillStyleToState(e,n={}){if(e){let r=e.getColor();n.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,n.fillStyle=Oo(r||ni)}else n.fillStyle=void 0;return n}strokeStyleToState(e,n={}){if(e){let r=e.getColor();n.strokeStyle=Oo(r||uc);let i=e.getLineCap();n.lineCap=i!==void 0?i:rl;let o=e.getLineDash();n.lineDash=o?o.slice():Fo;let s=e.getLineDashOffset();n.lineDashOffset=s||jo;let a=e.getLineJoin();n.lineJoin=a!==void 0?a:il;let l=e.getWidth();n.lineWidth=l!==void 0?l:fc;let c=e.getMiterLimit();n.miterLimit=c!==void 0?c:cc,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(e,n){let r=this.state;this.fillStyleToState(e,r),this.strokeStyleToState(n,r)}createFill(e){let n=e.fillStyle,r=[mt.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(e.fillPatternScale),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[mt.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){let r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){let r=e.strokeStyle,i=e.lineCap,o=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||o!=e.currentLineDash&&!Hi(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let n=[mt.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Hv(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;gu(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},sl=BD;var UD=class extends sl{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,r){if(!this.image_||this.maxExtent&&!ya(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,r);let i=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([mt.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([mt.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,r){if(!this.image_)return;this.beginGeometry(e,n,r);let i=e.getFlatCoordinates(),o=[];for(let l=0,c=i.length;l<c;l+=e.getStride())(!this.maxExtent||ya(this.maxExtent,i.slice(l,l+2)))&&o.push(i[l],i[l+1]);let s=this.coordinates.length,a=this.appendFlatPointCoordinates(o,2);this.instructions.push([mt.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([mt.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){let r=e.getAnchor(),i=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}},gO=UD;var GD=class extends sl{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){let o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),a=[mt.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),r}drawLineString(e,n,r){let i=this.state,o=i.strokeStyle,s=i.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([mt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fo,jo],pc);let a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(ol),this.endGeometry(n)}drawMultiLineString(e,n,r){let i=this.state,o=i.strokeStyle,s=i.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([mt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fo,jo],pc);let a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride(),u=0;for(let f=0,d=a.length;f<d;++f)u=this.drawFlatCoordinates_(l,u,a[f],c);this.hitDetectionInstructions.push(ol),this.endGeometry(n)}finish(){let e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(ol),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(ol),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(pc)}},mO=GD;var zD=class extends sl{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){let o=this.state,s=o.fillStyle!==void 0,a=o.strokeStyle!==void 0,l=r.length;this.instructions.push(pc),this.hitDetectionInstructions.push(pc);for(let c=0;c<l;++c){let u=r[c],f=this.coordinates.length,d=this.appendFlatLineCoordinates(e,n,u,i,!0,!a),h=[mt.MOVE_TO_LINE_TO,f,d];this.instructions.push(h),this.hitDetectionInstructions.push(h),a&&(this.instructions.push(jD),this.hitDetectionInstructions.push(jD)),n=u}return s&&(this.instructions.push($0),this.hitDetectionInstructions.push($0)),a&&(this.instructions.push(ol),this.hitDetectionInstructions.push(ol)),n}drawCircle(e,n,r){let i=this.state,o=i.fillStyle,s=i.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([mt.SET_FILL_STYLE,ni]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([mt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fo,jo]);let a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let u=[mt.CIRCLE,c];this.instructions.push(pc,u),this.hitDetectionInstructions.push(pc,u),i.fillStyle!==void 0&&(this.instructions.push($0),this.hitDetectionInstructions.push($0)),i.strokeStyle!==void 0&&(this.instructions.push(ol),this.hitDetectionInstructions.push(ol)),this.endGeometry(n)}drawPolygon(e,n,r){let i=this.state,o=i.fillStyle,s=i.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([mt.SET_FILL_STYLE,ni]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([mt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fo,jo]);let a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(n)}drawMultiPolygon(e,n,r){let i=this.state,o=i.fillStyle,s=i.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([mt.SET_FILL_STYLE,ni]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([mt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fo,jo]);let a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride(),u=0;for(let f=0,d=a.length;f<d;++f)u=this.drawFlatCoordinatess_(l,u,a[f],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(e!==0){let n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=Su(n[r],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}},VD=zD;function yO(t,e,n,r,i){let o=[],s=n,a=0,l=e.slice(n,2);for(;a<t&&s+i<r;){let[c,u]=l.slice(-2),f=e[s+i],d=e[s+i+1],h=Math.sqrt((f-c)*(f-c)+(d-u)*(d-u));if(a+=h,a>=t){let g=(t-a+h)/h,y=Ri(c,f,g),_=Ri(u,d,g);l.push(y,_),o.push(l),l=[y,_],a==t&&(s+=i),a=0}else if(a<t)l.push(e[s+i],e[s+i+1]),s+=i;else{let g=h-a,y=Ri(c,f,g/h),_=Ri(u,d,g/h);l.push(y,_),o.push(l),l=[y,_],a=0,s+=i}}return a>0&&o.push(l),o}function _O(t,e,n,r,i){let o=n,s=n,a=0,l=0,c=n,u,f,d,h,g,y,_,v,E,S;for(f=n;f<r;f+=i){let I=e[f],R=e[f+1];g!==void 0&&(E=I-g,S=R-y,h=Math.sqrt(E*E+S*S),_!==void 0&&(l+=d,u=Math.acos((_*E+v*S)/(d*h)),u>t&&(l>a&&(a=l,o=c,s=f),l=0,c=f-i)),d=h,_=E,v=S),g=I,y=R}return l+=h,l>a?[c,f]:[o,s]}var Y0={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},HD=class extends sl{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[ni]={fillStyle:ni},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,r){let i=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!i&&!o)return;let a=this.coordinates,l=a.length,c=e.getType(),u=null,f=e.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!Qn(this.maxExtent,e.getExtent()))return;let d;if(u=e.getFlatCoordinates(),c=="LineString")d=[u.length];else if(c=="MultiLineString")d=e.getEnds();else if(c=="Polygon")d=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){let _=e.getEndss();d=[];for(let v=0,E=_.length;v<E;++v)d.push(_[v][0])}this.beginGeometry(e,n,r);let h=s.repeat,g=h?void 0:s.textAlign,y=0;for(let _=0,v=d.length;_<v;++_){let E;h?E=yO(h*this.resolution,u,y,d[_],f):E=[u.slice(y,d[_])];for(let S=0,I=E.length;S<I;++S){let R=E[S],V=0,j=R.length;if(g==null){let k=_O(s.maxAngle,R,0,R.length,2);V=k[0],j=k[1]}for(let k=V;k<j;k+=f)a.push(R[k],R[k+1]);let F=a.length;y=d[_],this.drawChars_(l,F),l=F}}this.endGeometry(n)}else{let d=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),f=2;break;case"Polygon":u=e.getFlatInteriorPoint(),s.overflow||d.push(u[2]/this.resolution),f=3;break;case"MultiPolygon":let I=e.getFlatInteriorPoints();u=[];for(let R=0,V=I.length;R<V;R+=3)s.overflow||d.push(I[R+2]/this.resolution),u.push(I[R],I[R+1]);if(u.length===0)return;f=2;break;default:}let h=this.appendFlatPointCoordinates(u,f);if(h===l)return;if(d&&(h-l)/2!==u.length/f){let I=l/2;d=d.filter((R,V)=>{let j=a[(I+V)*2]===u[V*f]&&a[(I+V)*2+1]===u[V*f+1];return j||--I,j})}this.saveTextStates_();let g=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,y=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(e,n,r);let _=s.padding;if(_!=hc&&(s.scale[0]<0||s.scale[1]<0)){let I=s.padding[0],R=s.padding[1],V=s.padding[2],j=s.padding[3];s.scale[0]<0&&(R=-R,j=-j),s.scale[1]<0&&(I=-I,V=-V),_=[I,R,V,j]}let v=this.pixelRatio;this.instructions.push([mt.DRAW_IMAGE,l,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,_==hc?hc:_.map(function(I){return I*v}),g,y,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]);let E=1/v,S=g?g.slice(0):null;S&&(S[1]=ni),this.hitDetectionInstructions.push([mt.DRAW_IMAGE,l,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[E,E],NaN,this.declutterMode_,this.declutterImageWithText_,_,S,y,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?ni:this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),this.endGeometry(n)}}saveTextStates_(){let e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));let o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||Nu,justify:n.justify,textBaseline:n.textBaseline||ff,scale:n.scale});let s=this.fillKey_;r&&(s in this.fillStates||(this.fillStates[s]={fillStyle:r.fillStyle}))}drawChars_(e,n){let r=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,c=Y0[i.textBaseline],u=this.textOffsetY_*l,f=this.text_,d=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([mt.DRAW_CHARS,e,n,c,i.overflow,a,i.maxAngle,l,u,o,d*l,f,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([mt.DRAW_CHARS,e,n,c,i.overflow,a&&ni,i.maxAngle,l,u,o,d*l,f,s,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,n){let r,i,o;if(!e)this.text_="";else{let s=e.getFill();s?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Oo(s.getColor()||ni)):(i=null,this.textFillState_=i);let a=e.getStroke();if(!a)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);let y=a.getLineDash(),_=a.getLineDashOffset(),v=a.getWidth(),E=a.getMiterLimit();o.lineCap=a.getLineCap()||rl,o.lineDash=y?y.slice():Fo,o.lineDashOffset=_===void 0?jo:_,o.lineJoin=a.getLineJoin()||il,o.lineWidth=v===void 0?fc:v,o.miterLimit=E===void 0?cc:E,o.strokeStyle=Oo(a.getColor()||uc)}r=this.textState_;let l=e.getFont()||N2;L8(l);let c=e.getScaleArray();r.overflow=e.getOverflow(),r.font=l,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||ff,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||hc,r.scale=c===void 0?[1,1]:c;let u=e.getOffsetX(),f=e.getOffsetY(),d=e.getRotateWithView(),h=e.getKeepUpright(),g=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=f===void 0?0:f,this.textRotateWithView_=d===void 0?!1:d,this.textKeepUpright_=h===void 0?!0:h,this.textRotation_=g===void 0?0:g,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:Et(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?typeof i.fillStyle=="string"?i.fillStyle:"|"+Et(i.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}},vO=HD;var rX={Circle:VD,Default:sl,Image:gO,LineString:mO,Polygon:VD,Text:vO},qD=class{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){let e={};for(let n in this.buildersByZIndex_){e[n]=e[n]||{};let r=this.buildersByZIndex_[n];for(let i in r){let o=r[i].finish();e[n][i]=o}}return e}getBuilder(e,n){let r=e!==void 0?e.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let o=i[n];if(o===void 0){let s=rX[n];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=o}return o}},wO=qD;function Sp(t,e,n,r){let i=t[e],o=t[e+1],s=0;for(let a=e+r;a<n;a+=r){let l=t[a],c=t[a+1];s+=Math.sqrt((l-i)*(l-i)+(c-o)*(c-o)),i=l,o=c}return s}function xO(t,e,n,r,i,o,s,a,l,c,u,f,d=!0){let h=t[e],g=t[e+1],y=0,_=0,v=0,E=0;function S(){y=h,_=g,e+=r,h=t[e],g=t[e+1],E+=v,v=Math.sqrt((h-y)*(h-y)+(g-_)*(g-_))}do S();while(e<n-r&&E+v<o);let I=v===0?0:(o-E)/v,R=Ri(y,h,I),V=Ri(_,g,I),j=e-r,F=E,k=o+a*l(c,i,u);for(;e<n-r&&E+v<k;)S();I=v===0?0:(k-E)/v;let N=Ri(y,h,I),T=Ri(_,g,I),x=!1;if(d)if(f){let K=[R,V,N,T];op(K,0,4,2,f,K,K),x=K[0]>K[2]}else x=R>N;let O=Math.PI,$=[],Y=j+r===e;e=j,v=0,E=F,h=t[e],g=t[e+1];let se;if(Y){S(),se=Math.atan2(g-_,h-y),x&&(se+=se>0?-O:O);let K=(N+R)/2,te=(T+V)/2;return $[0]=[K,te,(k-o)/2,se,i],$}i=i.replace(/\n/g," ");for(let K=0,te=i.length;K<te;){S();let W=Math.atan2(g-_,h-y);if(x&&(W+=W>0?-O:O),se!==void 0){let ne=W-se;if(ne+=ne>O?-2*O:ne<-O?2*O:0,Math.abs(ne)>s)return null}se=W;let ee=K,pe=0;for(;K<te;++K){let ne=x?te-K-1:K,re=a*l(c,i[ne],u);if(e+r<n&&E+v<o+pe+re/2)break;pe+=re}if(K===ee)continue;let M=x?i.substring(te-ee,te-K):i.substring(ee,K);I=v===0?0:(o+pe/2-E)/v;let z=Ri(y,h,I),Q=Ri(_,g,I);$.push([z,Q,pe/2,W,M]),o+=pe}return $}var Cp=Cr(),Lu=[],gc=[],mc=[],ku=[];function bO(t){return t[3].declutterBox}var EO=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");function WD(t,e){return e==="start"?e=EO.test(t)?"right":"left":e==="end"&&(e=EO.test(t)?"left":"right"),Y0[e]}function iX(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}function oX(t,e,n){return n%2===0&&(t+=e),t}var $D=class{constructor(e,n,r,i,o){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=pi(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new q2:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,r,i){let o=e+n+r+i;if(this.labels_[o])return this.labels_[o];let s=i?this.strokeStates[i]:null,a=r?this.fillStates[r]:null,l=this.textStates[n],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],f=l.justify?Y0[l.justify]:WD(Array.isArray(e)?e[0]:e,l.textAlign||Nu),d=i&&s.lineWidth?s.lineWidth:0,h=Array.isArray(e)?e:String(e).split(`
`).reduce(iX,[]),{width:g,height:y,widths:_,heights:v,lineWidths:E}=F8(l,h),S=g+d,I=[],R=(S+2)*u[0],V=(y+d)*u[1],j={width:R<0?Math.floor(R):Math.ceil(R),height:V<0?Math.floor(V):Math.ceil(V),contextInstructions:I};(u[0]!=1||u[1]!=1)&&I.push("scale",u),i&&(I.push("strokeStyle",s.strokeStyle),I.push("lineWidth",d),I.push("lineCap",s.lineCap),I.push("lineJoin",s.lineJoin),I.push("miterLimit",s.miterLimit),I.push("setLineDash",[s.lineDash]),I.push("lineDashOffset",s.lineDashOffset)),r&&I.push("fillStyle",a.fillStyle),I.push("textBaseline","middle"),I.push("textAlign","center");let F=.5-f,k=f*S+F*d,N=[],T=[],x=0,O=0,$=0,Y=0,se;for(let K=0,te=h.length;K<te;K+=2){let W=h[K];if(W===`
`){O+=x,x=0,k=f*S+F*d,++Y;continue}let ee=h[K+1]||l.font;ee!==se&&(i&&N.push("font",ee),r&&T.push("font",ee),se=ee),x=Math.max(x,v[$]);let pe=[W,k+F*_[$]+f*(_[$]-E[Y]),.5*(d+x)+O];k+=_[$],i&&N.push("strokeText",pe),r&&T.push("fillText",pe),++$}return Array.prototype.push.apply(I,N),Array.prototype.push.apply(I,T),this.labels_[o]=j,j}replayTextBackground_(e,n,r,i,o,s,a){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,n),s&&(this.alignAndScaleFill_=s[2],e.fillStyle=s[1],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,o,s,a,l,c,u,f,d,h,g,y,_){a*=d[0],l*=d[1];let v=r-a,E=i-l,S=o+c>e?e-c:o,I=s+u>n?n-u:s,R=g[3]+S*d[0]+g[1],V=g[0]+I*d[1]+g[2],j=v-g[3],F=E-g[0];(y||f!==0)&&(Lu[0]=j,ku[0]=j,Lu[1]=F,gc[1]=F,gc[0]=j+R,mc[0]=gc[0],mc[1]=F+V,ku[1]=mc[1]);let k;return f!==0?(k=Pi(pi(),r,i,1,1,f,-r,-i),sr(k,Lu),sr(k,gc),sr(k,mc),sr(k,ku),po(Math.min(Lu[0],gc[0],mc[0],ku[0]),Math.min(Lu[1],gc[1],mc[1],ku[1]),Math.max(Lu[0],gc[0],mc[0],ku[0]),Math.max(Lu[1],gc[1],mc[1],ku[1]),Cp)):po(Math.min(j,j+R),Math.min(F,F+V),Math.max(j,j+R),Math.max(F,F+V),Cp),h&&(v=Math.round(v),E=Math.round(E)),{drawImageX:v,drawImageY:E,drawImageW:S,drawImageH:I,originX:c,originY:u,declutterBox:{minX:Cp[0],minY:Cp[1],maxX:Cp[2],maxY:Cp[3],value:_},canvasTransform:k,scale:d}}replayImageOrLabel_(e,n,r,i,o,s,a){let l=!!(s||a),c=i.declutterBox,u=a?a[2]*i.scale[0]/2:0;return c.minX-u<=n[0]&&c.maxX+u>=0&&c.minY-u<=n[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,Lu,gc,mc,ku,s,a),j8(e,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){let n=this.alignAndScaleFill_;if(n){let r=sr(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(r[0]%i,r[1]%i),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],n[1]&&(e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6]))}drawLabelWithPointPlacement_(e,n,r,i){let o=this.textStates[n],s=this.createLabel(e,n,i,r),a=this.strokeStates[r],l=this.pixelRatio,c=WD(Array.isArray(e)?e[0]:e,o.textAlign||Nu),u=Y0[o.textBaseline||ff],f=a&&a.lineWidth?a.lineWidth:0,d=s.width/l-2*o.scale[0],h=c*d+2*(.5-c)*f,g=u*s.height/l+2*(.5-u)*f;return{label:s,anchorX:h,anchorY:g}}execute_(e,n,r,i,o,s,a,l){let c=this.zIndexContext_,u;this.pixelCoordinates_&&Hi(r,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=ko(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Ak(this.renderedTransform_,r));let f=0,d=i.length,h=0,g,y,_,v,E,S,I,R,V,j,F,k,N,T=0,x=0,O=this.coordinateCache_,$=this.viewRotation_,Y=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,se={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:$},K=this.instructions!=i||this.overlaps?0:200,te,W,ee,pe;for(;f<d;){let M=i[f];switch(M[0]){case mt.BEGIN_GEOMETRY:te=M[1],pe=M[3],te.getGeometry()?a!==void 0&&!Qn(a,pe.getExtent())?f=M[2]+1:++f:f=M[2],c&&(c.zIndex=M[4]);break;case mt.BEGIN_PATH:T>K&&(this.fill_(e),T=0),x>K&&(e.stroke(),x=0),!T&&!x&&(e.beginPath(),E=NaN,S=NaN),++f;break;case mt.CIRCLE:h=M[1];let Q=u[h],ne=u[h+1],re=u[h+2],le=u[h+3],_e=re-Q,ye=le-ne,Se=Math.sqrt(_e*_e+ye*ye);e.moveTo(Q+Se,ne),e.arc(Q,ne,Se,0,2*Math.PI,!0),++f;break;case mt.CLOSE_PATH:e.closePath(),++f;break;case mt.CUSTOM:h=M[1],g=M[2];let Pe=M[3],A=M[4],fe=M[5];se.geometry=Pe,se.feature=te,f in O||(O[f]=[]);let he=O[f];fe?fe(u,h,g,2,he):(he[0]=u[h],he[1]=u[h+1],he.length=2),c&&(c.zIndex=M[6]),A(he,se),++f;break;case mt.DRAW_IMAGE:h=M[1],g=M[2],V=M[3],y=M[4],_=M[5];let C=M[6],G=M[7],ie=M[8],ve=M[9],ce=M[10],ae=M[11],xe=M[12],Ie=M[13];v=M[14]||"declutter";let be=M[15];if(!V&&M.length>=20){j=M[19],F=M[20],k=M[21],N=M[22];let Tr=this.drawLabelWithPointPlacement_(j,F,k,N);V=Tr.label,M[3]=V;let tr=M[23];y=(Tr.anchorX-tr)*this.pixelRatio,M[4]=y;let cr=M[24];_=(Tr.anchorY-cr)*this.pixelRatio,M[5]=_,C=V.height,M[6]=C,Ie=V.width,M[13]=Ie}let Ge;M.length>25&&(Ge=M[25]);let Xe,Ve,yt;M.length>17?(Xe=M[16],Ve=M[17],yt=M[18]):(Xe=hc,Ve=null,yt=null),ce&&Y?ae+=$:!ce&&!Y&&(ae-=$);let Rt=0;for(;h<g;h+=2){if(Ge&&Ge[Rt++]<Ie/this.pixelRatio)continue;let Tr=this.calculateImageOrLabelDimensions_(V.width,V.height,u[h],u[h+1],Ie,C,y,_,ie,ve,ae,xe,o,Xe,!!Ve||!!yt,te),tr=[e,n,V,Tr,G,Ve,yt];if(l){let cr,yr,tt;if(be){let sn=g-h;if(!be[sn]){be[sn]={args:tr,declutterMode:v};continue}let Gn=be[sn];cr=Gn.args,yr=Gn.declutterMode,delete be[sn],tt=bO(cr)}let zr,Vr;if(cr&&(yr!=="declutter"||!l.collides(tt))&&(zr=!0),(v!=="declutter"||!l.collides(Tr.declutterBox))&&(Vr=!0),yr==="declutter"&&v==="declutter"){let sn=zr&&Vr;zr=sn,Vr=sn}zr&&(yr!=="none"&&l.insert(tt),this.replayImageOrLabel_.apply(this,cr)),Vr&&(v!=="none"&&l.insert(Tr.declutterBox),this.replayImageOrLabel_.apply(this,tr))}else this.replayImageOrLabel_.apply(this,tr)}++f;break;case mt.DRAW_CHARS:let Ye=M[1],wt=M[2],He=M[3],Un=M[4];N=M[5];let Jt=M[6],vt=M[7],At=M[8];k=M[9];let Mn=M[10];j=M[11],Array.isArray(j)&&(j=j.reduce(oX,"")),F=M[12];let ct=[M[13],M[13]];v=M[14]||"declutter";let Tn=M[15],ft=this.textStates[F],pt=ft.font,on=[ft.scale[0]*vt,ft.scale[1]*vt],Pt;pt in this.widths_?Pt=this.widths_[pt]:(Pt={},this.widths_[pt]=Pt);let _t=Sp(u,Ye,wt,2),yn=Math.abs(on[0])*QI(pt,j,Pt);if(Un||yn<=_t){let Tr=this.textStates[F].textAlign,tr=(_t-yn)*WD(j,Tr),cr=xO(u,Ye,wt,2,j,tr,Jt,Math.abs(on[0]),QI,pt,Pt,Y?0:this.viewRotation_,Tn);e:if(cr){let yr=[],tt,zr,Vr,sn,Gn;if(k)for(tt=0,zr=cr.length;tt<zr;++tt){Gn=cr[tt],Vr=Gn[4],sn=this.createLabel(Vr,F,"",k),y=Gn[2]+(on[0]<0?-Mn:Mn),_=He*sn.height+(.5-He)*2*Mn*on[1]/on[0]-At;let En=this.calculateImageOrLabelDimensions_(sn.width,sn.height,Gn[0],Gn[1],sn.width,sn.height,y,_,0,0,Gn[3],ct,!1,hc,!1,te);if(l&&v==="declutter"&&l.collides(En.declutterBox))break e;yr.push([e,n,sn,En,1,null,null])}if(N)for(tt=0,zr=cr.length;tt<zr;++tt){Gn=cr[tt],Vr=Gn[4],sn=this.createLabel(Vr,F,N,""),y=Gn[2],_=He*sn.height-At;let En=this.calculateImageOrLabelDimensions_(sn.width,sn.height,Gn[0],Gn[1],sn.width,sn.height,y,_,0,0,Gn[3],ct,!1,hc,!1,te);if(l&&v==="declutter"&&l.collides(En.declutterBox))break e;yr.push([e,n,sn,En,1,null,null])}l&&v!=="none"&&l.load(yr.map(bO));for(let En=0,Nr=yr.length;En<Nr;++En)this.replayImageOrLabel_.apply(this,yr[En])}}++f;break;case mt.END_GEOMETRY:if(s!==void 0){te=M[1];let Tr=s(te,pe,v);if(Tr)return Tr}++f;break;case mt.FILL:K?T++:this.fill_(e),++f;break;case mt.MOVE_TO_LINE_TO:for(h=M[1],g=M[2],W=u[h],ee=u[h+1],e.moveTo(W,ee),E=W+.5|0,S=ee+.5|0,h+=2;h<g;h+=2)W=u[h],ee=u[h+1],I=W+.5|0,R=ee+.5|0,(h==g-2||I!==E||R!==S)&&(e.lineTo(W,ee),E=I,S=R);++f;break;case mt.SET_FILL_STYLE:this.alignAndScaleFill_=M[2],T&&(this.fill_(e),T=0,x&&(e.stroke(),x=0)),e.fillStyle=M[1],++f;break;case mt.SET_STROKE_STYLE:x&&(e.stroke(),x=0),this.setStrokeStyle_(e,M),++f;break;case mt.STROKE:K?x++:e.stroke(),++f;break;default:++f;break}}T&&this.fill_(e),x&&e.stroke()}execute(e,n,r,i,o,s){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,o,void 0,void 0,s)}executeHitDetection(e,n,r,i,o){return this.viewRotation_=r,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,i,o)}},SO=$D;var Ou=["Polygon","Circle","LineString","Image","Text","Default"],XD=["Image","Text"],CO=Ou.filter(t=>!XD.includes(t)),ZD=class{constructor(e,n,r,i,o,s,a){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=pi(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,a)}clip(e,n){let r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e,n){for(let r in e){let i=this.executorsByZIndex_[r];i===void 0&&(i={},this.executorsByZIndex_[r]=i);let o=e[r];for(let s in o){let a=o[s];i[s]=new SO(this.resolution_,this.pixelRatio_,this.overlaps_,a,n)}}}hasExecutors(e){for(let n in this.executorsByZIndex_){let r=this.executorsByZIndex_[n];for(let i=0,o=e.length;i<o;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,o,s){i=Math.round(i);let a=i*2+1,l=Pi(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=Ln(a,a));let u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let f;this.renderBuffer_!==void 0&&(f=Cr(),Zh(f,e),gu(f,n*(this.renderBuffer_+i),f));let d=sX(i),h;function g(R,V,j){let F=u.getImageData(0,0,a,a).data;for(let k=0,N=d.length;k<N;k++)if(F[d[k]]>0){if(!s||j==="none"||h!=="Image"&&h!=="Text"||s.includes(R)){let T=(d[k]-3)/4,x=i-T%a,O=i-(T/a|0),$=o(R,V,x*x+O*O);if($)return $}u.clearRect(0,0,a,a);break}}let y=Object.keys(this.executorsByZIndex_).map(Number);y.sort(Mo);let _,v,E,S,I;for(_=y.length-1;_>=0;--_){let R=y[_].toString();for(E=this.executorsByZIndex_[R],v=Ou.length-1;v>=0;--v)if(h=Ou[v],S=E[h],S!==void 0&&(I=S.executeHitDetection(u,l,r,g,f),I))return I}}getClipCoords(e){let n=this.maxExtent_;if(!n)return null;let r=n[0],i=n[1],o=n[2],s=n[3],a=[r,i,r,s,o,s,o,i];return ko(a,0,8,2,e,a),a}isEmpty(){return us(this.executorsByZIndex_)}execute(e,n,r,i,o,s,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?BL:Mo),s=s||Ou;let c=Ou.length;for(let u=0,f=l.length;u<f;++u){let d=l[u].toString(),h=this.executorsByZIndex_[d];for(let g=0,y=s.length;g<y;++g){let _=s[g],v=h[_];if(v!==void 0){let E=a===null?void 0:v.getZIndexContext(),S=E?E.getContext():e,I=this.maxExtent_&&_!=="Image"&&_!=="Text";if(I&&(S.save(),this.clip(S,r)),!E||_==="Text"||_==="Image"?v.execute(S,n,r,i,o,a):E.pushFunction(R=>v.execute(R,n,r,i,o,a)),I&&S.restore(),E){E.offset();let R=l[u]*c+Ou.indexOf(_);this.deferredZIndexContexts_[R]||(this.deferredZIndexContexts_[R]=[]),this.deferredZIndexContexts_[R].push(E)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(Mo);for(let r=0,i=n.length;r<i;++r)e[n[r]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),e[n[r]].length=0}},YD={};function sX(t){if(YD[t]!==void 0)return YD[t];let e=t*2+1,n=t*t,r=new Array(n+1);for(let o=0;o<=t;++o)for(let s=0;s<=t;++s){let a=o*o+s*s;if(a>n)break;let l=r[a];l||(l=[],r[a]=l),l.push(((t+o)*e+(t+s))*4+3),o>0&&l.push(((t-o)*e+(t+s))*4+3),s>0&&(l.push(((t+o)*e+(t-s))*4+3),o>0&&l.push(((t-o)*e+(t-s))*4+3))}let i=[];for(let o=0,s=r.length;o<s;++o)r[o]&&i.push(...r[o]);return YD[t]=i,i}var IO=ZD;var KD=class extends $2{constructor(e,n,r,i,o,s,a){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?pu(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=pi()}drawImages_(e,n,r,i){if(!this.image_)return;let o=ko(e,n,r,i,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,f=o.length;u<f;u+=2){let d=o[u]-this.imageAnchorX_,h=o[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let g=d+this.imageAnchorX_,y=h+this.imageAnchorY_;Pi(a,g,y,1,1,c,-g,-y),s.save(),s.transform.apply(s,a),s.translate(g,y),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,h,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let o=ko(e,n,r,i,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);n<r;n+=i){let l=o[n]+this.textOffsetX_,c=o[n+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(l-this.textOffsetX_,c-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c))}}moveToLineTo_(e,n,r,i,o){let s=this.context_,a=ko(e,n,r,i,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let c=2;c<l;c+=2)s.lineTo(a[c],a[c+1]);return o&&s.closePath(),r}drawRings_(e,n,r,i){for(let o=0,s=r.length;o<s;++o)n=this.moveToLineTo_(e,n,r[o],i,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qn(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=Lk(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],o=Math.sqrt(r*r+i*i),s=this.context_;s.beginPath(),s.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}drawFeature(e,n){let r=n.getGeometryFunction()(e);r&&(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){let n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qn(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){let n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=e.getExtent();if(Qn(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let r=this.context_,i=e.getFlatCoordinates(),o=0,s=e.getEnds(),a=e.getStride();r.beginPath();for(let l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(i,o,s[l],a,!1);r.stroke()}if(this.text_!==""){let r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){let n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=this.context_,r=e.getOrientedFlatCoordinates(),i=0,o=e.getEndss(),s=e.getStride();n.beginPath();for(let a=0,l=o.length;a<l;++a){let c=o[a];i=this.drawRings_(r,i,c,s)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){let n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){let n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),Hi(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:Nu;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{let r=e.getColor();this.fillState_={fillStyle:Oo(r||ni)}}if(!n)this.strokeState_=null;else{let r=n.getColor(),i=n.getLineCap(),o=n.getLineDash(),s=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),u=o||Fo;this.strokeState_={lineCap:i!==void 0?i:rl,lineDash:this.pixelRatio_===1?u:u.map(f=>f*this.pixelRatio_),lineDashOffset:(s||jo)*this.pixelRatio_,lineJoin:a!==void 0?a:il,lineWidth:(l!==void 0?l:fc)*this.pixelRatio_,miterLimit:c!==void 0?c:cc,strokeStyle:Oo(r||uc)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}let r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/r,s[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{let n=e.getFill();if(!n)this.textFillState_=null;else{let h=n.getColor();this.textFillState_={fillStyle:Oo(h||ni)}}let r=e.getStroke();if(!r)this.textStrokeState_=null;else{let h=r.getColor(),g=r.getLineCap(),y=r.getLineDash(),_=r.getLineDashOffset(),v=r.getLineJoin(),E=r.getWidth(),S=r.getMiterLimit();this.textStrokeState_={lineCap:g!==void 0?g:rl,lineDash:y||Fo,lineDashOffset:_||jo,lineJoin:v!==void 0?v:il,lineWidth:E!==void 0?E:fc,miterLimit:S!==void 0?S:cc,strokeStyle:Oo(h||uc)}}let i=e.getFont(),o=e.getOffsetX(),s=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),f=e.getTextAlign(),d=e.getTextBaseline();this.textState_={font:i!==void 0?i:N2,textAlign:f!==void 0?f:Nu,textBaseline:d!==void 0?d:ff},this.text_=u!==void 0?Array.isArray(u)?u.reduce((h,g,y)=>h+=y%2?" ":g,""):u:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}},DO=KD;var ba=.5;function AO(t,e,n,r,i,o,s,a,l){let c=l?wu(i,l):i,u=t[0]*ba,f=t[1]*ba,d=Ln(u,f);d.imageSmoothingEnabled=!1;let h=d.canvas,g=new DO(d,ba,i,null,s,a,l?tf(ac(),l):null),y=n.length,_=Math.floor((256*256*256-1)/y),v={};for(let S=1;S<=y;++S){let I=n[S-1],R=I.getStyleFunction()||r;if(!R)continue;let V=R(I,o);if(!V)continue;Array.isArray(V)||(V=[V]);let F=(S*_).toString(16).padStart(7,"#00000");for(let k=0,N=V.length;k<N;++k){let T=V[k],x=T.getGeometryFunction()(I);if(!x||!Qn(c,x.getExtent()))continue;let O=T.clone(),$=O.getFill();$&&$.setColor(F);let Y=O.getStroke();Y&&(Y.setColor(F),Y.setLineDash(null)),O.setText(void 0);let se=T.getImage();if(se){let ee=se.getImageSize();if(!ee)continue;let pe=Ln(ee[0],ee[1],void 0,{alpha:!1}),M=pe.canvas;pe.fillStyle=F,pe.fillRect(0,0,M.width,M.height),O.setImage(new Ru({img:M,anchor:se.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:se.getOrigin(),opacity:1,size:se.getSize(),scale:se.getScale(),rotation:se.getRotation(),rotateWithView:se.getRotateWithView()}))}let K=O.getZIndex()||0,te=v[K];te||(te={},v[K]=te,te.Polygon=[],te.Circle=[],te.LineString=[],te.Point=[]);let W=x.getType();if(W==="GeometryCollection"){let ee=x.getGeometriesArrayRecursive();for(let pe=0,M=ee.length;pe<M;++pe){let z=ee[pe];te[z.getType().replace("Multi","")].push(z,O)}}else te[W.replace("Multi","")].push(x,O)}}let E=Object.keys(v).map(Number).sort(Mo);for(let S=0,I=E.length;S<I;++S){let R=v[E[S]];for(let V in R){let j=R[V];for(let F=0,k=j.length;F<k;F+=2){g.setStyle(j[F+1]);for(let N=0,T=e.length;N<T;++N)g.setTransform(e[N]),g.drawGeometry(j[F])}}}return d.getImageData(0,0,h.width,h.height)}function MO(t,e,n){let r=[];if(n){let i=Math.floor(Math.round(t[0])*ba),o=Math.floor(Math.round(t[1])*ba),s=(tn(i,0,n.width-1)+tn(o,0,n.height-1)*n.width)*4,a=n.data[s],l=n.data[s+1],u=n.data[s+2]+256*(l+256*a),f=Math.floor((256*256*256-1)/e.length);u&&u%f===0&&r.push(e[u/f-1])}return r}var aX=.5,TO={Point:pX,LineString:hX,Polygon:mX,MultiPoint:gX,MultiLineString:fX,MultiPolygon:dX,GeometryCollection:uX,Circle:lX};function NO(t,e){return parseInt(Et(t),10)-parseInt(Et(e),10)}function JD(t,e){let n=QD(t,e);return n*n}function QD(t,e){return aX*t/e}function lX(t,e,n,r,i){let o=n.getFill(),s=n.getStroke();if(o||s){let l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(e,r,i)}let a=n.getText();if(a&&a.getText()){let l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r)}}function eA(t,e,n,r,i,o,s,a){let l=[],c=n.getImage();if(c){let d=!0,h=c.getImageState();h==gt.LOADED||h==gt.ERROR?d=!1:h==gt.IDLE&&c.load(),d&&l.push(c.ready())}let u=n.getFill();u&&u.loading()&&l.push(u.ready());let f=l.length>0;return f&&Promise.all(l).then(()=>i(null)),cX(t,e,n,r,o,s,a),f}function cX(t,e,n,r,i,o,s){let a=n.getGeometryFunction()(e);if(!a)return;let l=a.simplifyTransformed(r,i);if(n.getRenderer())RO(t,l,n,e,s);else{let u=TO[l.getType()];u(t,l,n,e,s,o)}}function RO(t,e,n,r,i){if(e.getType()=="GeometryCollection"){let s=e.getGeometries();for(let a=0,l=s.length;a<l;++a)RO(t,s[a],n,r,i);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer(),i)}function uX(t,e,n,r,i,o){let s=e.getGeometriesArray(),a,l;for(a=0,l=s.length;a<l;++a){let c=TO[s[a].getType()];c(t,s[a],n,r,i,o)}}function hX(t,e,n,r,i){let o=n.getStroke();if(o){let a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,r,i)}let s=n.getText();if(s&&s.getText()){let a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,r,i)}}function fX(t,e,n,r,i){let o=n.getStroke();if(o){let a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,r,i)}let s=n.getText();if(s&&s.getText()){let a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,r,i)}}function dX(t,e,n,r,i){let o=n.getFill(),s=n.getStroke();if(s||o){let l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(e,r,i)}let a=n.getText();if(a&&a.getText()){let l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r,i)}}function pX(t,e,n,r,i,o){let s=n.getImage(),a=n.getText(),l=a&&a.getText(),c=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=gt.LOADED)return;let u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(s,c),u.drawPoint(e,r,i)}if(l){let u=t.getBuilder(n.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,r,i)}}function gX(t,e,n,r,i,o){let s=n.getImage(),a=s&&s.getOpacity()!==0,l=n.getText(),c=l&&l.getText(),u=o&&a&&c?{}:void 0;if(a){if(s.getImageState()!=gt.LOADED)return;let f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,u),f.drawMultiPoint(e,r,i)}if(c){let f=t.getBuilder(n.getZIndex(),"Text");f.setTextStyle(l,u),f.drawText(e,r,i)}}function mX(t,e,n,r,i){let o=n.getFill(),s=n.getStroke();if(o||s){let l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(e,r,i)}let a=n.getText();if(a&&a.getText()){let l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r,i)}}var tA=class extends W2{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Cr(),this.wrappedRenderedExtent_=Cr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,r){let i=n.extent,o=n.viewState,s=o.center,a=o.resolution,l=o.projection,c=o.rotation,u=l.getExtent(),f=this.getLayer().getSource(),d=this.getLayer().getDeclutter(),h=n.pixelRatio,g=n.viewHints,y=!(g[ti.ANIMATING]||g[ti.INTERACTING]),_=this.context,v=Math.round(zt(i)/a*h),E=Math.round(nr(i)/a*h),S=f.getWrapX()&&l.canWrapX(),I=S?zt(u):null,R=S?Math.ceil((i[2]-u[2])/I)+1:1,V=S?Math.floor((i[0]-u[0])/I):0;do{let j=this.getRenderTransform(s,a,0,h,v,E,V*I);n.declutter&&(j=j.slice(0)),e.execute(_,[_.canvas.width,_.canvas.height],j,c,y,r===void 0?Ou:r?XD:CO,r?d&&n.declutter[d]:void 0)}while(++V<R)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Ln(this.context.canvas.width,this.context.canvas.height,ND))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){let e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,sf(this.context),ND.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){let r=e.layerStatesArray[e.layerIndex];this.opacity_=r.opacity;let i=e.viewState;this.prepareContainer(e,n);let o=this.context,s=this.replayGroup_,a=s&&!s.isEmpty();if(!a&&!(this.getLayer().hasListener(ki.PRERENDER)||this.getLayer().hasListener(ki.POSTRENDER)))return this.container;this.setDrawContext_(),this.preRender(o,e);let l=i.projection;if(this.clipped_=!1,a&&r.extent&&this.clipping){let c=Hs(r.extent,l);a=Qn(c,e.extent),this.clipped_=a&&!Yh(c,e.extent),this.clipped_&&this.clipUnrotated(o,e,c)}return a&&this.renderWorlds(s,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let r=this.frameState.size.slice(),i=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],f=r[0]*ba,d=r[1]*ba;u.push(this.getRenderTransform(i,o,s,ba,f,d,0).slice());let h=c.getSource(),g=a.getExtent();if(h.getWrapX()&&a.canWrapX()&&!Yh(g,l)){let _=l[0],v=zt(g),E=0,S;for(;_<g[0];)--E,S=v*E,u.push(this.getRenderTransform(i,o,s,ba,f,d,S).slice()),_+=v;for(E=0,_=l[2];_>g[2];)++E,S=v*E,u.push(this.getRenderTransform(i,o,s,ba,f,d,S).slice()),_-=v}let y=ac();this.hitDetectionImageData_=AO(r,u,this.renderedFeatures_,c.getStyleFunction(),l,o,s,JD(o,this.renderedPixelRatio_),y?a:null)}n(MO(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,o){if(!this.replayGroup_)return;let s=n.viewState.resolution,a=n.viewState.rotation,l=this.getLayer(),c={},u=function(d,h,g){let y=Et(d),_=c[y];if(_){if(_!==!0&&g<_.distanceSq){if(g===0)return c[y]=!0,o.splice(o.lastIndexOf(_),1),i(d,l,h);_.geometry=h,_.distanceSq=g}}else{if(g===0)return c[y]=!0,i(d,l,h);o.push(c[y]={feature:d,layer:l,geometry:h,distanceSq:g,callback:i})}},f=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,s,a,r,u,f?n.declutter?.[f]?.all().map(d=>d.value):null)}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let n=this.getLayer(),r=n.getSource();if(!r)return!1;let i=e.viewHints[ti.ANIMATING],o=e.viewHints[ti.INTERACTING],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(this.ready&&!s&&i||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=e.extent,c=e.viewState,u=c.projection,f=c.resolution,d=e.pixelRatio,h=n.getRevision(),g=n.getRenderBuffer(),y=n.getRenderOrder();y===void 0&&(y=NO);let _=c.center.slice(),v=gu(l,g*f),E=v.slice(),S=[v.slice()],I=u.getExtent();if(r.getWrapX()&&u.canWrapX()&&!Yh(I,e.extent)){let Y=zt(I),se=Math.max(zt(v)/2,Y);v[0]=I[0]-se,v[2]=I[2]+se,Zv(_,u);let K=AC(S[0],u);K[0]<I[0]&&K[2]<I[2]?S.push([K[0]+Y,K[1],K[2]+Y,K[3]]):K[0]>I[0]&&K[2]>I[2]&&S.push([K[0]-Y,K[1],K[2]-Y,K[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==h&&this.renderedRenderOrder_==y&&this.renderedFrameDeclutter_===!!e.declutter&&Yh(this.wrappedRenderedExtent_,v))return Hi(this.renderedExtent_,E)||(this.hitDetectionImageData_=null,this.renderedExtent_=E),this.renderedCenter_=_,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let R=new wO(QD(f,d),v,f,d),V=ac(),j;if(V){for(let Y=0,se=S.length;Y<se;++Y){let K=S[Y],te=wu(K,u);r.loadFeatures(te,Dk(f,u),V)}j=tf(V,u)}else for(let Y=0,se=S.length;Y<se;++Y)r.loadFeatures(S[Y],f,u);let F=JD(f,d),k=!0,N=(Y,se)=>{let K,te=Y.getStyleFunction()||n.getStyleFunction();if(te&&(K=te(Y,f)),K){let W=this.renderFeature(Y,F,K,R,j,this.getLayer().getDeclutter(),se);k=k&&!W}},T=wu(v,u),x=r.getFeaturesInExtent(T);y&&x.sort(y);for(let Y=0,se=x.length;Y<se;++Y)N(x[Y],Y);this.renderedFeatures_=x,this.ready=k;let O=R.finish(),$=new IO(v,f,d,r.getOverlaps(),O,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=f,this.renderedRevision_=h,this.renderedRenderOrder_=y,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=E,this.wrappedRenderedExtent_=v,this.renderedCenter_=_,this.renderedProjection_=u,this.renderedPixelRatio_=d,this.replayGroup_=$,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,o,s,a){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let c=0,u=r.length;c<u;++c)l=eA(i,e,r[c],n,this.boundHandleStyleImageChange_,o,s,a)||l;else l=eA(i,e,r,n,this.boundHandleStyleImageChange_,o,s,a);return l}},PO=tA;var nA=class extends j2{constructor(e){super(e)}createRenderer(){return new PO(this)}},Z0=nA;var yX=!1;function _X(t,e,n,r,i,o,s){let a=new XMLHttpRequest;a.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=yX,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?o(e.readFeatures(u,{extent:n,featureProjection:i}),e.readProjection(u)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function rA(t,e){return function(n,r,i,o,s){_X(t,e,n,r,i,(a,l)=>{this.addFeatures(a),o!==void 0&&o(a)},()=>{this.changed(),s!==void 0&&s()})}}function LO(t,e){return[[-1/0,-1/0,1/0,1/0]]}var iA=class t extends Br{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){let n=e;this.setGeometry(n)}else{let n=e;this.setProperties(n)}}clone(){let e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let n=this.getGeometry();n&&e.setGeometry(n.clone());let r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(en(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=Lt(e,Ke.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?vX(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function vX(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(Gt(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}var ii=iA;function Y2(t,e,n,r){let i=[],o=Cr();for(let s=0,a=n.length;s<a;++s){let l=n[s];o=Xd(t,e,l[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return i}function mf(t,e,n,r,i,o,s){let a,l,c=(n-e)/r;if(c===1)a=e;else if(c===2)a=e,l=i;else if(c!==0){let u=t[e],f=t[e+1],d=0,h=[0];for(let _=e+r;_<n;_+=r){let v=t[_],E=t[_+1];d+=Math.sqrt((v-u)*(v-u)+(E-f)*(E-f)),h.push(d),u=v,f=E}let g=i*d,y=jL(h,g);y<0?(l=(g-h[-y-2])/(h[-y-1]-h[-y-2]),a=e+(-y-2)*r):a=e+y*r}s=s>1?s:2,o=o||new Array(s);for(let u=0;u<s;++u)o[u]=a===void 0?NaN:l===void 0?t[a+u]:Ri(t[a+u],t[a+r+u],l);return o}function Z2(t,e,n,r,i,o){if(n==e)return null;let s;if(i<t[e+r-1])return o?(s=t.slice(e,e+r),s[r-1]=i,s):null;if(t[n-1]<i)return o?(s=t.slice(n-r,n),s[r-1]=i,s):null;if(i==t[e+r-1])return t.slice(e,e+r);let a=e/r,l=n/r;for(;a<l;){let d=a+l>>1;i<t[(d+1)*r-1]?l=d:a=d+1}let c=t[a*r-1];if(i==c)return t.slice((a-1)*r,(a-1)*r+r);let u=t[(a+1)*r-1],f=(i-c)/(u-c);s=[];for(let d=0;d<r-1;++d)s.push(Ri(t[(a-1)*r+d],t[a*r+d],f));return s.push(i),s}function kO(t,e,n,r,i,o,s){if(s)return Z2(t,e,n[n.length-1],r,i,o);let a;if(i<t[r-1])return o?(a=t.slice(0,r),a[r-1]=i,a):null;if(t[t.length-1]<i)return o?(a=t.slice(t.length-r),a[r-1]=i,a):null;for(let l=0,c=n.length;l<c;++l){let u=n[l];if(e!=u){if(i<t[e+r-1])return null;if(i<=t[u-1])return Z2(t,e,u,r,i,!1);e=u}}return null}var X2=class t extends qi{constructor(e,n,r){super(),r!==void 0&&n===void 0?this.setFlatCoordinates(r,e):(n=n||0,this.setCenterAndRadius(e,n,r))}clone(){let e=new t(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){let o=this.flatCoordinates,s=e-o[0],a=n-o[1],l=s*s+a*a;if(l<i){if(l===0)for(let c=0;c<this.stride;++c)r[c]=o[c];else{let c=this.getRadius()/Math.sqrt(l);r[0]=o[0]+c*s,r[1]=o[1]+c*a;for(let u=2;u<this.stride;++u)r[u]=o[u]}return r.length=this.stride,l}return i}containsXY(e,n){let r=this.flatCoordinates,i=e-r[0],o=n-r[1];return i*i+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){let n=this.flatCoordinates,r=n[this.stride]-n[0];return po(n[0]-r,n[1]-r,n[0]+r,n[1]+r,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){let e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+n*n}getType(){return"Circle"}intersectsExtent(e){let n=this.getExtent();if(Qn(e,n)){let r=this.getCenter();return e[0]<=r[0]&&e[2]>=r[0]||e[1]<=r[1]&&e[3]>=r[1]?!0:Kd(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){let n=this.stride,r=this.flatCoordinates[n]-this.flatCoordinates[0],i=e.slice();i[n]=i[0]+r;for(let o=1;o<n;++o)i[n+o]=e[o];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(e,n,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]);let i=this.flatCoordinates,o=l2(i,0,e,this.stride);i[o++]=i[0]+n;for(let s=1,a=this.stride;s<a;++s)i[o++]=i[s];i.length=o,this.changed()}getCoordinates(){return null}setCoordinates(e,n){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,n){let r=this.getCenter(),i=this.getStride();this.setCenter(op(r,0,r.length,i,e,n,r)),this.changed()}};X2.prototype.transform;var OO=X2;var sA=class t extends a2{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(en),this.changeEventsKeys_.length=0}listenGeometriesChange_(){let e=this.geometries_;for(let n=0,r=e.length;n<r;++n)this.changeEventsKeys_.push(Lt(e[n],Ke.CHANGE,this.changed,this))}clone(){let e=new t(oA(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<No(this.getExtent(),e,n))return i;let o=this.geometries_;for(let s=0,a=o.length;s<a;++s)i=o[s].closestPointXY(e,n,r,i);return i}containsXY(e,n){let r=this.geometries_;for(let i=0,o=r.length;i<o;++i)if(r[i].containsXY(e,n))return!0;return!1}computeExtent(e){nc(e);let n=this.geometries_;for(let r=0,i=n.length;r<i;++r)Wv(e,n[r].getExtent());return e}getGeometries(){return oA(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[],n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?e=e.concat(n[r].getGeometriesArrayRecursive()):e.push(n[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;let n=[],r=this.geometries_,i=!1;for(let o=0,s=r.length;o<s;++o){let a=r[o],l=a.getSimplifiedGeometry(e);n.push(l),l!==a&&(i=!0)}return i?new t(n):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){let n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){let r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].rotate(e,n);this.changed()}scale(e,n,r){r||(r=Ro(this.getExtent()));let i=this.geometries_;for(let o=0,s=i.length;o<s;++o)i[o].scale(e,n,r);this.changed()}setGeometries(e){this.setGeometriesArray(oA(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){let n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(e);this.changed()}translate(e,n){let r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}};function oA(t){return t.map(e=>e.clone())}var Fi=sA;var aA=class t extends qi{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){Kt(this.flatCoordinates,e),this.changed()}clone(){let e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<No(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(u0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),f0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return f2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,Z2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return qs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return mf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return Sp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){let n=[];return n.length=of(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return _0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rf(this.flatCoordinates,0,e,this.stride),this.changed()}},oi=aA;var lA=class t extends qi{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{let i=e,o=[],s=[];for(let l=0,c=i.length;l<c;++l){let u=i[l];Kt(o,u.getFlatCoordinates()),s.push(o.length)}let a=i.length===0?this.getLayout():i[0].getLayout();this.setFlatCoordinates(a,o),this.ends_=s}}appendLineString(e){Kt(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<No(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(h0(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d0(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,kO(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return Eu(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new oi(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){let e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[],o=0;for(let s=0,a=n.length;s<a;++s){let l=n[s],c=new oi(e.slice(o,l),r);i.push(c),o=l}return i}getLength(){let e=this.ends_,n=0,r=0;for(let i=0,o=e.length;i<o;++i)r+=Sp(this.flatCoordinates,n,e[i],this.stride),n=e[i];return r}getFlatMidpoints(){let e=[],n=this.flatCoordinates,r=0,i=this.ends_,o=this.stride;for(let s=0,a=i.length;s<a;++s){let l=i[s],c=mf(n,r,l,o,.5);Kt(e,c),r=l}return e}getSimplifiedGeometryInternal(e){let n=[],r=[];return n.length=u2(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new t(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return zk(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let r=bu(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}},Uo=lA;var cA=class t extends qi{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){Kt(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){let e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<No(this.getExtent(),e,n))return i;let o=this.flatCoordinates,s=this.stride;for(let a=0,l=o.length;a<l;a+=s){let c=To(e,n,o[a],o[a+1]);if(c<i){i=c;for(let u=0;u<s;++u)r[u]=o[a+u];r.length=s}}return i}getCoordinates(){return qs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){let n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new gi(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){let e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let o=0,s=e.length;o<s;o+=r){let a=new gi(e.slice(o,o+r),n);i.push(a)}return i}getType(){return"MultiPoint"}intersectsExtent(e){let n=this.flatCoordinates,r=this.stride;for(let i=0,o=n.length;i<o;i+=r){let s=n[i],a=n[i+1];if(r0(e,s,a))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rf(this.flatCoordinates,0,e,this.stride),this.changed()}},Ea=cA;var uA=class t extends qi{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=e,o=[],s=[];for(let a=0,l=i.length;a<l;++a){let c=i[a],u=o.length,f=c.getEnds();for(let d=0,h=f.length;d<h;++d)f[d]+=u;Kt(o,c.getFlatCoordinates()),s.push(f)}n=i.length===0?this.getLayout():i[0].getLayout(),e=o,r=s}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{let r=this.flatCoordinates.length;Kt(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,o=n.length;i<o;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){let e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();let r=new t(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<No(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Fk(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Gk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return kk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),w0(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,p0(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){let e=Y2(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=h2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Ea(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;d2(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=w0(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let n=[],r=[];return n.length=Bk(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new t(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{let o=this.endss_[e-1];n=o[o.length-1]}let r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let o=0,s=r.length;o<s;++o)r[o]-=n;return new Li(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){let e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[],o=0;for(let s=0,a=r.length;s<a;++s){let l=r[s].slice(),c=l[l.length-1];if(o!==0)for(let f=0,d=l.length;f<d;++f)l[f]-=o;let u=new Li(n.slice(o,c),e,l);i.push(u),o=c}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return Vk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);let r=c2(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{let i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}},Sa=uA;var FO=pi(),X0=class t{constructor(e,n,r,i,o,s){this.styleFunction,this.extent_,this.id_=s,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r||null,this.properties_=o,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?qv(this.flatCoordinates_):Xd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=Ro(this.getExtent());this.flatInteriorPoints_=y0(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=qk(this.flatCoordinates_,this.ends_),n=Y2(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=h2(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=mf(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,n=0,r=this.ends_;for(let i=0,o=r.length;i<o;++i){let s=r[i],a=mf(e,n,s,2,.5);Kt(this.flatMidpoints_,a),n=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=nn(e);let n=e.getExtent(),r=e.getWorldExtent();if(n&&r){let i=nr(r)/nr(n);Pi(FO,r[0],r[3],i,-i,0,0,0),ko(this.flatCoordinates_,0,this.flatCoordinates_.length,2,FO,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new t(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Ov((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);let r=this.simplifiedGeometry_.getFlatCoordinates(),i;switch(this.type_){case"LineString":r.length=of(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,r,0),i=[r.length];break;case"MultiLineString":i=[],r.length=u2(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,r,0,i);break;case"Polygon":i=[],r.length=g0(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),r,0,i);break;default:}return i&&(this.simplifiedGeometry_=new t(this.type_,r,i,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}};X0.prototype.getFlatCoordinates=X0.prototype.getOrientedFlatCoordinates;var Ca=X0;var hA=class{constructor(e){this.rbush_=new yp(e),this.items_={}}insert(e,n){let r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[Et(n)]=r}load(e,n){let r=new Array(n.length);for(let i=0,o=n.length;i<o;i++){let s=e[i],a=n[i],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};r[i]=l,this.items_[Et(a)]=l}this.rbush_.load(r)}remove(e){let n=Et(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){let r=this.items_[Et(n)],i=[r.minX,r.minY,r.maxX,r.maxY];rc(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){let n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,o=e.length;i<o;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return us(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let n=this.rbush_.toJSON();return po(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(let n in e.items_)this.items_[n]=e.items_[n]}},fA=hA;var dA=class extends Br{constructor(e){super(),this.projection=nn(e.projection),this.attributions_=jO(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;let n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=jO(e),this.changed()}setState(e){this.state_=e,this.changed()}};function jO(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}var K2=dA;var ms={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};var al=class extends jr{constructor(e,n,r){super(e),this.feature=n,this.features=r}},pA=class extends K2{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=tc,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Gt(this.format_,"`format` must be set when `url` is set"),this.loader_=rA(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:LO;let n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new fA:null,this.loadedExtentsRtree_=new fA,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new Ti(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let n=Et(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);let r=e.getGeometry();if(r){let i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new al(ms.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof Ca||(this.featureChangeKeys_[e]=[Lt(n,Ke.CHANGE,this.handleFeatureChange_,this),Lt(n,pa.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let r=!0;if(n.getId()!==void 0){let i=String(n.getId());if(!(i in this.idIndex_))this.idIndex_[i]=n;else if(n instanceof Ca){let o=this.idIndex_[i];o instanceof Ca?Array.isArray(o)?o.push(n):this.idIndex_[i]=[o,n]:r=!1}else r=!1}return r&&(Gt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let n=[],r=[],i=[];for(let o=0,s=e.length;o<s;o++){let a=e[o],l=Et(a);this.addToIndex_(l,a)&&r.push(a)}for(let o=0,s=r.length;o<s;o++){let a=r[o],l=Et(a);this.setupChangeEvents_(l,a);let c=a.getGeometry();if(c){let u=c.getExtent();n.push(u),i.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(ms.ADDFEATURE))for(let o=0,s=r.length;o<s;o++)this.dispatchEvent(new al(ms.ADDFEATURE,r[o]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(ms.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(ms.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(di.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(di.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(en);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(r=>{this.removeFeatureInternal(r)});for(let r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let n=new al(ms.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){let r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){let o=i.getGeometry();if(o instanceof Ca||o.intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){let i=r.getGeometry();if(i instanceof Ca||i.intersectsExtent(e)){let o=n(r);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),us(this.nullGeometryFeatures_)||Kt(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);let i=$v(e,n);return[].concat(...i.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){let r=e[0],i=e[1],o=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return n=n||ga,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){let u=c.getGeometry(),f=a;if(a=u instanceof Ca?0:u.closestPointXY(r,i,s,a),a<f){o=c;let d=Math.sqrt(a);l[0]=r-d,l[1]=i-d,l[2]=r+d,l[3]=i+d}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){let n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let n=e.target,r=Et(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{let s=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(s,n)):this.featuresRtree_&&this.featuresRtree_.update(s,n)}let o=n.getId();if(o!==void 0){let s=o.toString();this.idIndex_[s]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[s]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new al(ms.CHANGEFEATURE,n))}hasFeature(e){let n=e.getId();return n!==void 0?n in this.idIndex_:Et(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&us(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){let i=this.loadedExtentsRtree_,o=this.strategy_(e,n,r);for(let s=0,a=o.length;s<a;++s){let l=o[s];i.forEachInExtent(l,function(u){return Yh(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new al(ms.FEATURESLOADSTART)),this.loader_.call(this,l,n,r,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new al(ms.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new al(ms.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let n=this.loadedExtentsRtree_,r=n.forEachInExtent(e,function(i){if(rc(i.extent,e))return i});r&&n.remove(r)}removeFeatures(e){let n=!1;for(let r=0,i=e.length;r<i;++r)n=this.removeFeatureInternal(e[r])||n;n&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let n=Et(e);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[n]?.forEach(en),delete this.featureChangeKeys_[n];let i=e.getId();if(i!==void 0){let o=i.toString(),s=this.idIndex_[o];s===e?delete this.idIndex_[o]:Array.isArray(s)&&(s.splice(s.indexOf(e),1),s.length===1&&(this.idIndex_[o]=s[0]))}return delete this.uidIndex_[n],this.hasListener(ms.REMOVEFEATURE)&&this.dispatchEvent(new al(ms.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(let n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n];break}}setLoader(e){this.loader_=e}setUrl(e){Gt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(rA(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}},Fu=pA;var Ip=[0,0,0],ju=5,gA=class{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Gt(GL(this.resolutions_,(i,o)=>o-i,!0),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let i=0,o=this.resolutions_.length-1;i<o;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Gt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=fs(r)),Gt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Gt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:256,Gt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,o)=>{let s=new V2(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){let a=this.getTileRangeForExtentAndZ(r,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){let i=this.getTileRangeForExtentAndZ(e,n);for(let o=i.minX,s=i.maxX;o<=s;++o)for(let a=i.minY,l=i.maxY;a<=l;++a)r([n,o,a])}forEachTileCoordParentTileRange(e,n,r,i){let o,s,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(s=e[1],a=e[2]):l=this.getTileCoordExtent(e,i);c>=this.minZoom;){if(s!==void 0&&a!==void 0?(s=Math.floor(s/2),a=Math.floor(a/2),o=pf(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(l,c,r),n(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){let o=e[1]*2,s=e[2]*2;return pf(o,o+1,s,s+1,n)}let i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;let i=e[0],o=e[1],s=e[2];if(n===i)return pf(o,s,o,s,r);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,n-i),c=Math.floor(o*l),u=Math.floor(s*l);if(n<i)return pf(c,c,u,u,r);let f=Math.floor(l*(o+1))-1,d=Math.floor(l*(s+1))-1;return pf(c,f,u,d,r)}let a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,Ip);let i=Ip[1],o=Ip[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,Ip);let s=Ip[1],a=Ip[2];return pf(i,s,o,a,r)}getTileCoordCenter(e){let n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=pr(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){let r=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=pr(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*o[0]*i,a=r[1]-(e[2]+1)*o[1]*i,l=s+o[0]*i,c=a+o[1]*i;return po(s,a,l,c,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,o){let s=this.getZForResolution(r),a=r/this.getResolution(s),l=this.getOrigin(s),c=pr(this.getTileSize(s),this.tmpSize_),u=a*(e-l[0])/r/c[0],f=a*(l[1]-n)/r/c[1];return i?(u=t0(u,ju)-1,f=t0(f,ju)-1):(u=e0(u,ju),f=e0(f,ju)),xp(s,u,f,o)}getTileCoordForXYAndZ_(e,n,r,i,o){let s=this.getOrigin(r),a=this.getResolution(r),l=pr(this.getTileSize(r),this.tmpSize_),c=(e-s[0])/a/l[0],u=(s[1]-n)/a/l[1];return i?(c=t0(c,ju)-1,u=t0(u,ju)-1):(c=e0(c,ju),u=e0(u,ju)),xp(r,c,u,o)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){let r=Wd(this.resolutions_,e,n||0);return tn(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return JC(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){let n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}},mA=gA;function J2(t){let e=t.getDefaultTileGrid();return e||(e=xX(t),t.setDefaultTileGrid(e)),e}function BO(t,e,n){let r=e[0],i=t.getTileCoordCenter(e),o=Q2(n);if(!ya(o,i)){let s=zt(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,t.getTileCoordForCoordAndZ(i,r)}return e}function wX(t,e,n,r){r=r!==void 0?r:"top-left";let i=GO(t,e,n);return new mA({extent:t,origin:QL(t,r),resolutions:i,tileSize:n})}function UO(t){let e=t||{},n=e.extent||nn("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:GO(n,e.maxZoom,e.tileSize,e.maxResolution)};return new mA(r)}function GO(t,e,n,r){e=e!==void 0?e:42,n=pr(n!==void 0?n:256);let i=nr(t),o=zt(t);r=r>0?r:Math.max(o/n[0],i/n[1]);let s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=r/Math.pow(2,l);return a}function xX(t,e,n,r){let i=Q2(t);return wX(i,e,n,r)}function Q2(t){t=nn(t);let e=t.getExtent();if(!e){let n=180*ic.degrees/t.getMetersPerUnit();e=po(-n,-n,n,n)}return e}var bX=/\{z\}/g,EX=/\{x\}/g,SX=/\{y\}/g,CX=/\{-y\}/g;function zO(t,e,n,r,i){return t.replace(bX,e.toString()).replace(EX,n.toString()).replace(SX,r.toString()).replace(CX,function(){if(i===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-r).toString()})}function VO(t){let e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){let r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){let r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}function IX(t,e){return(function(n,r,i){if(!n)return;let o,s=n[0];if(e){let a=e.getFullTileRange(s);a&&(o=a.getHeight()-1)}return zO(t,s,n[1],n[2],o)})}function HO(t,e){let n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=IX(t[i],e);return DX(r)}function DX(t){return t.length===1?t[0]:(function(e,n,r){if(!e)return;let i=cO(e),o=ma(i,t.length);return t[o](e,n,r)})}var yA=class extends K2{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;let n=[256,256];this.tileGrid&&pr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||Et(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){let n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,o,s){return Je()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:J2(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){let i=this.getTileGridForProjection(r),o=this.getTilePixelRatio(n),s=pr(i.getTileSize(e),this.tmpSize);return o==1?s:I8(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){let r=n!==void 0?n:this.getProjection(),i=n!==void 0?this.getTileGridForProjection(r):this.tileGrid||this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=BO(i,e,r)),uO(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}},ew=class extends jr{constructor(e,n){super(e),this.tile=n}},qO=yA;var tw={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var _A=class t extends qO{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===t.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){let n=e.target,r=Et(n),i=n.getState(),o;i==ot.LOADING?(this.tileLoadingKeys_[r]=!0,o=tw.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],o=i==ot.ERROR?tw.TILELOADERROR:i==ot.LOADED?tw.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new ew(o,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){let n=VO(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;let n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(HO(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}},WO=_A;var vA=class extends WO{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:wA,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:G2,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!vu(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){let n=this.getProjection();if(this.tileGrid&&(!n||vu(n,e)))return this.tileGrid;let r=Et(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=J2(e)),this.tileGridForProjection[r]}createTile_(e,n,r,i,o,s){let a=[e,n,r],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,i,o):void 0,u=new this.tileClass(a,c!==void 0?ot.IDLE:ot.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(Ke.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,n,r,i,o,s){let a=this.getProjection();if(!a||!o||vu(a,o))return this.getTileInternal(e,n,r,i,a||o);let l=[e,n,r],c=this.getKey(),u=this.getTileGridForProjection(a),f=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(l,o),h=new H2(a,u,o,f,l,d,this.getTilePixelRatio(i),this.getGutter(),(g,y,_,v)=>this.getTileInternal(g,y,_,v,a,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return h.key=c,h}getTileInternal(e,n,r,i,o,s){let a=this.getKey(),l=bp(this,a,e,n,r);if(s&&s.containsKey(l))return s.get(l);let c=this.createTile_(e,n,r,i,o,a);return s?.set(l,c),c}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){let r=nn(e);if(r){let i=Et(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}};function wA(t,e){if(Sr){let n=t.getCrossOrigin(),r="same-origin",i="same-origin";n==="anonymous"||n===""?(r="cors",i="omit"):n==="use-credentials"&&(r="cors",i="include"),fetch(e,{mode:r,credentials:i}).then(o=>{if(!o.ok)throw new Error(`HTTP ${o.status}`);return o.blob()}).then(o=>createImageBitmap(o)).then(o=>{let s=t.getImage();s.width=o.width,s.height=o.height,s.getContext("2d").drawImage(o,0,0),o.close?.(),s.dispatchEvent(new Event("load"))}).catch(()=>{t.getImage().dispatchEvent(new Event("error"))});return}t.getImage().src=e}var $O=vA;var xA=class extends $O{constructor(e){e=e||{};let n=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:UO({extent:Q2(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}},nw=xA;var EA='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',bA=class extends nw{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[EA];let r=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:(o,s)=>{let a=o.getImage();!Sr&&a instanceof HTMLImageElement&&(a.referrerPolicy="origin-when-cross-origin"),(e.tileLoadFunction||wA)(o,s)},transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}},YO=bA;var SA=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=ii,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let r=n.dataProjection?nn(n.dataProjection):this.readProjection(e);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=nn(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Je()}readFeature(e,n){return Je()}readFeatures(e,n){return Je()}readGeometry(e,n){return Je()}readProjection(e){return Je()}writeFeature(e,n){return Je()}writeFeatures(e,n){return Je()}writeGeometry(e,n){return Je()}},Dp=SA;function ji(t,e,n){let r=n?nn(n.featureProjection):null,i=n?nn(n.dataProjection):null,o=t;if(r&&i&&!vu(r,i)){e&&(o=t.clone());let s=e?r:i,a=e?i:r;s.getUnits()==="tile-pixels"?o.transform(s,a):o.applyTransform(sc(s,a))}if(e&&n&&n.decimals!==void 0){let s=Math.pow(10,n.decimals),a=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*s)/s;return l};o===t&&(o=t.clone()),o.applyTransform(a)}return o}var AX={Point:gi,LineString:oi,Polygon:Li,MultiPoint:Ea,MultiLineString:Uo,MultiPolygon:Sa};function MX(t,e,n){return Array.isArray(e[0])?(d2(t,0,e,n)||(t=t.slice(),w0(t,0,e,n)),t):(v0(t,0,e,n)||(t=t.slice(),sp(t,0,e,n)),t)}function CA(t,e){let n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map(o=>CA(fn(Ze({},t),{geometry:o}))).flat();let r=n.type==="MultiPolygon"?"Polygon":n.type;if(r==="GeometryCollection"||r==="Circle")throw new Error("Unsupported geometry type: "+r);let i=n.layout.length;return ji(new Ca(r,r==="Polygon"?MX(n.flatCoordinates,n.ends,i):n.flatCoordinates,n.ends?.flat(),i,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function rw(t,e){if(!t)return null;if(Array.isArray(t)){let r=t.map(i=>rw(i,e));return new Fi(r)}let n=AX[t.type];return ji(new n(t.flatCoordinates,t.layout||"XY",t.ends),!1,e)}var IA=class extends Dp{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(iw(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(iw(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return Je()}readFeaturesFromObject(e,n){return Je()}readGeometry(e,n){return this.readGeometryFromObject(iw(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return Je()}readProjection(e){return this.readProjectionFromObject(iw(e))}readProjectionFromObject(e){return Je()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return Je()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return Je()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return Je()}};function iw(t){if(typeof t=="string"){let e=JSON.parse(t);return e||null}return t!==null?t:null}var ZO=IA;var DA=class extends ZO{constructor(e){e=e||{},super(),this.dataProjection=nn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=nn(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let r=null;e.type==="Feature"?r=e:r={type:"Feature",geometry:e,properties:null};let i=MA(r.geometry,n);if(this.featureClass===Ca)return CA({geometry:i,id:r.id,properties:r.properties},n);let o=new ii;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&r.geometry_name&&o.setGeometryName(r.geometry_name),o.setGeometry(rw(i,n)),"id"in r&&o.setId(r.id),r.properties&&o.setProperties(r.properties,!0),o}readFeaturesFromObject(e,n){let r=e,i=null;if(r.type==="FeatureCollection"){let o=e;i=[];let s=o.features;for(let a=0,l=s.length;a<l;++a){let c=this.readFeatureFromObject(s[a],n);c&&i.push(c)}}else i=[this.readFeatureFromObject(e,n)];return i.flat()}readGeometryFromObject(e,n){return TX(e,n)}readProjectionFromObject(e){let n=e.crs,r;if(n)if(n.type=="name")r=nn(n.properties.name);else if(n.type==="EPSG")r=nn("EPSG:"+n.properties.code);else throw new Error("Unknown SRS type");else r=this.dataProjection;return r}writeFeatureObject(e,n){n=this.adaptOptions(n);let r={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(r.id=i),!e.hasProperties())return r;let o=e.getProperties(),s=e.getGeometry();return s&&(r.geometry=AA(s,n),delete o[e.getGeometryName()]),us(o)||(r.properties=o),r}writeFeaturesObject(e,n){n=this.adaptOptions(n);let r=[];for(let i=0,o=e.length;i<o;++i)r.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,n){return AA(e,this.adaptOptions(n))}};function MA(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=RX(t);break}case"LineString":{n=PX(t);break}case"Polygon":{n=FX(t);break}case"MultiPoint":{n=kX(t);break}case"MultiLineString":{n=LX(t);break}case"MultiPolygon":{n=OX(t);break}case"GeometryCollection":{n=NX(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function TX(t,e){let n=MA(t,e);return rw(n,e)}function NX(t,e){return t.geometries.map(function(r){return MA(r,e)})}function RX(t){let e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:xu(e.length)}}function PX(t){let e=t.coordinates,n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:xu(e[0]?.length||2)}}function LX(t){let e=t.coordinates,n=e[0]?.[0]?.length||2,r=[],i=bu(r,0,e,n);return{type:"MultiLineString",flatCoordinates:r,ends:i,layout:xu(n)}}function kX(t){let e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:xu(e[0]?.length||2)}}function OX(t){let e=t.coordinates,n=[],r=e[0]?.[0]?.[0].length||2,i=c2(n,0,e,r);return{type:"MultiPolygon",flatCoordinates:n,ends:i,layout:xu(r)}}function FX(t){let e=t.coordinates,n=[],r=e[0]?.[0]?.length,i=bu(n,0,e,r);return{type:"Polygon",flatCoordinates:n,ends:i,layout:xu(r)}}function AA(t,e){t=ji(t,!0,e);let n=t.getType(),r;switch(n){case"Point":{r=VX(t,e);break}case"LineString":{r=BX(t,e);break}case"Polygon":{r=HX(t,e);break}case"MultiPoint":{r=GX(t,e);break}case"MultiLineString":{r=UX(t,e);break}case"MultiPolygon":{r=zX(t,e);break}case"GeometryCollection":{r=jX(t,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function jX(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return AA(r,e)})}}function BX(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function UX(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function GX(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function zX(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function VX(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function HX(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}var Go=DA;var Ap="http://www.w3.org/2001/XMLSchema-instance";function yc(t,e){return yf().createElementNS(t,e)}function ys(t,e){return XO(t,e,[]).join("")}function XO(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else{let r;for(r=t.firstChild;r;r=r.nextSibling)XO(r,e,n)}return n}function $s(t){return"documentElement"in t}function Ys(t){return new DOMParser().parseFromString(t,"application/xml")}function RA(t,e){return(function(n,r){let i=t.call(e??this,n,r);if(i!==void 0){let o=r[r.length-1];Kt(o,i)}})}function _s(t,e){return(function(n,r){let i=t.call(e??this,n,r);i!==void 0&&r[r.length-1].push(i)})}function ow(t,e){return(function(n,r){let i=t.call(e??this,n,r);i!==void 0&&(r[r.length-1]=i)})}function Re(t,e,n){return(function(r,i){let o=t.call(n??this,r,i);if(o!==void 0){let s=i[i.length-1],a=e!==void 0?e:r.localName;s[a]=o}})}function Ue(t,e){return(function(n,r,i){t.call(e??this,n,r,i),i[i.length-1].node.appendChild(n)})}function PA(t,e){let n,r;return function(i,o,s){if(n===void 0){n={};let a={};a[i.localName]=t,n[i.namespaceURI]=a,r=vs(i.localName)}KO(n,r,o,s)}}function vs(t,e){return(function(n,r,i){let s=r[r.length-1].node,a=t;a===void 0&&(a=i);let l=e!==void 0?e:s.namespaceURI;return yc(l,a)})}var yi=vs();function Zi(t,e){let n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=t[e[i]];return r}function We(t,e,n){n=n!==void 0?n:{};let r,i;for(r=0,i=t.length;r<i;++r)n[t[r]]=e;return n}function ll(t,e,n,r){let i;for(i=e.firstElementChild;i;i=i.nextElementSibling){let o=t[i.namespaceURI];if(o!==void 0){let s=o[i.localName];s!==void 0&&s.call(r,i,n)}}}function Qt(t,e,n,r,i){return r.push(t),ll(e,n,r,i),r.pop()}function KO(t,e,n,r,i,o){let s=(i!==void 0?i:n).length,a,l;for(let c=0;c<s;++c)a=n[c],a!==void 0&&(l=e.call(o,a,r,i!==void 0?i[c]:void 0),l!==void 0&&t[l.namespaceURI][l.localName].call(o,l,a,r))}function Bn(t,e,n,r,i,o,s){return i.push(t),KO(e,n,r,i,o,s),i.pop()}var TA;function JO(){return TA===void 0&&typeof XMLSerializer<"u"&&(TA=new XMLSerializer),TA}var NA;function yf(){return NA===void 0&&typeof document<"u"&&(NA=document.implementation.createDocument("","",null)),NA}var LA=class extends Dp{constructor(){super(),this.xmlSerializer_=JO()}getType(){return"xml"}readFeature(e,n){if(!e)return null;if(typeof e=="string"){let r=Ys(e);return this.readFeatureFromDocument(r,n)}return $s(e)?this.readFeatureFromDocument(e,n):this.readFeatureFromNode(e,n)}readFeatureFromDocument(e,n){let r=this.readFeaturesFromDocument(e,n);return r.length>0?r[0]:null}readFeatureFromNode(e,n){return null}readFeatures(e,n){if(!e)return[];if(typeof e=="string"){let r=Ys(e);return this.readFeaturesFromDocument(r,n)}return $s(e)?this.readFeaturesFromDocument(e,n):this.readFeaturesFromNode(e,n)}readFeaturesFromDocument(e,n){let r=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Kt(r,this.readFeaturesFromNode(i,n));return r}readFeaturesFromNode(e,n){return Je()}readGeometry(e,n){if(!e)return null;if(typeof e=="string"){let r=Ys(e);return this.readGeometryFromDocument(r,n)}return $s(e)?this.readGeometryFromDocument(e,n):this.readGeometryFromNode(e,n)}readGeometryFromDocument(e,n){return null}readGeometryFromNode(e,n){return null}readProjection(e){if(!e)return null;if(typeof e=="string"){let n=Ys(e);return this.readProjectionFromDocument(n)}return $s(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,n){let r=this.writeFeatureNode(e,n);return this.xmlSerializer_.serializeToString(r)}writeFeatureNode(e,n){return null}writeFeatures(e,n){let r=this.writeFeaturesNode(e,n);return this.xmlSerializer_.serializeToString(r)}writeFeaturesNode(e,n){return null}writeGeometry(e,n){let r=this.writeGeometryNode(e,n);return this.xmlSerializer_.serializeToString(r)}writeGeometryNode(e,n){return null}},sw=LA;function _c(t){let e=ys(t,!1);return qX(e)}function qX(t){let e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return e[1]!==void 0||!1}function K0(t){let e=ys(t,!1),n=Date.parse(e);return isNaN(n)?void 0:n/1e3}function mn(t){let e=ys(t,!1);return WX(e)}function WX(t){let e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function Mp(t){let e=ys(t,!1);return $X(e)}function $X(t){let e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function Ht(t){return ys(t,!1).trim()}function _f(t,e){bn(t,e?"1":"0")}function YX(t,e){t.appendChild(yf().createCDATASection(e))}function QO(t,e){let n=new Date(e*1e3),r=n.getUTCFullYear()+"-"+Jd(n.getUTCMonth()+1,2)+"-"+Jd(n.getUTCDate(),2)+"T"+Jd(n.getUTCHours(),2)+":"+Jd(n.getUTCMinutes(),2)+":"+Jd(n.getUTCSeconds(),2)+"Z";t.appendChild(yf().createTextNode(r))}function Xi(t,e){let n=e.toPrecision();t.appendChild(yf().createTextNode(n))}function J0(t,e){let n=e.toString();t.appendChild(yf().createTextNode(n))}var ZX=/^\s/,XX=/\s$/,KX=/(\n|\t|\r|<|&| {2})/;function bn(t,e){typeof e=="string"&&(ZX.test(e)||XX.test(e)||KX.test(e))?e.split("]]>").forEach((n,r,i)=>{r<i.length-1&&(n+="]]"),r>0&&(n=">"+n),YX(t,n)}):t.appendChild(yf().createTextNode(e))}var vc=["http://www.google.com/kml/ext/2.2"],st=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],JX="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",e6={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},QX=We(st,{ExtendedData:w6,Region:x6,MultiGeometry:Re(y6,"geometry"),LineString:Re(g6,"geometry"),LinearRing:Re(m6,"geometry"),Point:Re(_6,"geometry"),Polygon:Re(v6,"geometry"),Style:Re(qA),StyleMap:kK,address:Re(Ht),description:Re(Ht),name:Re(Ht),open:Re(_c),phoneNumber:Re(Ht),styleUrl:Re(u6),visibility:Re(_c)},We(vc,{MultiTrack:Re(bK,"geometry"),Track:Re(p6,"geometry")})),eK=We(st,{ExtendedData:w6,Region:x6,Link:$K,address:Re(Ht),description:Re(Ht),name:Re(Ht),open:Re(_c),phoneNumber:Re(Ht),visibility:Re(_c)}),tK=We(st,{href:Re(c6)}),nK=We(st,{Altitude:Re(mn),Longitude:Re(mn),Latitude:Re(mn),Tilt:Re(mn),AltitudeMode:Re(Ht),Heading:Re(mn),Roll:Re(mn)}),s6=We(st,{LatLonAltBox:UK,Lod:zK}),rK=We(st,["Document","Placemark"]),iK=We(st,{Document:Ue(tJ),Placemark:Ue(S6)}),Tp,lw=null;var FA,Q0,e1,t1,uw,jA=null;var VA,BA=null;var UA,vf=null;var t6=null;var GA=null;function hw(t){return 32/Math.min(t[0],t[1])}function oK(){Tp=[255,255,255,1],lw=new Oi({color:Tp}),FA=[20,2],Q0="pixels",e1="pixels",t1=[64,64],uw="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",jA=new Ru({anchor:FA,anchorOrigin:"bottom-left",anchorXUnits:Q0,anchorYUnits:e1,crossOrigin:"anonymous",rotation:0,scale:hw(t1),size:t1,src:uw}),VA="NO_IMAGE",BA=new Yi({color:Tp,width:1}),UA=new Yi({color:[51,51,51,1],width:2}),vf=new G0({font:"bold 16px Helvetica",fill:lw,stroke:UA,scale:.8}),t6=new ri({fill:lw,image:jA,text:vf,stroke:BA,zIndex:0}),GA=[t6]}var aw;function sK(t){return t}var zA=class extends sw{constructor(e){super(),e=e||{},GA||oK(),this.dataProjection=nn("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:GA,this.extractStyles_=e.extractStyles!==void 0?e.extractStyles:!0,this.writeStyles_=e.writeStyles!==void 0?e.writeStyles:!0,this.sharedStyles_={},this.showPointNames_=e.showPointNames!==void 0?e.showPointNames:!0,this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:sK,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,n){let r=We(st,{Document:RA(this.readDocumentOrFolder_,this),Folder:RA(this.readDocumentOrFolder_,this),Placemark:_s(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),i=Qt([],r,e,n,this);if(i)return i}readPlacemark_(e,n){let r=Qt({geometry:null},QX,e,n,this);if(!r)return;let i=new ii,o=e.getAttribute("id");o!==null&&i.setId(o);let s=n[0],a=r.geometry;if(a&&ji(a,!1,s),i.setGeometry(a),delete r.geometry,this.extractStyles_){let l=r.Style,c=r.styleUrl,u=lK(l,c,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);i.setStyle(u)}return delete r.Style,i.setProperties(r,!0),i}readSharedStyle_(e,n){let r=e.getAttribute("id");if(r!==null){let i=qA.call(this,e,n);if(i){let o,s=e.baseURI;(!s||s=="about:blank")&&(s=window.location.href),s?o=new URL("#"+r,s).href:o="#"+r,this.sharedStyles_[o]=i}}}readSharedStyleMap_(e,n){let r=e.getAttribute("id");if(r===null)return;let i=f6.call(this,e,n);if(!i)return;let o,s=e.baseURI;(!s||s=="about:blank")&&(s=window.location.href),s?o=new URL("#"+r,s).href:o="#"+r,this.sharedStyles_[o]=i}readFeatureFromNode(e,n){if(!st.includes(e.namespaceURI))return null;let r=this.readPlacemark_(e,[this.getReadOptions(e,n)]);return r||null}readFeaturesFromNode(e,n){if(!st.includes(e.namespaceURI))return[];let r,i=e.localName;if(i=="Document"||i=="Folder")return r=this.readDocumentOrFolder_(e,[this.getReadOptions(e,n)]),r||[];if(i=="Placemark"){let o=this.readPlacemark_(e,[this.getReadOptions(e,n)]);return o?[o]:[]}if(i=="kml"){r=[];for(let o=e.firstElementChild;o;o=o.nextElementSibling){let s=this.readFeaturesFromNode(o,n);s&&Kt(r,s)}return r}return[]}readName(e){if(e){if(typeof e=="string"){let n=Ys(e);return this.readNameFromDocument(n)}return $s(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}readNameFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE){let r=this.readNameFromNode(n);if(r)return r}}readNameFromNode(e){for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(st.includes(n.namespaceURI)&&n.localName=="name")return Ht(n);for(let n=e.firstElementChild;n;n=n.nextElementSibling){let r=n.localName;if(st.includes(n.namespaceURI)&&(r=="Document"||r=="Folder"||r=="Placemark"||r=="kml")){let i=this.readNameFromNode(n);if(i)return i}}}readNetworkLinks(e){let n=[];if(typeof e=="string"){let r=Ys(e);Kt(n,this.readNetworkLinksFromDocument(r))}else $s(e)?Kt(n,this.readNetworkLinksFromDocument(e)):Kt(n,this.readNetworkLinksFromNode(e));return n}readNetworkLinksFromDocument(e){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Kt(n,this.readNetworkLinksFromNode(r));return n}readNetworkLinksFromNode(e){let n=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(st.includes(r.namespaceURI)&&r.localName=="NetworkLink"){let i=Qt({},eK,r,[]);n.push(i)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){let i=r.localName;st.includes(r.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")&&Kt(n,this.readNetworkLinksFromNode(r))}return n}readRegion(e){let n=[];if(typeof e=="string"){let r=Ys(e);Kt(n,this.readRegionFromDocument(r))}else $s(e)?Kt(n,this.readRegionFromDocument(e)):Kt(n,this.readRegionFromNode(e));return n}readRegionFromDocument(e){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Kt(n,this.readRegionFromNode(r));return n}readRegionFromNode(e){let n=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(st.includes(r.namespaceURI)&&r.localName=="Region"){let i=Qt({},s6,r,[]);n.push(i)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){let i=r.localName;st.includes(r.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")&&Kt(n,this.readRegionFromNode(r))}return n}readCamera(e){let n=[];if(typeof e=="string"){let r=Ys(e);Kt(n,this.readCameraFromDocument(r))}else $s(e)?Kt(n,this.readCameraFromDocument(e)):Kt(n,this.readCameraFromNode(e));return n}readCameraFromDocument(e){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType===Node.ELEMENT_NODE&&Kt(n,this.readCameraFromNode(r));return n}readCameraFromNode(e){let n=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(st.includes(r.namespaceURI)&&r.localName==="Camera"){let i=Qt({},nK,r,[]);n.push(i)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){let i=r.localName;st.includes(r.namespaceURI)&&(i==="Document"||i==="Folder"||i==="Placemark"||i==="kml")&&Kt(n,this.readCameraFromNode(r))}return n}writeFeaturesNode(e,n){n=this.adaptOptions(n);let r=yc(st[4],"kml"),i="http://www.w3.org/2000/xmlns/";r.setAttributeNS(i,"xmlns:gx",vc[0]),r.setAttributeNS(i,"xmlns:xsi",Ap),r.setAttributeNS(Ap,"xsi:schemaLocation",JX);let o={node:r},s={};e.length>1?s.Document=e:e.length==1&&(s.Placemark=e[0]);let a=rK[r.namespaceURI],l=Zi(s,a);return Bn(o,iK,yi,l,[n],a,this),r}};function aK(t,e){let n=[0,0],r="start",i=t.getImage();if(i){let a=i.getSize();if(a&&a.length==2){let l=i.getScaleArray(),c=i.getAnchor();n[0]=l[0]*(a[0]-c[0]),n[1]=l[1]*(a[1]/2-c[1]),r="left"}}let o=t.getText();return o?(o=o.clone(),o.setFont(o.getFont()||vf.getFont()),o.setScale(o.getScale()||vf.getScale()),o.setFill(o.getFill()||vf.getFill()),o.setStroke(o.getStroke()||UA)):o=vf.clone(),o.setText(e),o.setOffsetX(n[0]),o.setOffsetY(n[1]),o.setTextAlign(r),new ri({image:i,text:o})}function lK(t,e,n,r,i){return(function(o,s){let a=i,l="",c=[];if(a){let f=o.getGeometry();if(f)if(f instanceof Fi)c=f.getGeometriesArrayRecursive().filter(function(d){let h=d.getType();return h==="Point"||h==="MultiPoint"}),a=c.length>0;else{let d=f.getType();a=d==="Point"||d==="MultiPoint"}}a&&(l=o.get("name"),a=a&&!!l,a&&/&[^&]+;/.test(l)&&(aw||(aw=document.createElement("textarea")),aw.innerHTML=l,l=aw.value));let u=n;if(t?u=t:e&&(u=a6(e,n,r)),a){let f=aK(u[0],l);if(c.length>0){f.setGeometry(new Fi(c));let d=new ri({geometry:u[0].getGeometry(),image:null,fill:u[0].getFill(),stroke:u[0].getStroke(),text:null});return[f,d].concat(u.slice(1))}return f}return u})}function a6(t,e,n){return Array.isArray(t)?t:typeof t=="string"?a6(n[t],e,n):e}function fw(t){let e=ys(t,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(n){let r=n[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}}function l6(t){let e=ys(t,!1),n=[];e=e.replace(/\s*,\s*/g,",");let r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i,i;for(;i=r.exec(e);){let o=parseFloat(i[1]),s=parseFloat(i[2]),a=i[3]?parseFloat(i[3]):0;n.push(o,s,a),e=e.substr(i[0].length)}if(e==="")return n}function c6(t){let e=ys(t,!1).trim(),n=t.baseURI;return(!n||n=="about:blank")&&(n=window.location.href),n?new URL(e,n).href:e}function u6(t){let e=ys(t,!1).trim().replace(/^(?!.*#)/,"#"),n=t.baseURI;return(!n||n=="about:blank")&&(n=window.location.href),n?new URL(e,n).href:e}function cK(t){let e=t.getAttribute("xunits"),n=t.getAttribute("yunits"),r;return e!=="insetPixels"?n!=="insetPixels"?r="bottom-left":r="top-left":n!=="insetPixels"?r="bottom-right":r="top-right",{x:parseFloat(t.getAttribute("x")),xunits:e6[e],y:parseFloat(t.getAttribute("y")),yunits:e6[n],origin:r}}function h6(t){return mn(t)}var uK=We(st,{Pair:LK});function f6(t,e){return Qt(void 0,uK,t,e,this)}var hK=We(st,{Icon:Re(CK),color:Re(fw),heading:Re(mn),hotSpot:Re(cK),scale:Re(h6)});function fK(t,e){let n=Qt({},hK,t,e);if(!n)return;let r=e[e.length-1],i="Icon"in n?n.Icon:{},o=!("Icon"in n)||Object.keys(i).length>0,s,a=i.href;a?s=a:o&&(s=uw);let l,c,u,f="bottom-left",d=n.hotSpot;d?(l=[d.x,d.y],c=d.xunits,u=d.yunits,f=d.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(s)&&(s.includes("pushpin")?(l=FA,c=Q0,u=e1):s.includes("arrow-reverse")?(l=[54,42],c=Q0,u=e1):s.includes("paddle")&&(l=[32,1],c=Q0,u=e1));let h,g=i.x,y=i.y;g!==void 0&&y!==void 0&&(h=[g,y]);let _,v=i.w,E=i.h;v!==void 0&&E!==void 0&&(_=[v,E]);let S,I=n.heading;I!==void 0&&(S=hs(I));let R=n.scale,V=n.color;if(o){s==uw&&(_=t1);let j=new Ru({anchor:l,anchorOrigin:f,anchorXUnits:c,anchorYUnits:u,crossOrigin:this.crossOrigin_,offset:h,offsetOrigin:"bottom-left",rotation:S,scale:R,size:_,src:this.iconUrlFunction_(s),color:V}),F=j.getScaleArray()[0],k=j.getSize();if(k===null){let N=j.getImageState();if(N===gt.IDLE||N===gt.LOADING){let T=function(){let x=j.getImageState();if(!(x===gt.IDLE||x===gt.LOADING)){let O=j.getSize();if(O&&O.length==2){let $=hw(O);j.setScale(F*$)}j.unlistenImageChange(T)}};j.listenImageChange(T),N===gt.IDLE&&j.load()}}else if(k.length==2){let N=hw(k);j.setScale(F*N)}r.imageStyle=j}else r.imageStyle=VA}var dK=We(st,{color:Re(fw),scale:Re(h6)});function pK(t,e){let n=Qt({},dK,t,e);if(!n)return;let r=e[e.length-1],i=new G0({fill:new Oi({color:"color"in n?n.color:Tp}),scale:n.scale});r.textStyle=i}var gK=We(st,{color:Re(fw),width:Re(mn)});function mK(t,e){let n=Qt({},gK,t,e);if(!n)return;let r=e[e.length-1],i=new Yi({color:"color"in n?n.color:Tp,width:"width"in n?n.width:1});r.strokeStyle=i}var yK=We(st,{color:Re(fw),fill:Re(_c),outline:Re(_c)});function _K(t,e){let n=Qt({},yK,t,e);if(!n)return;let r=e[e.length-1],i=new Oi({color:"color"in n?n.color:Tp});r.fillStyle=i;let o=n.fill;o!==void 0&&(r.fill=o);let s=n.outline;s!==void 0&&(r.outline=s)}var vK=We(st,{coordinates:ow(l6)});function d6(t,e){return Qt(null,vK,t,e)}function wK(t,e){let r=e[e.length-1].coordinates,i=ys(t,!1),s=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i);if(s){let a=parseFloat(s[1]),l=parseFloat(s[2]),c=parseFloat(s[3]);r.push([a,l,c])}else r.push([])}var xK=We(vc,{Track:_s(p6)});function bK(t,e){let n=Qt([],xK,t,e);if(n)return new Uo(n)}var EK=We(st,{when:YK},We(vc,{coord:wK}));function p6(t,e){let n=Qt({coordinates:[],whens:[]},EK,t,e);if(!n)return;let r=[],i=n.coordinates,o=n.whens;for(let s=0,a=Math.min(i.length,o.length);s<a;++s)i[s].length==3&&r.push(i[s][0],i[s][1],i[s][2],o[s]);return new oi(r,"XYZM")}var SK=We(st,{href:Re(c6)},We(vc,{x:Re(mn),y:Re(mn),w:Re(mn),h:Re(mn)}));function CK(t,e){let n=Qt({},SK,t,e);return n||null}var IK=We(st,{coordinates:ow(l6)});function HA(t,e){return Qt(null,IK,t,e)}var dw=We(st,{extrude:Re(_c),tessellate:Re(_c),altitudeMode:Re(Ht)});function g6(t,e){let n=Qt({},dw,t,e),r=HA(t,e);if(r){let i=new oi(r,"XYZ");return i.setProperties(n,!0),i}}function m6(t,e){let n=Qt({},dw,t,e),r=HA(t,e);if(r){let i=new Li(r,"XYZ",[r.length]);return i.setProperties(n,!0),i}}var DK=We(st,{LineString:_s(g6),LinearRing:_s(m6),MultiGeometry:_s(y6),Point:_s(_6),Polygon:_s(v6)});function y6(t,e){let n=Qt([],DK,t,e);if(!n)return null;if(n.length===0)return new Fi(n);let r,i=!0,o=n[0].getType(),s;for(let a=1,l=n.length;a<l;++a)if(s=n[a],s.getType()!=o){i=!1;break}if(i){let a,l;if(o=="Point"){let c=n[0];a=c.getLayout(),l=c.getFlatCoordinates();for(let u=1,f=n.length;u<f;++u)s=n[u],Kt(l,s.getFlatCoordinates());r=new Ea(l,a),kA(r,n)}else if(o=="LineString")r=new Uo(n),kA(r,n);else if(o=="Polygon")r=new Sa(n),kA(r,n);else if(o=="GeometryCollection"||o.startsWith("Multi"))r=new Fi(n);else throw new Error("Unknown geometry type found")}else r=new Fi(n);return r}function _6(t,e){let n=Qt({},dw,t,e),r=HA(t,e);if(r){let i=new gi(r,"XYZ");return i.setProperties(n,!0),i}}var AK=We(st,{innerBoundaryIs:HK,outerBoundaryIs:WK});function v6(t,e){let n=Qt({},dw,t,e),r=Qt([null],AK,t,e);if(r&&r[0]){let i=r[0],o=[i.length];for(let a=1,l=r.length;a<l;++a)Kt(i,r[a]),o.push(i.length);let s=new Li(i,"XYZ",o);return s.setProperties(n,!0),s}}var MK=We(st,{IconStyle:fK,LabelStyle:pK,LineStyle:mK,PolyStyle:_K});function qA(t,e){let n=Qt({},MK,t,e,this);if(!n)return null;let r="fillStyle"in n?n.fillStyle:lw,i=n.fill;i!==void 0&&!i&&(r=null);let o;"imageStyle"in n?n.imageStyle!=VA&&(o=n.imageStyle):o=jA;let s="textStyle"in n?n.textStyle:vf,a="strokeStyle"in n?n.strokeStyle:BA,l=n.outline;return l!==void 0&&!l?[new ri({geometry:function(c){let u=c.getGeometry(),f=u.getType();if(f==="GeometryCollection"){let d=u;return new Fi(d.getGeometriesArrayRecursive().filter(function(h){let g=h.getType();return g!=="Polygon"&&g!=="MultiPolygon"}))}if(f!=="Polygon"&&f!=="MultiPolygon")return u},fill:r,image:o,stroke:a,text:s,zIndex:void 0}),new ri({geometry:function(c){let u=c.getGeometry(),f=u.getType();if(f==="GeometryCollection"){let d=u;return new Fi(d.getGeometriesArrayRecursive().filter(function(h){let g=h.getType();return g==="Polygon"||g==="MultiPolygon"}))}if(f==="Polygon"||f==="MultiPolygon")return u},fill:r,stroke:null,zIndex:void 0})]:[new ri({fill:r,image:o,stroke:a,text:s,zIndex:void 0})]}function kA(t,e){let n=e.length,r=new Array(e.length),i=new Array(e.length),o=new Array(e.length),s,a,l;s=!1,a=!1,l=!1;for(let c=0;c<n;++c){let u=e[c];r[c]=u.get("extrude"),i[c]=u.get("tessellate"),o[c]=u.get("altitudeMode"),s=s||r[c]!==void 0,a=a||i[c]!==void 0,l=l||o[c]}s&&t.set("extrude",r),a&&t.set("tessellate",i),l&&t.set("altitudeMode",o)}var TK=We(st,{displayName:Re(Ht),value:Re(Ht)});function NK(t,e){let n=t.getAttribute("name");ll(TK,t,e);let r=e[e.length-1];n&&r.displayName?r[n]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:n!==null?r[n]=r.value:r.displayName!==null&&(r[r.displayName]=r.value),delete r.value}var RK=We(st,{Data:NK,SchemaData:FK});function w6(t,e){ll(RK,t,e)}function x6(t,e){ll(s6,t,e)}var PK=We(st,{Style:Re(qA),key:Re(Ht),styleUrl:Re(u6)});function LK(t,e){let n=Qt({},PK,t,e,this);if(!n)return;let r=n.key;if(r&&r=="normal"){let i=n.styleUrl;i&&(e[e.length-1]=i);let o=n.Style;o&&(e[e.length-1]=o)}}function kK(t,e){let n=f6.call(this,t,e);if(!n)return;let r=e[e.length-1];if(Array.isArray(n))r.Style=n;else if(typeof n=="string")r.styleUrl=n;else throw new Error("`styleMapValue` has an unknown type")}var OK=We(st,{SimpleData:jK});function FK(t,e){ll(OK,t,e)}function jK(t,e){let n=t.getAttribute("name");if(n!==null){let r=Ht(t),i=e[e.length-1];i[n]=r}}var BK=We(st,{altitudeMode:Re(Ht),minAltitude:Re(mn),maxAltitude:Re(mn),north:Re(mn),south:Re(mn),east:Re(mn),west:Re(mn)});function UK(t,e){let n=Qt({},BK,t,e);if(!n)return;let r=e[e.length-1],i=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];r.extent=i,r.altitudeMode=n.altitudeMode,r.minAltitude=parseFloat(n.minAltitude),r.maxAltitude=parseFloat(n.maxAltitude)}var GK=We(st,{minLodPixels:Re(mn),maxLodPixels:Re(mn),minFadeExtent:Re(mn),maxFadeExtent:Re(mn)});function zK(t,e){let n=Qt({},GK,t,e);if(!n)return;let r=e[e.length-1];r.minLodPixels=parseFloat(n.minLodPixels),r.maxLodPixels=parseFloat(n.maxLodPixels),r.minFadeExtent=parseFloat(n.minFadeExtent),r.maxFadeExtent=parseFloat(n.maxFadeExtent)}var VK=We(st,{LinearRing:_s(d6)});function HK(t,e){let n=Qt([],VK,t,e);n.length>0&&e[e.length-1].push(...n)}var qK=We(st,{LinearRing:ow(d6)});function WK(t,e){let n=Qt(void 0,qK,t,e);if(n){let r=e[e.length-1];r[0]=n}}function $K(t,e){ll(tK,t,e)}function YK(t,e){let r=e[e.length-1].whens,i=ys(t,!1),o=Date.parse(i);r.push(isNaN(o)?0:o)}function pw(t,e){let n=ps(e),i=[(n.length==4?n[3]:1)*255,n[2],n[1],n[0]];for(let o=0;o<4;++o){let s=Math.floor(i[o]).toString(16);i[o]=s.length==1?"0"+s:s}bn(t,i.join(""))}function ZK(t,e,n){let r=n[n.length-1],i=r.layout,o=r.stride,s;if(i=="XY"||i=="XYM")s=2;else if(i=="XYZ"||i=="XYZM")s=3;else throw new Error("Invalid geometry layout");let a=e.length,l="";if(a>0){l+=e[0];for(let c=1;c<s;++c)l+=","+e[c];for(let c=o;c<a;c+=o){l+=" "+e[c];for(let u=1;u<s;++u)l+=","+e[c+u]}}bn(t,l)}var cw=We(st,{Data:Ue(XK),value:Ue(JK),displayName:Ue(KK)});function XK(t,e,n){t.setAttribute("name",e.name);let r={node:t},i=e.value;typeof i=="object"?(i!==null&&i.displayName&&Bn(r,cw,yi,[i.displayName],n,["displayName"]),i!==null&&i.value&&Bn(r,cw,yi,[i.value],n,["value"])):Bn(r,cw,yi,[i],n,["value"])}function KK(t,e){bn(t,e)}function JK(t,e){bn(t,e)}var QK=We(st,{Placemark:Ue(S6)}),eJ=function(t,e,n){let r=e[e.length-1].node;return yc(r.namespaceURI,"Placemark")};function tJ(t,e,n){Bn({node:t},QK,eJ,e,n,void 0,this)}var nJ=vs("Data");function rJ(t,e,n){let r={node:t},i=e.names,o=e.values,s=i.length;for(let a=0;a<s;a++)Bn(r,cw,nJ,[{name:i[a],value:o[a]}],n)}var n6=We(st,["href"],We(vc,["x","y","w","h"])),r6=We(st,{href:Ue(bn)},We(vc,{x:Ue(Xi),y:Ue(Xi),w:Ue(Xi),h:Ue(Xi)})),iJ=function(t,e,n){return yc(vc[0],"gx:"+n)};function oJ(t,e,n){let r={node:t},i=n[n.length-1].node,o=n6[i.namespaceURI],s=Zi(e,o);Bn(r,r6,yi,s,n,o),o=n6[vc[0]],s=Zi(e,o),Bn(r,r6,iJ,s,n,o)}var sJ=We(st,["scale","heading","Icon","color","hotSpot"]),aJ=We(st,{Icon:Ue(oJ),color:Ue(pw),heading:Ue(Xi),hotSpot:Ue(LJ),scale:Ue(I6)});function lJ(t,e,n){let r={node:t},i={},o=e.getSrc(),s=e.getSize(),a=e.getImageSize(),l={href:o};if(s){l.w=s[0],l.h=s[1];let _=e.getAnchor(),v=e.getOrigin();if(v&&a&&v[0]!==0&&v[1]!==s[1]&&(l.x=v[0],l.y=a[1]-(v[1]+s[1])),_&&(_[0]!==s[0]/2||_[1]!==s[1]/2)){let E={x:_[0],xunits:"pixels",y:s[1]-_[1],yunits:"pixels"};i.hotSpot=E}}i.Icon=l;let c=e.getScaleArray()[0],u=s;if(u===null&&(u=t1),u.length==2){let _=hw(u);c=c/_}c!==1&&(i.scale=c);let f=e.getRotation();f!==0&&(i.heading=f);let d=e.getColor();d&&(i.color=d);let h=n[n.length-1].node,g=sJ[h.namespaceURI],y=Zi(i,g);Bn(r,aJ,yi,y,n,g)}var cJ=We(st,["color","scale"]),uJ=We(st,{color:Ue(pw),scale:Ue(I6)});function hJ(t,e,n){let r={node:t},i={},o=e.getFill();o&&(i.color=o.getColor());let s=e.getScale();s&&s!==1&&(i.scale=s);let a=n[n.length-1].node,l=cJ[a.namespaceURI],c=Zi(i,l);Bn(r,uJ,yi,c,n,l)}var fJ=We(st,["color","width"]),dJ=We(st,{color:Ue(pw),width:Ue(Xi)});function pJ(t,e,n){let r={node:t},i={color:e.getColor(),width:Number(e.getWidth())||1},o=n[n.length-1].node,s=fJ[o.namespaceURI],a=Zi(i,s);Bn(r,dJ,yi,a,n,s)}var gJ={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},b6=function(t,e,n){if(t){let r=e[e.length-1].node;return yc(r.namespaceURI,gJ[t.getType()])}},mJ=vs("Point"),yJ=vs("LineString"),_J=vs("LinearRing"),vJ=vs("Polygon"),wJ=We(st,{LineString:Ue(Np),Point:Ue(Np),Polygon:Ue(C6),GeometryCollection:Ue(E6)});function E6(t,e,n){let r={node:t},i=e.getType(),o=[],s;if(i==="GeometryCollection")e.getGeometriesArrayRecursive().forEach(function(a){let l=a.getType();if(l==="MultiPoint")o=o.concat(a.getPoints());else if(l==="MultiLineString")o=o.concat(a.getLineStrings());else if(l==="MultiPolygon")o=o.concat(a.getPolygons());else if(l==="Point"||l==="LineString"||l==="Polygon")o.push(a);else throw new Error("Unknown geometry type")}),s=b6;else if(i==="MultiPoint")o=e.getPoints(),s=mJ;else if(i==="MultiLineString")o=e.getLineStrings(),s=yJ;else if(i==="MultiPolygon")o=e.getPolygons(),s=vJ;else throw new Error("Unknown geometry type");Bn(r,wJ,s,o,n)}var xJ=We(st,{LinearRing:Ue(Np)});function i6(t,e,n){Bn({node:t},xJ,_J,[e],n)}var OA=We(st,{ExtendedData:Ue(rJ),MultiGeometry:Ue(E6),LineString:Ue(Np),LinearRing:Ue(Np),Point:Ue(Np),Polygon:Ue(C6),Style:Ue(PJ),address:Ue(bn),description:Ue(bn),name:Ue(bn),open:Ue(_f),phoneNumber:Ue(bn),styleUrl:Ue(bn),visibility:Ue(_f)}),bJ=We(st,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),EJ=vs("ExtendedData");function S6(t,e,n){let r={node:t};e.getId()&&t.setAttribute("id",e.getId());let i=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;let s=Object.keys(i||{}).sort().filter(function(h){return!o[h]}),a=e.getStyleFunction();if(a){let h=a(e,0);if(h){let g=Array.isArray(h)?h:[h],y=g;if(e.getGeometry()&&(y=g.filter(function(_){let v=_.getGeometryFunction()(e);if(v){let E=v.getType();return E==="GeometryCollection"?v.getGeometriesArrayRecursive().filter(function(S){let I=S.getType();return I==="Point"||I==="MultiPoint"}).length:E==="Point"||E==="MultiPoint"}})),this.writeStyles_){let _=g,v=g;e.getGeometry()&&(_=g.filter(function(E){let S=E.getGeometryFunction()(e);if(S){let I=S.getType();return I==="GeometryCollection"?S.getGeometriesArrayRecursive().filter(function(R){let V=R.getType();return V==="LineString"||V==="MultiLineString"}).length:I==="LineString"||I==="MultiLineString"}}),v=g.filter(function(E){let S=E.getGeometryFunction()(e);if(S){let I=S.getType();return I==="GeometryCollection"?S.getGeometriesArrayRecursive().filter(function(R){let V=R.getType();return V==="Polygon"||V==="MultiPolygon"}).length:I==="Polygon"||I==="MultiPolygon"}})),i.Style={pointStyles:y,lineStyles:_,polyStyles:v}}if(y.length&&i.name===void 0){let _=y[0].getText();_&&(i.name=_.getText())}}}let l=n[n.length-1].node,c=bJ[l.namespaceURI],u=Zi(i,c);if(Bn(r,OA,yi,u,n,c),s.length>0){let h=Zi(i,s);Bn(r,OA,EJ,[{names:s,values:h}],n)}let f=n[0],d=e.getGeometry();d&&(d=ji(d,!0,f)),Bn(r,OA,b6,[d],n)}var SJ=We(st,["extrude","tessellate","altitudeMode","coordinates"]),CJ=We(st,{extrude:Ue(_f),tessellate:Ue(_f),altitudeMode:Ue(bn),coordinates:Ue(ZK)});function Np(t,e,n){let r=e.getFlatCoordinates(),i={node:t};i.layout=e.getLayout(),i.stride=e.getStride();let o=e.getProperties();o.coordinates=r;let s=n[n.length-1].node,a=SJ[s.namespaceURI],l=Zi(o,a);Bn(i,CJ,yi,l,n,a)}var IJ=We(st,["color","fill","outline"]),o6=We(st,{outerBoundaryIs:Ue(i6),innerBoundaryIs:Ue(i6)}),DJ=vs("innerBoundaryIs"),AJ=vs("outerBoundaryIs");function C6(t,e,n){let r=e.getLinearRings(),i=r.shift(),o={node:t};Bn(o,o6,DJ,r,n),Bn(o,o6,AJ,[i],n)}var MJ=We(st,{color:Ue(pw),fill:Ue(_f),outline:Ue(_f)});function TJ(t,e,n){let r={node:t},i=e.getFill(),o=e.getStroke(),s={color:i?i.getColor():void 0,fill:i?void 0:!1,outline:o?void 0:!1},a=n[n.length-1].node,l=IJ[a.namespaceURI],c=Zi(s,l);Bn(r,MJ,yi,c,n,l)}function I6(t,e){Xi(t,Math.round(e*1e6)/1e6)}var NJ=We(st,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),RJ=We(st,{IconStyle:Ue(lJ),LabelStyle:Ue(hJ),LineStyle:Ue(pJ),PolyStyle:Ue(TJ)});function PJ(t,e,n){let r={node:t},i={};if(e.pointStyles.length){let l=e.pointStyles[0].getText();l&&(i.LabelStyle=l);let c=e.pointStyles[0].getImage();c&&typeof c.getSrc=="function"&&(i.IconStyle=c)}if(e.lineStyles.length){let l=e.lineStyles[0].getStroke();l&&(i.LineStyle=l)}if(e.polyStyles.length){let l=e.polyStyles[0].getStroke();l&&!i.LineStyle&&(i.LineStyle=l),i.PolyStyle=e.polyStyles[0]}let o=n[n.length-1].node,s=NJ[o.namespaceURI],a=Zi(i,s);Bn(r,RJ,yi,a,n,s)}function LJ(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)}var gw=zA;var mw=class{type="kml";import(e){return bt(this,null,function*(){let n=yield e.text(),r=new gw({extractStyles:!1}).readFeatures(n);return{geojson:new Go().writeFeaturesObject(r),crs:"EPSG:4326"}})}};function D6(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Ia=1,Da=2,wc=3,A6=4,n1=5,WA=6378137,M6=6356752314e-3,$A=.0066943799901413165,wf=484813681109536e-20,Ae=Math.PI/2,T6=.16666666666666666,N6=.04722222222222222,R6=.022156084656084655,Fe=1e-10,Vn=.017453292519943295,si=57.29577951308232,cn=Math.PI/4,Bu=Math.PI*2,ar=3.14159265359;var zo={};zo.greenwich=0;zo.lisbon=-9.131906111111;zo.paris=2.337229166667;zo.bogota=-74.080916666667;zo.madrid=-3.687938888889;zo.rome=12.452333333333;zo.bern=7.439583333333;zo.jakarta=106.807719444444;zo.ferro=-17.666666666667;zo.brussels=4.367975;zo.stockholm=18.058277777778;zo.athens=23.7163375;zo.oslo=10.722916666667;var P6=zo;var L6={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var k6=/[\s_\-\/\(\)]/g;function ws(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(k6,""),i=-1,o,s;++i<n.length;)if(o=n[i],s=o.toLowerCase().replace(k6,""),s===r)return t[o]}function r1(t){var e={},n=t.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),r,i,o,s={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*Vn},lat_1:function(a){e.lat1=a*Vn},lat_2:function(a){e.lat2=a*Vn},lat_ts:function(a){e.lat_ts=a*Vn},lon_0:function(a){e.long0=a*Vn},lon_1:function(a){e.long1=a*Vn},lon_2:function(a){e.long2=a*Vn},alpha:function(a){e.alpha=parseFloat(a)*Vn},gamma:function(a){e.rectified_grid_angle=parseFloat(a)*Vn},lonc:function(a){e.longc=a*Vn},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=ws(L6,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*Vn},pm:function(a){var l=ws(P6,a);e.from_greenwich=(l||parseFloat(a))*Vn},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0},over:function(){e.over=!0}};for(r in n)i=n[r],r in s?(o=s[r],typeof o=="function"?o(i):e[o]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e.projStr=t,e}var YA=class{static getId(e){let n=e.find(r=>Array.isArray(r)&&r[0]==="ID");return n&&n.length>=3?{authority:n[1],code:parseInt(n[2],10)}:null}static convertUnit(e,n="unit"){if(!e||e.length<3)return{type:n,name:"unknown",conversion_factor:null};let r=e[1],i=parseFloat(e[2])||null,o=e.find(a=>Array.isArray(a)&&a[0]==="ID"),s=o?{authority:o[1],code:parseInt(o[2],10)}:null;return{type:n,name:r,conversion_factor:i,id:s}}static convertAxis(e){let n=e[1]||"Unknown",r,i=n.match(/^\((.)\)$/);if(i){let c=i[1].toUpperCase();if(c==="E")r="east";else if(c==="N")r="north";else if(c==="U")r="up";else throw new Error(`Unknown axis abbreviation: ${c}`)}else r=e[2]?e[2].toLowerCase():"unknown";let o=e.find(c=>Array.isArray(c)&&c[0]==="ORDER"),s=o?parseInt(o[1],10):null,a=e.find(c=>Array.isArray(c)&&(c[0]==="LENGTHUNIT"||c[0]==="ANGLEUNIT"||c[0]==="SCALEUNIT")),l=this.convertUnit(a);return{name:n,direction:r,unit:l,order:s}}static extractAxes(e){return e.filter(n=>Array.isArray(n)&&n[0]==="AXIS").map(n=>this.convertAxis(n)).sort((n,r)=>(n.order||0)-(r.order||0))}static convert(e,n={}){switch(e[0]){case"PROJCRS":n.type="ProjectedCRS",n.name=e[1],n.base_crs=e.find(h=>Array.isArray(h)&&h[0]==="BASEGEOGCRS")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="BASEGEOGCRS")):null,n.conversion=e.find(h=>Array.isArray(h)&&h[0]==="CONVERSION")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="CONVERSION")):null;let r=e.find(h=>Array.isArray(h)&&h[0]==="CS");r&&(n.coordinate_system={type:r[1],axis:this.extractAxes(e)});let i=e.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT");if(i){let h=this.convertUnit(i);n.coordinate_system.unit=h}n.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":n.type="GeographicCRS",n.name=e[1];let o=e.find(h=>Array.isArray(h)&&(h[0]==="DATUM"||h[0]==="ENSEMBLE"));if(o){let h=this.convert(o);o[0]==="ENSEMBLE"?n.datum_ensemble=h:n.datum=h;let g=e.find(y=>Array.isArray(y)&&y[0]==="PRIMEM");g&&g[1]!=="Greenwich"&&(h.prime_meridian={name:g[1],longitude:parseFloat(g[2])})}n.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},n.id=this.getId(e);break;case"DATUM":n.type="GeodeticReferenceFrame",n.name=e[1],n.ellipsoid=e.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":n.type="DatumEnsemble",n.name=e[1],n.members=e.filter(h=>Array.isArray(h)&&h[0]==="MEMBER").map(h=>({type:"DatumEnsembleMember",name:h[1],id:this.getId(h)}));let s=e.find(h=>Array.isArray(h)&&h[0]==="ENSEMBLEACCURACY");s&&(n.accuracy=parseFloat(s[1]));let a=e.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID");a&&(n.ellipsoid=this.convert(a)),n.id=this.getId(e);break;case"ELLIPSOID":n.type="Ellipsoid",n.name=e[1],n.semi_major_axis=parseFloat(e[2]),n.inverse_flattening=parseFloat(e[3]);let l=e.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT"),n):null;break;case"CONVERSION":n.type="Conversion",n.name=e[1],n.method=e.find(h=>Array.isArray(h)&&h[0]==="METHOD")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="METHOD")):null,n.parameters=e.filter(h=>Array.isArray(h)&&h[0]==="PARAMETER").map(h=>this.convert(h));break;case"METHOD":n.type="Method",n.name=e[1],n.id=this.getId(e);break;case"PARAMETER":n.type="Parameter",n.name=e[1],n.value=parseFloat(e[2]),n.unit=this.convertUnit(e.find(h=>Array.isArray(h)&&(h[0]==="LENGTHUNIT"||h[0]==="ANGLEUNIT"||h[0]==="SCALEUNIT"))),n.id=this.getId(e);break;case"BOUNDCRS":n.type="BoundCRS";let c=e.find(h=>Array.isArray(h)&&h[0]==="SOURCECRS");if(c){let h=c.find(g=>Array.isArray(g));n.source_crs=h?this.convert(h):null}let u=e.find(h=>Array.isArray(h)&&h[0]==="TARGETCRS");if(u){let h=u.find(g=>Array.isArray(g));n.target_crs=h?this.convert(h):null}let f=e.find(h=>Array.isArray(h)&&h[0]==="ABRIDGEDTRANSFORMATION");f?n.transformation=this.convert(f):n.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(n.type="Transformation",n.name=e[1],n.method=e.find(h=>Array.isArray(h)&&h[0]==="METHOD")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="METHOD")):null,n.parameters=e.filter(h=>Array.isArray(h)&&(h[0]==="PARAMETER"||h[0]==="PARAMETERFILE")).map(h=>{if(h[0]==="PARAMETER")return this.convert(h);if(h[0]==="PARAMETERFILE")return{name:h[1],value:h[2],id:{authority:"EPSG",code:8656}}}),n.parameters.length===7){let h=n.parameters[6];h.name==="Scale difference"&&(h.value=Math.round((h.value-1)*1e12)/1e6)}n.id=this.getId(e);break;case"AXIS":n.coordinate_system||(n.coordinate_system={type:"unspecified",axis:[]}),n.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":let d=this.convertUnit(e,"LinearUnit");n.coordinate_system&&n.coordinate_system.axis&&n.coordinate_system.axis.forEach(h=>{h.unit||(h.unit=d)}),d.conversion_factor&&d.conversion_factor!==1&&n.semi_major_axis&&(n.semi_major_axis={value:n.semi_major_axis,unit:d});break;default:n.keyword=e[0];break}return n}},yw=YA;var ZA=class extends yw{static convert(e,n={}){return super.convert(e,n),n.coordinate_system&&n.coordinate_system.subtype==="Cartesian"&&delete n.coordinate_system,n.usage&&delete n.usage,n}},O6=ZA;var XA=class extends yw{static convert(e,n={}){super.convert(e,n);let r=e.find(o=>Array.isArray(o)&&o[0]==="CS");r&&(n.coordinate_system={subtype:r[1],axis:this.extractAxes(e)});let i=e.find(o=>Array.isArray(o)&&o[0]==="USAGE");if(i){let o=i.find(l=>Array.isArray(l)&&l[0]==="SCOPE"),s=i.find(l=>Array.isArray(l)&&l[0]==="AREA"),a=i.find(l=>Array.isArray(l)&&l[0]==="BBOX");n.usage={},o&&(n.usage.scope=o[1]),s&&(n.usage.area=s[1]),a&&(n.usage.bbox=a.slice(1))}return n}},F6=XA;function kJ(t){return t.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(t.find(e=>Array.isArray(e)&&e[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0]==="GEOGCRS","2015")}function j6(t){return(kJ(t)==="2019"?F6:O6).convert(t)}function B6(t){let e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var U6=BJ,i1=1,G6=2,z6=3,_w=4,V6=5,KA=-1,OJ=/\s/,FJ=/[A-Za-z]/,jJ=/[A-Za-z84_]/,vw=/[,\]]/,H6=/[\d\.E\-\+]/;function xc(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=i1}xc.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==_w)for(;OJ.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case i1:return this.neutral(t);case G6:return this.keyword(t);case _w:return this.quoted(t);case V6:return this.afterquote(t);case z6:return this.number(t);case KA:return}};xc.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=_w;return}if(vw.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};xc.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=i1;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=i1,this.currentObject=this.stack.pop(),this.currentObject||(this.state=KA);return}};xc.prototype.number=function(t){if(H6.test(t)){this.word+=t;return}if(vw.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};xc.prototype.quoted=function(t){if(t==='"'){this.state=V6;return}this.word+=t};xc.prototype.keyword=function(t){if(jJ.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=i1;return}if(vw.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};xc.prototype.neutral=function(t){if(FJ.test(t)){this.word=t,this.state=G6;return}if(t==='"'){this.word="",this.state=_w;return}if(H6.test(t)){this.word=t,this.state=z6;return}if(vw.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};xc.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===KA)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function BJ(t){var e=new xc(t);return e.output()}function JA(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(o,s){return xf(s,o),o},r);e&&(t[e]=i)}function xf(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},xf(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&xf(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&xf(t[3],e[n]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],JA(e,n,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],JA(e,n,t),e[n].type=n;return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return xf(t,e[n]);return JA(e,n,t)}}var UJ=.017453292519943295;function Zs(t){return t*UJ}function ww(t){let e=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(t.lat0=Zs(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(t.lat_ts=t.lat0,t.lat0=Zs(t.lat0>0?90:-90),delete t.lat1)}function q6(t){let e={units:null,to_meter:void 0};return typeof t=="string"?(e.units=t.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function W6(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function $6(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=W6(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?e.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-W6(t.ellipsoid.semi_minor_axis))))}function o1(t,e={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?(o1(t.source_crs,e),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(n=>n.value)),e):(Object.keys(t).forEach(n=>{let r=t[n];if(r!==null)switch(n){case"name":if(e.srsCode)break;e.name=r,e.srsCode=r;break;case"type":r==="GeographicCRS"?e.projName="longlat":r==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":r.ellipsoid&&(e.ellps=r.ellipsoid.name,$6(r,e)),r.prime_meridian&&(e.from_greenwich=r.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=r.name,$6(r,e);break;case"prime_meridian":e.long0=(r.longitude||0)*Math.PI/180;break;case"coordinate_system":if(r.axis){if(e.axis=r.axis.map(i=>{let o=i.direction;if(o==="east")return"e";if(o==="north")return"n";if(o==="west")return"w";if(o==="south")return"s";throw new Error(`Unknown axis direction: ${o}`)}).join("")+"u",r.unit){let{units:i,to_meter:o}=q6(r.unit);e.units=i,e.to_meter=o}else if(r.axis[0]&&r.axis[0].unit){let{units:i,to_meter:o}=q6(r.axis[0].unit);e.units=i,e.to_meter=o}}break;case"id":r.authority&&r.code&&(e.title=r.authority+":"+r.code);break;case"conversion":r.method&&r.method.name&&(e.projName=r.method.name),r.parameters&&r.parameters.forEach(i=>{let o=i.name.toLowerCase().replace(/\s+/g,"_"),s=i.value;i.unit&&i.unit.conversion_factor?e[o]=s*i.unit.conversion_factor:i.unit==="degree"?e[o]=s*Math.PI/180:e[o]=s});break;case"unit":r.name&&(e.units=r.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),r.conversion_factor&&(e.to_meter=r.conversion_factor);break;case"base_crs":o1(r,e),e.datumCode=r.id?r.id.authority+"_"+r.id.code:r.name;break;default:break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),ww(e),e)}var GJ=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function zJ(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function Y6(t){for(var e=Object.keys(t),n=0,r=e.length;n<r;++n){var i=e[n];GJ.indexOf(i)!==-1&&VJ(t[i]),typeof t[i]=="object"&&Y6(t[i])}}function VJ(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var n="",r=0,i=t.AXIS.length;r<i;++r){var o=[t.AXIS[r][0].toLowerCase(),t.AXIS[r][1].toLowerCase()];o[0].indexOf("north")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="north"?n+="n":o[0].indexOf("south")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="south"?n+="s":o[0].indexOf("east")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="east"?n+="e":(o[0].indexOf("west")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="west")&&(n+="w")}n.length===2&&(n+="u"),n.length===3&&(t.axis=n)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=Zs(t.rectified_grid_angle));function a(u){var f=t.to_meter||1;return u*f}var l=function(u){return zJ(t,u)},c=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Zs],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Zs],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Zs],["lat0","latitude_of_origin",Zs],["lat0","standard_parallel_1",Zs],["lat1","standard_parallel_1",Zs],["lat2","standard_parallel_2",Zs],["azimuth","Azimuth"],["alpha","azimuth",Zs],["srsCode","name"]];c.forEach(l),ww(t)}function Rp(t){if(typeof t=="object")return o1(t);let e=B6(t);var n=U6(t);if(e==="WKT2"){let o=j6(n);return o1(o)}var r=n[0],i={};return xf(n,i),Y6(i),i[r]}function Vo(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Vo[t]=r1(arguments[1]):Vo[t]=Rp(arguments[1]):n&&typeof n=="object"&&!("projName"in n)?Vo[t]=Rp(arguments[1]):(Vo[t]=n,n||delete Vo[t])}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){return Array.isArray(r)?Vo.apply(e,r):Vo(r)});if(typeof t=="string"){if(t in Vo)return Vo[t]}else"EPSG"in t?Vo["EPSG:"+t.EPSG]=t:"ESRI"in t?Vo["ESRI:"+t.ESRI]=t:"IAU2000"in t?Vo["IAU2000:"+t.IAU2000]=t:console.log(t);return}}D6(Vo);var Pp=Vo;function HJ(t){return typeof t=="string"}function qJ(t){return t in Pp}function WJ(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var $J=["3857","900913","3785","102113"];function YJ(t){var e=ws(t,"authority");if(e){var n=ws(e,"epsg");return n&&$J.indexOf(n)>-1}}function ZJ(t){var e=ws(t,"extension");if(e)return ws(e,"proj4")}function XJ(t){return t[0]==="+"}function KJ(t){if(HJ(t)){if(qJ(t))return Pp[t];if(WJ(t)){var e=Rp(t);if(YJ(e))return Pp["EPSG:3857"];var n=ZJ(e);return n?r1(n):e}if(XJ(t))return r1(t)}else return"projName"in t?t:Rp(t)}var Z6=KJ;function QA(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function Ki(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function cl(t){return t<0?-1:1}function je(t,e){return e||Math.abs(t)<=ar?t:t-cl(t)*Bu}function mo(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Ae-e))/r}function bc(t,e){for(var n=.5*t,r,i,o=Ae-2*Math.atan(e),s=0;s<=15;s++)if(r=t*Math.sin(o),i=Ae-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999}function JJ(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ki(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function QJ(t){var e=t.x,n=t.y;if(n*si>90&&n*si<-90&&e*si>180&&e*si<-180)return null;var r,i;if(Math.abs(Math.abs(n)-Ae)<=Fe)return null;if(this.sphere)r=this.x0+this.a*this.k0*je(e-this.long0,this.over),i=this.y0+this.a*this.k0*Math.log(Math.tan(cn+.5*n));else{var o=Math.sin(n),s=mo(this.e,n,o);r=this.x0+this.a*this.k0*je(e-this.long0,this.over),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=r,t.y=i,t}function eQ(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=Ae-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var o=Math.exp(-n/(this.a*this.k0));if(i=bc(this.e,o),i===-9999)return null}return r=je(this.long0+e/(this.a*this.k0),this.over),t.x=r,t.y=i,t}var tQ=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"],X6={init:JJ,forward:QJ,inverse:eQ,names:tQ};function nQ(){}function K6(t){return t}var eM=["longlat","identity"],J6={init:nQ,forward:K6,inverse:K6,names:eM};var rQ=[X6,J6],bf={},Lp=[];function Q6(t,e){var n=Lp.length;return t.names?(Lp[n]=t,t.names.forEach(function(r){bf[r.toLowerCase()]=n}),this):(console.log(e),!0)}function tM(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function iQ(t){if(!t)return!1;var e=t.toLowerCase();if(typeof bf[e]<"u"&&Lp[bf[e]]||(e=tM(e),e in bf&&Lp[bf[e]]))return Lp[bf[e]]}function oQ(){rQ.forEach(Q6)}var eF={start:oQ,add:Q6,get:iQ};var sQ={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},nM=sQ;var aQ=nM.WGS84;function tF(t,e,n,r){var i=t*t,o=e*e,s=(i-o)/i,a=0;r?(t*=1-s*(T6+s*(N6+s*R6)),i=t*t,s=0):a=Math.sqrt(s);var l=(i-o)/o;return{es:s,e:a,ep2:l}}function nF(t,e,n,r,i){if(!t){var o=ws(nM,r);o||(o=aQ),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<Fe)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var bw={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(rF in bw)xw=bw[rF],xw.datumName&&(bw[xw.datumName]=xw);var xw,rF,iF=bw;function lQ(t,e,n,r,i,o,s){var a={};return t===void 0||t==="none"?a.datum_type=n1:a.datum_type=A6,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Ia),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Da,a.datum_params[3]*=wf,a.datum_params[4]*=wf,a.datum_params[5]*=wf,a.datum_params[6]=a.datum_params[6]/1e6+1)),s&&(a.datum_type=wc,a.grids=s),a.a=n,a.b=r,a.es=i,a.ep2=o,a}var oF=lQ;var iM={};function oM(t,e,n){return e instanceof ArrayBuffer?cQ(t,e,n):{ready:uQ(t,e)}}function cQ(t,e,n){var r=!0;n!==void 0&&n.includeErrorFields===!1&&(r=!1);var i=new DataView(e),o=fQ(i),s=dQ(i,o),a=pQ(i,s,o,r),l={header:s,subgrids:a};return iM[t]=l,l}function uQ(t,e){return bt(this,null,function*(){for(var n=[],r=yield e.getImageCount(),i=r-1;i>=0;i--){var o=yield e.getImage(i),s=yield o.readRasters(),a=s,l=[o.getWidth(),o.getHeight()],c=o.getBoundingBox().map(sF),u=[o.fileDirectory.ModelPixelScale[0],o.fileDirectory.ModelPixelScale[1]].map(sF),f=c[0]+(l[0]-1)*u[0],d=c[3]-(l[1]-1)*u[1],h=a[0],g=a[1],y=[];for(let E=l[1]-1;E>=0;E--)for(let S=l[0]-1;S>=0;S--){var _=E*l[0]+S;y.push([-Uu(g[_]),Uu(h[_])])}n.push({del:u,lim:l,ll:[-f,d],cvs:y})}var v={header:{nSubgrids:r},subgrids:n};return iM[t]=v,v})}function aF(t){if(t===void 0)return null;var e=t.split(",");return e.map(hQ)}function hQ(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:iM[t]||null,isNull:!1}}function sF(t){return t*Math.PI/180}function Uu(t){return t/3600*Math.PI/180}function fQ(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function dQ(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:rM(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function rM(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function pQ(t,e,n,r){for(var i=176,o=[],s=0;s<e.nSubgrids;s++){var a=mQ(t,i,n),l=yQ(t,i,a,n,r),c=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);o.push({ll:[Uu(a.lowerLongitude),Uu(a.lowerLatitude)],del:[Uu(a.longitudeInterval),Uu(a.latitudeInterval)],lim:[c,u],count:a.gridNodeCount,cvs:gQ(l)});var f=16;r===!1&&(f=8),i+=176+a.gridNodeCount*f}return o}function gQ(t){return t.map(function(e){return[Uu(e.longitudeShift),Uu(e.latitudeShift)]})}function mQ(t,e,n){return{name:rM(t,e+8,e+16).trim(),parent:rM(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function yQ(t,e,n,r,i){var o=e+176,s=16;i===!1&&(s=8);for(var a=[],l=0;l<n.gridNodeCount;l++){var c={latitudeShift:t.getFloat32(o+l*s,r),longitudeShift:t.getFloat32(o+l*s+4,r)};i!==!1&&(c.latitudeAccuracy=t.getFloat32(o+l*s+8,r),c.longitudeAccuracy=t.getFloat32(o+l*s+12,r)),a.push(c)}return a}function kp(t,e){if(!(this instanceof kp))return new kp(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(c){if(c)throw c};var n=Z6(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var r=kp.projections.get(n.projName);if(!r){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var i=ws(iF,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=nF(n.a,n.b,n.rf,n.ellps,n.sphere),s=tF(o.a,o.b,o.rf,n.R_A),a=aF(n.nadgrids),l=n.datum||oF(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2,a);QA(this,n),QA(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}kp.projections=eF;kp.projections.start();var Aa=kp;function lF(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Ia?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Da?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Ew(t,e,n){var r=t.x,i=t.y,o=t.z?t.z:0,s,a,l,c;if(i<-Ae&&i>-1.001*Ae)i=-Ae;else if(i>Ae&&i<1.001*Ae)i=Ae;else{if(i<-Ae)return{x:-1/0,y:-1/0,z:t.z};if(i>Ae)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(i),c=Math.cos(i),l=a*a,s=n/Math.sqrt(1-e*l),{x:(s+o)*c*Math.cos(r),y:(s+o)*c*Math.sin(r),z:(s*(1-e)+o)*a}}function Sw(t,e,n,r){var i=1e-12,o=i*i,s=30,a,l,c,u,f,d,h,g,y,_,v,E,S,I=t.x,R=t.y,V=t.z?t.z:0,j,F,k;if(a=Math.sqrt(I*I+R*R),l=Math.sqrt(I*I+R*R+V*V),a/n<i){if(j=0,l/n<i)return F=Ae,k=-r,{x:t.x,y:t.y,z:t.z}}else j=Math.atan2(R,I);c=V/l,u=a/l,f=1/Math.sqrt(1-e*(2-e)*u*u),g=u*(1-e)*f,y=c*f,S=0;do S++,h=n/Math.sqrt(1-e*y*y),k=a*g+V*y-h*(1-e*y*y),d=e*h/(h+k),f=1/Math.sqrt(1-d*(2-d)*u*u),_=u*(1-d)*f,v=c*f,E=v*g-_*y,g=_,y=v;while(E*E>o&&S<s);return F=Math.atan(v/Math.abs(_)),{x:j,y:F,z:k}}function cF(t,e,n){if(e===Ia)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Da){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+a*t.z)+r,y:c*(l*t.x+t.y-s*t.z)+i,z:c*(-a*t.x+s*t.y+t.z)+o}}}function uF(t,e,n){if(e===Ia)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Da){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=(t.x-r)/c,f=(t.y-i)/c,d=(t.z-o)/c;return{x:u+l*f-a*d,y:-l*u+f+s*d,z:a*u-s*f+d}}}function Cw(t){return t===Ia||t===Da}function dF(t,e,n){if(lF(t,e)||t.datum_type===n1||e.datum_type===n1)return n;var r=t.a,i=t.es;if(t.datum_type===wc){var o=hF(t,!1,n);if(o!==0)return;r=WA,i=$A}var s=e.a,a=e.b,l=e.es;if(e.datum_type===wc&&(s=WA,a=M6,l=$A),i===l&&r===s&&!Cw(t.datum_type)&&!Cw(e.datum_type))return n;if(n=Ew(n,i,r),Cw(t.datum_type)&&(n=cF(n,t.datum_type,t.datum_params)),Cw(e.datum_type)&&(n=uF(n,e.datum_type,e.datum_params)),n=Sw(n,l,s,a),e.datum_type===wc){var c=hF(e,!0,n);if(c!==0)return}return n}function hF(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},o=[];e:for(var s=0;s<t.grids.length;s++){var a=t.grids[s];if(o.push(a.name),a.isNull){i=r;break}if(a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,u=l.length;c<u;c++){var f=l[c],d=(Math.abs(f.del[1])+Math.abs(f.del[0]))/1e4,h=f.ll[0]-d,g=f.ll[1]-d,y=f.ll[0]+(f.lim[0]-1)*f.del[0]+d,_=f.ll[1]+(f.lim[1]-1)*f.del[1]+d;if(!(g>r.y||h>r.x||_<r.y||y<r.x)&&(i=_Q(r,e,f),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*si+" "+r.y*si+" tried: '"+o+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function _Q(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=je(i.x-Math.PI)+Math.PI;var o=fF(i,n);if(e){if(isNaN(o.x))return r;o.x=i.x-o.x,o.y=i.y-o.y;var s=9,a=1e-12,l,c;do{if(c=fF(o,n),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(c.x+o.x),y:i.y-(c.y+o.y)},o.x+=l.x,o.y+=l.y}while(s--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=je(o.x+n.ll[0]),r.y=o.y+n.ll[1]}else isNaN(o.x)||(r.x=t.x+o.x,r.y=t.y+o.y);return r}function fF(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},o={x:Number.NaN,y:Number.NaN},s;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return o;s=r.y*e.lim[0]+r.x;var a={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var l={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var c={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var u={x:e.cvs[s][0],y:e.cvs[s][1]},f=i.x*i.y,d=i.x*(1-i.y),h=(1-i.x)*(1-i.y),g=(1-i.x)*i.y;return o.x=h*a.x+d*l.x+g*u.x+f*c.x,o.y=h*a.y+d*l.y+g*u.y+f*c.y,o}function sM(t,e,n){var r=n.x,i=n.y,o=n.z||0,s,a,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(s=r,"ew".indexOf(t.axis[l])!==-1?a="x":a="y"):l===1?(s=i,"ns".indexOf(t.axis[l])!==-1?a="y":a="x"):(s=o,a="z"),t.axis[l]){case"e":c[a]=s;break;case"w":c[a]=-s;break;case"n":c[a]=s;break;case"s":c[a]=-s;break;case"u":n[a]!==void 0&&(c.z=s);break;case"d":n[a]!==void 0&&(c.z=-s);break;default:return null}return c}function Iw(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function gF(t){pF(t.x),pF(t.y)}function pF(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function vQ(t,e){return(t.datum.datum_type===Ia||t.datum.datum_type===Da||t.datum.datum_type===wc)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Ia||e.datum.datum_type===Da||e.datum.datum_type===wc)&&t.datumCode!=="WGS84"}function Ef(t,e,n,r){var i;Array.isArray(n)?n=Iw(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var o=n.z!==void 0;if(gF(n),t.datum&&e.datum&&vQ(t,e)&&(i=new Aa("WGS84"),n=Ef(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=sM(t,!1,n)),t.projName==="longlat")n={x:n.x*Vn,y:n.y*Vn,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=dF(t.datum,e.datum,n),!!n)return n=n,e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*si,y:n.y*si,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?sM(e,!0,n):(n&&!o&&delete n.z,n)}var mF=Aa("WGS84");function aM(t,e,n,r){var i,o,s;return Array.isArray(n)?(i=Ef(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.slice(3)):[i.x,i.y,n[2]].concat(n.slice(3)):[i.x,i.y].concat(n.slice(2)):[i.x,i.y]):(o=Ef(t,e,n,r),s=Object.keys(n),s.length===2||s.forEach(function(a){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;o[a]=n[a]}),o)}function Dw(t){return t instanceof Aa?t:typeof t=="object"&&"oProj"in t?t.oProj:Aa(t)}function wQ(t,e,n){var r,i,o=!1,s;return typeof e>"u"?(i=Dw(t),r=mF,o=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,i=Dw(t),r=mF,o=!0),r||(r=Dw(t)),i||(i=Dw(e)),n?aM(r,i,n):(s={forward:function(a,l){return aM(r,i,a,l)},inverse:function(a,l){return aM(i,r,a,l)}},o&&(s.oProj=i),s)}var yF=wQ;var _F=6,wF="AJSAJS",xF="AFAFAF",Op=65,Ho=73,Xs=79,s1=86,a1=90,bF={forward:cM,inverse:xQ,toPoint:uM};function cM(t,e){return e=e||5,SQ(bQ({lat:t[1],lon:t[0]}),e)}function xQ(t){var e=hM(SF(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function uM(t){var e=hM(SF(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function lM(t){return t*(Math.PI/180)}function vF(t){return 180*(t/Math.PI)}function bQ(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,o=.9996,s,a,l,c,u,f,d,h=lM(e),g=lM(n),y,_;_=Math.floor((n+180)/6)+1,n===180&&(_=60),e>=56&&e<64&&n>=3&&n<12&&(_=32),e>=72&&e<84&&(n>=0&&n<9?_=31:n>=9&&n<21?_=33:n>=21&&n<33?_=35:n>=33&&n<42&&(_=37)),s=(_-1)*6-180+3,y=lM(s),a=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(h)*Math.sin(h)),c=Math.tan(h)*Math.tan(h),u=a*Math.cos(h)*Math.cos(h),f=Math.cos(h)*(g-y),d=r*((1-i/4-3*i*i/64-5*i*i*i/256)*h-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*h)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*h)-35*i*i*i/3072*Math.sin(6*h));var v=o*l*(f+(1-c+u)*f*f*f/6+(5-18*c+c*c+72*u-58*a)*f*f*f*f*f/120)+5e5,E=o*(d+l*Math.tan(h)*(f*f/2+(5-c+9*u+4*u*u)*f*f*f*f/24+(61-58*c+c*c+600*u-330*a)*f*f*f*f*f*f/720));return e<0&&(E+=1e7),{northing:Math.round(E),easting:Math.round(v),zoneNumber:_,zoneLetter:EQ(e)}}function hM(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o=.9996,s=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),u,f,d,h,g,y,_,v,E,S=n-5e5,I=e;r<"N"&&(I-=1e7),_=(i-1)*6-180+3,l=a/(1-a),y=I/o,v=y/(s*(1-a/4-3*a*a/64-5*a*a*a/256)),E=v+(3*c/2-27*c*c*c/32)*Math.sin(2*v)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*v)+151*c*c*c/96*Math.sin(6*v),u=s/Math.sqrt(1-a*Math.sin(E)*Math.sin(E)),f=Math.tan(E)*Math.tan(E),d=l*Math.cos(E)*Math.cos(E),h=s*(1-a)/Math.pow(1-a*Math.sin(E)*Math.sin(E),1.5),g=S/(u*o);var R=E-u*Math.tan(E)/h*(g*g/2-(5+3*f+10*d-4*d*d-9*l)*g*g*g*g/24+(61+90*f+298*d+45*f*f-252*l-3*d*d)*g*g*g*g*g*g/720);R=vF(R);var V=(g-(1+2*f+d)*g*g*g/6+(5-2*d+28*f-3*d*d+8*l+24*f*f)*g*g*g*g*g/120)/Math.cos(E);V=_+vF(V);var j;if(t.accuracy){var F=hM({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});j={top:F.lat,right:F.lon,bottom:R,left:V}}else j={lat:R,lon:V};return j}function EQ(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function SQ(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+CQ(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function CQ(t,e,n){var r=EF(n),i=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return IQ(i,o,r)}function EF(t){var e=t%_F;return e===0&&(e=_F),e}function IQ(t,e,n){var r=n-1,i=wF.charCodeAt(r),o=xF.charCodeAt(r),s=i+t-1,a=o+e,l=!1;s>a1&&(s=s-a1+Op-1,l=!0),(s===Ho||i<Ho&&s>Ho||(s>Ho||i<Ho)&&l)&&s++,(s===Xs||i<Xs&&s>Xs||(s>Xs||i<Xs)&&l)&&(s++,s===Ho&&s++),s>a1&&(s=s-a1+Op-1),a>s1?(a=a-s1+Op-1,l=!0):l=!1,(a===Ho||o<Ho&&a>Ho||(a>Ho||o<Ho)&&l)&&a++,(a===Xs||o<Xs&&a>Xs||(a>Xs||o<Xs)&&l)&&(a++,a===Ho&&a++),a>s1&&(a=a-s1+Op-1);var c=String.fromCharCode(s)+String.fromCharCode(a);return c}function SF(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,o=0;!/[A-Z]/.test(i=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,o++}var s=parseInt(r,10);if(o===0||o+3>e)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(o,o+=2);for(var l=EF(s),c=DQ(n.charAt(0),l),u=AQ(n.charAt(1),l);u<MQ(a);)u+=2e6;var f=e-o;if(f%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var d=f/2,h=0,g=0,y,_,v,E,S;return d>0&&(y=1e5/Math.pow(10,d),_=t.substring(o,o+d),h=parseFloat(_)*y,v=t.substring(o+d),g=parseFloat(v)*y),E=h+c,S=g+u,{easting:E,northing:S,zoneLetter:a,zoneNumber:s,accuracy:y}}function DQ(t,e){for(var n=wF.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===Ho&&n++,n===Xs&&n++,n>a1){if(i)throw"Bad character: "+t;n=Op,i=!0}r+=1e5}return r}function AQ(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=xF.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===Ho&&n++,n===Xs&&n++,n>s1){if(i)throw"Bad character: "+t;n=Op,i=!0}r+=1e5}return r}function MQ(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Fp(t,e,n){if(!(this instanceof Fp))return new Fp(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0]),this.y=parseFloat(r[1]),this.z=parseFloat(r[2])||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Fp.fromMGRS=function(t){return new Fp(uM(t))};Fp.prototype.toMGRS=function(t){return cM([this.x,this.y],t)};var CF=Fp;var TQ=1,NQ=.25,IF=.046875,DF=.01953125,AF=.01068115234375,RQ=.75,PQ=.46875,LQ=.013020833333333334,kQ=.007120768229166667,OQ=.3645833333333333,FQ=.005696614583333333,jQ=.3076171875;function jp(t){var e=[];e[0]=TQ-t*(NQ+t*(IF+t*(DF+t*AF))),e[1]=t*(RQ-t*(IF+t*(DF+t*AF)));var n=t*t;return e[2]=n*(PQ-t*(LQ+t*kQ)),n*=t,e[3]=n*(OQ-t*FQ),e[4]=n*t*jQ,e}function ul(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var BQ=20;function Bp(t,e,n){for(var r=1/(1-e),i=t,o=BQ;o;--o){var s=Math.sin(i),a=1-e*s*s;if(a=(ul(i,s,Math.cos(i),n)-t)*(a*Math.sqrt(a))*r,i-=a,Math.abs(a)<Fe)return i}return i}function UQ(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=jp(this.es),this.ml0=ul(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function GQ(t){var e=t.x,n=t.y,r=je(e-this.long0,this.over),i,o,s,a=Math.sin(n),l=Math.cos(n);if(this.es){var u=l*r,f=Math.pow(u,2),d=this.ep2*Math.pow(l,2),h=Math.pow(d,2),g=Math.abs(l)>Fe?Math.tan(n):0,y=Math.pow(g,2),_=Math.pow(y,2);i=1-this.es*Math.pow(a,2),u=u/Math.sqrt(i);var v=ul(n,a,l,this.en);o=this.a*(this.k0*u*(1+f/6*(1-y+d+f/20*(5-18*y+_+14*d-58*y*d+f/42*(61+179*_-_*y-479*y)))))+this.x0,s=this.a*(this.k0*(v-this.ml0+a*r*u/2*(1+f/12*(5-y+9*d+4*h+f/30*(61+_-58*y+270*d-330*y*d+f/56*(1385+543*_-_*y-3111*y))))))+this.y0}else{var c=l*Math.sin(r);if(Math.abs(Math.abs(c)-1)<Fe)return 93;if(o=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,s=l*Math.cos(r)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(s),c>=1){if(c-1>Fe)return 93;s=0}else s=Math.acos(s);n<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return t.x=o,t.y=s,t}function zQ(t){var e,n,r,i,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,n=Bp(e,this.es,this.en),Math.abs(n)<Ae){var f=Math.sin(n),d=Math.cos(n),h=Math.abs(d)>Fe?Math.tan(n):0,g=this.ep2*Math.pow(d,2),y=Math.pow(g,2),_=Math.pow(h,2),v=Math.pow(_,2);e=1-this.es*Math.pow(f,2);var E=o*Math.sqrt(e)/this.k0,S=Math.pow(E,2);e=e*h,r=n-e*S/(1-this.es)*.5*(1-S/12*(5+3*_-9*g*_+g-4*y-S/30*(61+90*_-252*g*_+45*v+46*g-S/56*(1385+3633*_+4095*v+1574*v*_)))),i=je(this.long0+E*(1-S/6*(1+2*_+g-S/20*(5+28*_+24*v+8*g*_+6*g-S/42*(61+662*_+1320*v+720*v*_))))/d,this.over)}else r=Ae*cl(s),i=0;else{var a=Math.exp(o/this.k0),l=.5*(a-1/a),c=this.lat0+s/this.k0,u=Math.cos(c);e=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(l,2))),r=Math.asin(e),s<0&&(r=-r),l===0&&u===0?i=0:i=je(Math.atan2(l,u)+this.long0,this.over)}return t.x=i,t.y=r,t}var VQ=["Fast_Transverse_Mercator","Fast Transverse Mercator"],Up={init:UQ,forward:GQ,inverse:zQ,names:VQ};function Aw(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function Gr(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function MF(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function TF(t){var e=Math.abs(t);return e=MF(e*(1+e/(Gr(1,e)+1))),t<0?-e:e}function Mw(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],o=0,s;--r>=0;)s=-o+n*i+t[r],o=i,i=s;return e+s*Math.sin(2*e)}function NF(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],o=0,s;--r>=0;)s=-o+n*i+t[r],o=i,i=s;return Math.sin(e)*s}function RF(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function fM(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),o=Aw(n),s=RF(n),a=2*i*s,l=-2*r*o,c=t.length-1,u=t[c],f=0,d=0,h=0,g,y;--c>=0;)g=d,y=f,d=u,f=h,u=-g+a*d-l*f+t[c],h=-y+l*d+a*f;return a=r*s,l=i*o,[a*u-l*h,a*h+l*u]}function HQ(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Up.init.apply(this),this.forward=Up.forward,this.inverse=Up.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=Mw(this.cbg,this.lat0);this.Zb=-this.Qn*(r+NF(this.gtu,2*r))}function qQ(t){var e=je(t.x-this.long0,this.over),n=t.y;n=Mw(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(r,s*i),e=Math.atan2(o*i,Gr(r,i*s)),e=TF(Math.tan(e));var a=fM(this.gtu,2*n,2*e);n=n+a[0],e=e+a[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),t.x=l,t.y=c,t}function WQ(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var o=fM(this.utg,2*n,2*e);n=n+o[0],e=e+o[1],e=Math.atan(Aw(e));var s=Math.sin(n),a=Math.cos(n),l=Math.sin(e),c=Math.cos(e);n=Math.atan2(s*c,Gr(l,c*a)),e=Math.atan2(l,c*a),r=je(e+this.long0,this.over),i=Mw(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var $Q=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"],Gp={init:HQ,forward:qQ,inverse:WQ,names:$Q};function PF(t,e){if(t===void 0){if(t=Math.floor((je(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var YQ="etmerc";function ZQ(){var t=PF(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Vn,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Gp.init.apply(this),this.forward=Gp.forward,this.inverse=Gp.inverse}var XQ=["Universal Transverse Mercator System","utm"],LF={init:ZQ,names:XQ,dependsOn:YQ};function Tw(t,e){return Math.pow((1-t)/(1+t),e)}var KQ=20;function JQ(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+cn)/(Math.pow(Math.tan(.5*this.lat0+cn),this.C)*Tw(this.e*t,this.ratexp))}function QQ(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+cn),this.C)*Tw(this.e*Math.sin(n),this.ratexp))-Ae,t.x=this.C*e,t}function eee(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+cn)/this.K,1/this.C),o=KQ;o>0&&(r=2*Math.atan(i*Tw(this.e*Math.sin(t.y),-.5*this.e))-Ae,!(Math.abs(r-t.y)<e));--o)t.y=r;return o?(t.x=n,t.y=r,t):null}var tee=["gauss"],Nw={init:JQ,forward:QQ,inverse:eee,names:tee};function nee(){Nw.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function ree(t){var e,n,r,i;return t.x=je(t.x-this.long0,this.over),Nw.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function iee(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Gr(t.x,t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Nw.inverse.apply(this,[t]),t.x=je(t.x+this.long0,this.over),t}var oee=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],kF={init:nee,forward:ree,inverse:iee,names:oee};function dM(t,e,n){return e*=n,Math.tan(.5*(Ae+t))*Math.pow((1-e)/(1+e),.5*n)}function see(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Fe&&(this.k0=.5*(1+cl(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Fe&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Fe&&Math.abs(Math.cos(this.lat_ts))>Fe&&(this.k0=.5*this.cons*Ki(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/mo(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ki(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(dM(this.lat0,this.sinlat0,this.e))-Ae,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function aee(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),o,s,a,l,c,u,f=je(e-this.long0,this.over);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Fe&&Math.abs(n+this.lat0)<=Fe?(t.x=NaN,t.y=NaN,t):this.sphere?(o=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(f)),t.x=this.a*o*i*Math.sin(f)+this.x0,t.y=this.a*o*(this.coslat0*r-this.sinlat0*i*Math.cos(f))+this.y0,t):(s=2*Math.atan(dM(n,r,this.e))-Ae,l=Math.cos(s),a=Math.sin(s),Math.abs(this.coslat0)<=Fe?(c=mo(this.e,n*this.con,this.con*r),u=2*this.a*this.k0*c/this.cons,t.x=this.x0+u*Math.sin(e-this.long0),t.y=this.y0-this.con*u*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<Fe?(o=2*this.a*this.k0/(1+l*Math.cos(f)),t.y=o*a):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(f))),t.y=o*(this.cosX0*a-this.sinX0*l*Math.cos(f))+this.y0),t.x=o*l*Math.sin(f)+this.x0,t))}function lee(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=Fe?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),Math.abs(this.coslat0)<Fe?this.lat0>0?e=je(this.long0+Math.atan2(t.x,-1*t.y),this.over):e=je(this.long0+Math.atan2(t.x,t.y),this.over):e=je(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a)),this.over),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=Fe){if(s<=Fe)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*bc(this.e,r),e=this.con*je(this.con*this.long0+Math.atan2(t.x,-1*t.y),this.over)}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Fe?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=je(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)),this.over)),n=-1*bc(this.e,Math.tan(.5*(Ae+o)));return t.x=e,t.y=n,t}var cee=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"],OF={init:see,forward:aee,inverse:lee,names:cee,ssfn_:dM};function uee(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,o=2*i-Math.pow(i,2),s=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*l+this.alpha*s/2*c}function hee(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t}function fee(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,l=0,c=o,u=-1e3,f=0;Math.abs(c-u)>1e-7;){if(++f>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t}var dee=["somerc"],FF={init:uee,forward:hee,inverse:fee,names:dee};var zp=1e-7;function pee(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1||e.indexOf(tM(n))!==-1}function gee(){var t,e,n,r,i,o,s,a,l,c,u=0,f,d=0,h=0,g=0,y=0,_=0,v=0;this.no_off=pee(this),this.no_rot="no_rot"in this;var E=!1;"alpha"in this&&(E=!0);var S=!1;if("rectified_grid_angle"in this&&(S=!0),E&&(v=this.alpha),S&&(u=this.rectified_grid_angle),E||S)d=this.longc;else if(h=this.long1,y=this.lat1,g=this.long2,_=this.lat2,Math.abs(y-_)<=zp||(t=Math.abs(y))<=zp||Math.abs(t-Ae)<=zp||Math.abs(Math.abs(this.lat0)-Ae)<=zp||Math.abs(Math.abs(_)-Ae)<=zp)throw new Error;var I=1-this.es;e=Math.sqrt(I),Math.abs(this.lat0)>Fe?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/I),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(mo(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),E||S?(E?(f=Math.asin(Math.sin(v)/r),S||(u=v)):(f=u,v=Math.asin(r*Math.sin(f))),this.lam0=d-Math.asin(.5*(i-1/i)*Math.tan(f))/this.B):(o=Math.pow(mo(this.e,y,Math.sin(y)),this.B),s=Math.pow(mo(this.e,_,Math.sin(_)),this.B),i=this.E/o,l=(s-o)/(s+o),c=this.E*this.E,c=(c-s*o)/(c+s*o),t=h-g,t<-Math.PI?g-=Bu:t>Math.PI&&(g+=Bu),this.lam0=je(.5*(h+g)-Math.atan(c*Math.tan(.5*this.B*(h-g))/l)/this.B,this.over),f=Math.atan(2*Math.sin(this.B*je(h-this.lam0,this.over))/(i-1/i)),u=v=Math.asin(r*Math.sin(f))),this.singam=Math.sin(f),this.cosgam=Math.cos(f),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*f,this.v_pole_n=this.ArB*Math.log(Math.tan(cn-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(cn+i))}function mee(t){var e={},n,r,i,o,s,a,l,c;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Ae)>Fe){if(s=this.E/Math.pow(mo(this.e,t.y,Math.sin(t.y)),this.B),a=1/s,n=.5*(s-a),r=.5*(s+a),o=Math.sin(this.B*t.x),i=(n*this.singam-o*this.cosgam)/r,Math.abs(Math.abs(i)-1)<Fe)throw new Error;c=.5*this.ArB*Math.log((1-i)/(1+i)),a=Math.cos(this.B*t.x),Math.abs(a)<zp?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+o*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function yee(t){var e,n,r,i,o,s,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),o=.5*(r+1/r),s=Math.sin(this.BrA*e),a=(s*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(a)-1)<Fe)l.x=0,l.y=a<0?-Ae:Ae;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=bc(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var _ee=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],jF={init:gee,forward:mee,inverse:yee,names:_ee};function vee(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Fe)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=Ki(this.e,e,n),i=mo(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=Ki(this.e,o,s),l=mo(this.e,this.lat2,o),c=Math.abs(Math.abs(this.lat0)-Ae)<Fe?0:mo(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Fe?this.ns=Math.log(r/a)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function wee(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=Fe&&(n=cl(n)*(Ae-2*Fe));var r=Math.abs(Math.abs(n)-Ae),i,o;if(r>Fe)i=mo(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;o=0}var s=this.ns*je(e-this.long0,this.over);return t.x=this.k0*(o*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,t}function xee(t){var e,n,r,i,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*s,n*a)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=bc(this.e,r),i===-9999)return null}else i=-Ae;return o=je(l/this.ns+this.long0,this.over),t.x=o,t.y=i,t}var bee=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"],BF={init:vee,forward:wee,inverse:xee,names:bee};function Eee(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function See(t){var e,n,r,i,o,s,a,l=t.x,c=t.y,u=je(l-this.long0,this.over);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Cee(t){var e,n,r,i,o,s,a,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),i=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var u=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,u+=1;while(l===0&&u<15);return u>=15?null:t}var Iee=["Krovak","krovak"],UF={init:Eee,forward:See,inverse:Cee,names:Iee};function ai(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Ec(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Sc(t){return .375*t*(1+.25*t*(1+.46875*t))}function Cc(t){return .05859375*t*t*(1+.75*t)}function Ic(t){return t*t*t*(35/3072)}function l1(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function qo(t){return Math.abs(t)<Ae?t:t-cl(t)*Math.PI}function Sf(t,e,n,r,i){var o,s;o=t/e;for(var a=0;a<15;a++)if(s=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}function Dee(){this.sphere||(this.e0=Ec(this.es),this.e1=Sc(this.es),this.e2=Cc(this.es),this.e3=Ic(this.es),this.ml0=this.a*ai(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Aee(t){var e,n,r=t.x,i=t.y;if(r=je(r-this.long0,this.over),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=l1(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),u=c*c,f=this.es*s*s/(1-this.es),d=this.a*ai(this.e0,this.e1,this.e2,this.e3,i);e=a*c*(1-u*l*(1/6-(8-l+8*f)*u/120)),n=d-this.ml0+a*o/s*u*(.5+(5-l+6*f)*u/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function Mee(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var o=n+this.lat0;r=Math.asin(Math.sin(o)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(o))}else{var s=this.ml0/this.a+n,a=Sf(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-Ae)<=Fe)return t.x=this.long0,t.y=Ae,n<0&&(t.y*=-1),t;var l=l1(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(a),2),f=e*this.a/l,d=f*f;r=a-l*Math.tan(a)/c*f*f*(.5-(1+3*u)*f*f/24),i=f*(1-d*(u/3+(1+3*u)*u*d/15))/Math.cos(a)}return t.x=je(i+this.long0,this.over),t.y=qo(r),t}var Tee=["Cassini","Cassini_Soldner","cass"],GF={init:Dee,forward:Aee,inverse:Mee,names:Tee};function Ma(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var pM=1,gM=2,mM=3,Rw=4;function Nee(){var t=Math.abs(this.lat0);if(Math.abs(t-Ae)<Fe?this.mode=this.lat0<0?pM:gM:Math.abs(t)<Fe?this.mode=mM:this.mode=Rw,this.es>0){var e;switch(this.qp=Ma(this.e,1),this.mmf=.5/(1-this.es),this.apa=Uee(this.es),this.mode){case gM:this.dd=1;break;case pM:this.dd=1;break;case mM:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case Rw:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Ma(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===Rw&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Ree(t){var e,n,r,i,o,s,a,l,c,u,f=t.x,d=t.y;if(f=je(f-this.long0,this.over),this.sphere){if(o=Math.sin(d),u=Math.cos(d),r=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+u*r:1+this.sinph0*o+this.cosph0*u*r,n<=Fe)return null;n=Math.sqrt(2/n),e=n*u*Math.sin(f),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(d+this.lat0)<Fe)return null;n=cn-d*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(f),n*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(f),i=Math.sin(f),o=Math.sin(d),s=Ma(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=Ae+d,s=this.qp-s;break;case this.S_POLE:c=d-Ae,s=this.qp+s;break}if(Math.abs(c)<Fe)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*a-this.sinb1*l*r):n=(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,e=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?c:-c)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function Pee(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,o,s,a,l,c;if(this.sphere){var u=0,f,d=0;if(f=Math.sqrt(e*e+n*n),i=f*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(d=Math.sin(i),u=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(f)<=Fe?0:Math.asin(n*d/f),e*=d,n=u*f;break;case this.OBLIQ:i=Math.abs(f)<=Fe?this.lat0:Math.asin(u*this.sinph0+n*d*this.cosph0/f),e*=d*this.cosph0,n=(u-Math.sin(i)*this.sinph0)*f;break;case this.N_POLE:n=-n,i=Ae-i;break;case this.S_POLE:i-=Ae;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<Fe)return t.x=this.long0,t.y=this.lat0,t;s=2*Math.asin(.5*l/this.rq),o=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(c=o*this.sinb1+n*s*this.cosb1/l,a=this.qp*c,n=l*this.cosb1*o-n*this.sinb1*s):(c=n*s/l,a=this.qp*c,n=l*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),a=e*e+n*n,!a)return t.x=this.long0,t.y=this.lat0,t;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(e,n),i=Gee(Math.asin(c),this.apa)}return t.x=je(this.long0+r,this.over),t.y=i,t}var Lee=.3333333333333333,kee=.17222222222222222,Oee=.10257936507936508,Fee=.06388888888888888,jee=.0664021164021164,Bee=.016415012942191543;function Uee(t){var e,n=[];return n[0]=t*Lee,e=t*t,n[0]+=e*kee,n[1]=e*Fee,e*=t,n[0]+=e*Oee,n[1]+=e*jee,n[2]=e*Bee,n}function Gee(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var zee=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],zF={init:Nee,forward:Ree,inverse:Pee,names:zee,S_POLE:pM,N_POLE:gM,EQUIT:mM,OBLIQ:Rw};function Wo(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Vee(){Math.abs(this.lat1+this.lat2)<Fe||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ki(this.e3,this.sin_po,this.cos_po),this.qs1=Ma(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ki(this.e3,this.sin_po,this.cos_po),this.qs2=Ma(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ma(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Fe?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Hee(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Ma(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*je(e-this.long0,this.over),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return t.x=s,t.y=a,t}function qee(t){var e,n,r,i,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),o=je(i/this.ns0+this.long0,this.over),t.x=o,t.y=s,t}function Wee(t,e){var n,r,i,o,s,a=Wo(.5*e);if(t<Fe)return a;for(var l=t*t,c=1;c<=25;c++)if(n=Math.sin(a),r=Math.cos(a),i=t*n,o=1-i*i,s=.5*o*o/r*(e/(1-l)-n/o+.5/t*Math.log((1-i)/(1+i))),a=a+s,Math.abs(s)<=1e-7)return a;return null}var $ee=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"],VF={init:Vee,forward:Hee,inverse:qee,names:$ee,phi1z:Wee};function Yee(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Zee(t){var e,n,r,i,o,s,a,l,c=t.x,u=t.y;return r=je(c-this.long0,this.over),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),s=this.sin_p14*e+this.cos_p14*n*i,o=1,s>0||Math.abs(s)<=Fe?(a=this.x0+this.a*o*n*Math.sin(r)/s,l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*i)/s):(a=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=l,t}function Xee(t){var e,n,r,i,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),s=Wo(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=je(this.long0+o,this.over)):(s=this.phic0,o=0),t.x=o,t.y=s,t}var Kee=["gnom"],HF={init:Yee,forward:Zee,inverse:Xee,names:Kee};function qF(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Ae:Ae;for(var r=Math.asin(.5*e),i,o,s,a,l=0;l<30;l++)if(o=Math.sin(r),s=Math.cos(r),a=t*o,i=Math.pow(1-a*a,2)/(2*s)*(e/(1-t*t)-o/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function Jee(){this.sphere||(this.k0=Ki(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Qee(t){var e=t.x,n=t.y,r,i,o=je(e-this.long0,this.over);if(this.sphere)r=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var s=Ma(this.e,Math.sin(n));r=this.x0+this.a*this.k0*o,i=this.y0+this.a*s*.5/this.k0}return t.x=r,t.y=i,t}function ete(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=je(this.long0+t.x/this.a/Math.cos(this.lat_ts),this.over),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=qF(this.e,2*t.y*this.k0/this.a),e=je(this.long0+t.x/(this.a*this.k0),this.over)),t.x=e,t.y=n,t}var tte=["cea"],WF={init:Jee,forward:Qee,inverse:ete,names:tte};function nte(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function rte(t){var e=t.x,n=t.y,r=je(e-this.long0,this.over),i=qo(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function ite(t){var e=t.x,n=t.y;return t.x=je(this.long0+(e-this.x0)/(this.a*this.rc),this.over),t.y=qo(this.lat0+(n-this.y0)/this.a),t}var ote=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"],$F={init:nte,forward:rte,inverse:ite,names:ote};var YF=20;function ste(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ec(this.es),this.e1=Sc(this.es),this.e2=Cc(this.es),this.e3=Ic(this.es),this.ml0=this.a*ai(this.e0,this.e1,this.e2,this.e3,this.lat0)}function ate(t){var e=t.x,n=t.y,r,i,o,s=je(e-this.long0,this.over);if(o=s*Math.sin(n),this.sphere)Math.abs(n)<=Fe?(r=this.a*s,i=-1*this.a*this.lat0):(r=this.a*Math.sin(o)/Math.tan(n),i=this.a*(qo(n-this.lat0)+(1-Math.cos(o))/Math.tan(n)));else if(Math.abs(n)<=Fe)r=this.a*s,i=-1*this.ml0;else{var a=l1(this.a,this.e,Math.sin(n))/Math.tan(n);r=a*Math.sin(o),i=this.a*ai(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*(1-Math.cos(o))}return t.x=r+this.x0,t.y=i+this.y0,t}function lte(t){var e,n,r,i,o,s,a,l,c;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Fe)e=je(r/this.a+this.long0,this.over),n=0;else{s=this.lat0+i/this.a,a=r*r/this.a/this.a+s*s,l=s;var u;for(o=YF;o;--o)if(u=Math.tan(l),c=-1*(s*(l*u+1)-l-.5*(l*l+a)*u)/((l-s)/u-1),l+=c,Math.abs(c)<=Fe){n=l;break}e=je(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n),this.over)}else if(Math.abs(i+this.ml0)<=Fe)n=0,e=je(this.long0+r/this.a,this.over);else{s=(this.ml0+i)/this.a,a=r*r/this.a/this.a+s*s,l=s;var f,d,h,g,y;for(o=YF;o;--o)if(y=this.e*Math.sin(l),f=Math.sqrt(1-y*y)*Math.tan(l),d=this.a*ai(this.e0,this.e1,this.e2,this.e3,l),h=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=d/this.a,c=(s*(f*g+1)-g-.5*f*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*s*g)/(4*f)+(s-g)*(f*h-2/Math.sin(2*l))-h),l-=c,Math.abs(c)<=Fe){n=l;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=je(this.long0+Math.asin(r*f/this.a)/Math.sin(n),this.over)}return t.x=e,t.y=n,t}var cte=["Polyconic","American_Polyconic","poly"],ZF={init:ste,forward:ate,inverse:lte,names:cte};function ute(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function hte(t){var e,n=t.x,r=t.y,i=r-this.lat0,o=n-this.long0,s=i/wf*1e-5,a=o,l=1,c=0;for(e=1;e<=10;e++)l=l*s,c=c+this.A[e]*l;var u=c,f=a,d=1,h=0,g,y,_=0,v=0;for(e=1;e<=6;e++)g=d*u-h*f,y=h*u+d*f,d=g,h=y,_=_+this.B_re[e]*d-this.B_im[e]*h,v=v+this.B_im[e]*d+this.B_re[e]*h;return t.x=v*this.a+this.x0,t.y=_*this.a+this.y0,t}function fte(t){var e,n=t.x,r=t.y,i=n-this.x0,o=r-this.y0,s=o/this.a,a=i/this.a,l=1,c=0,u,f,d=0,h=0;for(e=1;e<=6;e++)u=l*s-c*a,f=c*s+l*a,l=u,c=f,d=d+this.C_re[e]*l-this.C_im[e]*c,h=h+this.C_im[e]*l+this.C_re[e]*c;for(var g=0;g<this.iterations;g++){var y=d,_=h,v,E,S=s,I=a;for(e=2;e<=6;e++)v=y*d-_*h,E=_*d+y*h,y=v,_=E,S=S+(e-1)*(this.B_re[e]*y-this.B_im[e]*_),I=I+(e-1)*(this.B_im[e]*y+this.B_re[e]*_);y=1,_=0;var R=this.B_re[1],V=this.B_im[1];for(e=2;e<=6;e++)v=y*d-_*h,E=_*d+y*h,y=v,_=E,R=R+e*(this.B_re[e]*y-this.B_im[e]*_),V=V+e*(this.B_im[e]*y+this.B_re[e]*_);var j=R*R+V*V;d=(S*R+I*V)/j,h=(I*R-S*V)/j}var F=d,k=h,N=1,T=0;for(e=1;e<=9;e++)N=N*F,T=T+this.D[e]*N;var x=this.lat0+T*wf*1e5,O=this.long0+k;return t.x=O,t.y=x,t}var dte=["New_Zealand_Map_Grid","nzmg"],XF={init:ute,forward:hte,inverse:fte,names:dte};function pte(){}function gte(t){var e=t.x,n=t.y,r=je(e-this.long0,this.over),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=o,t}function mte(t){t.x-=this.x0,t.y-=this.y0;var e=je(this.long0+t.x/this.a,this.over),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var yte=["Miller_Cylindrical","mill"],KF={init:pte,forward:gte,inverse:mte,names:yte};var _te=20;function vte(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=jp(this.es)}function wte(t){var e,n,r=t.x,i=t.y;if(r=je(r-this.long0,this.over),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var o=this.n*Math.sin(i),s=_te;s;--s){var a=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<Fe)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);n=this.a*ul(i,l,c,this.en),e=this.a*r*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function xte(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=Wo((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Wo(Math.sin(e)/this.n)),r=je(r+this.long0,this.over),e=qo(e)):(e=Bp(t.y/this.a,this.es,this.en),i=Math.abs(e),i<Ae?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=je(n,this.over)):i-Fe<Ae&&(r=this.long0)),t.x=r,t.y=e,t}var bte=["Sinusoidal","sinu"],JF={init:vte,forward:wte,inverse:xte,names:bte};function Ete(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function Ste(t){for(var e=t.x,n=t.y,r=je(e-this.long0,this.over),i=n,o=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<Fe)break}i/=2,Math.PI/2-Math.abs(n)<Fe&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=a,t.y=l,t}function Cte(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=je(this.long0+t.x/(.900316316158*this.a*Math.cos(e)),this.over);r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var Ite=["Mollweide","moll"],QF={init:Ete,forward:Ste,inverse:Cte,names:Ite};function Dte(){Math.abs(this.lat1+this.lat2)<Fe||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ec(this.es),this.e1=Sc(this.es),this.e2=Cc(this.es),this.e3=Ic(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Ki(this.e,this.sin_phi,this.cos_phi),this.ml1=ai(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Fe?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Ki(this.e,this.sin_phi,this.cos_phi),this.ml2=ai(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ai(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Ate(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=ai(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var o=this.ns*je(e-this.long0,this.over),s=this.x0+r*Math.sin(o),a=this.y0+this.rh-r*Math.cos(o);return t.x=s,t.y=a,t}function Mte(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(n!==0&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=je(this.long0+o/this.ns,this.over),r=qo(this.g-n/this.a),t.x=i,t.y=r,t;var s=this.g-n/this.a;return r=Sf(s,this.e0,this.e1,this.e2,this.e3),i=je(this.long0+o/this.ns,this.over),t.x=i,t.y=r,t}var Tte=["Equidistant_Conic","eqdc"],e7={init:Dte,forward:Ate,inverse:Mte,names:Tte};function Nte(){this.R=this.a}function Rte(t){var e=t.x,n=t.y,r=je(e-this.long0,this.over),i,o;Math.abs(n)<=Fe&&(i=this.x0+this.R*r,o=this.y0);var s=Wo(2*Math.abs(n/Math.PI));(Math.abs(r)<=Fe||Math.abs(Math.abs(n)-Ae)<=Fe)&&(i=this.x0,n>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*s):o=this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(s),u=Math.cos(s),f=u/(c+u-1),d=f*f,h=f*(2/c-1),g=h*h,y=Math.PI*this.R*(a*(f-g)+Math.sqrt(l*(f-g)*(f-g)-(g+l)*(d-g)))/(g+l);r<0&&(y=-y),i=this.x0+y;var _=l+f;return y=Math.PI*this.R*(h*_-a*Math.sqrt((g+l)*(l+1)-_*_))/(g+l),n>=0?o=this.y0+y:o=this.y0-y,t.x=i,t.y=o,t}function Pte(t){var e,n,r,i,o,s,a,l,c,u,f,d,h;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,r=t.x/f,i=t.y/f,o=r*r+i*i,s=-Math.abs(i)*(1+o),a=s-2*i*i+r*r,l=-2*s+1+2*i*i+o*o,h=i*i/l+(2*a*a*a/l/l/l-9*s*a/l/l)/27,c=(s-a*a/3/l)/l,u=2*Math.sqrt(-c/3),f=3*h/c/u,Math.abs(f)>1&&(f>=0?f=1:f=-1),d=Math.acos(f)/3,t.y>=0?n=(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI:n=-(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI,Math.abs(r)<Fe?e=this.long0:e=je(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r,this.over),t.x=e,t.y=n,t}var Lte=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"],t7={init:Nte,forward:Rte,inverse:Pte,names:Lte};function n7(t,e,n,r,i,o){let s=r-e,a=Math.atan((1-o)*Math.tan(t)),l=Math.atan((1-o)*Math.tan(n)),c=Math.sin(a),u=Math.cos(a),f=Math.sin(l),d=Math.cos(l),h=s,g,y=100,_,v,E,S,I,R,V,j,F,k,N,T,x,O;do{if(_=Math.sin(h),v=Math.cos(h),E=Math.sqrt(d*_*(d*_)+(u*f-c*d*v)*(u*f-c*d*v)),E===0)return{azi1:0,s12:0};S=c*f+u*d*v,I=Math.atan2(E,S),R=u*d*_/E,V=1-R*R,j=V!==0?S-2*c*f/V:0,F=o/16*V*(4+o*(4-3*V)),g=h,h=s+(1-F)*o*R*(I+F*E*(j+F*S*(-1+2*j*j)))}while(Math.abs(h-g)>1e-12&&--y>0);return y===0?{azi1:NaN,s12:NaN}:(k=V*(i*i-i*(1-o)*(i*(1-o)))/(i*(1-o)*(i*(1-o))),N=1+k/16384*(4096+k*(-768+k*(320-175*k))),T=k/1024*(256+k*(-128+k*(74-47*k))),x=T*E*(j+T/4*(S*(-1+2*j*j)-T/6*j*(-3+4*E*E)*(-3+4*j*j))),O=i*(1-o)*N*(I-x),{azi1:Math.atan2(d*_,u*f-c*d*v),s12:O})}function r7(t,e,n,r,i,o){let s=Math.atan((1-o)*Math.tan(t)),a=Math.sin(s),l=Math.cos(s),c=Math.sin(n),u=Math.cos(n),f=Math.atan2(a,l*u),d=l*c,h=1-d*d,g=h*(i*i-i*(1-o)*(i*(1-o)))/(i*(1-o)*(i*(1-o))),y=1+g/16384*(4096+g*(-768+g*(320-175*g))),_=g/1024*(256+g*(-128+g*(74-47*g))),v=r/(i*(1-o)*y),E,S=100,I,R,V,j;do I=Math.cos(2*f+v),R=Math.sin(v),V=Math.cos(v),j=_*R*(I+_/4*(V*(-1+2*I*I)-_/6*I*(-3+4*R*R)*(-3+4*I*I))),E=v,v=r/(i*(1-o)*y)+j;while(Math.abs(v-E)>1e-12&&--S>0);if(S===0)return{lat2:NaN,lon2:NaN};let F=a*R-l*V*u,k=Math.atan2(a*V+l*R*u,(1-o)*Math.sqrt(d*d+F*F)),N=Math.atan2(R*c,l*V-a*R*u),T=o/16*h*(4+o*(4-3*h)),x=N-(1-T)*o*d*(v+T*R*(I+T*V*(-1+2*I*I))),O=e+x;return{lat2:k,lon2:O}}function kte(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function Ote(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),o=je(e-this.long0,this.over),s,a,l,c,u,f,d,h,g,y,_;return this.sphere?Math.abs(this.sin_p12-1)<=Fe?(t.x=this.x0+this.a*(Ae-n)*Math.sin(o),t.y=this.y0-this.a*(Ae-n)*Math.cos(o),t):Math.abs(this.sin_p12+1)<=Fe?(t.x=this.x0+this.a*(Ae+n)*Math.sin(o),t.y=this.y0+this.a*(Ae+n)*Math.cos(o),t):(g=this.sin_p12*r+this.cos_p12*i*Math.cos(o),d=Math.acos(g),h=d?d/Math.sin(d):1,t.x=this.x0+this.a*h*i*Math.sin(o),t.y=this.y0+this.a*h*(this.cos_p12*r-this.sin_p12*i*Math.cos(o)),t):(s=Ec(this.es),a=Sc(this.es),l=Cc(this.es),c=Ic(this.es),Math.abs(this.sin_p12-1)<=Fe?(u=this.a*ai(s,a,l,c,Ae),f=this.a*ai(s,a,l,c,n),t.x=this.x0+(u-f)*Math.sin(o),t.y=this.y0-(u-f)*Math.cos(o),t):Math.abs(this.sin_p12+1)<=Fe?(u=this.a*ai(s,a,l,c,Ae),f=this.a*ai(s,a,l,c,n),t.x=this.x0+(u+f)*Math.sin(o),t.y=this.y0+(u+f)*Math.cos(o),t):Math.abs(e)<Fe&&Math.abs(n-this.lat0)<Fe?(t.x=t.y=0,t):(y=n7(this.lat0,this.long0,n,e,this.a,this.f),_=y.azi1,t.x=y.s12*Math.sin(_),t.y=y.s12*Math.cos(_),t))}function Fte(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,s,a,l,c,u,f,d,h,g,y,_;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*Ae*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=Fe?s=this.lat0:(s=Wo(i*this.sin_p12+t.y*r*this.cos_p12/e),a=Math.abs(this.lat0)-Ae,Math.abs(a)<=Fe?this.lat0>=0?o=je(this.long0+Math.atan2(t.x,-t.y),this.over):o=je(this.long0-Math.atan2(-t.x,t.y),this.over):o=je(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r),this.over)),t.x=o,t.y=s,t)):(l=Ec(this.es),c=Sc(this.es),u=Cc(this.es),f=Ic(this.es),Math.abs(this.sin_p12-1)<=Fe?(d=this.a*ai(l,c,u,f,Ae),e=Math.sqrt(t.x*t.x+t.y*t.y),h=d-e,s=Sf(h/this.a,l,c,u,f),o=je(this.long0+Math.atan2(t.x,-1*t.y),this.over),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=Fe?(d=this.a*ai(l,c,u,f,Ae),e=Math.sqrt(t.x*t.x+t.y*t.y),h=e-d,s=Sf(h/this.a,l,c,u,f),o=je(this.long0+Math.atan2(t.x,t.y),this.over),t.x=o,t.y=s,t):(g=Math.atan2(t.x,t.y),y=Math.sqrt(t.x*t.x+t.y*t.y),_=r7(this.lat0,this.long0,g,y,this.a,this.f),t.x=_.lon2,t.y=_.lat2,t))}var jte=["Azimuthal_Equidistant","aeqd"],i7={init:kte,forward:Ote,inverse:Fte,names:jte};function Bte(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Ute(t){var e,n,r,i,o,s,a,l,c=t.x,u=t.y;return r=je(c-this.long0,this.over),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),s=this.sin_p14*e+this.cos_p14*n*i,o=1,(s>0||Math.abs(s)<=Fe)&&(a=this.a*o*n*Math.sin(r),l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=l,t}function Gte(t){var e,n,r,i,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Wo(e/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=Fe?(a=this.lat0,t.x=s,t.y=a,t):(a=Wo(i*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-Ae,Math.abs(o)<=Fe?(this.lat0>=0?s=je(this.long0+Math.atan2(t.x,-t.y),this.over):s=je(this.long0-Math.atan2(-t.x,t.y),this.over),t.x=s,t.y=a,t):(s=je(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r),this.over),t.x=s,t.y=a,t))}var zte=["ortho"],o7={init:Bte,forward:Ute,inverse:Gte,names:zte};var lr={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},kn={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Vte(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Ae-cn/2?this.face=lr.TOP:this.lat0<=-(Ae-cn/2)?this.face=lr.BOTTOM:Math.abs(this.long0)<=cn?this.face=lr.FRONT:Math.abs(this.long0)<=Ae+cn?this.face=this.long0>0?lr.RIGHT:lr.LEFT:this.face=lr.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Hte(t){var e={x:0,y:0},n,r,i,o,s,a,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===lr.TOP)o=Ae-n,r>=cn&&r<=Ae+cn?(l.value=kn.AREA_0,i=r-Ae):r>Ae+cn||r<=-(Ae+cn)?(l.value=kn.AREA_1,i=r>0?r-ar:r+ar):r>-(Ae+cn)&&r<=-cn?(l.value=kn.AREA_2,i=r+Ae):(l.value=kn.AREA_3,i=r);else if(this.face===lr.BOTTOM)o=Ae+n,r>=cn&&r<=Ae+cn?(l.value=kn.AREA_0,i=-r+Ae):r<cn&&r>=-cn?(l.value=kn.AREA_1,i=-r):r<-cn&&r>=-(Ae+cn)?(l.value=kn.AREA_2,i=-r-Ae):(l.value=kn.AREA_3,i=r>0?-r+ar:-r-ar);else{var c,u,f,d,h,g,y;this.face===lr.RIGHT?r=Vp(r,+Ae):this.face===lr.BACK?r=Vp(r,+ar):this.face===lr.LEFT&&(r=Vp(r,-Ae)),d=Math.sin(n),h=Math.cos(n),g=Math.sin(r),y=Math.cos(r),c=h*y,u=h*g,f=d,this.face===lr.FRONT?(o=Math.acos(c),i=Pw(o,f,u,l)):this.face===lr.RIGHT?(o=Math.acos(u),i=Pw(o,f,-c,l)):this.face===lr.BACK?(o=Math.acos(-c),i=Pw(o,f,-u,l)):this.face===lr.LEFT?(o=Math.acos(-u),i=Pw(o,f,c,l)):(o=i=0,l.value=kn.AREA_0)}return a=Math.atan(12/ar*(i+Math.acos(Math.sin(i)*Math.cos(cn))-Ae)),s=Math.sqrt((1-Math.cos(o))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===kn.AREA_1?a+=Ae:l.value===kn.AREA_2?a+=ar:l.value===kn.AREA_3&&(a+=1.5*ar),e.x=s*Math.cos(a),e.y=s*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function qte(t){var e={lam:0,phi:0},n,r,i,o,s,a,l,c,u,f={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?f.value=kn.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(f.value=kn.AREA_1,n-=Ae):t.x<0&&-t.x>=Math.abs(t.y)?(f.value=kn.AREA_2,n=n<0?n+ar:n-ar):(f.value=kn.AREA_3,n+=Ae),u=ar/12*Math.tan(n),s=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(s),i=Math.cos(n),o=Math.tan(r),l=1-i*i*o*o*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===lr.TOP)c=Math.acos(l),e.phi=Ae-c,f.value===kn.AREA_0?e.lam=a+Ae:f.value===kn.AREA_1?e.lam=a<0?a+ar:a-ar:f.value===kn.AREA_2?e.lam=a-Ae:e.lam=a;else if(this.face===lr.BOTTOM)c=Math.acos(l),e.phi=c-Ae,f.value===kn.AREA_0?e.lam=-a+Ae:f.value===kn.AREA_1?e.lam=-a:f.value===kn.AREA_2?e.lam=-a-Ae:e.lam=a<0?-a-ar:-a+ar;else{var d,h,g;d=l,u=d*d,u>=1?g=0:g=Math.sqrt(1-u)*Math.sin(a),u+=g*g,u>=1?h=0:h=Math.sqrt(1-u),f.value===kn.AREA_1?(u=h,h=-g,g=u):f.value===kn.AREA_2?(h=-h,g=-g):f.value===kn.AREA_3&&(u=h,h=g,g=-u),this.face===lr.RIGHT?(u=d,d=-h,h=u):this.face===lr.BACK?(d=-d,h=-h):this.face===lr.LEFT&&(u=d,d=h,h=-u),e.phi=Math.acos(-g)-Ae,e.lam=Math.atan2(h,d),this.face===lr.RIGHT?e.lam=Vp(e.lam,-Ae):this.face===lr.BACK?e.lam=Vp(e.lam,-ar):this.face===lr.LEFT&&(e.lam=Vp(e.lam,+Ae))}if(this.es!==0){var y,_,v;y=e.phi<0?1:0,_=Math.tan(e.phi),v=this.b/Math.sqrt(_*_+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-v*v)/(this.one_minus_f*v)),y&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Pw(t,e,n,r){var i;return t<Fe?(r.value=kn.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=cn?r.value=kn.AREA_0:i>cn&&i<=Ae+cn?(r.value=kn.AREA_1,i-=Ae):i>Ae+cn||i<=-(Ae+cn)?(r.value=kn.AREA_2,i=i>=0?i-ar:i+ar):(r.value=kn.AREA_3,i+=Ae)),i}function Vp(t,e){var n=t+e;return n<-ar?n+=Bu:n>+ar&&(n-=Bu),n}var Wte=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],s7={init:Vte,forward:Hte,inverse:qte,names:Wte};var yM=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],c1=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],a7=.8487,l7=1.3523,c7=si/5,$te=1/c7,Hp=18,Lw=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Yte=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function Zte(t,e,n,r){for(var i=e;r;--r){var o=t(i);if(i-=o,Math.abs(o)<n)break}return i}function Xte(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Kte(t){var e=je(t.x-this.long0,this.over),n=Math.abs(t.y),r=Math.floor(n*c7);r<0?r=0:r>=Hp&&(r=Hp-1),n=si*(n-$te*r);var i={x:Lw(yM[r],n)*e,y:Lw(c1[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*a7+this.x0,i.y=i.y*this.a*l7+this.y0,i}function Jte(t){var e={x:(t.x-this.x0)/(this.a*a7),y:Math.abs(t.y-this.y0)/(this.a*l7)};if(e.y>=1)e.x/=yM[Hp][0],e.y=t.y<0?-Ae:Ae;else{var n=Math.floor(e.y*Hp);for(n<0?n=0:n>=Hp&&(n=Hp-1);;)if(c1[n][0]>e.y)--n;else if(c1[n+1][0]<=e.y)++n;else break;var r=c1[n],i=5*(e.y-r[0])/(c1[n+1][0]-r[0]);i=Zte(function(o){return(Lw(r,o)-e.y)/Yte(r,o)},i,Fe,100),e.x/=Lw(yM[n],i),e.y=(5*n+i)*Vn,t.y<0&&(e.y=-e.y)}return e.x=je(e.x+this.long0,this.over),e}var Qte=["Robinson","robin"],u7={init:Xte,forward:Kte,inverse:Jte,names:Qte};function ene(){this.name="geocent"}function tne(t){var e=Ew(t,this.es,this.a);return e}function nne(t){var e=Sw(t,this.es,this.a,this.b);return e}var rne=["Geocentric","geocentric","geocent","Geocent"],h7={init:ene,forward:tne,inverse:nne,names:rne};var Ji={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},u1={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function ine(){if(Object.keys(u1).forEach((function(n){if(typeof this[n]>"u")this[n]=u1[n].def;else{if(u1[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);u1[n].num&&(this[n]=parseFloat(this[n]))}u1[n].degrees&&(this[n]=this[n]*Vn)}).bind(this)),Math.abs(Math.abs(this.lat0)-Ae)<Fe?this.mode=this.lat0<0?Ji.S_POLE:Ji.N_POLE:Math.abs(this.lat0)<Fe?this.mode=Ji.EQUIT:(this.mode=Ji.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function one(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,o;switch(this.mode){case Ji.OBLIQ:o=this.sinph0*e+this.cosph0*n*r;break;case Ji.EQUIT:o=n*r;break;case Ji.S_POLE:o=-e;break;case Ji.N_POLE:o=e;break}switch(o=this.pn1/(this.p-o),i=o*n*Math.sin(t.x),this.mode){case Ji.OBLIQ:o*=this.cosph0*e-this.sinph0*n*r;break;case Ji.EQUIT:o*=e;break;case Ji.N_POLE:o*=-(n*r);break;case Ji.S_POLE:o*=n*r;break}var s,a;return s=o*this.cg+i*this.sg,a=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-o*this.sg)*this.cw*a,o=s*a,t.x=i*this.a,t.y=o*this.a,t}function sne(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var o=Gr(t.x,t.y);if(Math.abs(o)<Fe)e.x=0,e.y=t.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case Ji.OBLIQ:e.y=Math.asin(s*this.sinph0+t.y*a*this.cosph0/o),t.y=(s-this.sinph0*Math.sin(e.y))*o,t.x*=a*this.cosph0;break;case Ji.EQUIT:e.y=Math.asin(t.y*a/o),t.y=s*o,t.x*=a;break;case Ji.N_POLE:e.y=Math.asin(s),t.y=-t.y;break;case Ji.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var ane=["Tilted_Perspective","tpers"],f7={init:ine,forward:one,inverse:sne,names:ane};function lne(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function cne(t){var e=t.x,n=t.y,r,i,o,s;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var a=this.radius_p/Gr(this.radius_p*Math.cos(n),Math.sin(n));if(i=a*Math.cos(e)*Math.cos(n),o=a*Math.sin(e)*Math.cos(n),s=a*Math.sin(n),(this.radius_g-i)*i-o*o-s*s*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(o/Gr(s,r)),t.y=this.radius_g_1*Math.atan(s/r)):(t.x=this.radius_g_1*Math.atan(o/r),t.y=this.radius_g_1*Math.atan(s/Gr(o,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,o=Math.sin(e)*r,s=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(o/Gr(s,r)),t.y=this.radius_g_1*Math.atan(s/r)):(t.x=this.radius_g_1*Math.atan(o/r),t.y=this.radius_g_1*Math.atan(s/Gr(o,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function une(t){var e=-1,n=0,r=0,i,o,s,a;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Gr(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Gr(1,n));var l=r/this.radius_p;if(i=n*n+l*l+e*e,o=2*this.radius_g*e,s=o*o-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-o-Math.sqrt(s))/(2*i),e=this.radius_g+a*e,n*=a,r*=a,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,o=2*this.radius_g*e,s=o*o-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-o-Math.sqrt(s))/(2*i),e=this.radius_g+a*e,n*=a,r*=a,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var hne=["Geostationary Satellite View","Geostationary_Satellite","geos"],d7={init:lne,forward:cne,inverse:une,names:hne};var h1=1.340264,f1=-.081106,d1=893e-6,p1=.003796,kw=Math.sqrt(3)/2;function fne(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function dne(t){var e=je(t.x-this.long0,this.over),n=t.y,r=Math.asin(kw*Math.sin(n)),i=r*r,o=i*i*i;return t.x=e*Math.cos(r)/(kw*(h1+3*f1*i+o*(7*d1+9*p1*i))),t.y=r*(h1+f1*i+o*(d1+p1*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function pne(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,o,s,a,l,c;for(c=0;c<n&&(i=r*r,o=i*i*i,s=r*(h1+f1*i+o*(d1+p1*i))-t.y,a=h1+3*f1*i+o*(7*d1+9*p1*i),r-=l=s/a,!(Math.abs(l)<e));++c);return i=r*r,o=i*i*i,t.x=kw*t.x*(h1+3*f1*i+o*(7*d1+9*p1*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/kw),t.x=je(t.x+this.long0,this.over),t}var gne=["eqearth","Equal Earth","Equal_Earth"],p7={init:fne,forward:dne,inverse:pne,names:gne};var g1=1e-10;function mne(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<g1)throw new Error;this.es?(this.en=jp(this.es),this.m1=ul(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=_ne,this.forward=yne):(Math.abs(this.phi1)+g1>=Ae?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=wne,this.forward=vne)}function yne(t){var e=je(t.x-(this.long0||0),this.over),n=t.y,r,i,o;return r=this.am1+this.m1-ul(n,i=Math.sin(n),o=Math.cos(n),this.en),i=o*e/(r*Math.sqrt(1-this.es*i*i)),t.x=r*Math.sin(i),t.y=this.am1-r*Math.cos(i),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function _ne(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,r,i;if(n=Gr(t.x,t.y=this.am1-t.y),i=Bp(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(i))<Ae)e=Math.sin(i),r=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else if(Math.abs(e-Ae)<=g1)r=0;else throw new Error;return t.x=je(r+(this.long0||0),this.over),t.y=qo(i),t}function vne(t){var e=je(t.x-(this.long0||0),this.over),n=t.y,r,i;return i=this.cphi1+this.phi1-n,Math.abs(i)>g1?(t.x=i*Math.sin(r=e*Math.cos(n)/i),t.y=this.cphi1-i*Math.cos(r)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function wne(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,r=Gr(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-r,Math.abs(n)>Ae)throw new Error;return Math.abs(Math.abs(n)-Ae)<=g1?e=0:e=r*Math.atan2(t.x,t.y)/Math.cos(n),t.x=je(e+(this.long0||0),this.over),t.y=qo(n),t}var xne=["bonne","Bonne (Werner lat_1=90)"],g7={init:mne,names:xne};var m7={OBLIQUE:{forward:Ine,inverse:Ane},TRANSVERSE:{forward:Dne,inverse:Mne}},Ow={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function bne(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=eM.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);let t=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),e=Aa(t);if(!e)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);e.long0=0,this.obliqueProjection=e;let n,r=Object.keys(Ow),i=a=>{if(typeof this[a]>"u")return;let l=parseFloat(this[a])*Vn;if(isNaN(l))throw new Error("Invalid value for "+a+": "+this[a]);return l};for(let a=0;a<r.length;a++){let l=r[a],c=Ow[l],u=Object.entries(c);if(u.some(([d])=>typeof this[d]<"u")){n=c;for(let d=0;d<u.length;d++){let[h,g]=u[d],y=i(h);if(typeof y>"u")throw new Error("Missing parameter: "+h+".");this[g]=y}break}}if(!n)throw new Error("No valid parameters provided for ob_tran projection.");let{lamp:o,phip:s}=Cne(this,n);this.lamp=o,Math.abs(s)>Fe?(this.cphip=Math.cos(s),this.sphip=Math.sin(s),this.projectionType=m7.OBLIQUE):this.projectionType=m7.TRANSVERSE}function Ene(t){return this.projectionType.forward(this,t)}function Sne(t){return this.projectionType.inverse(this,t)}function Cne(t,e){let n,r;if(e===Ow.ROTATE){let i=t.oLongC,o=t.oLatC,s=t.oAlpha;if(Math.abs(Math.abs(o)-Ae)<=Fe)throw new Error("Invalid value for o_lat_c: "+t.o_lat_c+" should be < 90\xB0");r=i+Math.atan2(-1*Math.cos(s),-1*Math.sin(s)*Math.sin(o)),n=Math.asin(Math.cos(o)*Math.sin(s))}else if(e===Ow.NEW_POLE)r=t.oLongP,n=t.oLatP;else{let i=t.oLong1,o=t.oLat1,s=t.oLong2,a=t.oLat2,l=Math.abs(o);if(Math.abs(o)>Ae-Fe)throw new Error("Invalid value for o_lat_1: "+t.o_lat_1+" should be < 90\xB0");if(Math.abs(a)>Ae-Fe)throw new Error("Invalid value for o_lat_2: "+t.o_lat_2+" should be < 90\xB0");if(Math.abs(o-a)<Fe)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(l<Fe)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");r=Math.atan2(Math.cos(o)*Math.sin(a)*Math.cos(i)-Math.sin(o)*Math.cos(a)*Math.cos(s),Math.sin(o)*Math.cos(a)*Math.sin(s)-Math.cos(o)*Math.sin(a)*Math.sin(i)),n=Math.atan(-1*Math.cos(r-i)/Math.tan(o))}return{lamp:r,phip:n}}function Ine(t,e){let{x:n,y:r}=e;n+=t.long0;let i=Math.cos(n),o=Math.sin(r),s=Math.cos(r);e.x=je(Math.atan2(s*Math.sin(n),t.sphip*s*i+t.cphip*o)+t.lamp),e.y=Math.asin(t.sphip*o-t.cphip*s*i);let a=t.obliqueProjection.forward(e);return t.isIdentity&&(a.x*=si,a.y*=si),a}function Dne(t,e){let{x:n,y:r}=e;n+=t.long0;let i=Math.cos(r),o=Math.cos(n);e.x=je(Math.atan2(i*Math.sin(n),Math.sin(r))+t.lamp),e.y=Math.asin(-1*i*o);let s=t.obliqueProjection.forward(e);return t.isIdentity&&(s.x*=si,s.y*=si),s}function Ane(t,e){t.isIdentity&&(e.x*=Vn,e.y*=Vn);let n=t.obliqueProjection.inverse(e),{x:r,y:i}=n;if(r<Number.MAX_VALUE){r-=t.lamp;let o=Math.cos(r),s=Math.sin(i),a=Math.cos(i);e.x=Math.atan2(a*Math.sin(r),t.sphip*a*o-t.cphip*s),e.y=Math.asin(t.sphip*s+t.cphip*a*o)}return e.x=je(e.x+t.long0),e}function Mne(t,e){t.isIdentity&&(e.x*=Vn,e.y*=Vn);let n=t.obliqueProjection.inverse(e),{x:r,y:i}=n;if(r<Number.MAX_VALUE){let o=Math.cos(i);r-=t.lamp,e.x=Math.atan2(o*Math.sin(r),-1*Math.sin(i)),e.y=Math.asin(o*Math.cos(r))}return e.x=je(e.x+t.long0),e}var Tne=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"],y7={init:bne,forward:Ene,inverse:Sne,names:Tne};function _7(t){t.Proj.projections.add(Up),t.Proj.projections.add(Gp),t.Proj.projections.add(LF),t.Proj.projections.add(kF),t.Proj.projections.add(OF),t.Proj.projections.add(FF),t.Proj.projections.add(jF),t.Proj.projections.add(BF),t.Proj.projections.add(UF),t.Proj.projections.add(GF),t.Proj.projections.add(zF),t.Proj.projections.add(VF),t.Proj.projections.add(HF),t.Proj.projections.add(WF),t.Proj.projections.add($F),t.Proj.projections.add(ZF),t.Proj.projections.add(XF),t.Proj.projections.add(KF),t.Proj.projections.add(JF),t.Proj.projections.add(QF),t.Proj.projections.add(e7),t.Proj.projections.add(t7),t.Proj.projections.add(i7),t.Proj.projections.add(o7),t.Proj.projections.add(s7),t.Proj.projections.add(u7),t.Proj.projections.add(h7),t.Proj.projections.add(f7),t.Proj.projections.add(d7),t.Proj.projections.add(p7),t.Proj.projections.add(g7),t.Proj.projections.add(y7)}var v7=Object.assign(yF,{defaultDatum:"WGS84",Proj:Aa,WGS84:new Aa("WGS84"),Point:CF,toPoint:Iw,defs:Pp,nadgrid:oM,transform:Ef,mgrs:bF,version:"__VERSION__"});_7(v7);var hl=v7;var b7,w7=()=>new DecompressionStream("deflate-raw");try{w7(),b7=t=>bt(null,null,function*(){let e=w7(),n=e.writable.getWriter(),r=e.readable.getReader(),i,o=[],s=0,a=0,l;for(n.write(t),n.close();!(l=yield r.read()).done;)i=l.value,o.push(i),s+=i.length;return!o[1]&&i||(i=new Uint8Array(s),o.map(c=>(i.set(c,a),a+=c.length))),i})}catch{}var Nne=new TextDecoder,_M=t=>{throw new Error("but-unzip~"+t)},x7=t=>Nne.decode(t);function*E7(t,e=b7){let n=t.length-20,r=Math.max(n-65516,2);for(;(n=t.lastIndexOf(80,n-1))!==-1&&!(t[n+1]===75&&t[n+2]===5&&t[n+3]===6)&&n>r;);n===-1&&_M(2);let i=(c,u)=>t.subarray(n+=c,n+=u),o=new DataView(t.buffer,t.byteOffset),s=c=>o.getUint16(c+n,!0),a=c=>o.getUint32(c+n,!0),l=s(10);for(l!==s(8)&&_M(3),n=a(16);l--;){let c=s(10),u=s(30),f=s(32),d=a(20),h=a(42),g=x7(i(46,s(28))),y=x7(i(u,f)),_=n,v;n=h,v=i(30+s(26)+s(28),d),yield{filename:g,comment:y,read:()=>c&8?e(v):c?_M(1):v},n=_}}var Rne=/.+\.(shp|dbf|json|prj|cpg)$/i,S7=t=>bt(null,null,function*(){let e={},n=[];for(let o of E7(t))Rne.test(o.filename)&&n.push(Promise.resolve(o.read()).then(s=>e[o.filename]=s));yield Promise.all(n);let r={},i=new TextDecoder;for(let[o,s]of Object.entries(e))o.slice(-3).toLowerCase()==="shp"||o.slice(-3).toLowerCase()==="dbf"?r[o]=new DataView(s.buffer,s.byteOffset,s.byteLength):r[o]=i.decode(s);return r});var Pne=globalThis.URL,C7=(t,e)=>{if(!e)return t;let n=new Pne(t);return n.pathname=`${n.pathname}.${e}`,n.href};function Cf(t,e){return bt(this,null,function*(){let n=C7(t,e),r=e==="prj"||e==="cpg";try{let i=yield fetch(n);if(i.status>399)throw new Error(i.statusText);if(r)return i.text();let o=yield i.arrayBuffer();return new DataView(o)}catch(i){if(r||e==="dbf")return!1;throw i}})}function Lne(t){let e=0,n=1,r=t.length,i,o,s=[t[0][0],t[0][1],t[0][0],t[0][1]];for(;n<r;)i=o||t[0],o=t[n],e+=(o[0]-i[0])*(o[1]+i[1]),n++,o[0]<s[0]&&(s[0]=o[0]),o[1]<s[1]&&(s[1]=o[1]),o[0]>s[2]&&(s[2]=o[0]),o[1]>s[3]&&(s[3]=o[1]);return{ring:t,clockWise:e>0,bbox:s,children:[]}}function I7(t,e){return!(t.bbox[0]>e.bbox[0]||t.bbox[1]>e.bbox[1]||t.bbox[2]<e.bbox[2]||t.bbox[3]<e.bbox[3])}function A7(t,e=!1){let n=[],r=[];for(let s of t){let a=Lne(s);a.clockWise!==e?n.push(a):r.push(a)}let i=[];for(let s of r){let a;for(let l of n)I7(l,s)&&(a?I7(a,l)&&(a=l):a=l);a?a.children.push(s.ring):i.push(s)}if(e)return{outers:n,orphens:i};if(i.length&&!e){let s=A7(t,!0);if(s.orphens.length===0){let a=[];for(let l of s.outers)a.push([l.ring.toReversed()].concat(l.children.map(c=>c.toReversed())));return a}}let o=[];for(let s of n)o.push([s.ring].concat(s.children));return o}Ir.prototype.parsePoint=function(t){return{type:"Point",coordinates:this.parseCoord(t,0)}};Ir.prototype.parseZPoint=function(t){let e=this.parsePoint(t);return e.coordinates.push(t.getFloat64(16,!0)),e};Ir.prototype.parsePointArray=function(t,e,n){let r=[],i=0;for(;i<n;)r.push(this.parseCoord(t,e)),e+=16,i++;return r};Ir.prototype.parseZPointArray=function(t,e,n,r){let i=0;for(;i<n;)r[i].push(t.getFloat64(e,!0)),i++,e+=8;return r};Ir.prototype.parseArrayGroup=function(t,e,n,r,i){let o=[],s=0,a,l=0,c;for(;s<r;)s++,n+=4,a=l,s===r?l=i:l=t.getInt32(n,!0),c=l-a,c&&(o.push(this.parsePointArray(t,e,c)),e+=c<<4);return o};Ir.prototype.parseZArrayGroup=function(t,e,n,r){let i=0;for(;i<n;)r[i]=this.parseZPointArray(t,e,r[i].length,r[i]),e+=r[i].length<<3,i++;return r};Ir.prototype.parseMultiPoint=function(t){let e={},n=t.getInt32(32,!0);if(!n)return null;let r=this.parseCoord(t,0),i=this.parseCoord(t,16);e.bbox=[r[0],r[1],i[0],i[1]];let o=36;return n===1?(e.type="Point",e.coordinates=this.parseCoord(t,o)):(e.type="MultiPoint",e.coordinates=this.parsePointArray(t,o,n)),e};Ir.prototype.parseZMultiPoint=function(t){let e=this.parseMultiPoint(t);if(!e)return null;let n;if(e.type==="Point")return e.coordinates.push(t.getFloat64(72,!0)),e;n=e.coordinates.length;let r=52+(n<<4);return e.coordinates=this.parseZPointArray(t,r,n,e.coordinates),e};Ir.prototype.parsePolyline=function(t){let e={},n=t.getInt32(32,!0);if(!n)return null;let r=this.parseCoord(t,0),i=this.parseCoord(t,16);e.bbox=[r[0],r[1],i[0],i[1]];let o=t.getInt32(36,!0),s,a;return n===1?(e.type="LineString",s=44,e.coordinates=this.parsePointArray(t,s,o)):(e.type="MultiLineString",s=40+(n<<2),a=40,e.coordinates=this.parseArrayGroup(t,s,a,n,o)),e};Ir.prototype.parseZPolyline=function(t){let e=this.parsePolyline(t);if(!e)return null;let n=e.coordinates.length,r;return e.type==="LineString"?(r=60+(n<<4),e.coordinates=this.parseZPointArray(t,r,n,e.coordinates),e):(r=56+(e.coordinates.reduce(function(o,s){return o+s.length},0)<<4)+(n<<2),e.coordinates=this.parseZArrayGroup(t,r,n,e.coordinates),e)};Ir.prototype.polyFuncs=function(t){return t&&(t.type==="LineString"?(t.type="Polygon",t.coordinates=[t.coordinates],t):(t.coordinates=A7(t.coordinates),t.coordinates.length===1?(t.type="Polygon",t.coordinates=t.coordinates[0],t):(t.type="MultiPolygon",t)))};Ir.prototype.parsePolygon=function(t){return this.polyFuncs(this.parsePolyline(t))};Ir.prototype.parseZPolygon=function(t){return this.polyFuncs(this.parseZPolyline(t))};var D7={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function kne(t){return t?function(e,n){let r=[e.getFloat64(n,!0),e.getFloat64(n+8,!0)];return t.inverse(r)}:function(e,n){return[e.getFloat64(n,!0),e.getFloat64(n+8,!0)]}}function Ir(t,e){if(!(this instanceof Ir))return new Ir(t,e);this.buffer=t,this.headers=this.parseHeader(),this.shpFuncs(e),this.rows=this.getRows()}Ir.prototype.shpFuncs=function(t){let e=this.headers.shpCode;if(e>20&&(e-=20),!(e in D7))throw new Error(`I don't know shp type "${e}"`);this.parseFunc=this[D7[e]],this.parseCoord=kne(t)};Ir.prototype.getShpCode=function(){return this.parseHeader().shpCode};Ir.prototype.parseHeader=function(){let t=this.buffer;return{length:t.getInt32(24)<<1,version:t.getInt32(28,!0),shpCode:t.getInt32(32,!0),bbox:[t.getFloat64(36,!0),t.getFloat64(44,!0),t.getFloat64(52,!0),t.getFloat64(60,!0)]}};Ir.prototype.getRows=function(){let t=100,e=this.buffer.byteLength-8,n=[],r;for(;t<=e&&(r=this.getRow(t),!!r);)t+=8,t+=r.len,r.type?n.push(this.parseFunc(r.data)):n.push(null);return n};Ir.prototype.getRow=function(t){let e=this.buffer.getInt32(t),n=this.buffer.getInt32(t+4)<<1;if(n===0)return{id:e,len:n,type:0};if(!(t+n+8>this.buffer.byteLength))return{id:e,len:n,data:new DataView(this.buffer.buffer,this.buffer.byteOffset+t+12,n-4),type:this.buffer.getInt32(t+8,!0)}};function Fw(t,e){return new Ir(t,e).rows}var One=/^(?:ANSI\s)?(\d+)$/m;function vM(t,e){if(!t)return r;try{new TextDecoder(t.trim())}catch{var n=One.exec(t);return n&&!e?vM("windows-"+n[1],!0):(t=void 0,r)}return r;function r(i){var o=new TextDecoder(t||void 0),s=o.decode(i,{stream:!0})+o.decode();return s.replace(/\0/g,"").trim()}}function Fne(t){var e={};return e.lastUpdated=new Date(t.getUint8(1)+1900,t.getUint8(2),t.getUint8(3)),e.records=t.getUint32(4,!0),e.headerLen=t.getUint16(8,!0),e.recLen=t.getUint16(10,!0),e}function jne(t,e,n){for(var r=[],i=32;i<e&&(r.push({name:n(new Uint8Array(t.buffer.slice(t.byteOffset+i,t.byteOffset+i+11))),dataType:String.fromCharCode(t.getUint8(i+11)),len:t.getUint8(i+16),decimal:t.getUint8(i+17)}),t.getUint8(i+32)!==13);)i+=32;return r}function Bne(t,e,n,r,i){let o=new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteOffset+e+n));var s=i(o);switch(r){case"N":case"F":case"O":return parseFloat(s,10);case"D":return new Date(s.slice(0,4),parseInt(s.slice(4,6),10)-1,s.slice(6,8));case"L":return s.toLowerCase()==="y"||s.toLowerCase()==="t";default:return s}}function Une(t,e,n,r){for(var i={},o=0,s=n.length,a,l;o<s;)l=n[o],a=Bne(t,e,l.len,l.dataType,r),e+=l.len,typeof a<"u"&&(i[l.name]=a),o++;return i}function jw(t,e){for(var n=vM(e),r=Fne(t),i=jne(t,r.headerLen-1,n),o=(i.length+1<<5)+2,s=r.recLen,a=r.records,l=[];a;)l.push(Une(t,o,i,n)),o+=s,a--;return l}var Gne=globalThis.URL,zne=t=>{if(!t)throw new Error("forgot to pass buffer");if(qp(t))return new Uint8Array(t);if(qp(t.buffer))return t.BYTES_PER_ELEMENT===1?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("invalid buffer like object")},Vne=new TextDecoder,T7=t=>{if(t){if(typeof t=="string")return t;if(qp(t)||ArrayBuffer.isView(t)||wM(t))return Vne.decode(t)}},N7=t=>{if(!t)throw new Error("forgot to pass buffer");if(wM(t))return t;if(qp(t))return new DataView(t);if(qp(t.buffer))return new DataView(t.buffer,t.byteOffset,t.byteLength);throw new Error("invalid buffer like object")};function qp(t){return t instanceof globalThis.ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"}function wM(t){return t instanceof globalThis.DataView||Object.prototype.toString.call(t)==="[object DataView]"}var xM=function([t,e]){let n={};n.type="FeatureCollection",n.features=[];let r=0,i=t.length;for(e||(e=[]);r<i;)n.features.push({type:"Feature",geometry:t[r],properties:e[r]||{}}),r++;return n},R7=function(t,e){return bt(this,null,function*(){let n;t=zne(t);let r=yield S7(t),i=[];e=e||[];for(n in r)n.indexOf("__MACOSX")===-1&&(n.slice(-4).toLowerCase()===".shp"?(i.push(n.slice(0,-4)),r[n.slice(0,-3)+n.slice(-3).toLowerCase()]=r[n]):n.slice(-4).toLowerCase()===".prj"?r[n.slice(0,-3)+n.slice(-3).toLowerCase()]=hl(r[n]):n.slice(-5).toLowerCase()===".json"||e.indexOf(n.split(".").pop())>-1?i.push(n.slice(0,-3)+n.slice(-3).toLowerCase()):(n.slice(-4).toLowerCase()===".dbf"||n.slice(-4).toLowerCase()===".cpg")&&(r[n.slice(0,-3)+n.slice(-3).toLowerCase()]=r[n]));if(!i.length)throw new Error("no layers founds");let o=i.map(function(s){let a,l,c=s.lastIndexOf(".");return c>-1&&s.slice(c).indexOf("json")>-1?(a=JSON.parse(r[s]),a.fileName=s.slice(0,c)):e.indexOf(s.slice(c+1))>-1?(a=r[s],a.fileName=s):(r[s+".dbf"]&&(l=jw(r[s+".dbf"],r[s+".cpg"])),a=xM([Fw(r[s+".shp"],r[s+".prj"]),l]),a.fileName=s),a});return o.length===1?o[0]:o})};function Hne(t,e){return bt(this,null,function*(){let n=yield Cf(t);return R7(n,e)})}var qne=t=>bt(null,null,function*(){let e=yield Promise.all([Cf(t,"shp"),Cf(t,"prj")]),n=!1;try{e[1]&&(n=hl(e[1]))}catch{n=!1}return Fw(e[0],n)}),Wne=t=>bt(null,null,function*(){let[e,n]=yield Promise.all([Cf(t,"dbf"),Cf(t,"cpg")]);if(e)return jw(e,n)}),M7=(t,e)=>new Gne(t,globalThis?.document?.location).pathname.slice(-4).toLowerCase()===e,$ne=({shp:t,dbf:e,cpg:n,prj:r})=>{let i=[Zne(t,r)];return e&&i.push(Xne(e,n)),xM(i)},Yne=function(t,e){return bt(this,null,function*(){if(typeof t!="string"){if(qp(t)||ArrayBuffer.isView(t)||wM(t))return R7(t);if(t.shp)return $ne(t);throw new TypeError("must be a string, some sort of Buffer, or an object with at least a .shp property")}if(M7(t,".zip"))return Hne(t,e);M7(t,".shp")&&(t=t.slice(0,-4));let n=yield Promise.all([qne(t),Wne(t)]);return xM(n)})},Zne=function(t,e){if(t=N7(t),e=T7(e),typeof e=="string")try{e=hl(e)}catch{e=!1}return Fw(t,e)},Xne=function(t,e){return t=N7(t),e=T7(e),jw(t,e)},P7=Yne;var O7=LN(EM());var Kne=null;function k7(t){Kne=t;let e=Object.keys(t.defs),n=e.length,r,i;for(r=0;r<n;++r){let o=e[r];if(!tp(o)){let s=t.defs(o),a=s.units;!a&&s.projName==="longlat"&&(a="degrees"),a0(new mu({code:o,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:a}))}}for(r=0;r<n;++r){let o=e[r],s=tp(o);for(i=0;i<n;++i){let a=e[i],l=tp(a);if(!rp(o,a))if(t.defs[o]===t.defs[a])n2([s,l]);else{let c=t(o,a);Ck(s,l,HC(s,l,c.forward),HC(l,s,c.inverse))}}}}var Bw=class{static _epsgCache=new Map;static getProjection(e){return hl(e)}static registerWktProjection(e){let n=e.replace(/\s+/g," ").trim(),r=this._epsgCache.get(n);if(r)return r;let i=this._generateCode(n);return hl.defs(i)||(hl.defs(i,n),k7(hl)),this._epsgCache.set(n,i),i}static getEpsgCodeFromWkt(e){let n=e.replace(/\s+/g,"").toUpperCase();if(n.includes("GCS_WGS_1984")||n.includes('DATUM["D_WGS_1984"]'))return"EPSG:4326";if(n.includes("WGS_1984_WEB_MERCATOR"))return"EPSG:3857";if(n.includes("ITRF_1996"))return"EPSG:5254";throw new Error("EPSG code not found in WKT")}static transformPoint(e,n,r){let i=this.getProjection(n),o=this.getProjection(r);return hl(i,o,e)}static _generateCode(e){return`CUSTOM:${this._hash(e)}`}static _hash(e){let n=0;for(let r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return Math.abs(n).toString()}};var Uw=class{type="zip";import(e){return bt(this,null,function*(){let n=yield e.arrayBuffer(),r="EPSG:4326",i=yield P7(n),o=yield this.extractPrj(e);return o&&(r=Bw.getEpsgCodeFromWkt(o)),{geojson:i,crs:r}})}extractPrj(e){return bt(this,null,function*(){let n=yield O7.default.loadAsync(e),r=Object.values(n.files).find(i=>i.name.toLowerCase().endsWith(".prj"));return r?yield r.async("text"):null})}};var Gw=class{type="geojson";import(e){return bt(this,null,function*(){let n=yield e.text(),r=JSON.parse(n);return this._validate(r),{geojson:r,crs:this._detectCrs(r)}})}_detectCrs(e){let n=e?.crs?.properties?.name;return console.log("crsName:",n),n??"EPSG:4326"}_validate(e){if(e.type!=="FeatureCollection")throw new Error("Invalid GeoJSON: not a FeatureCollection");if(!Array.isArray(e.features))throw new Error("Invalid GeoJSON: features missing")}};var er=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Jne="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",Qne={rte:F7,trk:j7,wpt:B7},ere=We(er,{rte:_s(F7),trk:_s(j7),wpt:_s(B7)}),tre=We(er,{text:Re(Ht,"linkText"),type:Re(Ht,"linkType")}),nre=We(er,{name:Re(Ht),email:Are,link:m1}),rre=We(er,{name:Re(Ht),desc:Re(Ht),author:Re(Cre),copyright:Re(Ire),link:m1,time:Re(K0),keywords:Re(Ht),bounds:Dre,extensions:zw}),ire=We(er,{year:Re(Mp),license:Re(Ht)}),ore=We(er,{rte:Ue(Rre),trk:Ue(Pre),wpt:Ue(kre)}),SM=class extends sw{constructor(e){super(),e=e||{},this.dataProjection=nn("EPSG:4326"),this.readExtensions_=e.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let n=0,r=e.length;n<r;++n){let i=e[n];if(this.readExtensions_){let o=i.get("extensionsNode_")||null;this.readExtensions_(i,o)}i.set("extensionsNode_",void 0)}}readMetadata(e){return e?typeof e=="string"?this.readMetadataFromDocument(Ys(e)):$s(e)?this.readMetadataFromDocument(e):this.readMetadataFromNode(e):null}readMetadataFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType===Node.ELEMENT_NODE){let r=this.readMetadataFromNode(n);if(r)return r}return null}readMetadataFromNode(e){if(!er.includes(e.namespaceURI))return null;for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(er.includes(n.namespaceURI)&&n.localName==="metadata")return Qt({},rre,n,[]);return null}readFeatureFromNode(e,n){if(!er.includes(e.namespaceURI))return null;let r=Qne[e.localName];if(!r)return null;let i=r(e,[this.getReadOptions(e,n)]);return i?(this.handleReadExtensions_([i]),i):null}readFeaturesFromNode(e,n){if(!er.includes(e.namespaceURI))return[];if(e.localName=="gpx"){let r=Qt([],ere,e,[this.getReadOptions(e,n)]);return r?(this.handleReadExtensions_(r),r):[]}return[]}writeFeaturesNode(e,n){n=this.adaptOptions(n);let r=yc("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",Ap),r.setAttributeNS(Ap,"xsi:schemaLocation",Jne),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),Bn({node:r},ore,Sre,e,[n]),r}},sre=We(er,{name:Re(Ht),cmt:Re(Ht),desc:Re(Ht),src:Re(Ht),link:m1,number:Re(Mp),extensions:zw,type:Re(Ht),rtept:Mre}),are=We(er,{ele:Re(mn),time:Re(K0)}),lre=We(er,{name:Re(Ht),cmt:Re(Ht),desc:Re(Ht),src:Re(Ht),link:m1,number:Re(Mp),type:Re(Ht),extensions:zw,trkseg:Nre}),cre=We(er,{trkpt:Tre}),ure=We(er,{ele:Re(mn),time:Re(K0)}),hre=We(er,{ele:Re(mn),time:Re(K0),magvar:Re(mn),geoidheight:Re(mn),name:Re(Ht),cmt:Re(Ht),desc:Re(Ht),src:Re(Ht),link:m1,sym:Re(Ht),type:Re(Ht),fix:Re(Ht),sat:Re(Mp),hdop:Re(mn),vdop:Re(mn),pdop:Re(mn),ageofdgpsdata:Re(mn),dgpsid:Re(Mp),extensions:zw}),fre=["text","type"],dre=We(er,{text:Ue(bn),type:Ue(bn)}),pre=We(er,["name","cmt","desc","src","link","number","type","rtept"]),gre=We(er,{name:Ue(bn),cmt:Ue(bn),desc:Ue(bn),src:Ue(bn),link:Ue(DM),number:Ue(J0),type:Ue(bn),rtept:PA(Ue(AM))}),mre=We(er,["ele","time"]),yre=We(er,["name","cmt","desc","src","link","number","type","trkseg"]),_re=We(er,{name:Ue(bn),cmt:Ue(bn),desc:Ue(bn),src:Ue(bn),link:Ue(DM),number:Ue(J0),type:Ue(bn),trkseg:PA(Ue(Lre))}),vre=vs("trkpt"),wre=We(er,{trkpt:Ue(AM)}),xre=We(er,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),bre=We(er,{ele:Ue(Xi),time:Ue(QO),magvar:Ue(Xi),geoidheight:Ue(Xi),name:Ue(bn),cmt:Ue(bn),desc:Ue(bn),src:Ue(bn),link:Ue(DM),sym:Ue(bn),type:Ue(bn),fix:Ue(bn),sat:Ue(J0),hdop:Ue(Xi),vdop:Ue(Xi),pdop:Ue(Xi),ageofdgpsdata:Ue(Xi),dgpsid:Ue(J0)}),Ere={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Sre(t,e,n){let r=t.getGeometry();if(r){let i=Ere[r.getType()];if(i){let o=e[e.length-1].node;return yc(o.namespaceURI,i)}}}function CM(t,e,n,r){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in r?(t.push(r.ele),delete r.ele,e.hasZ=!0):t.push(0),"time"in r?(t.push(r.time),delete r.time,e.hasM=!0):t.push(0),t}function IM(t,e,n){let r="XY",i=2;if(t.hasZ&&t.hasM?(r="XYZM",i=4):t.hasZ?(r="XYZ",i=3):t.hasM&&(r="XYM",i=3),i!==4){for(let o=0,s=e.length/4;o<s;o++)e[o*i]=e[o*4],e[o*i+1]=e[o*4+1],t.hasZ&&(e[o*i+2]=e[o*4+2]),t.hasM&&(e[o*i+2]=e[o*4+3]);if(e.length=e.length/4*i,n)for(let o=0,s=n.length;o<s;o++)n[o]=n[o]/4*i}return r}function Cre(t,e){let n=Qt({},nre,t,e);if(n)return n}function Ire(t,e){let n=Qt({},ire,t,e);if(n){let r=t.getAttribute("author");return r!==null&&(n.author=r),n}}function Dre(t,e){let n=e[e.length-1],r=t.getAttribute("minlat"),i=t.getAttribute("minlon"),o=t.getAttribute("maxlat"),s=t.getAttribute("maxlon");i!==null&&r!==null&&s!==null&&o!==null&&(n.bounds=[[parseFloat(i),parseFloat(r)],[parseFloat(s),parseFloat(o)]])}function Are(t,e){let n=e[e.length-1],r=t.getAttribute("id"),i=t.getAttribute("domain");r!==null&&i!==null&&(n.email=`${r}@${i}`)}function m1(t,e){let n=e[e.length-1],r=t.getAttribute("href");r!==null&&(n.link=r),ll(tre,t,e)}function zw(t,e){let n=e[e.length-1];n.extensionsNode_=t}function Mre(t,e){let n=Qt({},are,t,e);if(n){let r=e[e.length-1],i=r.flatCoordinates,o=r.layoutOptions;CM(i,o,t,n)}}function Tre(t,e){let n=Qt({},ure,t,e);if(n){let r=e[e.length-1],i=r.flatCoordinates,o=r.layoutOptions;CM(i,o,t,n)}}function Nre(t,e){let n=e[e.length-1];ll(cre,t,e);let r=n.flatCoordinates;n.ends.push(r.length)}function F7(t,e){let n=e[0],r=Qt({flatCoordinates:[],layoutOptions:{}},sre,t,e);if(!r)return;let i=r.flatCoordinates;delete r.flatCoordinates;let o=r.layoutOptions;delete r.layoutOptions;let s=IM(o,i),a=new oi(i,s);ji(a,!1,n);let l=new ii(a);return l.setProperties(r,!0),l}function j7(t,e){let n=e[0],r=Qt({flatCoordinates:[],ends:[],layoutOptions:{}},lre,t,e);if(!r)return;let i=r.flatCoordinates;delete r.flatCoordinates;let o=r.ends;delete r.ends;let s=r.layoutOptions;delete r.layoutOptions;let a=IM(s,i,o),l=new Uo(i,a,o);ji(l,!1,n);let c=new ii(l);return c.setProperties(r,!0),c}function B7(t,e){let n=e[0],r=Qt({},hre,t,e);if(!r)return;let i={},o=CM([],i,t,r),s=IM(i,o),a=new gi(o,s);ji(a,!1,n);let l=new ii(a);return l.setProperties(r,!0),l}function DM(t,e,n){t.setAttribute("href",e);let i=n[n.length-1].properties,o=[i.linkText,i.linkType];Bn({node:t},dre,yi,o,n,fre)}function AM(t,e,n){let r=n[n.length-1],o=r.node.namespaceURI,s=r.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),r.geometryLayout){case"XYZM":e[3]!==0&&(s.time=e[3]);case"XYZ":e[2]!==0&&(s.ele=e[2]);break;case"XYM":e[2]!==0&&(s.time=e[2]);break;default:}let l=t.nodeName=="rtept"?mre[o]:xre[o],c=Zi(s,l);Bn({node:t,properties:s},bre,yi,c,n,l)}function Rre(t,e,n){let r=n[0],i=e.getProperties(),o={node:t};o.properties=i;let s=e.getGeometry();if(s.getType()=="LineString"){let u=ji(s,!0,r);o.geometryLayout=u.getLayout(),i.rtept=u.getCoordinates()}let a=n[n.length-1].node,l=pre[a.namespaceURI],c=Zi(i,l);Bn(o,gre,yi,c,n,l)}function Pre(t,e,n){let r=n[0],i=e.getProperties(),o={node:t};o.properties=i;let s=e.getGeometry();if(s.getType()=="MultiLineString"){let u=ji(s,!0,r);i.trkseg=u.getLineStrings()}let a=n[n.length-1].node,l=yre[a.namespaceURI],c=Zi(i,l);Bn(o,_re,yi,c,n,l)}function Lre(t,e,n){let r={node:t};r.geometryLayout=e.getLayout(),r.properties={},Bn(r,wre,vre,e.getCoordinates(),n)}function kre(t,e,n){let r=n[0],i=n[n.length-1];i.properties=e.getProperties();let o=e.getGeometry();if(o.getType()=="Point"){let s=ji(o,!0,r);i.geometryLayout=s.getLayout(),AM(t,s.getCoordinates(),n)}}var U7=SM;var Vw=class{type="gpx";import(e){return bt(this,null,function*(){let n=yield e.text(),r=new U7().readFeatures(n);return{geojson:new Go().writeFeaturesObject(r),crs:"EPSG:4326"}})}};var MM=class extends Dp{constructor(){super()}getType(){return"text"}readFeature(e,n){return this.readFeatureFromText(Hw(e),this.adaptOptions(n))}readFeatureFromText(e,n){return Je()}readFeatures(e,n){return this.readFeaturesFromText(Hw(e),this.adaptOptions(n))}readFeaturesFromText(e,n){return Je()}readGeometry(e,n){return this.readGeometryFromText(Hw(e),this.adaptOptions(n))}readGeometryFromText(e,n){return Je()}readProjection(e){return this.readProjectionFromText(Hw(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,n){return this.writeFeatureText(e,this.adaptOptions(n))}writeFeatureText(e,n){return Je()}writeFeatures(e,n){return this.writeFeaturesText(e,this.adaptOptions(n))}writeFeaturesText(e,n){return Je()}writeGeometry(e,n){return this.writeGeometryText(e,this.adaptOptions(n))}writeGeometryText(e,n){return Je()}};function Hw(t){return typeof t=="string"?t:""}var G7=MM;var Ore={POINT:gi,LINESTRING:oi,POLYGON:Li,MULTIPOINT:Ea,MULTILINESTRING:Uo,MULTIPOLYGON:Sa},z7="EMPTY",V7="Z",H7="M",Fre="ZM",In={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},jre={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"},TM=class{constructor(e){this.wkt=e,this.index_=-1}isAlpha_(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}isNumeric_(e,n){return n=n!==void 0?n:!1,e>="0"&&e<="9"||e=="."&&!n}isWhiteSpace_(e){return e==" "||e=="	"||e=="\r"||e==`
`}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){let e=this.nextChar_(),n=this.index_,r=e,i;if(e=="(")i=In.LEFT_PAREN;else if(e==",")i=In.COMMA;else if(e==")")i=In.RIGHT_PAREN;else if(this.isNumeric_(e)||e=="-")i=In.NUMBER,r=this.readNumber_();else if(this.isAlpha_(e))i=In.TEXT,r=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(e==="")i=In.EOF;else throw new Error("Unexpected character: "+e)}return{position:n,value:r,type:i}}readNumber_(){let e,n=this.index_,r=!1,i=!1;do e=="."?r=!0:(e=="e"||e=="E")&&(i=!0),e=this.nextChar_();while(this.isNumeric_(e,r)||!i&&(e=="e"||e=="E")||i&&(e=="-"||e=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}readText_(){let e,n=this.index_;do e=this.nextChar_();while(this.isAlpha_(e));return this.wkt.substring(n,this.index_--).toUpperCase()}},NM=class{constructor(e){this.lexer_=e,this.token_={position:0,type:In.START},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(e){return this.token_.type==e}match(e){let n=this.isTokenType(e);return n&&this.consume_(),n}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let e="XY",n=this.token_;if(this.isTokenType(In.TEXT)){let r=n.value;r===V7?e="XYZ":r===H7?e="XYM":r===Fre&&(e="XYZM"),e!=="XY"&&this.consume_()}return e}parseGeometryCollectionText_(){if(this.match(In.LEFT_PAREN)){let e=[];do e.push(this.parseGeometry_());while(this.match(In.COMMA));if(this.match(In.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(In.LEFT_PAREN)){let e=this.parsePoint_();if(this.match(In.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(In.LEFT_PAREN)){let e=this.parsePointList_();if(this.match(In.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(In.LEFT_PAREN)){let e=this.parseLineStringTextList_();if(this.match(In.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(In.LEFT_PAREN)){let e;if(this.token_.type==In.LEFT_PAREN?e=this.parsePointTextList_():e=this.parsePointList_(),this.match(In.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(In.LEFT_PAREN)){let e=this.parseLineStringTextList_();if(this.match(In.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(In.LEFT_PAREN)){let e=this.parsePolygonTextList_();if(this.match(In.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePoint_(){let e=[],n=this.layout_.length;for(let r=0;r<n;++r){let i=this.token_;if(this.match(In.NUMBER))e.push(i.value);else break}if(e.length==n)return e;throw new Error(this.formatErrorMessage_())}parsePointList_(){let e=[this.parsePoint_()];for(;this.match(In.COMMA);)e.push(this.parsePoint_());return e}parsePointTextList_(){let e=[this.parsePointText_()];for(;this.match(In.COMMA);)e.push(this.parsePointText_());return e}parseLineStringTextList_(){let e=[this.parseLineStringText_()];for(;this.match(In.COMMA);)e.push(this.parseLineStringText_());return e}parsePolygonTextList_(){let e=[this.parsePolygonText_()];for(;this.match(In.COMMA);)e.push(this.parsePolygonText_());return e}isEmptyGeometry_(){let e=this.isTokenType(In.TEXT)&&this.token_.value==z7;return e&&this.consume_(),e}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){let e=this.token_;if(this.match(In.TEXT)){let n=e.value;this.layout_=this.parseGeometryLayout_();let r=this.isEmptyGeometry_();if(n=="GEOMETRYCOLLECTION"){if(r)return new Fi([]);let s=this.parseGeometryCollectionText_();return new Fi(s)}let i=Ore[n];if(!i)throw new Error("Invalid geometry type: "+n);let o;if(r)n=="POINT"?o=[NaN,NaN]:o=[];else switch(n){case"POINT":{o=this.parsePointText_();break}case"LINESTRING":{o=this.parseLineStringText_();break}case"POLYGON":{o=this.parsePolygonText_();break}case"MULTIPOINT":{o=this.parseMultiPointText_();break}case"MULTILINESTRING":{o=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{o=this.parseMultiPolygonText_();break}default:break}return new i(o,this.layout_)}throw new Error(this.formatErrorMessage_())}},RM=class extends G7{constructor(e){super(),e=e||{},this.splitCollection_=e.splitCollection!==void 0?e.splitCollection:!1}parse_(e){let n=new TM(e);return new NM(n).parse()}readFeatureFromText(e,n){let r=this.readGeometryFromText(e,n),i=new ii;return i.setGeometry(r),i}readFeaturesFromText(e,n){let r=[],i=this.readGeometryFromText(e,n);this.splitCollection_&&i.getType()=="GeometryCollection"?r=i.getGeometriesArray():r=[i];let o=[];for(let s=0,a=r.length;s<a;++s){let l=new ii;l.setGeometry(r[s]),o.push(l)}return o}readGeometryFromText(e,n){let r=this.parse_(e);return ji(r,!1,n)}writeFeatureText(e,n){let r=e.getGeometry();return r?this.writeGeometryText(r,n):""}writeFeaturesText(e,n){if(e.length==1)return this.writeFeatureText(e[0],n);let r=[];for(let o=0,s=e.length;o<s;++o)r.push(e[o].getGeometry());let i=new Fi(r);return this.writeGeometryText(i,n)}writeGeometryText(e,n){return $7(ji(e,!0,n))}};function q7(t){let e=t.getCoordinates();return e.length===0?"":e.join(" ")}function Bre(t){let e=[],n=t.getPoints();for(let r=0,i=n.length;r<i;++r)e.push("("+q7(n[r])+")");return e.join(",")}function Ure(t){let e=[],n=t.getGeometries();for(let r=0,i=n.length;r<i;++r)e.push($7(n[r]));return e.join(",")}function PM(t){let e=t.getCoordinates(),n=[];for(let r=0,i=e.length;r<i;++r)n.push(e[r].join(" "));return n.join(",")}function Gre(t){let e=[],n=t.getLineStrings();for(let r=0,i=n.length;r<i;++r)e.push("("+PM(n[r])+")");return e.join(",")}function W7(t){let e=[],n=t.getLinearRings();for(let r=0,i=n.length;r<i;++r)e.push("("+PM(n[r])+")");return e.join(",")}function zre(t){let e=[],n=t.getPolygons();for(let r=0,i=n.length;r<i;++r)e.push("("+W7(n[r])+")");return e.join(",")}function Vre(t){let e=t.getLayout(),n="";return(e==="XYZ"||e==="XYZM")&&(n+=V7),(e==="XYM"||e==="XYZM")&&(n+=H7),n}var Hre={Point:q7,LineString:PM,Polygon:W7,MultiPoint:Bre,MultiLineString:Gre,MultiPolygon:zre,GeometryCollection:Ure};function $7(t){let e=t.getType(),n=Hre[e],r=n(t),i=jre[e];if(typeof t.getFlatCoordinates=="function"){let o=Vre(t);o.length>0&&(i+=" "+o)}return r.length===0?i+" "+z7:i+"("+r+")"}var Y7=RM;var qw=class{type="wkt";import(e){return bt(this,null,function*(){let n=yield e.text(),r=new Y7().readFeatures(n);return{geojson:new Go().writeFeaturesObject(r),crs:"EPSG:4326"}})}};var Ww=class t{type="kml";export(e){let r=new Go().readFeatures(e.geojson,{dataProjection:e.crs,featureProjection:"EPSG:4326"}),i=new gw({extractStyles:!0}).writeFeatures(r,{featureProjection:"EPSG:4326"}),o=new Blob([i],{type:"application/vnd.google-earth.kml+xml"});return Promise.resolve(o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})};var Wp=class{static toEPSG4326(e,n){if(n==="EPSG:4326")return e;let r=new Go,i=r.readFeatures(e,{dataProjection:n,featureProjection:"EPSG:4326"});return r.writeFeaturesObject(i)}};var bj=LN(xj());var Qw=class{type="zip";export(e){return bt(this,null,function*(){if(e?.geojson===void 0||e?.crs===void 0)throw new Error("Invalid data");let n=Wp.toEPSG4326(e.geojson,e.crs);e.geojson.features.forEach(o=>{o.properties||(o.properties={});for(let s in o.properties)o.properties[s]===void 0&&(o.properties[s]=null)});let r={folder:"export_layers",filename:"map_data",outputType:"blob",compression:"DEFLATE",types:{point:"points",polygon:"polygons",polyline:"lines"}};return bj.default.zip(n,r)})}};var ex=class{type="geojson";export(e){return bt(this,null,function*(){let n=Wp.toEPSG4326(e.geojson,e.crs),r=JSON.stringify(n,null,2);return new Blob([r],{type:"application/geo+json"})})}};var Gu=class t{dataSignal=or(null);_importStrategies=[new mw,new Uw,new Gw,new Vw,new qw];_exportStrategies=[new Ww,new Qw,new ex];currentData(){return this.dataSignal()}setData(e){this.dataSignal.set(e)}import(e){return bt(this,null,function*(){let n=e.name.split(".").pop()?.toLowerCase(),r=this._importStrategies.find(o=>o.type===n);if(!r)throw new Error(`Unsupported file type: ${n}`);let i=yield r.import(e);this.dataSignal.set(i)})}export(e){return bt(this,null,function*(){let n=this.dataSignal();if(!n)throw new Error("No geo data loaded");let r=this._exportStrategies.find(i=>i.type===e);if(!r)throw new Error(`Export strategy not found: ${e}`);return yield r.export(n)})}exportAllData(e,n){return bt(this,null,function*(){let r=this._exportStrategies.find(o=>o.type===e);if(!r)throw new Error(`Export strategy not found: ${e}`);let i=n?{geojson:n,crs:"EPSG:4326"}:this.dataSignal();if(!i)throw new Error("No geo data to export");return yield r.export(i)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})};var Qi=class t{_map=or(null);map=this._map.asReadonly();_vectorLayers=or([]);vectorLayers=this._vectorLayers.asReadonly();setMap(e){this._map.set(e),this.refreshVectorLayers()}getLayersByType(e){return this.map().getLayers().getArray().filter(n=>n.get("type")===e)}setBasemapVisibility(e){this.getLayersByType("basemap").forEach(r=>{r.setVisible(!1)}),e.layer.setVisible(!0)}zoomToVectorLayer(e){let n=e.getSource();if(!n)return;let r=n.getExtent();if(!r||r.length===0||el(r))return;let i=this.map();if(!i)return;let o=i.getView();if(!o)return;let s=o.getResolution(),a=gu(r,s*20);o.fit(a,{duration:500})}removeVectorLayer(e){let n=this.map();n&&(n.removeLayer(e),this.refreshVectorLayers())}refreshVectorLayers(){let e=this.map();if(e){let n=e.getLayers().getArray().filter(r=>r.get("type")==="vector");this._vectorLayers.set([...n])}}getImportedSource(){let e=this.map();if(!e)throw new Error("Map has not been initialized yet.");let r=e.getLayers().getArray().find(i=>i.get("id")==="imported");return r?r.getSource():(console.warn("Imported layer not found. Returning an empty source."),new Fu)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})};function hie(t,e){if(t&1){let n=ls();ze(0,"img",34),jn("error",function(){fr(n);let i=Er().$implicit,o=Er();return dr(o.handleImageError(i))}),$e()}if(t&2){let n=Er().$implicit;Kn("src",n.get("thumbnail"),T5)("alt",n.get("name"))}}function fie(t,e){t&1&&(ze(0,"div",35)(1,"span",36),Bt(2,"MAP"),$e()())}function die(t,e){t&1&&(ze(0,"div",37),Fr(),ze(1,"svg",38),$t(2,"path",39),$e()())}function pie(t,e){if(t&1){let n=ls();ze(0,"button",27),jn("click",function(){let i=fr(n).$implicit,o=Er();return dr(o.setBaseLayerVisibility(i))}),ze(1,"div",28),Qr(2,hie,1,2,"img",29)(3,fie,3,0,"div",30),$e(),ze(4,"div",31)(5,"p",32),Bt(6),$e()(),Qr(7,die,3,0,"div",33),$e()}if(t&2){let n=e.$implicit;Vh("border-indigo-500",n.getVisible())("border-slate-200",!n.getVisible())("ring-2",n.getVisible())("ring-indigo-100",n.getVisible()),xn(2),Kn("ngIf",n.get("thumbnail")),xn(),Kn("ngIf",!n.get("thumbnail")),xn(3),Yl(" ",n.get("name").replace("Stadia Maps ","")," "),xn(),Kn("ngIf",n.getVisible())}}function gie(t,e){if(t&1){let n=ls();ze(0,"div",40)(1,"div",41)(2,"button",42),jn("click",function(){let i=fr(n).$implicit,o=Er();return dr(o.toggleLayerVisibility(i))}),$t(3,"span",43),$e(),ze(4,"span",44),Bt(5),$e()(),ze(6,"div",45)(7,"button",46),jn("click",function(){let i=fr(n).$implicit,o=Er();return dr(o.zoomToLayer(i))}),Fr(),ze(8,"svg",47),$t(9,"path",48),$e()(),Io(),ze(10,"button",49),Fr(),ze(11,"svg",47),$t(12,"path",50),$e()()()()}if(t&2){let n=e.$implicit;xn(2),Vh("bg-indigo-600",n.getVisible())("bg-slate-200",!n.getVisible()),xn(),Vh("translate-x-3",n.getVisible())("translate-x-0",!n.getVisible()),xn(),Vh("opacity-50",!n.getVisible()),xn(),Yl(" ",n.get("name")," ")}}var tx=class t{mapService=Le(Qi);basemaps=hS(()=>{let e=this.mapService.map();if(!e)return[];let n=e.getLayers().getArray().filter(r=>r.get("type")==="basemap");return console.log("bm",n),n});layers=this.mapService.vectorLayers;setBaseLayerVisibility(e){this.mapService.getLayersByType("basemap").forEach(r=>{r.setVisible(!1)}),e.setVisible(!0)}toggleLayerVisibility(e){let n=e.getVisible();e.setVisible(!n)}zoomToLayer(e){this.mapService.zoomToVectorLayer(e)}removeLayer(e){this.mapService.removeVectorLayer(e)}getActiveBasemapName(){let e=this.basemaps().find(n=>n.getVisible());return e?e.get("name").replace("Stadia Maps ",""):"Select"}handleImageError(e){let n="assets/map-previews/osm.webp";e.get("thumbnail")!==n&&e.set("thumbnail",n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=br({type:t,selectors:[["app-layer-panel"]],decls:34,vars:4,consts:[[1,"absolute","top-4","right-4","z-20","w-72","flex","flex-col","bg-white/90","backdrop-blur-xl","rounded-2xl","shadow-[0_20px_50px_rgba(0,0,0,0.1)]","border","border-slate-200/60","text-slate-700","overflow-hidden","ring-1","ring-slate-900/5"],[1,"px-4","py-3","bg-slate-50/80","border-b","border-slate-200/60","flex","items-center","justify-between"],[1,"flex","items-center","gap-2.5"],[1,"p-1.5","bg-indigo-600","rounded-lg","shadow-sm","shadow-indigo-200"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-3.5","h-3.5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2.5","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"font-bold","text-[11px]","uppercase","tracking-wider","text-slate-800"],[1,"text-[9px]","font-black","px-2","py-0.5","rounded-full","bg-slate-200","text-slate-600","tracking-tighter"],[1,"overflow-y-auto","max-h-[calc(100vh-200px)]","custom-scrollbar"],[1,"p-3","border-b","border-slate-100","bg-slate-50/30"],[1,"px-2","mb-2","flex","items-center","justify-between"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","tracking-widest","flex","items-center","gap-2"],[1,"w-1","h-1","rounded-full","bg-indigo-400"],[1,"text-[9px]","font-medium","text-indigo-500","bg-indigo-50","px-1.5","py-0.5","rounded"],[1,"flex","gap-2","overflow-x-auto","pb-2","px-1","custom-scrollbar-horizontal","snap-x"],["class","relative flex-shrink-0 w-20 h-14 rounded-lg border-2 transition-all duration-300 snap-center overflow-hidden group",3,"border-indigo-500","border-slate-200","ring-2","ring-indigo-100","click",4,"ngFor","ngForOf"],[1,"p-3"],[1,"px-2","mb-2","text-[10px]","font-bold","text-slate-400","uppercase","tracking-widest","flex","items-center","gap-2"],[1,"w-1","h-1","rounded-full","bg-slate-300"],[1,"space-y-1"],["class","group flex items-center justify-between p-2 rounded-xl transition-all duration-200 hover:bg-slate-50 border border-transparent hover:border-slate-100 shadow-none hover:shadow-sm",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-slate-50/80","border-t","border-slate-200/60","flex","justify-between","items-center","text-[10px]"],[1,"flex","items-center","gap-2","font-semibold","text-slate-500","italic"],[1,"relative","flex","h-2","w-2"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-emerald-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2","bg-emerald-500"],[1,"font-bold","text-slate-400"],[1,"relative","flex-shrink-0","w-20","h-14","rounded-lg","border-2","transition-all","duration-300","snap-center","overflow-hidden","group",3,"click"],[1,"absolute","inset-0","bg-slate-200"],["class","w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",3,"src","alt","error",4,"ngIf"],["class","w-full h-full flex items-center justify-center bg-slate-300",4,"ngIf"],[1,"absolute","bottom-0","inset-x-0","bg-white/90","backdrop-blur-sm","py-0.5","px-1","text-center","border-t","border-slate-100"],[1,"text-[8px]","font-bold","text-slate-600","truncate","uppercase","tracking-tighter"],["class","absolute top-1 right-1 bg-indigo-500 rounded-full p-0.5 shadow-sm",4,"ngIf"],[1,"w-full","h-full","object-cover","transition-transform","duration-500","group-hover:scale-110",3,"error","src","alt"],[1,"w-full","h-full","flex","items-center","justify-center","bg-slate-300"],[1,"text-[10px]","font-bold","text-slate-500"],[1,"absolute","top-1","right-1","bg-indigo-500","rounded-full","p-0.5","shadow-sm"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","4",1,"w-2","h-2","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M5 13l4 4L19 7"],[1,"group","flex","items-center","justify-between","p-2","rounded-xl","transition-all","duration-200","hover:bg-slate-50","border","border-transparent","hover:border-slate-100","shadow-none","hover:shadow-sm"],[1,"flex","items-center","gap-3","min-w-0"],[1,"relative","inline-flex","h-4","w-7","shrink-0","cursor-pointer","rounded-full","border-2","border-transparent","transition-colors","duration-200","focus:outline-none",3,"click"],[1,"pointer-events-none","inline-block","h-3","w-3","transform","rounded-full","bg-white","shadow","ring-0","transition","duration-200","ease-in-out"],[1,"truncate","text-[11px]","font-medium","text-slate-600","group-hover:text-slate-900","transition-colors"],[1,"flex","items-center","gap-1","opacity-0","group-hover:opacity-100","transition-all","duration-200"],["title","Focus Extent",1,"p-1.5","rounded-lg","hover:bg-indigo-100","text-slate-400","hover:text-indigo-600","transition-colors",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"w-3.5","h-3.5"],["d","M15 3h6m0 0v6m0-6L14 10M9 21H3m0 0v-6m0 6l7-7"],[1,"p-1.5","rounded-lg","hover:bg-red-50","text-slate-300","hover:text-red-500","transition-colors"],["d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(n,r){n&1&&(ze(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Fr(),ze(4,"svg",4),$t(5,"path",5),$e()(),Io(),ze(6,"span",6),Bt(7,"Layer Panel"),$e()(),ze(8,"span",7),Bt(9,"V1.0"),$e()(),ze(10,"div",8)(11,"div",9)(12,"div",10)(13,"h3",11),$t(14,"span",12),Bt(15," Basemaps "),$e(),ze(16,"span",13),Bt(17),$e()(),ze(18,"div",14),Qr(19,pie,8,12,"button",15),$e()(),ze(20,"div",16)(21,"h3",17),$t(22,"span",18),Bt(23," Active Layers "),$e(),ze(24,"div",19),Qr(25,gie,13,11,"div",20),$e()()(),ze(26,"div",21)(27,"div",22)(28,"span",23),$t(29,"span",24)(30,"span",25),$e(),Bt(31," System Online "),$e(),ze(32,"span",26),Bt(33),$e()()()),n&2&&(xn(17),Yl(" ",r.getActiveBasemapName()," "),xn(2),Kn("ngForOf",r.basemaps()),xn(6),Kn("ngForOf",r.layers()),xn(8),Yl("",r.layers().length," Sources"))},dependencies:[Vi,hv,fa],encapsulation:2})};var mie='&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>',yie='&copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a>',_ie='&copy; <a href="https://stamen.com/" target="_blank">Stamen Design</a>',vie={stamen_terrain:{extension:"png"},stamen_terrain_background:{extension:"png"},stamen_terrain_labels:{extension:"png"},stamen_terrain_lines:{extension:"png"},stamen_toner_background:{extension:"png"},stamen_toner:{extension:"png"},stamen_toner_labels:{extension:"png"},stamen_toner_lines:{extension:"png"},stamen_toner_lite:{extension:"png"},stamen_toner_dark:{extension:"png"},stamen_toner_blacklite:{extension:"png"},stamen_watercolor:{extension:"jpg"},alidade_smooth:{extension:"png"},alidade_smooth_dark:{extension:"png"},alidade_satellite:{extension:"png"},outdoors:{extension:"png"},osm_bright:{extension:"png"}},wie={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_toner_dark:{minZoom:0,maxZoom:20,retina:!0},stamen_toner_blacklite:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}},zM=class extends nw{constructor(e){let n=e.layer.indexOf("-"),r=n==-1?e.layer:e.layer.slice(0,n),i=wie[r]||{minZoom:0,maxZoom:20,retina:!0},o=vie[e.layer],s=e.apiKey?"?api_key="+e.apiKey:"",a=i.retina&&e.retina?"@2x":"",l=e.url!==void 0?e.url:"https://tiles.stadiamaps.com/tiles/"+e.layer+"/{z}/{x}/{y}"+a+"."+o.extension+s,c=[mie,yie,EA];e.layer.startsWith("stamen_")&&c.splice(1,0,_ie),super({attributions:c,cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:i.maxZoom,minZoom:e.minZoom!==void 0?e.minZoom:i.minZoom,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:l,tilePixelRatio:a?2:1,wrapX:e.wrapX,zDirection:e.zDirection})}},Ej=zM;var nx=class t{constructor(e){this._mapService=e;Dm(()=>{let n=this._mapService.map();n&&(console.log("Map detected via Signal!"),this.initPointerListener(n))})}formattedCoords="00.0000, 00.0000";ticking=!1;initPointerListener(e){e.on("pointermove",n=>{this.ticking||(window.requestAnimationFrame(()=>{this._updateCoords(e,n.pixel),this.ticking=!1}),this.ticking=!0)})}_updateCoords(e,n){let r=e.getCoordinateFromPixel(n);if(r){let i=Ik(r);this.formattedCoords=ik(i,"{y}, {x}",4)}}static \u0275fac=function(n){return new(n||t)(Do(Qi))};static \u0275cmp=br({type:t,selectors:[["app-mouse-position"]],decls:14,vars:1,consts:[[1,"absolute","bottom-2","left-1","z-20","flex","items-center","gap-3","px-3","py-2","bg-white/80","backdrop-blur-md","rounded-xl","shadow-lg","border","border-white/40","ring-1","ring-black/5","transition-all","duration-300","hover:bg-white/95"],[1,"flex","items-center","justify-center","w-8","h-8","rounded-lg","bg-slate-100","text-slate-500"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"flex","flex-col"],[1,"text-[9px]","font-bold","text-slate-400","uppercase","tracking-widest","leading-none","mb-1"],[1,"text-xs","font-mono","font-semibold","text-slate-700","tabular-nums"],[1,"flex","items-center","justify-center","ml-1"],[1,"relative","flex","h-2","w-2"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-emerald-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2","bg-emerald-500"]],template:function(n,r){n&1&&($l(0,"div",0)(1,"div",1),Fr(),$l(2,"svg",2),Cm(3,"path",3)(4,"path",4),au()(),Io(),$l(5,"div",5)(6,"span",6),Bt(7," Coordinates "),au(),$l(8,"span",7),Bt(9),au()(),$l(10,"div",8)(11,"span",9),Cm(12,"span",10)(13,"span",11),au()()()),n&2&&(xn(9),Yl(" ",r.formattedCoords," "))},encapsulation:2})};function If(t,e){let n=t.length;return e<0?t[e+n]:e>=n?t[e-n]:t[e]}function Df(t,e){let n=t.length,r=Math.floor(e),i=e-r;r>=n?r-=n:r<0&&(r+=n);let o=r+1;o>=n&&(o-=n);let s=t[r],a=s[0],l=s[1],c=t[o],u=c[0]-a,f=c[1]-l;return[a+u*i,l+f*i]}var rx={index:-1,endIndex:NaN,closestTargetDistance:1/0};function Sj(t,e,n,r){let i=t[0],o=t[1],s=1/0,a=-1,l=NaN;for(let f=0;f<e.targets.length;++f){let d=e.targets[f],h=d.coordinates,g=1/0,y;for(let _=0;_<h.length-1;++_){let v=h[_],E=h[_+1],S=Dj(i,o,v,E);S.squaredDistance<g&&(g=S.squaredDistance,y=_+S.along)}g<s&&(s=g,d.ring&&e.targetIndex===f&&(d.endIndex>d.startIndex?y<d.startIndex&&(y+=h.length):d.endIndex<d.startIndex&&y>d.startIndex&&(y-=h.length)),l=y,a=f)}let c=e.targets[a],u=c.ring;if(e.targetIndex===a&&u){let f=Df(c.coordinates,l),d=n.getPixelFromCoordinate(f),h=n.getPixelFromCoordinate(e.startCoord);Yv(d,h)>r&&(u=!1)}if(u){let f=c.coordinates,d=f.length,h=c.startIndex,g=l;if(h<g){let y=sx(f,h,g);sx(f,h,g-d)<y&&(l-=d)}else{let y=sx(f,h,g);sx(f,h,g+d)<y&&(l+=d)}}return rx.index=a,rx.endIndex=l,rx.closestTargetDistance=s,rx}function Cj(t,e){let n=[];for(let r=0;r<e.length;++r){let o=e[r].getGeometry();Ij(t,o,n)}return n}function Ij(t,e,n){if(e instanceof oi){ix(t,e.getCoordinates(),!1,n);return}if(e instanceof Uo){let r=e.getCoordinates();for(let i=0,o=r.length;i<o;++i)ix(t,r[i],!1,n);return}if(e instanceof Li){let r=e.getCoordinates();for(let i=0,o=r.length;i<o;++i)ix(t,r[i],!0,n);return}if(e instanceof Sa){let r=e.getCoordinates();for(let i=0,o=r.length;i<o;++i){let s=r[i];for(let a=0,l=s.length;a<l;++a)ix(t,s[a],!0,n)}return}if(e instanceof Fi){let r=e.getGeometries();for(let i=0;i<r.length;++i)Ij(t,r[i],n);return}}function ix(t,e,n,r){let i=t[0],o=t[1];for(let s=0,a=e.length-1;s<a;++s){let l=e[s],c=e[s+1],u=Dj(i,o,l,c);if(u.squaredDistance===0){let f=s+u.along;r.push({coordinates:e,ring:n,startIndex:f,endIndex:f});return}}}function ox(t,e){return To(t[0],t[1],e[0],e[1])}function sx(t,e,n){let r,i;e<n?(r=e,i=n):(r=n,i=e);let o=Math.ceil(r),s=Math.floor(i);if(o>s){let l=Df(t,r),c=Df(t,i);return ox(l,c)}let a=0;if(r<o){let l=Df(t,r),c=If(t,o);a+=ox(l,c)}if(s<i){let l=If(t,s),c=Df(t,i);a+=ox(l,c)}for(let l=o;l<s-1;++l){let c=If(t,l),u=If(t,l+1);a+=ox(c,u)}return a}var VM={along:0,squaredDistance:0};function Dj(t,e,n,r){let i=n[0],o=n[1],s=r[0],a=r[1],l=s-i,c=a-o,u=0,f=i,d=o;return(l!==0||c!==0)&&(u=tn(((t-i)*l+(e-o)*c)/(l*l+c*c),0,1),f+=l*u,d+=c*u),VM.along=u,VM.squaredDistance=pu(To(t,e,f,d),10),VM}var ax={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Kp=class extends jr{constructor(e,n){super(e),this.feature=n}},HM=class extends Ws{constructor(e){let n=e;n.stopDown||(n.stopDown=Us),super(n),this.on,this.once,this.un,this.options_=e,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=bie(this.type_),this.stopClick_=!!e.stopClick,this.ignoreNextUpEvent_=!1,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:ga,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let r=e.geometryFunction;if(!r){let i=this.mode_;if(i==="Circle")r=(o,s,a)=>{let l=s||new OO([NaN,NaN]),c=Lo(o[0],a),u=MC(c,Lo(o[o.length-1],a));l.setCenterAndRadius(c,Math.sqrt(u),this.geometryLayout_);let f=ac();return f&&l.transform(a,f),l};else{let o;i==="Point"?o=gi:i==="LineString"?o=oi:i==="Polygon"&&(o=Li),r=(s,a,l)=>(a?i==="Polygon"?s[0].length?a.setCoordinates([s[0].concat([s[0][0]])],this.geometryLayout_):a.setCoordinates([],this.geometryLayout_):a.setCoordinates(s,this.geometryLayout_):a=new o(s,this.geometryLayout_),a)}}this.geometryFunction_=r,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new Z0({source:new Fu({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:xie(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:fp,this.freehandCondition_,e.freehand?this.freehandCondition_=hp:this.freehandCondition_=e.freehandCondition?e.freehandCondition:C0,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(E0.ACTIVE,this.updateState_)}setTrace(e){let n;e?e===!0?n=hp:n=e:n=a8,this.traceCondition_=n}setMap(e){super.setMap(e),this.updateState_()}setFreehand(e){this.freehand_=e,this.freehand_?this.freehandCondition_=hp:this.freehandCondition_=this.options_&&this.options_.freehandCondition?this.options_.freehandCondition:C0}getOverlay(){return this.overlay_}getFreehand(){return this.freehand_}handleEvent(e){e.originalEvent.type===Ke.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let n=e.type===ln.POINTERMOVE,r=!0;return!this.freehand_&&this.lastDragTime_&&e.type===ln.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===ln.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),r=!1):this.freehand_&&e.type===ln.POINTERDOWN?r=!1:n&&this.getPointerCount()<2?(r=e.type===ln.POINTERMOVE,r&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===ln.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===ln.DBLCLICK&&(r=!1),super.handleEvent(e)&&r}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new Gs(ln.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}let n=this.getMap(),r=n.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),i=n.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),o=n0([r,i]),s=this.traceSource_.getFeaturesInExtent(o);if(s.length===0)return;let a=Cj(e.coordinate,s);a.length&&(this.traceState_={active:!0,startCoord:e.coordinate.slice(),targets:a,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,n){let r=e.startIndex<=e.endIndex,i=e.startIndex<=n;r===i?r&&n>e.endIndex||!r&&n<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,n):(r&&n<e.endIndex||!r&&n>e.endIndex)&&this.removeTracedCoordinates_(n,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,n))}removeTracedCoordinates_(e,n){if(e===n)return;let r=0;if(e<n){let i=Math.ceil(e),o=Math.floor(n);o===n&&(o-=1),r=o-i+1}else{let i=Math.floor(e),o=Math.ceil(n);o===n&&(o+=1),r=i-o+1}r>0&&this.removeLastPoints_(r)}addTracedCoordinates_(e,n,r){if(n===r)return;let i=[];if(n<r){let o=Math.ceil(n),s=Math.floor(r);s===r&&(s-=1);for(let a=o;a<=s;++a)i.push(If(e.coordinates,a))}else{let o=Math.floor(n),s=Math.ceil(r);s===r&&(s+=1);for(let a=o;a>=s;--a)i.push(If(e.coordinates,a))}i.length&&this.appendCoordinates(i)}updateTrace_(e){let n=this.traceState_;if(!n.active)return;if(n.targetIndex===-1){let a=e.map.getPixelFromCoordinate(n.startCoord);if(Yv(a,e.pixel)<this.snapTolerance_)return}let r=Sj(e.coordinate,n,this.getMap(),this.snapTolerance_);if(n.targetIndex!==r.index){if(n.targetIndex!==-1){let l=n.targets[n.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}let a=n.targets[r.index];this.addTracedCoordinates_(a,a.startIndex,r.endIndex)}else{let a=n.targets[n.targetIndex];this.addOrRemoveTracedCoordinates_(a,r.endIndex)}n.targetIndex=r.index;let i=n.targets[n.targetIndex];i.endIndex=r.endIndex;let o=Df(i.coordinates,i.endIndex),s=this.getMap().getPixelFromCoordinate(o);e.coordinate=o,e.pixel=[Math.round(s[0]),Math.round(s[1])]}handleDragEvent(e){this.ignoreNextUpEvent_=!0,super.handleDragEvent(e)}handleUpEvent(e){let n=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);let r=this.traceState_.active;if(this.ignoreNextUpEvent_||this.toggleTraceState_(e),this.shouldHandle_){let i=!this.finishCoordinate_;i&&this.startDrawing_(e.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_==="Point")&&(this.atFinish_(e.pixel,r)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),n=!1}else this.freehand_&&this.abortDrawing()}return this.ignoreNextUpEvent_=!1,!n&&this.stopClick_&&e.preventDefault(),n}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){let n=this.downPx_,r=e.pixel,i=n[0]-r[0],o=n[1]-r[1],s=i*i+o*o;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,n){let r=!1;if(this.sketchFeature_){let i=!1,o=[this.finishCoordinate_],s=this.mode_;if(s==="Point")r=!0;else if(s==="Circle")r=this.sketchCoords_.length===2;else if(s==="LineString")i=!n&&this.sketchCoords_.length>this.minPoints_;else if(s==="Polygon"){let a=this.sketchCoords_;i=a[0].length>this.minPoints_,o=[a[0][0],a[0][a[0].length-2]],n?o=[a[0][0]]:o=[a[0][0],a[0][a[0].length-2]]}if(i){let a=this.getMap();for(let l=0,c=o.length;l<c;l++){let u=o[l],f=a.getPixelFromCoordinate(u),d=e[0]-f[0],h=e[1]-f[1],g=this.freehand_?1:this.snapTolerance_;if(r=Math.sqrt(d*d+h*h)<=g,r){this.finishCoordinate_=u;break}}}}return r}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new ii(new gi(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new ii);let n=e.getLinearRing(0),r=this.sketchLine_.getGeometry();r?(r.setFlatCoordinates(n.getLayout(),n.getFlatCoordinates()),r.changed()):(r=new oi(n.getFlatCoordinates(),n.getLayout()),this.sketchLine_.setGeometry(r))}startDrawing_(e){let n=this.getMap().getView().getProjection(),r=c0(this.geometryLayout_);for(;e.length<r;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new ii(new oi(this.sketchLineCoords_)));let i=this.geometryFunction_(this.sketchCoords_,void 0,n);this.sketchFeature_=new ii,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new Kp(ax.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){let n=this.getMap(),r=this.sketchFeature_.getGeometry(),i=n.getView().getProjection(),o=c0(this.geometryLayout_),s,a;for(;e.length<o;)e.push(0);this.mode_==="Point"?a=this.sketchCoords_:this.mode_==="Polygon"?(s=this.sketchCoords_[0],a=s[s.length-1],this.atFinish_(n.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(s=this.sketchCoords_,a=s[s.length-1]),a[0]=e[0],a[1]=e[1],this.geometryFunction_(this.sketchCoords_,r,i),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),r.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(r):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){let n=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),i,o,s=this.mode_;return s==="LineString"||s==="Circle"?(this.finishCoordinate_=e.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),this.geometryFunction_(o,n,r)):s==="Polygon"&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),i&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,n,r)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),i?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;let n=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),i=this.mode_;for(let o=0;o<e;++o){let s;if(i==="LineString"||i==="Circle"){if(s=this.sketchCoords_,s.splice(-2,1),s.length>=2){this.finishCoordinate_=s[s.length-2].slice();let a=this.finishCoordinate_.slice();s[s.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(s,n,r),n.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(n)}else if(i==="Polygon"){s=this.sketchCoords_[0],s.splice(-2,1);let a=this.sketchLine_.getGeometry();if(s.length>=2){let l=s[s.length-2].slice();s[s.length-1]=l,this.createOrUpdateSketchPoint_(l)}a.setCoordinates(s),this.geometryFunction_(this.sketchCoords_,n,r)}if(s.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){let e=this.abortDrawing_();if(!e)return null;let n=this.sketchCoords_,r=e.getGeometry(),i=this.getMap().getView().getProjection();return this.mode_==="LineString"?(n.pop(),this.geometryFunction_(n,r,i)):this.mode_==="Polygon"&&(n[0].pop(),this.geometryFunction_(n,r,i),n=r.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new Ea([n])):this.type_==="MultiLineString"?e.setGeometry(new Uo([n])):this.type_==="MultiPolygon"&&e.setGeometry(new Sa([n])),this.dispatchEvent(new Kp(ax.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;let e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){let e=this.abortDrawing_();e&&this.dispatchEvent(new Kp(ax.DRAWABORT,e))}appendCoordinates(e){let n=this.mode_,r=!this.sketchFeature_;r&&this.startDrawing_(e[0]);let i;if(n==="LineString"||n==="Circle")i=this.sketchCoords_;else if(n==="Polygon")i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;r&&i.shift(),i.pop();for(let s=0;s<e.length;s++)this.addToDrawing_(e[s]);let o=e[e.length-1];this.sketchFeature_=this.addToDrawing_(o),this.modifyDrawing_(o)}extend(e){let r=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=r.getCoordinates();let i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new ii(new gi(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Kp(ax.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){let e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);let n=this.overlay_.getSource();n.clear(!0),n.addFeatures(e)}updateState_(){let e=this.getMap(),n=this.getActive();(!e||!n)&&this.abortDrawing(),this.overlay_.setMap(n?e:null)}};function xie(){let t=z8();return function(e,n){return t[e.getGeometry().getType()]}}function bie(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+t)}}var Aj=HM;var fl=class t{_drawSource=new Fu;_activeDrawInteraction=null;activeType=or(null);get source(){return this._drawSource}startDrawing(e,n){this.stopDrawing(e),this._activeDrawInteraction=new Aj({source:this._drawSource,type:n}),e.addInteraction(this._activeDrawInteraction),this.activeType.set(n)}stopDrawing(e){this._activeDrawInteraction&&(e.removeInteraction(this._activeDrawInteraction),this._activeDrawInteraction=null),this.activeType.set(null)}clearDrawings(){this._drawSource.clear()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})};function Eie(t,e){t&1&&(Fr(),ze(0,"svg",8),$t(1,"path",9),$e())}function Sie(t,e){t&1&&(Fr(),ze(0,"svg",10),$t(1,"circle",11)(2,"path",12),$e())}var lx=class t{constructor(e){this.geoDataService=e}loading=!1;error=null;onFileSelected(e){return bt(this,null,function*(){let n=e.target.files?.[0];n&&this.geoDataService.import(n)})}static \u0275fac=function(n){return new(n||t)(Do(Gu))};static \u0275cmp=br({type:t,selectors:[["app-upload"]],decls:9,vars:3,consts:[["fileInput",""],[1,"relative","flex","items-center","group"],["type","button",1,"relative","flex","items-center","justify-center","w-10","h-10","rounded-xl","bg-gradient-to-tr","from-emerald-600","to-emerald-500","text-white","shadow-md","hover:shadow-emerald-200","hover:scale-105","transition-all","duration-200","active:scale-95","disabled:opacity-50","disabled:scale-100","disabled:cursor-not-allowed",3,"click","disabled"],["class","w-5 h-5 transition-transform group-hover:translate-y-[-1px]","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","w-5 h-5 animate-spin","viewBox","0 0 24 24","fill","none",4,"ngIf"],["type","file","hidden","",3,"change"],[1,"absolute","top-full","mt-4","left-1/2","-translate-x-1/2","px-2.5","py-1.5","text-[10px]","font-bold","text-white","bg-slate-800","rounded-lg","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","whitespace-nowrap","shadow-xl","z-[60]"],[1,"absolute","-top-1","left-1/2","-translate-x-1/2","w-2","h-2","bg-slate-800","rotate-45"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","transition-transform","group-hover:translate-y-[-1px]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["viewBox","0 0 24 24","fill","none",1,"w-5","h-5","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v8H4z",1,"opacity-75"]],template:function(n,r){if(n&1){let i=ls();ze(0,"div",1)(1,"button",2),jn("click",function(){fr(i);let s=oS(5);return dr(s.click())}),Qr(2,Eie,2,0,"svg",3)(3,Sie,3,0,"svg",4),$e(),ze(4,"input",5,0),jn("change",function(s){return fr(i),dr(r.onFileSelected(s))}),$e(),ze(6,"div",6),Bt(7," IMPORT DATA "),$t(8,"div",7),$e()()}n&2&&(xn(),Kn("disabled",r.loading),xn(),Kn("ngIf",!r.loading),xn(),Kn("ngIf",r.loading))},dependencies:[Vi,fa],encapsulation:2})};function Cie(t,e){if(t&1){let n=ls();ze(0,"div",7)(1,"button",8),jn("click",function(){fr(n);let i=Er();return dr(i.export("kml"))}),ze(2,"span",9),Bt(3,"\u{1F30D}"),$e(),ze(4,"span"),Bt(5,"Google Earth (KML)"),$e()(),ze(6,"button",8),jn("click",function(){fr(n);let i=Er();return dr(i.export("geojson"))}),ze(7,"span",10),Bt(8,"\u{1F9ED}"),$e(),ze(9,"span"),Bt(10,"GeoJSON File"),$e()(),ze(11,"button",8),jn("click",function(){fr(n);let i=Er();return dr(i.export("zip"))}),ze(12,"span",11),Bt(13,"\u{1F5FA}\uFE0F"),$e(),ze(14,"span"),Bt(15,"Shapefile (SHP)"),$e()()()}}var cx=class t{_el=Le(as);_geoDataService=Le(Gu);_drawService=Le(fl);_mapService=Le(Qi);showExportMenu=or(!1);onDocumentClick(e){this._el.nativeElement.contains(e.target)||this.showExportMenu.set(!1)}toggleExportMenu(){this.showExportMenu.update(e=>!e)}export(e){return bt(this,null,function*(){try{if(this.showExportMenu.set(!1),e==="kml"||e==="gpx"||e==="zip"||e==="geojson"){let n=this.mergeSources(),r=yield this._geoDataService.exportAllData(e,n),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=`export.${e}`,o.click(),URL.revokeObjectURL(i)}}catch(n){console.error("Export error:",n),alert(n instanceof Error?n.message:"Export failed")}})}mergeSources(){let e=new Go,n=[...this._mapService.getImportedSource().getFeatures(),...this._drawService.source.getFeatures()];return e.writeFeaturesObject(n,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=br({type:t,selectors:[["app-download"]],hostBindings:function(n,r){n&1&&jn("click",function(o){return r.onDocumentClick(o)},Uh)},decls:8,vars:1,consts:[[1,"relative","group"],[1,"group/btn","flex","items-center","justify-center","w-10","h-10","rounded-xl","bg-gradient-to-tr","from-blue-600","to-blue-500","text-white","shadow-md","hover:shadow-blue-200","hover:scale-105","transition-all","duration-200","active:scale-95",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","group-hover/btn:translate-y-[-1px]","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],[1,"absolute","top-full","mt-4","left-1/2","-translate-x-1/2","px-2.5","py-1.5","text-[10px]","font-bold","text-white","bg-slate-800","rounded-lg","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","whitespace-nowrap","shadow-xl","z-50"],[1,"absolute","-top-1","left-1/2","-translate-x-1/2","w-2","h-2","bg-slate-800","rotate-45"],["class","absolute top-full left-1/2 -translate-x-1/2 mt-4 bg-white/95 backdrop-blur-xl rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.1)] border border-gray-100 flex flex-col overflow-hidden min-w-[180px] p-1.5 ring-1 ring-black/5 z-50",4,"ngIf"],[1,"absolute","top-full","left-1/2","-translate-x-1/2","mt-4","bg-white/95","backdrop-blur-xl","rounded-2xl","shadow-[0_10px_40px_rgba(0,0,0,0.1)]","border","border-gray-100","flex","flex-col","overflow-hidden","min-w-[180px]","p-1.5","ring-1","ring-black/5","z-50"],[1,"flex","items-center","gap-3","px-3","py-2.5","rounded-xl","hover:bg-blue-50","text-xs","font-semibold","text-gray-700","transition-all",3,"click"],[1,"flex","items-center","justify-center","w-7","h-7","bg-orange-100","rounded-lg","text-sm","shadow-sm"],[1,"flex","items-center","justify-center","w-7","h-7","bg-emerald-100","rounded-lg","text-sm","shadow-sm"],[1,"flex","items-center","justify-center","w-7","h-7","bg-blue-100","rounded-lg","text-sm","shadow-sm"]],template:function(n,r){n&1&&(ze(0,"div",0)(1,"button",1),jn("click",function(){return r.toggleExportMenu()}),Fr(),ze(2,"svg",2),$t(3,"path",3),$e()(),Io(),ze(4,"div",4),Bt(5," EXPORT DATA "),$t(6,"div",5),$e(),Qr(7,Cie,16,0,"div",6),$e()),n&2&&(xn(7),Kn("ngIf",r.showExportMenu()))},dependencies:[Vi,fa],encapsulation:2})};function Iie(t,e){t&1&&$t(0,"div",16)}function Die(t,e){t&1&&$t(0,"div",16)}function Aie(t,e){t&1&&$t(0,"div",16)}function Mie(t,e){if(t&1){let n=ls();ze(0,"div",7)(1,"div",8),Bt(2,"Select Type"),$e(),ze(3,"button",9),jn("click",function(){fr(n);let i=Er();return dr(i.startDrawing("Point"))}),ze(4,"div",10)(5,"span",11),Bt(6,"\u{1F4CD}"),$e(),ze(7,"span"),Bt(8,"Point"),$e()(),Qr(9,Iie,1,0,"div",12),$e(),ze(10,"button",9),jn("click",function(){fr(n);let i=Er();return dr(i.startDrawing("LineString"))}),ze(11,"div",10)(12,"span",11),Bt(13,"\u{1F4CF}"),$e(),ze(14,"span"),Bt(15,"Line"),$e()(),Qr(16,Die,1,0,"div",12),$e(),ze(17,"button",9),jn("click",function(){fr(n);let i=Er();return dr(i.startDrawing("Polygon"))}),ze(18,"div",10)(19,"span",11),Bt(20,"\u2B20"),$e(),ze(21,"span"),Bt(22,"Polygon"),$e()(),Qr(23,Aie,1,0,"div",12),$e(),$t(24,"div",13),ze(25,"button",14),jn("click",function(){fr(n);let i=Er();return dr(i.startDrawing(null))}),ze(26,"span",15),Bt(27,"\u2715"),$e(),ze(28,"span"),Bt(29,"Stop Drawing"),$e()()()}if(t&2){let n=Er();xn(9),Kn("ngIf",n.activeType()==="Point"),xn(7),Kn("ngIf",n.activeType()==="LineString"),xn(7),Kn("ngIf",n.activeType()==="Polygon")}}var ux=class t{_el=Le(as);_drawService=Le(fl);_mapService=Le(Qi);showMenu=or(!1);activeType=this._drawService.activeType;onDocumentClick(e){this._el.nativeElement.contains(e.target)||this.showMenu.set(!1)}toggleMenu(){this.showMenu.update(e=>!e)}startDrawing(e){let n=this._mapService.map();n&&(e===null?this._drawService.stopDrawing(n):this._drawService.startDrawing(n,e),this.showMenu.set(!1))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=br({type:t,selectors:[["app-drawing-tools"]],hostBindings:function(n,r){n&1&&jn("click",function(o){return r.onDocumentClick(o)},Uh)},decls:8,vars:2,consts:[[1,"relative","group"],[1,"group/btn","flex","items-center","justify-center","w-10","h-10","rounded-xl","transition-all","duration-200","active:scale-95","shadow-md",3,"click","ngClass"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","group-hover/btn:rotate-12","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"],[1,"absolute","top-full","mt-4","left-1/2","-translate-x-1/2","px-2.5","py-1.5","text-[10px]","font-bold","text-white","bg-slate-800","rounded-lg","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","whitespace-nowrap","shadow-xl","z-50"],[1,"absolute","-top-1","left-1/2","-translate-x-1/2","w-2","h-2","bg-slate-800","rotate-45"],["class","absolute top-full left-1/2 -translate-x-1/2 mt-4 bg-white/95 backdrop-blur-xl rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.1)] border border-gray-100 flex flex-col overflow-hidden min-w-[180px] p-1.5 ring-1 ring-black/5 z-50",4,"ngIf"],[1,"absolute","top-full","left-1/2","-translate-x-1/2","mt-4","bg-white/95","backdrop-blur-xl","rounded-2xl","shadow-[0_10px_40px_rgba(0,0,0,0.1)]","border","border-gray-100","flex","flex-col","overflow-hidden","min-w-[180px]","p-1.5","ring-1","ring-black/5","z-50"],[1,"px-3","py-1.5","mb-1","text-[9px]","uppercase","tracking-wider","font-bold","text-slate-400"],[1,"flex","items-center","justify-between","px-3","py-2.5","rounded-xl","hover:bg-indigo-50","text-xs","font-semibold","text-slate-700","transition-all",3,"click"],[1,"flex","items-center","gap-3"],[1,"flex","items-center","justify-center","w-7","h-7","bg-indigo-100","rounded-lg","shadow-sm"],["class","w-1.5 h-1.5 rounded-full bg-indigo-500 animate-pulse",4,"ngIf"],[1,"h-[1px]","bg-slate-100","my-1"],[1,"flex","items-center","gap-3","px-3","py-2.5","rounded-xl","hover:bg-red-50","text-xs","font-semibold","text-red-600","transition-all",3,"click"],[1,"flex","items-center","justify-center","w-7","h-7","bg-red-100","rounded-lg"],[1,"w-1.5","h-1.5","rounded-full","bg-indigo-500","animate-pulse"]],template:function(n,r){n&1&&(ze(0,"div",0)(1,"button",1),jn("click",function(){return r.toggleMenu()}),Fr(),ze(2,"svg",2),$t(3,"path",3),$e()(),Io(),ze(4,"div",4),Bt(5," DRAWING TOOLS "),$t(6,"div",5),$e(),Qr(7,Mie,30,3,"div",6),$e()),n&2&&(xn(),Kn("ngClass",r.activeType()?"bg-indigo-600 text-white ring-4 ring-indigo-100":"bg-gradient-to-tr from-indigo-600 to-indigo-500 text-white hover:scale-105"),xn(6),Kn("ngIf",r.showMenu()))},dependencies:[Vi,Tm,fa],encapsulation:2})};var Ta=Uint8Array,xs=Uint16Array,ZM=Int32Array,XM=new Ta([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),KM=new Ta([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mj=new Ta([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pj=function(t,e){for(var n=new xs(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ZM(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},Lj=Pj(XM,2),Tie=Lj.b,WM=Lj.r;Tie[28]=258,WM[258]=28;var kj=Pj(KM,0),mze=kj.b,Tj=kj.r,$M=new xs(32768);for(Dn=0;Dn<32768;++Dn)Dc=(Dn&43690)>>1|(Dn&21845)<<1,Dc=(Dc&52428)>>2|(Dc&13107)<<2,Dc=(Dc&61680)>>4|(Dc&3855)<<4,$M[Dn]=((Dc&65280)>>8|(Dc&255)<<8)>>1;var Dc,Dn,x1=function(t,e,n){for(var r=t.length,i=0,o=new xs(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new xs(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new xs(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)a[$M[f]>>l]=c}else for(a=new xs(r),i=0;i<r;++i)t[i]&&(a[i]=$M[s[t[i]-1]++]>>15-t[i]);return a},Af=new Ta(288);for(Dn=0;Dn<144;++Dn)Af[Dn]=8;var Dn;for(Dn=144;Dn<256;++Dn)Af[Dn]=9;var Dn;for(Dn=256;Dn<280;++Dn)Af[Dn]=7;var Dn;for(Dn=280;Dn<288;++Dn)Af[Dn]=8;var Dn,hx=new Ta(32);for(Dn=0;Dn<32;++Dn)hx[Dn]=5;var Dn,Nie=x1(Af,9,0);var Rie=x1(hx,5,0);var Oj=function(t){return(t+7)/8|0},Pie=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new Ta(t.subarray(e,n))};var Ac=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},v1=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},qM=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:jj,l:0};if(i==1){var s=new Ta(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(R,V){return R.f-V.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=o[0].s,r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var h=new xs(d+1),g=YM(n[u-1],h,0);if(g>e){var r=0,y=0,_=g-e,v=1<<_;for(o.sort(function(V,j){return h[j.s]-h[V.s]||V.f-j.f});r<i;++r){var E=o[r].s;if(h[E]>e)y+=v-(1<<g-h[E]),h[E]=e;else break}for(y>>=_;y>0;){var S=o[r].s;h[S]<e?y-=1<<e-h[S]++-1:++r}for(;r>=0&&y;--r){var I=o[r].s;h[I]==e&&(--h[I],++y)}g=e}return{t:new Ta(h),l:g}},YM=function(t,e,n){return t.s==-1?Math.max(YM(t.l,e,n+1),YM(t.r,e,n+1)):e[t.s]=n},Nj=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new xs(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},w1=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Fj=function(t,e,n){var r=n.length,i=Oj(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},Rj=function(t,e,n,r,i,o,s,a,l,c,u){Ac(e,u++,n),++i[256];for(var f=qM(i,15),d=f.t,h=f.l,g=qM(o,15),y=g.t,_=g.l,v=Nj(d),E=v.c,S=v.n,I=Nj(y),R=I.c,V=I.n,j=new xs(19),F=0;F<E.length;++F)++j[E[F]&31];for(var F=0;F<R.length;++F)++j[R[F]&31];for(var k=qM(j,7),N=k.t,T=k.l,x=19;x>4&&!N[Mj[x-1]];--x);var O=c+5<<3,$=w1(i,Af)+w1(o,hx)+s,Y=w1(i,d)+w1(o,y)+s+14+3*x+w1(j,N)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&O<=$&&O<=Y)return Fj(e,u,t.subarray(l,l+c));var se,K,te,W;if(Ac(e,u,1+(Y<$)),u+=2,Y<$){se=x1(d,h,0),K=d,te=x1(y,_,0),W=y;var ee=x1(N,T,0);Ac(e,u,S-257),Ac(e,u+5,V-1),Ac(e,u+10,x-4),u+=14;for(var F=0;F<x;++F)Ac(e,u+3*F,N[Mj[F]]);u+=3*x;for(var pe=[E,R],M=0;M<2;++M)for(var z=pe[M],F=0;F<z.length;++F){var Q=z[F]&31;Ac(e,u,ee[Q]),u+=N[Q],Q>15&&(Ac(e,u,z[F]>>5&127),u+=z[F]>>12)}}else se=Nie,K=Af,te=Rie,W=hx;for(var F=0;F<a;++F){var ne=r[F];if(ne>255){var Q=ne>>18&31;v1(e,u,se[Q+257]),u+=K[Q+257],Q>7&&(Ac(e,u,ne>>23&31),u+=XM[Q]);var re=ne&31;v1(e,u,te[re]),u+=W[re],re>3&&(v1(e,u,ne>>5&8191),u+=KM[re])}else v1(e,u,se[ne]),u+=K[ne]}return v1(e,u,se[256]),u+K[256]},Lie=new ZM([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jj=new Ta(0),kie=function(t,e,n,r,i,o){var s=o.z||t.length,a=new Ta(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,u=(o.r||0)&7;if(e){u&&(l[0]=o.r>>3);for(var f=Lie[e-1],d=f>>13,h=f&8191,g=(1<<n)-1,y=o.p||new xs(32768),_=o.h||new xs(g+1),v=Math.ceil(n/3),E=2*v,S=function(he){return(t[he]^t[he+1]<<v^t[he+2]<<E)&g},I=new ZM(25e3),R=new xs(288),V=new xs(32),j=0,F=0,k=o.i||0,N=0,T=o.w||0,x=0;k+2<s;++k){var O=S(k),$=k&32767,Y=_[O];if(y[$]=Y,_[O]=$,T<=k){var se=s-k;if((j>7e3||N>24576)&&(se>423||!c)){u=Rj(t,l,0,I,R,V,F,N,x,k-x,u),N=j=F=0,x=k;for(var K=0;K<286;++K)R[K]=0;for(var K=0;K<30;++K)V[K]=0}var te=2,W=0,ee=h,pe=$-Y&32767;if(se>2&&O==S(k-pe))for(var M=Math.min(d,se)-1,z=Math.min(32767,k),Q=Math.min(258,se);pe<=z&&--ee&&$!=Y;){if(t[k+te]==t[k+te-pe]){for(var ne=0;ne<Q&&t[k+ne]==t[k+ne-pe];++ne);if(ne>te){if(te=ne,W=pe,ne>M)break;for(var re=Math.min(pe,ne-2),le=0,K=0;K<re;++K){var _e=k-pe+K&32767,ye=y[_e],Se=_e-ye&32767;Se>le&&(le=Se,Y=_e)}}}$=Y,Y=y[$],pe+=$-Y&32767}if(W){I[N++]=268435456|WM[te]<<18|Tj[W];var Pe=WM[te]&31,A=Tj[W]&31;F+=XM[Pe]+KM[A],++R[257+Pe],++V[A],T=k+te,++j}else I[N++]=t[k],++R[t[k]]}}for(k=Math.max(k,T);k<s;++k)I[N++]=t[k],++R[t[k]];u=Rj(t,l,c,I,R,V,F,N,x,k-x,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=_,o.p=y,o.i=k,o.w=T)}else{for(var k=o.w||0;k<s+c;k+=65535){var fe=k+65535;fe>=s&&(l[u/8|0]=c,fe=s),u=Fj(l,u+1,t.subarray(k,fe))}o.i=s}return Pie(a,0,r+Oj(u)+i)};var Bj=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Oie=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Ta(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return kie(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)};var Uj=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};var Fie=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Bj();i.p(e.dictionary),Uj(t,2,i.d())}};function fx(t,e){e||(e={});var n=Bj();n.p(t);var r=Oie(t,e,e.dictionary?6:2,4);return Fie(r,e),Uj(r,r.length-4,n.d()),r}var jie=typeof TextDecoder<"u"&&new TextDecoder,Bie=0;try{jie.decode(jj,{stream:!0}),Bie=1}catch{}function Gj(t){if(Array.isArray(t))return t}function zj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function JM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Vj(t,e){if(t){if(typeof t=="string")return JM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JM(t,e):void 0}}function Hj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QM(t,e){return Gj(t)||zj(t,e)||Vj(t,e)||Hj()}function eT(t,e="utf8"){return new TextDecoder(e).decode(t)}var Uie=new TextEncoder;function qj(t){return Uie.encode(t)}var Gie=1024*8,zie=(()=>{let t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),tT={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},b1=class t{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Gie,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);let i=n.offset?n.offset>>>0:0,o=e.byteLength-i,s=i;(ArrayBuffer.isView(e)||e instanceof t)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){let r=tT[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===zie&&n!=="uint8"&&n!=="int8"){let a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();let l=new tT[n](a.buffer);return this.offset+=r,l.reverse(),l}let s=new tT[n](o);return this.offset+=r,s}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return eT(this.readBytes(e))}decodeText(e=1,n="utf8"){return eT(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(qj(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function rg(t){let e=t.length;for(;--e>=0;)t[e]=0}var Vie=0,T9=1,Hie=2,qie=3,Wie=258,CT=29,F1=256,M1=F1+1+CT,eg=30,IT=19,N9=2*M1+1,Mf=15,nT=16,$ie=7,DT=256,R9=16,P9=17,L9=18,mT=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_x=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Yie=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),k9=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zie=512,Tc=new Array((M1+2)*2);rg(Tc);var I1=new Array(eg*2);rg(I1);var T1=new Array(Zie);rg(T1);var N1=new Array(Wie-qie+1);rg(N1);var AT=new Array(CT);rg(AT);var vx=new Array(eg);rg(vx);function rT(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var O9,F9,j9;function iT(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}var B9=t=>t<256?T1[t]:T1[256+(t>>>7)],R1=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},$o=(t,e,n)=>{t.bi_valid>nT-n?(t.bi_buf|=e<<t.bi_valid&65535,R1(t,t.bi_buf),t.bi_buf=e>>nT-t.bi_valid,t.bi_valid+=n-nT):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},pl=(t,e,n)=>{$o(t,n[e*2],n[e*2+1])},U9=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},Xie=t=>{t.bi_valid===16?(R1(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Kie=(t,e)=>{let n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length,c,u,f,d,h,g,y=0;for(d=0;d<=Mf;d++)t.bl_count[d]=0;for(n[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<N9;c++)u=t.heap[c],d=n[n[u*2+1]*2+1]+1,d>l&&(d=l,y++),n[u*2+1]=d,!(u>r)&&(t.bl_count[d]++,h=0,u>=a&&(h=s[u-a]),g=n[u*2],t.opt_len+=g*(d+h),o&&(t.static_len+=g*(i[u*2+1]+h)));if(y!==0){do{for(d=l-1;t.bl_count[d]===0;)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[l]--,y-=2}while(y>0);for(d=l;d!==0;d--)for(u=t.bl_count[d];u!==0;)f=t.heap[--c],!(f>r)&&(n[f*2+1]!==d&&(t.opt_len+=(d-n[f*2+1])*n[f*2],n[f*2+1]=d),u--)}},G9=(t,e,n)=>{let r=new Array(Mf+1),i=0,o,s;for(o=1;o<=Mf;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=U9(r[a]++,a))}},Jie=()=>{let t,e,n,r,i,o=new Array(Mf+1);for(n=0,r=0;r<CT-1;r++)for(AT[r]=n,t=0;t<1<<mT[r];t++)N1[n++]=r;for(N1[n-1]=r,i=0,r=0;r<16;r++)for(vx[r]=i,t=0;t<1<<_x[r];t++)T1[i++]=r;for(i>>=7;r<eg;r++)for(vx[r]=i<<7,t=0;t<1<<_x[r]-7;t++)T1[256+i++]=r;for(e=0;e<=Mf;e++)o[e]=0;for(t=0;t<=143;)Tc[t*2+1]=8,t++,o[8]++;for(;t<=255;)Tc[t*2+1]=9,t++,o[9]++;for(;t<=279;)Tc[t*2+1]=7,t++,o[7]++;for(;t<=287;)Tc[t*2+1]=8,t++,o[8]++;for(G9(Tc,M1+1,o),t=0;t<eg;t++)I1[t*2+1]=5,I1[t*2]=U9(t,5);O9=new rT(Tc,mT,F1+1,M1,Mf),F9=new rT(I1,_x,0,eg,Mf),j9=new rT(new Array(0),Yie,0,IT,$ie)},z9=t=>{let e;for(e=0;e<M1;e++)t.dyn_ltree[e*2]=0;for(e=0;e<eg;e++)t.dyn_dtree[e*2]=0;for(e=0;e<IT;e++)t.bl_tree[e*2]=0;t.dyn_ltree[DT*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},V9=t=>{t.bi_valid>8?R1(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Wj=(t,e,n,r)=>{let i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},oT=(t,e,n)=>{let r=t.heap[n],i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Wj(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Wj(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},$j=(t,e,n)=>{let r,i,o=0,s,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+o++]&255,r+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],r===0?pl(t,i,e):(s=N1[i],pl(t,s+F1+1,e),a=mT[s],a!==0&&(i-=AT[s],$o(t,i,a)),r--,s=B9(r),pl(t,s,n),a=_x[s],a!==0&&(r-=vx[s],$o(t,r,a)));while(o<t.sym_next);pl(t,DT,e)},yT=(t,e)=>{let n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,l=-1,c;for(t.heap_len=0,t.heap_max=N9,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,n[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[c*2+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)oT(t,n,s);c=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],oT(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[c*2]=n[s*2]+n[a*2],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=c,t.heap[1]=c++,oT(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Kie(t,e),G9(n,l,t.bl_count)},Yj=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++a<l&&o===s)&&(a<c?t.bl_tree[o*2]+=a:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[R9*2]++):a<=10?t.bl_tree[P9*2]++:t.bl_tree[L9*2]++,a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},Zj=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++a<l&&o===s)){if(a<c)do pl(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==i&&(pl(t,o,t.bl_tree),a--),pl(t,R9,t.bl_tree),$o(t,a-3,2)):a<=10?(pl(t,P9,t.bl_tree),$o(t,a-3,3)):(pl(t,L9,t.bl_tree),$o(t,a-11,7));a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}},Qie=t=>{let e;for(Yj(t,t.dyn_ltree,t.l_desc.max_code),Yj(t,t.dyn_dtree,t.d_desc.max_code),yT(t,t.bl_desc),e=IT-1;e>=3&&t.bl_tree[k9[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},eoe=(t,e,n,r)=>{let i;for($o(t,e-257,5),$o(t,n-1,5),$o(t,r-4,4),i=0;i<r;i++)$o(t,t.bl_tree[k9[i]*2+1],3);Zj(t,t.dyn_ltree,e-1),Zj(t,t.dyn_dtree,n-1)},toe=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return 0;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return 1;for(n=32;n<F1;n++)if(t.dyn_ltree[n*2]!==0)return 1;return 0},Xj=!1,noe=t=>{Xj||(Jie(),Xj=!0),t.l_desc=new iT(t.dyn_ltree,O9),t.d_desc=new iT(t.dyn_dtree,F9),t.bl_desc=new iT(t.bl_tree,j9),t.bi_buf=0,t.bi_valid=0,z9(t)},H9=(t,e,n,r)=>{$o(t,(Vie<<1)+(r?1:0),3),V9(t),R1(t,n),R1(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},roe=t=>{$o(t,T9<<1,3),pl(t,DT,Tc),Xie(t)},ioe=(t,e,n,r)=>{let i,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=toe(t)),yT(t,t.l_desc),yT(t,t.d_desc),s=Qie(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?H9(t,e,n,r):t.strategy===4||o===i?($o(t,(T9<<1)+(r?1:0),3),$j(t,Tc,I1)):($o(t,(Hie<<1)+(r?1:0),3),eoe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),$j(t,t.dyn_ltree,t.dyn_dtree)),z9(t),r&&V9(t)},ooe=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(N1[n]+F1+1)*2]++,t.dyn_dtree[B9(e)*2]++),t.sym_next===t.sym_end),soe=noe,aoe=H9,loe=ioe,coe=ooe,uoe=roe,hoe={_tr_init:soe,_tr_stored_block:aoe,_tr_flush_block:loe,_tr_tally:coe,_tr_align:uoe},foe=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},P1=foe,doe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},poe=new Uint32Array(doe()),goe=(t,e,n,r)=>{let i=poe,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},_i=goe,Rf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ig={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:moe,_tr_stored_block:_T,_tr_flush_block:yoe,_tr_tally:Hu,_tr_align:_oe}=hoe,{Z_NO_FLUSH:qu,Z_PARTIAL_FLUSH:voe,Z_FULL_FLUSH:woe,Z_FINISH:Ks,Z_BLOCK:Kj,Z_OK:Bi,Z_STREAM_END:Jj,Z_STREAM_ERROR:gl,Z_DATA_ERROR:xoe,Z_BUF_ERROR:sT,Z_DEFAULT_COMPRESSION:boe,Z_FILTERED:Eoe,Z_HUFFMAN_ONLY:dx,Z_RLE:Soe,Z_FIXED:Coe,Z_DEFAULT_STRATEGY:Ioe,Z_UNKNOWN:Doe,Z_DEFLATED:bx}=ig,Aoe=9,Moe=15,Toe=8,Noe=29,Roe=256,vT=Roe+1+Noe,Poe=30,Loe=19,koe=2*vT+1,Ooe=15,un=3,Vu=258,ml=Vu+un+1,Foe=32,tg=42,MT=57,wT=69,xT=73,bT=91,ET=103,Tf=113,S1=666,yo=1,og=2,Pf=3,sg=4,joe=3,Nf=(t,e)=>(t.msg=Rf[e],e),Qj=t=>t*2-(t>4?9:0),zu=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Boe=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)},Uoe=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Wu=Uoe,bs=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Es=(t,e)=>{yoe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,bs(t.strm)},An=(t,e)=>{t.pending_buf[t.pending++]=e},E1=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},ST=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=P1(t.adler,e,i,n):t.state.wrap===2&&(t.adler=_i(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},q9=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-ml?t.strstart-(t.w_size-ml):0,c=t.window,u=t.w_mask,f=t.prev,d=t.strstart+Vu,h=c[r+s-1],g=c[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(c[i+s]!==g||c[i+s-1]!==h||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<d);if(o=Vu-(d-r),r=d-Vu,o>s){if(t.match_start=e,s=o,o>=a)break;h=c[r+s-1],g=c[r+s]}}while((e=f[e&u])>l&&--n!==0);return s<=t.lookahead?s:t.lookahead},ng=t=>{let e=t.w_size,n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ml)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Boe(t),r+=e),t.strm.avail_in===0)break;if(n=ST(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=un)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Wu(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Wu(t,t.ins_h,t.window[i+un-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<un)););}while(t.lookahead<ml&&t.strm.avail_in!==0)},W9=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,o,s=0,a=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&e!==Ks||e===qu||r!==i+t.strm.avail_in)))break;s=e===Ks&&r===i+t.strm.avail_in?1:0,_T(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,bs(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(ST(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?sg:e!==qu&&e!==Ks&&t.strm.avail_in===0&&t.strstart===t.block_start?og:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(ST(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===Ks)&&e!==qu&&t.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=e===Ks&&t.strm.avail_in===0&&r===i?1:0,_T(t,t.block_start,r,s),t.block_start+=r,bs(t.strm)),s?Pf:yo)},aT=(t,e)=>{let n,r;for(;;){if(t.lookahead<ml){if(ng(t),t.lookahead<ml&&e===qu)return yo;if(t.lookahead===0)break}if(n=0,t.lookahead>=un&&(t.ins_h=Wu(t,t.ins_h,t.window[t.strstart+un-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-ml&&(t.match_length=q9(t,n)),t.match_length>=un)if(r=Hu(t,t.strstart-t.match_start,t.match_length-un),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=un){t.match_length--;do t.strstart++,t.ins_h=Wu(t,t.ins_h,t.window[t.strstart+un-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Wu(t,t.ins_h,t.window[t.strstart+1]);else r=Hu(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Es(t,!1),t.strm.avail_out===0))return yo}return t.insert=t.strstart<un-1?t.strstart:un-1,e===Ks?(Es(t,!0),t.strm.avail_out===0?Pf:sg):t.sym_next&&(Es(t,!1),t.strm.avail_out===0)?yo:og},Jp=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<ml){if(ng(t),t.lookahead<ml&&e===qu)return yo;if(t.lookahead===0)break}if(n=0,t.lookahead>=un&&(t.ins_h=Wu(t,t.ins_h,t.window[t.strstart+un-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=un-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ml&&(t.match_length=q9(t,n),t.match_length<=5&&(t.strategy===Eoe||t.match_length===un&&t.strstart-t.match_start>4096)&&(t.match_length=un-1)),t.prev_length>=un&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-un,r=Hu(t,t.strstart-1-t.prev_match,t.prev_length-un),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Wu(t,t.ins_h,t.window[t.strstart+un-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=un-1,t.strstart++,r&&(Es(t,!1),t.strm.avail_out===0))return yo}else if(t.match_available){if(r=Hu(t,0,t.window[t.strstart-1]),r&&Es(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return yo}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Hu(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<un-1?t.strstart:un-1,e===Ks?(Es(t,!0),t.strm.avail_out===0?Pf:sg):t.sym_next&&(Es(t,!1),t.strm.avail_out===0)?yo:og},Goe=(t,e)=>{let n,r,i,o,s=t.window;for(;;){if(t.lookahead<=Vu){if(ng(t),t.lookahead<=Vu&&e===qu)return yo;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=un&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+Vu;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=Vu-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=un?(n=Hu(t,1,t.match_length-un),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Hu(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Es(t,!1),t.strm.avail_out===0))return yo}return t.insert=0,e===Ks?(Es(t,!0),t.strm.avail_out===0?Pf:sg):t.sym_next&&(Es(t,!1),t.strm.avail_out===0)?yo:og},zoe=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(ng(t),t.lookahead===0)){if(e===qu)return yo;break}if(t.match_length=0,n=Hu(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Es(t,!1),t.strm.avail_out===0))return yo}return t.insert=0,e===Ks?(Es(t,!0),t.strm.avail_out===0?Pf:sg):t.sym_next&&(Es(t,!1),t.strm.avail_out===0)?yo:og};function dl(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var C1=[new dl(0,0,0,0,W9),new dl(4,4,8,4,aT),new dl(4,5,16,8,aT),new dl(4,6,32,32,aT),new dl(4,4,16,16,Jp),new dl(8,16,32,32,Jp),new dl(8,16,128,128,Jp),new dl(8,32,128,256,Jp),new dl(32,128,258,1024,Jp),new dl(32,258,258,4096,Jp)],Voe=t=>{t.window_size=2*t.w_size,zu(t.head),t.max_lazy_match=C1[t.level].max_lazy,t.good_match=C1[t.level].good_length,t.nice_match=C1[t.level].nice_length,t.max_chain_length=C1[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=un-1,t.match_available=0,t.ins_h=0};function Hoe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=bx,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(koe*2),this.dyn_dtree=new Uint16Array((2*Poe+1)*2),this.bl_tree=new Uint16Array((2*Loe+1)*2),zu(this.dyn_ltree),zu(this.dyn_dtree),zu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ooe+1),this.heap=new Uint16Array(2*vT+1),zu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*vT+1),zu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var j1=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.status!==tg&&e.status!==MT&&e.status!==wT&&e.status!==xT&&e.status!==bT&&e.status!==ET&&e.status!==Tf&&e.status!==S1?1:0},$9=t=>{if(j1(t))return Nf(t,gl);t.total_in=t.total_out=0,t.data_type=Doe;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?MT:e.wrap?tg:Tf,t.adler=e.wrap===2?0:1,e.last_flush=-2,moe(e),Bi},Y9=t=>{let e=$9(t);return e===Bi&&Voe(t.state),e},qoe=(t,e)=>j1(t)||t.state.wrap!==2?gl:(t.state.gzhead=e,Bi),Z9=(t,e,n,r,i,o)=>{if(!t)return gl;let s=1;if(e===boe&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>Aoe||n!==bx||r<8||r>15||e<0||e>9||o<0||o>Coe||r===8&&s!==1)return Nf(t,gl);r===8&&(r=9);let a=new Hoe;return t.state=a,a.strm=t,a.status=tg,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+un-1)/un),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=o,a.method=n,Y9(t)},Woe=(t,e)=>Z9(t,e,bx,Moe,Toe,Ioe),$oe=(t,e)=>{if(j1(t)||e>Kj||e<0)return t?Nf(t,gl):gl;let n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===S1&&e!==Ks)return Nf(t,t.avail_out===0?sT:gl);let r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(bs(t),t.avail_out===0)return n.last_flush=-1,Bi}else if(t.avail_in===0&&Qj(e)<=Qj(r)&&e!==Ks)return Nf(t,sT);if(n.status===S1&&t.avail_in!==0)return Nf(t,sT);if(n.status===tg&&n.wrap===0&&(n.status=Tf),n.status===tg){let i=bx+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=dx||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=Foe),i+=31-i%31,E1(n,i),n.strstart!==0&&(E1(n,t.adler>>>16),E1(n,t.adler&65535)),t.adler=1,n.status=Tf,bs(t),n.pending!==0)return n.last_flush=-1,Bi}if(n.status===MT){if(t.adler=0,An(n,31),An(n,139),An(n,8),n.gzhead)An(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),An(n,n.gzhead.time&255),An(n,n.gzhead.time>>8&255),An(n,n.gzhead.time>>16&255),An(n,n.gzhead.time>>24&255),An(n,n.level===9?2:n.strategy>=dx||n.level<2?4:0),An(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(An(n,n.gzhead.extra.length&255),An(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=_i(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=wT;else if(An(n,0),An(n,0),An(n,0),An(n,0),An(n,0),An(n,n.level===9?2:n.strategy>=dx||n.level<2?4:0),An(n,joe),n.status=Tf,bs(t),n.pending!==0)return n.last_flush=-1,Bi}if(n.status===wT){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=_i(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,bs(t),n.pending!==0)return n.last_flush=-1,Bi;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=_i(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=xT}if(n.status===xT){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=_i(t.adler,n.pending_buf,n.pending-i,i)),bs(t),n.pending!==0)return n.last_flush=-1,Bi;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,An(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=_i(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=bT}if(n.status===bT){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=_i(t.adler,n.pending_buf,n.pending-i,i)),bs(t),n.pending!==0)return n.last_flush=-1,Bi;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,An(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=_i(t.adler,n.pending_buf,n.pending-i,i))}n.status=ET}if(n.status===ET){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(bs(t),n.pending!==0))return n.last_flush=-1,Bi;An(n,t.adler&255),An(n,t.adler>>8&255),t.adler=0}if(n.status=Tf,bs(t),n.pending!==0)return n.last_flush=-1,Bi}if(t.avail_in!==0||n.lookahead!==0||e!==qu&&n.status!==S1){let i=n.level===0?W9(n,e):n.strategy===dx?zoe(n,e):n.strategy===Soe?Goe(n,e):C1[n.level].func(n,e);if((i===Pf||i===sg)&&(n.status=S1),i===yo||i===Pf)return t.avail_out===0&&(n.last_flush=-1),Bi;if(i===og&&(e===voe?_oe(n):e!==Kj&&(_T(n,0,0,!1),e===woe&&(zu(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),bs(t),t.avail_out===0))return n.last_flush=-1,Bi}return e!==Ks?Bi:n.wrap<=0?Jj:(n.wrap===2?(An(n,t.adler&255),An(n,t.adler>>8&255),An(n,t.adler>>16&255),An(n,t.adler>>24&255),An(n,t.total_in&255),An(n,t.total_in>>8&255),An(n,t.total_in>>16&255),An(n,t.total_in>>24&255)):(E1(n,t.adler>>>16),E1(n,t.adler&65535)),bs(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Bi:Jj)},Yoe=t=>{if(j1(t))return gl;let e=t.state.status;return t.state=null,e===Tf?Nf(t,xoe):Bi},Zoe=(t,e)=>{let n=e.length;if(j1(t))return gl;let r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==tg||r.lookahead)return gl;if(i===1&&(t.adler=P1(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(zu(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ng(r);r.lookahead>=un;){let l=r.strstart,c=r.lookahead-(un-1);do r.ins_h=Wu(r,r.ins_h,r.window[l+un-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=un-1,ng(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=un-1,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,Bi},Xoe=Woe,Koe=Z9,Joe=Y9,Qoe=$9,ese=qoe,tse=$oe,nse=Yoe,rse=Zoe,ise="pako deflate (from Nodeca project)",D1={deflateInit:Xoe,deflateInit2:Koe,deflateReset:Joe,deflateResetKeep:Qoe,deflateSetHeader:ese,deflate:tse,deflateEnd:nse,deflateSetDictionary:rse,deflateInfo:ise},ose=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),sse=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)ose(n,r)&&(t[r]=n[r])}}return t},ase=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;let n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},Ex={assign:sse,flattenChunks:ase},X9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{X9=!1}var L1=new Uint8Array(256);for(let t=0;t<256;t++)L1[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;L1[254]=L1[254]=1;var lse=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e},cse=(t,e)=>{if(e<65534&&t.subarray&&X9)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},use=(t,e)=>{let n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i,o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=L1[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return cse(o,i)},hse=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+L1[t[n]]>e?n:e},k1={string2buf:lse,buf2string:use,utf8border:hse};function fse(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var K9=fse,J9=Object.prototype.toString,{Z_NO_FLUSH:dse,Z_SYNC_FLUSH:pse,Z_FULL_FLUSH:gse,Z_FINISH:mse,Z_OK:wx,Z_STREAM_END:yse,Z_DEFAULT_COMPRESSION:_se,Z_DEFAULT_STRATEGY:vse,Z_DEFLATED:wse}=ig;function B1(t){this.options=Ex.assign({level:_se,method:wse,chunkSize:16384,windowBits:15,memLevel:8,strategy:vse},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K9,this.strm.avail_out=0;let n=D1.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==wx)throw new Error(Rf[n]);if(e.header&&D1.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=k1.string2buf(e.dictionary):J9.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=D1.deflateSetDictionary(this.strm,r),n!==wx)throw new Error(Rf[n]);this._dict_set=!0}}B1.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?mse:dse,typeof t=="string"?n.input=k1.string2buf(t):J9.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===pse||o===gse)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=D1.deflate(n,o),i===yse)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=D1.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===wx;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};B1.prototype.onData=function(t){this.chunks.push(t)};B1.prototype.onEnd=function(t){t===wx&&(this.result=Ex.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function TT(t,e){let n=new B1(e);if(n.push(t,!0),n.err)throw n.msg||Rf[n.err];return n.result}function xse(t,e){return e=e||{},e.raw=!0,TT(t,e)}function bse(t,e){return e=e||{},e.gzip=!0,TT(t,e)}var Ese=B1,Sse=TT,Cse=xse,Ise=bse,Dse=ig,Ase={Deflate:Ese,deflate:Sse,deflateRaw:Cse,gzip:Ise,constants:Dse},px=16209,Mse=16191,Tse=function(e,n){let r,i,o,s,a,l,c,u,f,d,h,g,y,_,v,E,S,I,R,V,j,F,k,N,T=e.state;r=e.next_in,k=e.input,i=r+(e.avail_in-5),o=e.next_out,N=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),l=T.dmax,c=T.wsize,u=T.whave,f=T.wnext,d=T.window,h=T.hold,g=T.bits,y=T.lencode,_=T.distcode,v=(1<<T.lenbits)-1,E=(1<<T.distbits)-1;e:do{g<15&&(h+=k[r++]<<g,g+=8,h+=k[r++]<<g,g+=8),S=y[h&v];t:for(;;){if(I=S>>>24,h>>>=I,g-=I,I=S>>>16&255,I===0)N[o++]=S&65535;else if(I&16){R=S&65535,I&=15,I&&(g<I&&(h+=k[r++]<<g,g+=8),R+=h&(1<<I)-1,h>>>=I,g-=I),g<15&&(h+=k[r++]<<g,g+=8,h+=k[r++]<<g,g+=8),S=_[h&E];n:for(;;){if(I=S>>>24,h>>>=I,g-=I,I=S>>>16&255,I&16){if(V=S&65535,I&=15,g<I&&(h+=k[r++]<<g,g+=8,g<I&&(h+=k[r++]<<g,g+=8)),V+=h&(1<<I)-1,V>l){e.msg="invalid distance too far back",T.mode=px;break e}if(h>>>=I,g-=I,I=o-s,V>I){if(I=V-I,I>u&&T.sane){e.msg="invalid distance too far back",T.mode=px;break e}if(j=0,F=d,f===0){if(j+=c-I,I<R){R-=I;do N[o++]=d[j++];while(--I);j=o-V,F=N}}else if(f<I){if(j+=c+f-I,I-=f,I<R){R-=I;do N[o++]=d[j++];while(--I);if(j=0,f<R){I=f,R-=I;do N[o++]=d[j++];while(--I);j=o-V,F=N}}}else if(j+=f-I,I<R){R-=I;do N[o++]=d[j++];while(--I);j=o-V,F=N}for(;R>2;)N[o++]=F[j++],N[o++]=F[j++],N[o++]=F[j++],R-=3;R&&(N[o++]=F[j++],R>1&&(N[o++]=F[j++]))}else{j=o-V;do N[o++]=N[j++],N[o++]=N[j++],N[o++]=N[j++],R-=3;while(R>2);R&&(N[o++]=N[j++],R>1&&(N[o++]=N[j++]))}}else if((I&64)===0){S=_[(S&65535)+(h&(1<<I)-1)];continue n}else{e.msg="invalid distance code",T.mode=px;break e}break}}else if((I&64)===0){S=y[(S&65535)+(h&(1<<I)-1)];continue t}else if(I&32){T.mode=Mse;break e}else{e.msg="invalid literal/length code",T.mode=px;break e}break}}while(r<i&&o<a);R=g>>3,r-=R,g-=R<<3,h&=(1<<g)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),T.hold=h,T.bits=g},Qp=15,e9=852,t9=592,n9=0,lT=1,r9=2,Nse=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Rse=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Pse=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Lse=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kse=(t,e,n,r,i,o,s,a)=>{let l=a.bits,c=0,u=0,f=0,d=0,h=0,g=0,y=0,_=0,v=0,E=0,S,I,R,V,j,F=null,k,N=new Uint16Array(Qp+1),T=new Uint16Array(Qp+1),x=null,O,$,Y;for(c=0;c<=Qp;c++)N[c]=0;for(u=0;u<r;u++)N[e[n+u]]++;for(h=l,d=Qp;d>=1&&N[d]===0;d--);if(h>d&&(h=d),d===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<d&&N[f]===0;f++);for(h<f&&(h=f),_=1,c=1;c<=Qp;c++)if(_<<=1,_-=N[c],_<0)return-1;if(_>0&&(t===n9||d!==1))return-1;for(T[1]=0,c=1;c<Qp;c++)T[c+1]=T[c]+N[c];for(u=0;u<r;u++)e[n+u]!==0&&(s[T[e[n+u]]++]=u);if(t===n9?(F=x=s,k=20):t===lT?(F=Nse,x=Rse,k=257):(F=Pse,x=Lse,k=0),E=0,u=0,c=f,j=o,g=h,y=0,R=-1,v=1<<h,V=v-1,t===lT&&v>e9||t===r9&&v>t9)return 1;for(;;){O=c-y,s[u]+1<k?($=0,Y=s[u]):s[u]>=k?($=x[s[u]-k],Y=F[s[u]-k]):($=96,Y=0),S=1<<c-y,I=1<<g,f=I;do I-=S,i[j+(E>>y)+I]=O<<24|$<<16|Y|0;while(I!==0);for(S=1<<c-1;E&S;)S>>=1;if(S!==0?(E&=S-1,E+=S):E=0,u++,--N[c]===0){if(c===d)break;c=e[n+s[u]]}if(c>h&&(E&V)!==R){for(y===0&&(y=h),j+=f,g=c-y,_=1<<g;g+y<d&&(_-=N[g+y],!(_<=0));)g++,_<<=1;if(v+=1<<g,t===lT&&v>e9||t===r9&&v>t9)return 1;R=E&V,i[R]=h<<24|g<<16|j-o|0}}return E!==0&&(i[j+E]=c-y<<24|64<<16|0),a.bits=h,0},A1=kse,Ose=0,Q9=1,eB=2,{Z_FINISH:i9,Z_BLOCK:Fse,Z_TREES:gx,Z_OK:Lf,Z_STREAM_END:jse,Z_NEED_DICT:Bse,Z_STREAM_ERROR:Js,Z_DATA_ERROR:tB,Z_MEM_ERROR:nB,Z_BUF_ERROR:Use,Z_DEFLATED:o9}=ig,Sx=16180,s9=16181,a9=16182,l9=16183,c9=16184,u9=16185,h9=16186,f9=16187,d9=16188,p9=16189,xx=16190,Mc=16191,cT=16192,g9=16193,uT=16194,m9=16195,y9=16196,_9=16197,v9=16198,mx=16199,yx=16200,w9=16201,x9=16202,b9=16203,E9=16204,S9=16205,hT=16206,C9=16207,I9=16208,rr=16209,rB=16210,iB=16211,Gse=852,zse=592,Vse=15,Hse=Vse,D9=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function qse(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var kf=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.mode<Sx||e.mode>iB?1:0},oB=t=>{if(kf(t))return Js;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Sx,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Gse),e.distcode=e.distdyn=new Int32Array(zse),e.sane=1,e.back=-1,Lf},sB=t=>{if(kf(t))return Js;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,oB(t)},aB=(t,e)=>{let n;if(kf(t))return Js;let r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Js:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,sB(t))},lB=(t,e)=>{if(!t)return Js;let n=new qse;t.state=n,n.strm=t,n.window=null,n.mode=Sx;let r=aB(t,e);return r!==Lf&&(t.state=null),r},Wse=t=>lB(t,Hse),A9=!0,fT,dT,$se=t=>{if(A9){fT=new Int32Array(512),dT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(A1(Q9,t.lens,0,288,fT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;A1(eB,t.lens,0,32,dT,0,t.work,{bits:5}),A9=!1}t.lencode=fT,t.lenbits=9,t.distcode=dT,t.distbits=5},cB=(t,e,n,r)=>{let i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Yse=(t,e)=>{let n,r,i,o,s,a,l,c,u,f,d,h,g,y,_=0,v,E,S,I,R,V,j,F,k=new Uint8Array(4),N,T,x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(kf(t)||!t.output||!t.input&&t.avail_in!==0)return Js;n=t.state,n.mode===Mc&&(n.mode=cT),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,f=a,d=l,F=Lf;e:for(;;)switch(n.mode){case Sx:if(n.wrap===0){n.mode=cT;break}for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=c&255,k[1]=c>>>8&255,n.check=_i(n.check,k,2,0),c=0,u=0,n.mode=s9;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=rr;break}if((c&15)!==o9){t.msg="unknown compression method",n.mode=rr;break}if(c>>>=4,u-=4,j=(c&15)+8,n.wbits===0&&(n.wbits=j),j>15||j>n.wbits){t.msg="invalid window size",n.mode=rr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?p9:Mc,c=0,u=0;break;case s9:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==o9){t.msg="unknown compression method",n.mode=rr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=rr;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,n.check=_i(n.check,k,2,0)),c=0,u=0,n.mode=a9;case a9:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,n.check=_i(n.check,k,4,0)),c=0,u=0,n.mode=l9;case l9:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,n.check=_i(n.check,k,2,0)),c=0,u=0,n.mode=c9;case c9:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,n.check=_i(n.check,k,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=u9;case u9:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+h),j)),n.flags&512&&n.wrap&4&&(n.check=_i(n.check,r,h,o)),a-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=h9;case h9:if(n.flags&2048){if(a===0)break e;h=0;do j=r[o+h++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j));while(j&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=_i(n.check,r,h,o)),a-=h,o+=h,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=f9;case f9:if(n.flags&4096){if(a===0)break e;h=0;do j=r[o+h++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j));while(j&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=_i(n.check,r,h,o)),a-=h,o+=h,j)break e}else n.head&&(n.head.comment=null);n.mode=d9;case d9:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=rr;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Mc;break;case p9:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.adler=n.check=D9(c),c=0,u=0,n.mode=xx;case xx:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=u,Bse;t.adler=n.check=1,n.mode=Mc;case Mc:if(e===Fse||e===gx)break e;case cT:if(n.last){c>>>=u&7,u-=u&7,n.mode=hT;break}for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=g9;break;case 1:if($se(n),n.mode=mx,e===gx){c>>>=2,u-=2;break e}break;case 2:n.mode=y9;break;case 3:t.msg="invalid block type",n.mode=rr}c>>>=2,u-=2;break;case g9:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=rr;break}if(n.length=c&65535,c=0,u=0,n.mode=uT,e===gx)break e;case uT:n.mode=m9;case m9:if(h=n.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;i.set(r.subarray(o,o+h),s),a-=h,o+=h,l-=h,s+=h,n.length-=h;break}n.mode=Mc;break;case y9:for(;u<14;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=rr;break}n.have=0,n.mode=_9;case _9:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.lens[x[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[x[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},F=A1(Ose,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,F){t.msg="invalid code lengths set",n.mode=rr;break}n.have=0,n.mode=v9;case v9:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[c&(1<<n.lenbits)-1],v=_>>>24,E=_>>>16&255,S=_&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(S<16)c>>>=v,u-=v,n.lens[n.have++]=S;else{if(S===16){for(T=v+2;u<T;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=rr;break}j=n.lens[n.have-1],h=3+(c&3),c>>>=2,u-=2}else if(S===17){for(T=v+3;u<T;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,j=0,h=3+(c&7),c>>>=3,u-=3}else{for(T=v+7;u<T;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,j=0,h=11+(c&127),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=rr;break}for(;h--;)n.lens[n.have++]=j}}if(n.mode===rr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=rr;break}if(n.lenbits=9,N={bits:n.lenbits},F=A1(Q9,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,F){t.msg="invalid literal/lengths set",n.mode=rr;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},F=A1(eB,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,F){t.msg="invalid distances set",n.mode=rr;break}if(n.mode=mx,e===gx)break e;case mx:n.mode=yx;case yx:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=u,Tse(t,d),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,n.mode===Mc&&(n.back=-1);break}for(n.back=0;_=n.lencode[c&(1<<n.lenbits)-1],v=_>>>24,E=_>>>16&255,S=_&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(E&&(E&240)===0){for(I=v,R=E,V=S;_=n.lencode[V+((c&(1<<I+R)-1)>>I)],v=_>>>24,E=_>>>16&255,S=_&65535,!(I+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=I,u-=I,n.back+=I}if(c>>>=v,u-=v,n.back+=v,n.length=S,E===0){n.mode=S9;break}if(E&32){n.back=-1,n.mode=Mc;break}if(E&64){t.msg="invalid literal/length code",n.mode=rr;break}n.extra=E&15,n.mode=w9;case w9:if(n.extra){for(T=n.extra;u<T;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=x9;case x9:for(;_=n.distcode[c&(1<<n.distbits)-1],v=_>>>24,E=_>>>16&255,S=_&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((E&240)===0){for(I=v,R=E,V=S;_=n.distcode[V+((c&(1<<I+R)-1)>>I)],v=_>>>24,E=_>>>16&255,S=_&65535,!(I+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=I,u-=I,n.back+=I}if(c>>>=v,u-=v,n.back+=v,E&64){t.msg="invalid distance code",n.mode=rr;break}n.offset=S,n.extra=E&15,n.mode=b9;case b9:if(n.extra){for(T=n.extra;u<T;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=rr;break}n.mode=E9;case E9:if(l===0)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=rr;break}h>n.wnext?(h-=n.wnext,g=n.wsize-h):g=n.wnext-h,h>n.length&&(h=n.length),y=n.window}else y=i,g=s-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[s++]=y[g++];while(--h);n.length===0&&(n.mode=yx);break;case S9:if(l===0)break e;i[s++]=n.length,l--,n.mode=yx;break;case hT:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[o++]<<u,u+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?_i(n.check,i,d,s-d):P1(n.check,i,d,s-d)),d=l,n.wrap&4&&(n.flags?c:D9(c))!==n.check){t.msg="incorrect data check",n.mode=rr;break}c=0,u=0}n.mode=C9;case C9:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=rr;break}c=0,u=0}n.mode=I9;case I9:F=jse;break e;case rr:F=tB;break e;case rB:return nB;case iB:default:return Js}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<rr&&(n.mode<hT||e!==i9))&&cB(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?_i(n.check,i,d,t.next_out-d):P1(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Mc?128:0)+(n.mode===mx||n.mode===uT?256:0),(f===0&&d===0||e===i9)&&F===Lf&&(F=Use),F},Zse=t=>{if(kf(t))return Js;let e=t.state;return e.window&&(e.window=null),t.state=null,Lf},Xse=(t,e)=>{if(kf(t))return Js;let n=t.state;return(n.wrap&2)===0?Js:(n.head=e,e.done=!1,Lf)},Kse=(t,e)=>{let n=e.length,r,i,o;return kf(t)||(r=t.state,r.wrap!==0&&r.mode!==xx)?Js:r.mode===xx&&(i=1,i=P1(i,e,n,0),i!==r.check)?tB:(o=cB(t,e,n,n),o?(r.mode=rB,nB):(r.havedict=1,Lf))},Jse=sB,Qse=aB,eae=oB,tae=Wse,nae=lB,rae=Yse,iae=Zse,oae=Xse,sae=Kse,aae="pako inflate (from Nodeca project)",Nc={inflateReset:Jse,inflateReset2:Qse,inflateResetKeep:eae,inflateInit:tae,inflateInit2:nae,inflate:rae,inflateEnd:iae,inflateGetHeader:oae,inflateSetDictionary:sae,inflateInfo:aae};function lae(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var cae=lae,uB=Object.prototype.toString,{Z_NO_FLUSH:uae,Z_FINISH:hae,Z_OK:O1,Z_STREAM_END:pT,Z_NEED_DICT:gT,Z_STREAM_ERROR:fae,Z_DATA_ERROR:M9,Z_MEM_ERROR:dae}=ig;function U1(t){this.options=Ex.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K9,this.strm.avail_out=0;let n=Nc.inflateInit2(this.strm,e.windowBits);if(n!==O1)throw new Error(Rf[n]);if(this.header=new cae,Nc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=k1.string2buf(e.dictionary):uB.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Nc.inflateSetDictionary(this.strm,e.dictionary),n!==O1)))throw new Error(Rf[n])}U1.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?hae:uae,uB.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Nc.inflate(n,s),o===gT&&i&&(o=Nc.inflateSetDictionary(n,i),o===O1?o=Nc.inflate(n,s):o===M9&&(o=gT));n.avail_in>0&&o===pT&&n.state.wrap>0&&t[n.next_in]!==0;)Nc.inflateReset(n),o=Nc.inflate(n,s);switch(o){case fae:case M9:case gT:case dae:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===pT))if(this.options.to==="string"){let l=k1.utf8border(n.output,n.next_out),c=n.next_out-l,u=k1.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===O1&&a===0)){if(o===pT)return o=Nc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};U1.prototype.onData=function(t){this.chunks.push(t)};U1.prototype.onEnd=function(t){t===O1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ex.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function NT(t,e){let n=new U1(e);if(n.push(t),n.err)throw n.msg||Rf[n.err];return n.result}function pae(t,e){return e=e||{},e.raw=!0,NT(t,e)}var gae=U1,mae=NT,yae=pae,_ae=NT,vae=ig,wae={Inflate:gae,inflate:mae,inflateRaw:yae,ungzip:_ae,constants:vae},{Deflate:Rze,deflate:Pze,deflateRaw:Lze,gzip:kze}=Ase,{Inflate:xae,inflate:bae,inflateRaw:Oze,ungzip:Fze}=wae;var RT=xae,hB=bae;var dB=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;dB[t]=e}var fB=4294967295;function Eae(t,e,n){let r=t;for(let i=0;i<n;i++)r=dB[(r^e[i])&255]^r>>>8;return r}function Sae(t,e){return(Eae(fB,t,e)^fB)>>>0}function PT(t,e,n){let r=t.readUint32(),i=Sae(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function Cx(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function Ix(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function Dx(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function Ax(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function Mx(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+Cae(e[o-i],n[o],n[o-i])&255}}function Cae(t,e,n){let r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function pB(t,e,n,r,i,o){switch(t){case 0:Cx(e,n,i);break;case 1:Ix(e,n,i,o);break;case 2:Dx(e,n,r,i);break;case 3:Ax(e,n,r,i,o);break;case 4:Mx(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}var Iae=new Uint16Array([255]),Dae=new Uint8Array(Iae.buffer),Aae=Dae[0]===255;function gB(t){let{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*n*a),c=0;for(let u=0;u<7;u++){let f=s[u],d=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(d<=0||h<=0)continue;let g=d*a,y=new Uint8Array(g);for(let _=0;_<h;_++){let v=e[c++],E=e.subarray(c,c+g);c+=g;let S=new Uint8Array(g);pB(v,E,S,y,g,a),y.set(S);for(let I=0;I<d;I++){let R=f.x+I*f.xStep,V=f.y+_*f.yStep;if(!(R>=n||V>=r))for(let j=0;j<a;j++)l[(V*n+R)*a+j]=S[I*a+j]}}}if(o===16){let u=new Uint16Array(l.buffer);if(Aae)for(let f=0;f<u.length;f++)u[f]=Mae(u[f]);return u}else return l}function Mae(t){return(t&255)<<8|t>>8&255}var Tae=new Uint16Array([255]),Nae=new Uint8Array(Tae.buffer),Rae=Nae[0]===255,Pae=new Uint8Array(0);function LT(t){let{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),l=new Uint8Array(r*a),c=Pae,u=0,f,d;for(let h=0;h<r;h++){switch(f=e.subarray(u+1,u+1+a),d=l.subarray(h*a,(h+1)*a),e[u]){case 0:Cx(f,d,a);break;case 1:Ix(f,d,a,s);break;case 2:Dx(f,d,c,a);break;case 3:Ax(f,d,c,a,s);break;case 4:Mx(f,d,c,a,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=d,u+=a+1}if(o===16){let h=new Uint16Array(l.buffer);if(Rae)for(let g=0;g<h.length;g++)h[g]=Lae(h[g]);return h}else return l}function Lae(t){return(t&255)<<8|t>>8&255}var Tx=Uint8Array.of(137,80,78,71,13,10,26,10);function kT(t){if(!mB(t.readBytes(Tx.length)))throw new Error("wrong PNG signature")}function mB(t){if(t.length<Tx.length)return!1;for(let e=0;e<Tx.length;e++)if(t[e]!==Tx[e])return!1;return!0}var yB="tEXt",Oae=0,_B=new TextDecoder("latin1");function Fae(t){if(Bae(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}var jae=/^[\u0000-\u00FF]*$/;function Bae(t){if(!jae.test(t))throw new Error("invalid latin1 text")}function vB(t,e,n){let r=OT(e);t[r]=Uae(e,n-r.length-1)}function OT(t){for(t.mark();t.readByte()!==Oae;);let e=t.offset;t.reset();let n=_B.decode(t.readBytes(e-t.offset-1));return t.skip(1),Fae(n),n}function Uae(t,e){return _B.decode(t.readBytes(e))}var _o={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},G1={UNKNOWN:-1,DEFLATE:0},Nx={UNKNOWN:-1,ADAPTIVE:0},z1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},V1={NONE:0,BACKGROUND:1,PREVIOUS:2},Rx={SOURCE:0,OVER:1};var Px=class extends b1{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);let{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new RT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=G1.UNKNOWN,this._filterMethod=Nx.UNKNOWN,this._interlaceMethod=z1.UNKNOWN,this._colorType=_o.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kT(this);!this._end;){let e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(kT(this);!this._end;){let e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){let r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case yB:vB(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?PT(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){let r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?PT(this,e+4,n):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Gae(this.readUint8());let n=this.readUint8();this._colorType=n;let r;switch(n){case _o.GREYSCALE:r=1;break;case _o.TRUECOLOUR:r=3;break;case _o.INDEXED_COLOUR:r=1;break;case _o.GREYSCALE_ALPHA:r=2;break;case _o.TRUECOLOUR_ALPHA:r=4;break;case _o.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==G1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let n=e/3;this._hasPalette=!0;let r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case _o.GREYSCALE:case _o.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case _o.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){let r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case _o.UNKNOWN:case _o.GREYSCALE_ALPHA:case _o.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let n=OT(this),r=this.readUint8();if(r!==G1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);let i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:hB(i)}}decodepHYs(){let e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=LT({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{let i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case V1.NONE:break;case V1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){let s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case V1.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){let r=1<<this._png.depth,i=(o,s)=>{let a=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,l=(o*n.width+s)*this._png.channels;return{index:a,frameIndex:l}};switch(n.blendOp){case Rx.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){let{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++)e.data[a+c]=n.data[l+c]}break;case Rx.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){let{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++){let u=n.data[l+this._png.channels-1]/r,f=c%(this._png.channels-1)===0?1:n.data[l+c],d=Math.floor(u*f+(1-u)*e.data[a+c]);e.data[a+c]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Nx.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===z1.NO_INTERLACE)this._png.data=LT({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===z1.ADAM7)this._png.data=gB({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:V1.NONE,blendOp:Rx.SOURCE,data:e}),this._inflator=new RT,this._writingDataChunks=!1}};function Gae(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}function wB(t,e){return new Px(t,e).decode()}var Ct=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function FT(){Ct.console&&typeof Ct.console.log=="function"&&Ct.console.log.apply(Ct.console,arguments)}var Yn={log:FT,warn:function(t){Ct.console&&(typeof Ct.console.warn=="function"?Ct.console.warn.apply(Ct.console,arguments):FT.call(null,arguments))},error:function(t){Ct.console&&(typeof Ct.console.error=="function"?Ct.console.error.apply(Ct.console,arguments):FT(t))}};function jT(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Of(r.response,e,n)},r.onerror=function(){Yn.error("could not download file")},r.send()}function xB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lx(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Of=Ct.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Ct.URL||Ct.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?xB(i.href)?jT(t,e,n):Lx(i,i.target="_blank"):Lx(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(xB(t))jT(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Lx(r)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:zn(o)!=="object"&&(Yn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return jT(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(Ct.HTMLElement)||Ct.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=Ct.URL||Ct.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function qB(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var jx=Ct.atob.bind(Ct),bB=Ct.btoa.bind(Ct);function BT(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=eo(n,r,i,o,e[0],7,-680876936),o=eo(o,n,r,i,e[1],12,-389564586),i=eo(i,o,n,r,e[2],17,606105819),r=eo(r,i,o,n,e[3],22,-1044525330),n=eo(n,r,i,o,e[4],7,-176418897),o=eo(o,n,r,i,e[5],12,1200080426),i=eo(i,o,n,r,e[6],17,-1473231341),r=eo(r,i,o,n,e[7],22,-45705983),n=eo(n,r,i,o,e[8],7,1770035416),o=eo(o,n,r,i,e[9],12,-1958414417),i=eo(i,o,n,r,e[10],17,-42063),r=eo(r,i,o,n,e[11],22,-1990404162),n=eo(n,r,i,o,e[12],7,1804603682),o=eo(o,n,r,i,e[13],12,-40341101),i=eo(i,o,n,r,e[14],17,-1502002290),n=to(n,r=eo(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=to(o,n,r,i,e[6],9,-1069501632),i=to(i,o,n,r,e[11],14,643717713),r=to(r,i,o,n,e[0],20,-373897302),n=to(n,r,i,o,e[5],5,-701558691),o=to(o,n,r,i,e[10],9,38016083),i=to(i,o,n,r,e[15],14,-660478335),r=to(r,i,o,n,e[4],20,-405537848),n=to(n,r,i,o,e[9],5,568446438),o=to(o,n,r,i,e[14],9,-1019803690),i=to(i,o,n,r,e[3],14,-187363961),r=to(r,i,o,n,e[8],20,1163531501),n=to(n,r,i,o,e[13],5,-1444681467),o=to(o,n,r,i,e[2],9,-51403784),i=to(i,o,n,r,e[7],14,1735328473),n=no(n,r=to(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=no(o,n,r,i,e[8],11,-2022574463),i=no(i,o,n,r,e[11],16,1839030562),r=no(r,i,o,n,e[14],23,-35309556),n=no(n,r,i,o,e[1],4,-1530992060),o=no(o,n,r,i,e[4],11,1272893353),i=no(i,o,n,r,e[7],16,-155497632),r=no(r,i,o,n,e[10],23,-1094730640),n=no(n,r,i,o,e[13],4,681279174),o=no(o,n,r,i,e[0],11,-358537222),i=no(i,o,n,r,e[3],16,-722521979),r=no(r,i,o,n,e[6],23,76029189),n=no(n,r,i,o,e[9],4,-640364487),o=no(o,n,r,i,e[12],11,-421815835),i=no(i,o,n,r,e[15],16,530742520),n=ro(n,r=no(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=ro(o,n,r,i,e[7],10,1126891415),i=ro(i,o,n,r,e[14],15,-1416354905),r=ro(r,i,o,n,e[5],21,-57434055),n=ro(n,r,i,o,e[12],6,1700485571),o=ro(o,n,r,i,e[3],10,-1894986606),i=ro(i,o,n,r,e[10],15,-1051523),r=ro(r,i,o,n,e[1],21,-2054922799),n=ro(n,r,i,o,e[8],6,1873313359),o=ro(o,n,r,i,e[15],10,-30611744),i=ro(i,o,n,r,e[6],15,-1560198380),r=ro(r,i,o,n,e[13],21,1309151649),n=ro(n,r,i,o,e[4],6,-145523070),o=ro(o,n,r,i,e[11],10,-1120210379),i=ro(i,o,n,r,e[2],15,718787259),r=ro(r,i,o,n,e[9],21,-343485551),t[0]=Yu(n,t[0]),t[1]=Yu(r,t[1]),t[2]=Yu(i,t[2]),t[3]=Yu(o,t[3])}function qx(t,e,n,r,i,o){return e=Yu(Yu(e,t),Yu(r,o)),Yu(e<<i|e>>>32-i,n)}function eo(t,e,n,r,i,o,s){return qx(e&n|~e&r,t,e,i,o,s)}function to(t,e,n,r,i,o,s){return qx(e&r|n&~r,t,e,i,o,s)}function no(t,e,n,r,i,o,s){return qx(e^n^r,t,e,i,o,s)}function ro(t,e,n,r,i,o,s){return qx(n^(e|~r),t,e,i,o,s)}function WB(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)BT(r,zae(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(BT(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,BT(r,i),r}function zae(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var EB="0123456789abcdef".split("");function Vae(t){for(var e="",n=0;n<4;n++)e+=EB[t>>8*n+4&15]+EB[t>>8*n&15];return e}function Hae(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function qT(t){return WB(t).map(Hae).join("")}var qae=(function(t){for(var e=0;e<t.length;e++)t[e]=Vae(t[e]);return t.join("")})(WB("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yu(t,e){if(qae){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function WT(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+s.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var f=e.length,d=0,h=0,g="";for(l=0;l<f;l++)h=(h+(u=a[d=(d+1)%256]))%256,a[d]=a[h],a[h]=u,s=a[(a[d]+a[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^s);return g}var SB={print:4,modify:8,copy:16,"annot-forms":32};function cg(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(SB.perm!==void 0)throw new Error("Invalid permission: "+a);i+=SB[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=qT(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=WT(this.encryptionKey,this.padding)}function ug(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function CB(t){if(zn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){Ct.console&&Yn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Vx(t){if(!(this instanceof Vx))return new Vx(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function $B(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ff(t,e,n,r,i){if(!(this instanceof Ff))return new Ff(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,$B.call(this,r,i)}function hg(t,e,n,r,i){if(!(this instanceof hg))return new hg(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,$B.call(this,r,i)}function lt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",u=null;zn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=CB;var g="1.3",y=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(w){g=w};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return _};var v=h.__private__.getPageFormat=function(w){return _[w]};i=i||"a4";var E="compat",S="advanced",I=E;function R(){this.saveGraphicsState(),C(new tt(wt,0,0,-wt,0,rh()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),c="n",I=S}function V(){this.restoreGraphicsState(),c="S",I=E}var j=h.__private__.combineFontStyleAndFontWeight=function(w,P){if(w=="bold"&&P=="normal"||w=="bold"&&P==400||w=="normal"&&P=="italic"||w=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(w=P==400||P==="normal"?w==="italic"?"italic":"normal":P!=700&&P!=="bold"||w!=="normal"?(P==700?"bold":P)+""+w:"bold"),w};h.advancedAPI=function(w){var P=I===E;return P&&R.call(this),typeof w!="function"||(w(this),P&&V.call(this)),this},h.compatAPI=function(w){var P=I===S;return P&&V.call(this),typeof w!="function"||(w(this),P&&R.call(this)),this},h.isAdvancedAPI=function(){return I===S};var F,k=function(w){if(I!==S)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=h.roundToPrecision=h.__private__.roundToPrecision=function(w,P){var J=e||P;if(isNaN(w)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(J).replace(/0+$/,"")};F=h.hpf=h.__private__.hpf=typeof l=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return N(w,l)}:l==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return N(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return N(w,16)};var T=h.f2=h.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return N(w,2)},x=h.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return N(w,3)},O=h.scale=h.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return I===E?w*wt:I===S?w:void 0},$=function(w){return O((function(P){return I===E?rh()-P:I===S?P:void 0})(w))};h.__private__.setPrecision=h.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var Y,se="00000000000000000000000000000000",K=h.__private__.getFileId=function(){return se},te=h.__private__.setFileId=function(w){return se=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Hr=new cg(u.userPermissions,u.userPassword,u.ownerPassword,se)),se};h.setFileId=function(w){return te(w),this},h.getFileId=function(){return K()};var W=h.__private__.convertDateToPDFDate=function(w){var P=w.getTimezoneOffset(),J=P<0?"+":"-",oe=Math.floor(Math.abs(P/60)),ge=Math.abs(P%60),Me=[J,Q(oe),"'",Q(ge),"'"].join("");return["D:",w.getFullYear(),Q(w.getMonth()+1),Q(w.getDate()),Q(w.getHours()),Q(w.getMinutes()),Q(w.getSeconds()),Me].join("")},ee=h.__private__.convertPDFDateToDate=function(w){var P=parseInt(w.substr(2,4),10),J=parseInt(w.substr(6,2),10)-1,oe=parseInt(w.substr(8,2),10),ge=parseInt(w.substr(10,2),10),Me=parseInt(w.substr(12,2),10),ke=parseInt(w.substr(14,2),10);return new Date(P,J,oe,ge,Me,ke,0)},pe=h.__private__.setCreationDate=function(w){var P;if(w===void 0&&(w=new Date),w instanceof Date)P=W(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=w}return Y=P},M=h.__private__.getCreationDate=function(w){var P=Y;return w==="jsDate"&&(P=ee(Y)),P};h.setCreationDate=function(w){return pe(w),this},h.getCreationDate=function(w){return M(w)};var z,Q=h.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ne=h.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},re=0,le=[],_e=[],ye=0,Se=[],Pe=[],A=!1,fe=_e;h.__private__.setCustomOutputDestination=function(w){A=!0,fe=w};var he=function(w){A||(fe=w)};h.__private__.resetCustomOutputDestination=function(){A=!1,fe=_e};var C=h.__private__.out=function(w){return w=w.toString(),ye+=w.length+1,fe.push(w),fe},G=h.__private__.write=function(w){return C(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},ie=h.__private__.getArrayBuffer=function(w){for(var P=w.length,J=new ArrayBuffer(P),oe=new Uint8Array(J);P--;)oe[P]=w.charCodeAt(P);return J},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ve};var ce=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(w){return ce=I===S?w/wt:w,this};var ae,xe=h.__private__.getFontSize=h.getFontSize=function(){return I===E?ce:ce*wt},Ie=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(w){return Ie=w,this},h.__private__.getR2L=h.getR2L=function(){return Ie};var be,Ge=h.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ae=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ae=w}else ae=parseInt(w,10)};h.__private__.getZoomMode=function(){return ae};var Xe,Ve=h.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');be=w};h.__private__.getPageMode=function(){return be};var yt=h.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Xe=w};h.__private__.getLayoutMode=function(){return Xe},h.__private__.setDisplayMode=h.setDisplayMode=function(w,P,J){return Ge(w),yt(P),Ve(J),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(w){if(Object.keys(Rt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[w]},h.__private__.getDocumentProperties=function(){return Rt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(w){for(var P in Rt)Rt.hasOwnProperty(P)&&w[P]&&(Rt[P]=w[P]);return this},h.__private__.setDocumentProperty=function(w,P){if(Object.keys(Rt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[w]=P};var Ye,wt,He,Un,Jt,vt={},At={},Mn=[],ct={},Tn={},ft={},pt={},on=null,Pt=0,_t=[],yn=new CB(h),Tr=t.hotfixes||[],tr={},cr={},yr=[],tt=function w(P,J,oe,ge,Me,ke){if(!(this instanceof w))return new w(P,J,oe,ge,Me,ke);isNaN(P)&&(P=1),isNaN(J)&&(J=0),isNaN(oe)&&(oe=0),isNaN(ge)&&(ge=1),isNaN(Me)&&(Me=0),isNaN(ke)&&(ke=0),this._matrix=[P,J,oe,ge,Me,ke]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(w)},tt.prototype.multiply=function(w){var P=w.sx*this.sx+w.shy*this.shx,J=w.sx*this.shy+w.shy*this.sy,oe=w.shx*this.sx+w.sy*this.shx,ge=w.shx*this.shy+w.sy*this.sy,Me=w.tx*this.sx+w.ty*this.shx+this.tx,ke=w.tx*this.shy+w.ty*this.sy+this.ty;return new tt(P,J,oe,ge,Me,ke)},tt.prototype.decompose=function(){var w=this.sx,P=this.shy,J=this.shx,oe=this.sy,ge=this.tx,Me=this.ty,ke=Math.sqrt(w*w+P*P),nt=(w/=ke)*J+(P/=ke)*oe;J-=w*nt,oe-=P*nt;var at=Math.sqrt(J*J+oe*oe);return nt/=at,w*(oe/=at)<P*(J/=at)&&(w=-w,P=-P,nt=-nt,ke=-ke),{scale:new tt(ke,0,0,at,0,0),translate:new tt(1,0,0,1,ge,Me),rotate:new tt(w,P,-P,w,0,0),skew:new tt(1,0,nt,1,0,0)}},tt.prototype.toString=function(w){return this.join(" ")},tt.prototype.inversed=function(){var w=this.sx,P=this.shy,J=this.shx,oe=this.sy,ge=this.tx,Me=this.ty,ke=1/(w*oe-P*J),nt=oe*ke,at=-P*ke,It=-J*ke,Vt=w*ke;return new tt(nt,at,It,Vt,-nt*ge-It*Me,-at*ge-Vt*Me)},tt.prototype.applyToPoint=function(w){var P=w.x*this.sx+w.y*this.shx+this.tx,J=w.x*this.shy+w.y*this.sy+this.ty;return new Sl(P,J)},tt.prototype.applyToRectangle=function(w){var P=this.applyToPoint(w),J=this.applyToPoint(new Sl(w.x+w.w,w.y+w.h));return new Sg(P.x,P.y,J.x-P.x,J.y-P.y)},tt.prototype.clone=function(){var w=this.sx,P=this.shy,J=this.shx,oe=this.sy,ge=this.tx,Me=this.ty;return new tt(w,P,J,oe,ge,Me)},h.Matrix=tt;var zr=h.matrixMult=function(w,P){return P.multiply(w)},Vr=new tt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Vr;var sn=function(w,P){if(!Tn[w]){var J=(P instanceof Ff?"Sh":"P")+(Object.keys(ct).length+1).toString(10);P.id=J,Tn[w]=J,ct[J]=P,yn.publish("addPattern",P)}};h.ShadingPattern=Ff,h.TilingPattern=hg,h.addShadingPattern=function(w,P){return k("addShadingPattern()"),sn(w,P),this},h.beginTilingPattern=function(w){k("beginTilingPattern()"),Cg(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},h.endTilingPattern=function(w,P){k("endTilingPattern()"),P.stream=Pe[z].join(`
`),sn(w,P),yn.publish("endTilingPattern",P),yr.pop().restore()};var Gn,En=h.__private__.newObject=function(){var w=Nr();return wi(w,!0),w},Nr=h.__private__.newObjectDeferred=function(){return re++,le[re]=function(){return ye},re},wi=function(w,P){return P=typeof P=="boolean"&&P,le[w]=ye,P&&C(w+" 0 obj"),w},Xu=h.__private__.newAdditionalObject=function(){var w={objId:Nr(),content:""};return Se.push(w),w},Rc=Nr(),Qs=Nr(),La=h.__private__.decodeColorString=function(w){var P=w.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var J=parseFloat(P[0]);P=[J,J,J,"r"]}for(var oe="#",ge=0;ge<3;ge++)oe+=("0"+Math.floor(255*parseFloat(P[ge])).toString(16)).slice(-2);return oe},ea=h.__private__.encodeColorString=function(w){var P;typeof w=="string"&&(w={ch1:w});var J=w.ch1,oe=w.ch2,ge=w.ch3,Me=w.ch4,ke=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var nt=new qB(J);if(nt.ok)J=nt.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var at=parseInt(J.substr(1),16);J=at>>16&255,oe=at>>8&255,ge=255&at}if(oe===void 0||Me===void 0&&J===oe&&oe===ge)P=typeof J=="string"?J+" "+ke[0]:w.precision===2?T(J/255)+" "+ke[0]:x(J/255)+" "+ke[0];else if(Me===void 0||zn(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return["1.","1.","1.",ke[1]].join(" ");P=typeof J=="string"?[J,oe,ge,ke[1]].join(" "):w.precision===2?[T(J/255),T(oe/255),T(ge/255),ke[1]].join(" "):[x(J/255),x(oe/255),x(ge/255),ke[1]].join(" ")}else P=typeof J=="string"?[J,oe,ge,Me,ke[2]].join(" "):w.precision===2?[T(J),T(oe),T(ge),T(Me),ke[2]].join(" "):[x(J),x(oe),x(ge),x(Me),ke[2]].join(" ");return P},ta=h.__private__.getFilters=function(){return s},Ss=h.__private__.putStream=function(w){var P=(w=w||{}).data||"",J=w.filters||ta(),oe=w.alreadyAppliedFilters||[],ge=w.addLength1||!1,Me=P.length,ke=w.objectId,nt=function(qr){return qr};if(u!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(nt=Hr.encryptor(ke,0));var at={};J===!0&&(J=["FlateEncode"]);var It=w.additionalKeyValues||[],Vt=(at=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(P,J):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(at.data.length!==0&&(It.push({key:"Length",value:at.data.length}),ge===!0&&It.push({key:"Length1",value:Me})),Vt.length!=0)if(Vt.split("/").length-1==1)It.push({key:"Filter",value:Vt});else{It.push({key:"Filter",value:"["+Vt+"]"});for(var _n=0;_n<It.length;_n+=1)if(It[_n].key==="DecodeParms"){for(var ir=[],Pr=0;Pr<at.reverseChain.split("/").length-1;Pr+=1)ir.push("null");ir.push(It[_n].value),It[_n].value="["+ir.join(" ")+"]"}}C("<<");for(var Zn=0;Zn<It.length;Zn++)C("/"+It[Zn].key+" "+It[Zn].value);C(">>"),at.data.length!==0&&(C("stream"),C(nt(at.data)),C("endstream"))},Ku=h.__private__.putPage=function(w){var P=w.number,J=w.data,oe=w.objId,ge=w.contentsObjId;wi(oe,!0),C("<</Type /Page"),C("/Parent "+w.rootDictionaryObjId+" 0 R"),C("/Resources "+w.resourceDictionaryObjId+" 0 R"),C("/MediaBox ["+parseFloat(F(w.mediaBox.bottomLeftX))+" "+parseFloat(F(w.mediaBox.bottomLeftY))+" "+F(w.mediaBox.topRightX)+" "+F(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&C("/CropBox ["+F(w.cropBox.bottomLeftX)+" "+F(w.cropBox.bottomLeftY)+" "+F(w.cropBox.topRightX)+" "+F(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&C("/BleedBox ["+F(w.bleedBox.bottomLeftX)+" "+F(w.bleedBox.bottomLeftY)+" "+F(w.bleedBox.topRightX)+" "+F(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&C("/TrimBox ["+F(w.trimBox.bottomLeftX)+" "+F(w.trimBox.bottomLeftY)+" "+F(w.trimBox.topRightX)+" "+F(w.trimBox.topRightY)+"]"),w.artBox!==null&&C("/ArtBox ["+F(w.artBox.bottomLeftX)+" "+F(w.artBox.bottomLeftY)+" "+F(w.artBox.topRightX)+" "+F(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&C("/UserUnit "+w.userUnit),yn.publish("putPage",{objId:oe,pageContext:_t[P],pageNumber:P,page:J}),C("/Contents "+ge+" 0 R"),C(">>"),C("endobj");var Me=J.join(`
`);return I===S&&(Me+=`
Q`),wi(ge,!0),Ss({data:Me,filters:ta(),objectId:ge}),C("endobj"),oe},ka=h.__private__.putPages=function(){var w,P,J=[];for(w=1;w<=Pt;w++)_t[w].objId=Nr(),_t[w].contentsObjId=Nr();for(w=1;w<=Pt;w++)J.push(Ku({number:w,data:Pe[w],objId:_t[w].objId,contentsObjId:_t[w].contentsObjId,mediaBox:_t[w].mediaBox,cropBox:_t[w].cropBox,bleedBox:_t[w].bleedBox,trimBox:_t[w].trimBox,artBox:_t[w].artBox,userUnit:_t[w].userUnit,rootDictionaryObjId:Rc,resourceDictionaryObjId:Qs}));wi(Rc,!0),C("<</Type /Pages");var oe="/Kids [";for(P=0;P<Pt;P++)oe+=J[P]+" 0 R ";C(oe+"]"),C("/Count "+Pt),C(">>"),C("endobj"),yn.publish("postPutPages")},Ju=function(w){yn.publish("putFont",{font:w,out:C,newObject:En,putStream:Ss}),w.isAlreadyPutted!==!0&&(w.objectNumber=En(),C("<<"),C("/Type /Font"),C("/BaseFont /"+ug(w.postScriptName)),C("/Subtype /Type1"),typeof w.encoding=="string"&&C("/Encoding /"+w.encoding),C("/FirstChar 32"),C("/LastChar 255"),C(">>"),C("endobj"))},Uf=function(w){w.objectNumber=En();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[F(w.x),F(w.y),F(w.x+w.width),F(w.y+w.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var J=w.pages[1].join(`
`);Ss({data:J,additionalKeyValues:P,objectId:w.objectNumber}),C("endobj")},Gf=function(w,P){P||(P=21);var J=En(),oe=(function(ke,nt){var at,It=[],Vt=1/(nt-1);for(at=0;at<1;at+=Vt)It.push(at);if(It.push(1),ke[0].offset!=0){var _n={offset:0,color:ke[0].color};ke.unshift(_n)}if(ke[ke.length-1].offset!=1){var ir={offset:1,color:ke[ke.length-1].color};ke.push(ir)}for(var Pr="",Zn=0,qr=0;qr<It.length;qr++){for(at=It[qr];at>ke[Zn+1].offset;)Zn++;var Lr=ke[Zn].offset,xi=(at-Lr)/(ke[Zn+1].offset-Lr),Dl=ke[Zn].color,ra=ke[Zn+1].color;Pr+=ne(Math.round((1-xi)*Dl[0]+xi*ra[0]).toString(16))+ne(Math.round((1-xi)*Dl[1]+xi*ra[1]).toString(16))+ne(Math.round((1-xi)*Dl[2]+xi*ra[2]).toString(16))}return Pr.trim()})(w.colors,P),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+P+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ss({data:oe,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),C("endobj"),w.objectNumber=En(),C("<< /ShadingType "+w.type),C("/ColorSpace /DeviceRGB");var Me="/Coords ["+F(parseFloat(w.coords[0]))+" "+F(parseFloat(w.coords[1]))+" ";w.type===2?Me+=F(parseFloat(w.coords[2]))+" "+F(parseFloat(w.coords[3])):Me+=F(parseFloat(w.coords[2]))+" "+F(parseFloat(w.coords[3]))+" "+F(parseFloat(w.coords[4]))+" "+F(parseFloat(w.coords[5])),C(Me+="]"),w.matrix&&C("/Matrix ["+w.matrix.toString()+"]"),C("/Function "+J+" 0 R"),C("/Extend [true true]"),C(">>"),C("endobj")},zf=function(w,P){var J=Nr(),oe=En();P.push({resourcesOid:J,objectOid:oe}),w.objectNumber=oe;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+w.boundingBox.map(F).join(" ")+"]"}),ge.push({key:"XStep",value:F(w.xStep)}),ge.push({key:"YStep",value:F(w.yStep)}),ge.push({key:"Resources",value:J+" 0 R"}),w.matrix&&ge.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Ss({data:w.stream,additionalKeyValues:ge,objectId:w.objectNumber}),C("endobj")},Kx=function(w){for(var P in w.objectNumber=En(),C("<<"),w)switch(P){case"opacity":C("/ca "+T(w[P]));break;case"stroke-opacity":C("/CA "+T(w[P]))}C(">>"),C("endobj")},mg=function(w){wi(w.resourcesOid,!0),C("<<"),C("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in C("/Font <<"),vt)vt.hasOwnProperty(P)&&(f===!1||f===!0&&d.hasOwnProperty(P))&&C("/"+P+" "+vt[P].objectNumber+" 0 R");C(">>")})(),(function(){if(Object.keys(ct).length>0){for(var P in C("/Shading <<"),ct)ct.hasOwnProperty(P)&&ct[P]instanceof Ff&&ct[P].objectNumber>=0&&C("/"+P+" "+ct[P].objectNumber+" 0 R");yn.publish("putShadingPatternDict"),C(">>")}})(),(function(P){if(Object.keys(ct).length>0){for(var J in C("/Pattern <<"),ct)ct.hasOwnProperty(J)&&ct[J]instanceof h.TilingPattern&&ct[J].objectNumber>=0&&ct[J].objectNumber<P&&C("/"+J+" "+ct[J].objectNumber+" 0 R");yn.publish("putTilingPatternDict"),C(">>")}})(w.objectOid),(function(){if(Object.keys(ft).length>0){var P;for(P in C("/ExtGState <<"),ft)ft.hasOwnProperty(P)&&ft[P].objectNumber>=0&&C("/"+P+" "+ft[P].objectNumber+" 0 R");yn.publish("putGStateDict"),C(">>")}})(),(function(){for(var P in C("/XObject <<"),tr)tr.hasOwnProperty(P)&&tr[P].objectNumber>=0&&C("/"+P+" "+tr[P].objectNumber+" 0 R");yn.publish("putXobjectDict"),C(">>")})(),C(">>"),C("endobj")},H1=function(w){At[w.fontName]=At[w.fontName]||{},At[w.fontName][w.fontStyle]=w.id},q1=function(w,P,J,oe,ge){var Me={id:"F"+(Object.keys(vt).length+1).toString(10),postScriptName:w,fontName:P,fontStyle:J,encoding:oe,isStandardFont:ge||!1,metadata:{}};return yn.publish("addFont",{font:Me,instance:this}),vt[Me.id]=Me,H1(Me),Me.id},Cs=h.__private__.pdfEscape=h.pdfEscape=function(w,P){return(function(J,oe){var ge,Me,ke,nt,at,It,Vt,_n,ir;if(ke=(oe=oe||{}).sourceEncoding||"Unicode",at=oe.outputEncoding,(oe.autoencode||at)&&vt[Ye].metadata&&vt[Ye].metadata[ke]&&vt[Ye].metadata[ke].encoding&&(nt=vt[Ye].metadata[ke].encoding,!at&&vt[Ye].encoding&&(at=vt[Ye].encoding),!at&&nt.codePages&&(at=nt.codePages[0]),typeof at=="string"&&(at=nt[at]),at)){for(Vt=!1,It=[],ge=0,Me=J.length;ge<Me;ge++)(_n=at[J.charCodeAt(ge)])?It.push(String.fromCharCode(_n)):It.push(J[ge]),It[ge].charCodeAt(0)>>8&&(Vt=!0);J=It.join("")}for(ge=J.length;Vt===void 0&&ge!==0;)J.charCodeAt(ge-1)>>8&&(Vt=!0),ge--;if(!Vt)return J;for(It=oe.noBOM?[]:[254,255],ge=0,Me=J.length;ge<Me;ge++){if((ir=(_n=J.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(ir),It.push(_n-(ir<<8))}return String.fromCharCode.apply(void 0,It)})(w,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yg=h.__private__.beginPage=function(w){Pe[++Pt]=[],_t[Pt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},$1(Pt),he(Pe[z])},W1=function(w,P){var J,oe,ge;switch(n=P||n,typeof w=="string"&&(J=v(w.toLowerCase()),Array.isArray(J)&&(oe=J[0],ge=J[1])),Array.isArray(w)&&(oe=w[0]*wt,ge=w[1]*wt),isNaN(oe)&&(oe=i[0],ge=i[1]),(oe>14400||ge>14400)&&(Yn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),ge=Math.min(14400,ge)),i=[oe,ge],n.substr(0,1)){case"l":ge>oe&&(i=[ge,oe]);break;case"p":oe>ge&&(i=[ge,oe])}yg(i),Mt(wg),C(Wf),bg!==0&&C(bg+" J"),Eg!==0&&C(Eg+" j"),yn.publish("addPage",{pageNumber:Pt})},_g=function(w){w>0&&w<=Pt&&(Pe.splice(w,1),_t.splice(w,1),Pt--,z>Pt&&(z=Pt),this.setPage(z))},$1=function(w){w>0&&w<=Pt&&(z=w)},Y1=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Pe.length-1},Z1=function(w,P,J){var oe,ge=void 0;return J=J||{},w=w!==void 0?w:vt[Ye].fontName,P=P!==void 0?P:vt[Ye].fontStyle,oe=w.toLowerCase(),At[oe]!==void 0&&At[oe][P]!==void 0?ge=At[oe][P]:At[w]!==void 0&&At[w][P]!==void 0?ge=At[w][P]:J.disableWarning===!1&&Yn.warn("Unable to look up font label for font '"+w+"', '"+P+"'. Refer to getFontList() for available fonts."),ge||J.noFallback||(ge=At.times[P])==null&&(ge=At.times.normal),ge},Oa=h.__private__.putInfo=function(){var w=En(),P=function(oe){return oe};for(var J in u!==null&&(P=Hr.encryptor(w,0)),C("<<"),C("/Producer ("+Cs(P("jsPDF "+lt.version))+")"),Rt)Rt.hasOwnProperty(J)&&Rt[J]&&C("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+Cs(P(Rt[J]))+")");C("/CreationDate ("+Cs(P(Y))+")"),C(">>"),C("endobj")},Vf=h.__private__.putCatalog=function(w){var P=(w=w||{}).rootDictionaryObjId||Rc;switch(En(),C("<<"),C("/Type /Catalog"),C("/Pages "+P+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":C("/OpenAction [3 0 R /FitH null]");break;case"fullheight":C("/OpenAction [3 0 R /FitV null]");break;case"fullpage":C("/OpenAction [3 0 R /Fit]");break;case"original":C("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+ae;J.substr(J.length-1)==="%"&&(ae=parseInt(ae)/100),typeof ae=="number"&&C("/OpenAction [3 0 R /XYZ null null "+T(ae)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":C("/PageLayout /OneColumn");break;case"single":C("/PageLayout /SinglePage");break;case"two":case"twoleft":C("/PageLayout /TwoColumnLeft");break;case"tworight":C("/PageLayout /TwoColumnRight")}be&&C("/PageMode /"+be),yn.publish("putCatalog"),C(">>"),C("endobj")},Jx=h.__private__.putTrailer=function(){C("trailer"),C("<<"),C("/Size "+(re+1)),C("/Root "+re+" 0 R"),C("/Info "+(re-1)+" 0 R"),u!==null&&C("/Encrypt "+Hr.oid+" 0 R"),C("/ID [ <"+se+"> <"+se+"> ]"),C(">>")},Rr=h.__private__.putHeader=function(){C("%PDF-"+g),C("%\xBA\xDF\xAC\xE0")},X1=h.__private__.putXRef=function(){var w="0000000000";C("xref"),C("0 "+(re+1)),C("0000000000 65535 f ");for(var P=1;P<=re;P++)typeof le[P]=="function"?C((w+le[P]()).slice(-10)+" 00000 n "):le[P]!==void 0?C((w+le[P]).slice(-10)+" 00000 n "):C("0000000000 00000 n ")},Fa=h.__private__.buildDocument=function(){var w;re=0,ye=0,_e=[],le=[],Se=[],Rc=Nr(),Qs=Nr(),he(_e),yn.publish("buildDocument"),Rr(),ka(),(function(){yn.publish("putAdditionalObjects");for(var J=0;J<Se.length;J++){var oe=Se[J];wi(oe.objId,!0),C(oe.content),C("endobj")}yn.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var J in vt)vt.hasOwnProperty(J)&&(f===!1||f===!0&&d.hasOwnProperty(J))&&Ju(vt[J])})(),(function(){var J;for(J in ft)ft.hasOwnProperty(J)&&Kx(ft[J])})(),(function(){for(var J in tr)tr.hasOwnProperty(J)&&Uf(tr[J])})(),(function(J){var oe;for(oe in ct)ct.hasOwnProperty(oe)&&(ct[oe]instanceof Ff?Gf(ct[oe]):ct[oe]instanceof hg&&zf(ct[oe],J))})(w),yn.publish("putResources"),w.forEach(mg),mg({resourcesOid:Qs,objectOid:Number.MAX_SAFE_INTEGER}),yn.publish("postPutResources"),u!==null&&(Hr.oid=En(),C("<<"),C("/Filter /Standard"),C("/V "+Hr.v),C("/R "+Hr.r),C("/U <"+Hr.toHexString(Hr.U)+">"),C("/O <"+Hr.toHexString(Hr.O)+">"),C("/P "+Hr.P),C(">>"),C("endobj")),Oa(),Vf();var P=ye;return X1(),Jx(),C("startxref"),C(""+P),C("%%EOF"),he(Pe[z]),_e.join(`
`)},Hf=h.__private__.getBlob=function(w){return new Blob([ie(w)],{type:"application/pdf"})},K1=h.output=h.__private__.output=(Gn=function(w,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",w){case void 0:return Fa();case"save":h.save(P.filename);break;case"arraybuffer":return ie(Fa());case"blob":return Hf(Fa());case"bloburi":case"bloburl":if(Ct.URL!==void 0&&typeof Ct.URL.createObjectURL=="function")return Ct.URL&&Ct.URL.createObjectURL(Hf(Fa()))||void 0;Yn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",oe=Fa();try{J=bB(oe)}catch{J=bB(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+P.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ge=P.pdfObjectUrl,Me="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",nt=Ct.open();return nt!==null&&nt.document.write(ke),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',It=Ct.open();if(It!==null){It.document.write(at);var Vt=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=P.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Vt.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',ir=Ct.open();if(ir!==null&&(ir.document.write(_n),ir.document.title=P.filename),ir||typeof safari>"u")return ir;break;case"datauri":case"dataurl":return Ct.document.location.href=this.output("datauristring",P);default:return null}},Gn.foo=function(){try{return Gn.apply(this,arguments)}catch(J){var w=J.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var P="Error in function "+w.split(`
`)[0].split("<")[0]+": "+J.message;if(!Ct.console)throw new Error(P);Ct.console.error(P,J),Ct.alert&&alert(P)}},Gn.foo.bar=Gn,Gn.foo),Is=function(w){return Array.isArray(Tr)===!0&&Tr.indexOf(w)>-1};switch(r){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=Is("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);wt=r}var Hr=null;pe(),te();var wl=h.__private__.getPageInfo=h.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[w].objId,pageNumber:w,pageContext:_t[w]}},J1=h.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in _t)if(_t[P].objId===w)break;return wl(P)},Qx=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:_t[z].objId,pageNumber:z,pageContext:_t[z]}};h.addPage=function(){return W1.apply(this,arguments),this},h.setPage=function(){return $1.apply(this,arguments),he.call(this,Pe[z]),this},h.insertPage=function(w){return this.addPage(),this.movePage(z,w),this},h.movePage=function(w,P){var J,oe;if(w>P){J=Pe[w],oe=_t[w];for(var ge=w;ge>P;ge--)Pe[ge]=Pe[ge-1],_t[ge]=_t[ge-1];Pe[P]=J,_t[P]=oe,this.setPage(P)}else if(w<P){J=Pe[w],oe=_t[w];for(var Me=w;Me<P;Me++)Pe[Me]=Pe[Me+1],_t[Me]=_t[Me+1];Pe[P]=J,_t[P]=oe,this.setPage(P)}return this},h.deletePage=function(){return _g.apply(this,arguments),this},h.__private__.text=h.text=function(w,P,J,oe,ge){var Me,ke,nt,at,It,Vt,_n,ir,Pr,Zn=(oe=oe||{}).scope||this;if(typeof w=="number"&&typeof P=="number"&&(typeof J=="string"||Array.isArray(J))){var qr=J;J=P,P=w,w=qr}if(arguments[3]instanceof tt==0?(nt=arguments[4],at=arguments[5],zn(_n=arguments[3])==="object"&&_n!==null||(typeof nt=="string"&&(at=nt,nt=null),typeof _n=="string"&&(at=_n,_n=null),typeof _n=="number"&&(nt=_n,_n=null),oe={flags:_n,angle:nt,align:at})):(k("The transform parameter of text() with a Matrix value"),Pr=ge),isNaN(P)||isNaN(J)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Zn;var Lr,xi="",Dl=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:eh,ra=Zn.internal.scaleFactor;function Al(Nn){return Nn=Nn.split("	").join(Array(oe.TabLen||9).join(" ")),Cs(Nn,_n)}function Dg(Nn){for(var Hn,vr=Nn.concat(),Wr=[],Nl=vr.length;Nl--;)typeof(Hn=vr.shift())=="string"?Wr.push(Hn):Array.isArray(Nn)&&(Hn.length===1||Hn[1]===void 0&&Hn[2]===void 0)?Wr.push(Hn[0]):Wr.push([Hn[0],Hn[1],Hn[2]]);return Wr}function Yf(Nn,Hn){var vr;if(typeof Nn=="string")vr=Hn(Nn)[0];else if(Array.isArray(Nn)){for(var Wr,Nl,Fg=Nn.concat(),Kf=[],cy=Fg.length;cy--;)typeof(Wr=Fg.shift())=="string"?Kf.push(Hn(Wr)[0]):Array.isArray(Wr)&&typeof Wr[0]=="string"&&(Nl=Hn(Wr[0],Wr[1],Wr[2]),Kf.push([Nl[0],Nl[1],Nl[2]]));vr=Kf}return vr}var Pc=!1,ih=!0;if(typeof w=="string")Pc=!0;else if(Array.isArray(w)){var oh=w.concat();ke=[];for(var Lc,bi=oh.length;bi--;)(typeof(Lc=oh.shift())!="string"||Array.isArray(Lc)&&typeof Lc[0]!="string")&&(ih=!1);Pc=ih}if(Pc===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var sh=ce/Zn.internal.scaleFactor,ah=sh*(Dl-1);switch(oe.baseline){case"bottom":J-=ah;break;case"top":J+=sh-ah;break;case"hanging":J+=sh-2*ah;break;case"middle":J+=sh/2-ah}if((Vt=oe.maxWidth||0)>0&&(typeof w=="string"?w=Zn.splitTextToSize(w,Vt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Nn,Hn){return Nn.concat(Zn.splitTextToSize(Hn,Vt))},[]))),Me={text:w,x:P,y:J,options:oe,mutex:{pdfEscape:Cs,activeFontKey:Ye,fonts:vt,activeFontSize:ce}},yn.publish("preProcessText",Me),w=Me.text,nt=(oe=Me.options).angle,Pr instanceof tt==0&&nt&&typeof nt=="number"){nt*=Math.PI/180,oe.rotationDirection===0&&(nt=-nt),I===S&&(nt=-nt);var Ag=Math.cos(nt),Mg=Math.sin(nt);Pr=new tt(Ag,Mg,-Mg,Ag,0,0)}else nt&&nt instanceof tt&&(Pr=nt);I!==S||Pr||(Pr=Vr),(It=oe.charSpace||El)!==void 0&&(xi+=F(O(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ir=oe.horizontalScale)!==void 0&&(xi+=F(100*ir)+` Tz
`),oe.lang;var io=-1,Ml=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,Zf=Zn.internal.getCurrentPageInfo().pageContext;switch(Ml){case 0:case!1:case"fill":io=0;break;case 1:case!0:case"stroke":io=1;break;case 2:case"fillThenStroke":io=2;break;case 3:case"invisible":io=3;break;case 4:case"fillAndAddForClipping":io=4;break;case 5:case"strokeAndAddPathForClipping":io=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":io=6;break;case 7:case"addToPathForClipping":io=7}var ay=Zf.usedRenderingMode!==void 0?Zf.usedRenderingMode:-1;io!==-1?xi+=io+` Tr
`:ay!==-1&&(xi+=`0 Tr
`),io!==-1&&(Zf.usedRenderingMode=io),at=oe.align||"left";var Ds,lh=ce*Dl,Tg=Zn.internal.pageSize.getWidth(),Ng=vt[Ye];It=oe.charSpace||El,Vt=oe.maxWidth||0,_n=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var kc=[],ch=function(Nn){return Zn.getStringUnitWidth(Nn,{font:Ng,charSpace:It,fontSize:ce,doKerning:!1})*ce/ra};if(Object.prototype.toString.call(w)==="[object Array]"){var Zo;ke=Dg(w),at!=="left"&&(Ds=ke.map(ch));var Xo,Oc=0;if(at==="right"){P-=Ds[0],w=[],bi=ke.length;for(var Tl=0;Tl<bi;Tl++)Tl===0?(Xo=xl(P),Zo=bl(J)):(Xo=O(Oc-Ds[Tl]),Zo=-lh),w.push([ke[Tl],Xo,Zo]),Oc=Ds[Tl]}else if(at==="center"){P-=Ds[0]/2,w=[],bi=ke.length;for(var Fc=0;Fc<bi;Fc++)Fc===0?(Xo=xl(P),Zo=bl(J)):(Xo=O((Oc-Ds[Fc])/2),Zo=-lh),w.push([ke[Fc],Xo,Zo]),Oc=Ds[Fc]}else if(at==="left"){w=[],bi=ke.length;for(var Rg=0;Rg<bi;Rg++)w.push(ke[Rg])}else if(at==="justify"&&Ng.encoding==="Identity-H"){w=[],bi=ke.length,Vt=Vt!==0?Vt:Tg;for(var Xf=0,_r=0;_r<bi;_r++)if(Zo=_r===0?bl(J):-lh,Xo=_r===0?xl(P):Xf,_r<bi-1){var ly=O((Vt-Ds[_r])/(ke[_r].split(" ").length-1)),Ba=ke[_r].split(" ");w.push([Ba[0]+" ",Xo,Zo]),Xf=0;for(var Ua=1;Ua<Ba.length;Ua++){var Pg=(ch(Ba[Ua-1]+" "+Ba[Ua])-ch(Ba[Ua]))*ra+ly;Ua==Ba.length-1?w.push([Ba[Ua],Pg,0]):w.push([Ba[Ua]+" ",Pg,0]),Xf-=Pg}}else w.push([ke[_r],Xo,Zo]);w.push(["",Xf,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],bi=ke.length,Vt=Vt!==0?Vt:Tg,_r=0;_r<bi;_r++){Zo=_r===0?bl(J):-lh,Xo=_r===0?xl(P):0;var Lg=ke[_r].split(" ").length-1,kg=Lg>0?(Vt-Ds[_r])/Lg:0;_r<bi-1?kc.push(F(O(kg))):kc.push(0),w.push([ke[_r],Xo,Zo])}}}(typeof oe.R2L=="boolean"?oe.R2L:Ie)===!0&&(w=Yf(w,function(Nn,Hn,vr){return[Nn.split("").reverse().join(""),Hn,vr]})),Me={text:w,x:P,y:J,options:oe,mutex:{pdfEscape:Cs,activeFontKey:Ye,fonts:vt,activeFontSize:ce}},yn.publish("postProcessText",Me),w=Me.text,Lr=Me.mutex.isHex||!1;var Og=vt[Ye].encoding;Og!=="WinAnsiEncoding"&&Og!=="StandardEncoding"||(w=Yf(w,function(Nn,Hn,vr){return[Al(Nn),Hn,vr]})),ke=Dg(w),w=[];for(var jc,Bc,Uc,uh=Array.isArray(ke[0])?1:0,Gc="",hh=function(Nn,Hn,vr){var Wr="";return vr instanceof tt?(vr=typeof oe.angle=="number"?zr(vr,new tt(1,0,0,1,Nn,Hn)):zr(new tt(1,0,0,1,Nn,Hn),vr),I===S&&(vr=zr(new tt(1,0,0,-1,0,0),vr)),Wr=vr.join(" ")+` Tm
`):Wr=F(Nn)+" "+F(Hn)+` Td
`,Wr},As=0;As<ke.length;As++){switch(Gc="",uh){case 1:Uc=(Lr?"<":"(")+ke[As][0]+(Lr?">":")"),jc=parseFloat(ke[As][1]),Bc=parseFloat(ke[As][2]);break;case 0:Uc=(Lr?"<":"(")+ke[As]+(Lr?">":")"),jc=xl(P),Bc=bl(J)}kc!==void 0&&kc[As]!==void 0&&(Gc=kc[As]+` Tw
`),As===0?w.push(Gc+hh(jc,Bc,Pr)+Uc):uh===0?w.push(Gc+Uc):uh===1&&w.push(Gc+hh(jc,Bc,Pr)+Uc)}w=uh===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Ga=`BT
/`;return Ga+=Ye+" "+ce+` Tf
`,Ga+=F(ce*Dl)+` TL
`,Ga+=th+`
`,Ga+=xi,Ga+=w,C(Ga+="ET"),d[Ye]=!0,Zn};var eb=h.__private__.clip=h.clip=function(w){return C(w==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return eb("evenodd")},h.__private__.discardPath=h.discardPath=function(){return C("n"),this};var ja=h.__private__.isValidStyle=function(w){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(P=!0),P};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(w){return ja(w)&&(c=w),this};var Q1=h.__private__.getStyle=h.getStyle=function(w){var P=c;switch(w){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=w}return P},ey=h.close=function(){return C("h"),this};h.stroke=function(){return C("S"),this},h.fill=function(w){return qf("f",w),this},h.fillEvenOdd=function(w){return qf("f*",w),this},h.fillStroke=function(w){return qf("B",w),this},h.fillStrokeEvenOdd=function(w){return qf("B*",w),this};var qf=function(w,P){zn(P)==="object"?nb(P,w):C(w)},Qu=function(w){w===null||I===S&&w===void 0||(w=Q1(w),C(w))};function tb(w,P,J,oe,ge){var Me=new hg(P||this.boundingBox,J||this.xStep,oe||this.yStep,this.gState,ge||this.matrix);Me.stream=this.stream;var ke=w+"$$"+this.cloneIndex+++"$$";return sn(ke,Me),Me}var nb=function(w,P){var J=Tn[w.key],oe=ct[J];if(oe instanceof Ff)C("q"),C(rb(P)),oe.gState&&h.setGState(oe.gState),C(w.matrix.toString()+" cm"),C("/"+J+" sh"),C("Q");else if(oe instanceof hg){var ge=new tt(1,0,0,-1,0,rh());w.matrix&&(ge=ge.multiply(w.matrix||Vr),J=tb.call(oe,w.key,w.boundingBox,w.xStep,w.yStep,ge).id),C("q"),C("/Pattern cs"),C("/"+J+" scn"),oe.gState&&h.setGState(oe.gState),C(P),C("Q")}},rb=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},vg=h.moveTo=function(w,P){return C(F(O(w))+" "+F($(P))+" m"),this},ty=h.lineTo=function(w,P){return C(F(O(w))+" "+F($(P))+" l"),this},na=h.curveTo=function(w,P,J,oe,ge,Me){return C([F(O(w)),F($(P)),F(O(J)),F($(oe)),F(O(ge)),F($(Me)),"c"].join(" ")),this};h.__private__.line=h.line=function(w,P,J,oe,ge){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||!ja(ge))throw new Error("Invalid arguments passed to jsPDF.line");return I===E?this.lines([[J-w,oe-P]],w,P,[1,1],ge||"S"):this.lines([[J-w,oe-P]],w,P,[1,1]).stroke()},h.__private__.lines=h.lines=function(w,P,J,oe,ge,Me){var ke,nt,at,It,Vt,_n,ir,Pr,Zn,qr,Lr,xi;if(typeof w=="number"&&(xi=J,J=P,P=w,w=xi),oe=oe||[1,1],Me=Me||!1,isNaN(P)||isNaN(J)||!Array.isArray(w)||!Array.isArray(oe)||!ja(ge)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vg(P,J),ke=oe[0],nt=oe[1],It=w.length,qr=P,Lr=J,at=0;at<It;at++)(Vt=w[at]).length===2?(qr=Vt[0]*ke+qr,Lr=Vt[1]*nt+Lr,ty(qr,Lr)):(_n=Vt[0]*ke+qr,ir=Vt[1]*nt+Lr,Pr=Vt[2]*ke+qr,Zn=Vt[3]*nt+Lr,qr=Vt[4]*ke+qr,Lr=Vt[5]*nt+Lr,na(_n,ir,Pr,Zn,qr,Lr));return Me&&ey(),Qu(ge),this},h.path=function(w){for(var P=0;P<w.length;P++){var J=w[P],oe=J.c;switch(J.op){case"m":vg(oe[0],oe[1]);break;case"l":ty(oe[0],oe[1]);break;case"c":na.apply(this,oe);break;case"h":ey()}}return this},h.__private__.rect=h.rect=function(w,P,J,oe,ge){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||!ja(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return I===E&&(oe=-oe),C([F(O(w)),F($(P)),F(O(J)),F(O(oe)),"re"].join(" ")),Qu(ge),this},h.__private__.triangle=h.triangle=function(w,P,J,oe,ge,Me,ke){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||isNaN(ge)||isNaN(Me)||!ja(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-w,oe-P],[ge-J,Me-oe],[w-ge,P-Me]],w,P,[1,1],ke,!0),this},h.__private__.roundedRect=h.roundedRect=function(w,P,J,oe,ge,Me,ke){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||isNaN(ge)||isNaN(Me)||!ja(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*J),Me=Math.min(Me,.5*oe),this.lines([[J-2*ge,0],[ge*nt,0,ge,Me-Me*nt,ge,Me],[0,oe-2*Me],[0,Me*nt,-ge*nt,Me,-ge,Me],[2*ge-J,0],[-ge*nt,0,-ge,-Me*nt,-ge,-Me],[0,2*Me-oe],[0,-Me*nt,ge*nt,-Me,ge,-Me]],w+ge,P,[1,1],ke,!0),this},h.__private__.ellipse=h.ellipse=function(w,P,J,oe,ge){if(isNaN(w)||isNaN(P)||isNaN(J)||isNaN(oe)||!ja(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*J,ke=4/3*(Math.SQRT2-1)*oe;return vg(w+J,P),na(w+J,P-ke,w+Me,P-oe,w,P-oe),na(w-Me,P-oe,w-J,P-ke,w-J,P),na(w-J,P+ke,w-Me,P+oe,w,P+oe),na(w+Me,P+oe,w+J,P+ke,w+J,P),Qu(ge),this},h.__private__.circle=h.circle=function(w,P,J,oe){if(isNaN(w)||isNaN(P)||isNaN(J)||!ja(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,P,J,J,oe)},h.setFont=function(w,P,J){return J&&(P=j(P,J)),Ye=Z1(w,P,{disableWarning:!1}),this};var ib=h.__private__.getFont=h.getFont=function(){return vt[Z1.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var w,P,J={};for(w in At)if(At.hasOwnProperty(w))for(P in J[w]=[],At[w])At[w].hasOwnProperty(P)&&J[w].push(P);return J},h.addFont=function(w,P,J,oe,ge){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(J=j(J,oe)),q1.call(this,w,P,J,ge=ge||"Identity-H")};var eh,wg=t.lineWidth||.200025,ob=h.__private__.getLineWidth=h.getLineWidth=function(){return wg},Mt=h.__private__.setLineWidth=h.setLineWidth=function(w){return wg=w,C(F(O(w))+" w"),this};h.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(w,P){if(w=w||[],P=P||0,isNaN(P)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(J){return F(O(J))}).join(" "),P=F(O(P)),C("["+w+"] "+P+" d"),this};var sb=h.__private__.getLineHeight=h.getLineHeight=function(){return ce*eh};h.__private__.getLineHeight=h.getLineHeight=function(){return ce*eh};var ab=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(eh=w),this},lb=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return eh};ab(t.lineHeight);var xl=h.__private__.getHorizontalCoordinate=function(w){return O(w)},bl=h.__private__.getVerticalCoordinate=function(w){return I===S?w:_t[z].mediaBox.topRightY-_t[z].mediaBox.bottomLeftY-O(w)},cb=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(w){return F(xl(w))},ub=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(w){return F(bl(w))},Wf=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return La(Wf)},h.__private__.setStrokeColor=h.setDrawColor=function(w,P,J,oe){return Wf=ea({ch1:w,ch2:P,ch3:J,ch4:oe,pdfColorType:"draw",precision:2}),C(Wf),this};var xg=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return La(xg)},h.__private__.setFillColor=h.setFillColor=function(w,P,J,oe){return xg=ea({ch1:w,ch2:P,ch3:J,ch4:oe,pdfColorType:"fill",precision:2}),C(xg),this};var th=t.textColor||"0 g",hb=h.__private__.getTextColor=h.getTextColor=function(){return La(th)};h.__private__.setTextColor=h.setTextColor=function(w,P,J,oe){return th=ea({ch1:w,ch2:P,ch3:J,ch4:oe,pdfColorType:"text",precision:3}),this};var El=t.charSpace,fb=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(El||0)};h.__private__.setCharSpace=h.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return El=w,this};var bg=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(w){var P=h.CapJoinStyles[w];if(P===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bg=P,C(P+" J"),this};var Eg=0;h.__private__.setLineJoin=h.setLineJoin=function(w){var P=h.CapJoinStyles[w];if(P===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Eg=P,C(P+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return C(F(O(w))+" M"),this},h.GState=Vx,h.setGState=function(w){(w=typeof w=="string"?ft[pt[w]]:ny(null,w)).equals(on)||(C("/"+w.id+" gs"),on=w)};var ny=function(w,P){if(!w||!pt[w]){var J=!1;for(var oe in ft)if(ft.hasOwnProperty(oe)&&ft[oe].equals(P)){J=!0;break}if(J)P=ft[oe];else{var ge="GS"+(Object.keys(ft).length+1).toString(10);ft[ge]=P,P.id=ge}return w&&(pt[w]=P.id),yn.publish("addGState",P),P}};h.addGState=function(w,P){return ny(w,P),this},h.saveGraphicsState=function(){return C("q"),Mn.push({key:Ye,size:ce,color:th}),this},h.restoreGraphicsState=function(){C("Q");var w=Mn.pop();return Ye=w.key,ce=w.size,th=w.color,on=null,this},h.setCurrentTransformationMatrix=function(w){return C(w.toString()+" cm"),this},h.comment=function(w){return C("#"+w),this};var Sl=function(w,P){var J=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Me){isNaN(Me)||(J=parseFloat(Me))}});var oe=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(Me){isNaN(Me)||(oe=parseFloat(Me))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Me){ge=Me.toString()}}),this},Sg=function(w,P,J,oe){Sl.call(this,w,P),this.type="rect";var ge=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(ke){isNaN(ke)||(ge=parseFloat(ke))}});var Me=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(ke){isNaN(ke)||(Me=parseFloat(ke))}}),this},$f=function(){this.page=Pt,this.currentPage=z,this.pages=Pe.slice(0),this.pagesContext=_t.slice(0),this.x=He,this.y=Un,this.matrix=Jt,this.width=Ig(z),this.height=iy(z),this.outputDestination=fe,this.id="",this.objectNumber=-1};$f.prototype.restore=function(){Pt=this.page,z=this.currentPage,_t=this.pagesContext,Pe=this.pages,He=this.x,Un=this.y,Jt=this.matrix,ry(z,this.width),Cl(z,this.height),fe=this.outputDestination};var Cg=function(w,P,J,oe,ge){yr.push(new $f),Pt=z=0,Pe=[],He=w,Un=P,Jt=ge,yg([J,oe])};for(var nh in h.beginFormObject=function(w,P,J,oe,ge){return Cg(w,P,J,oe,ge),this},h.endFormObject=function(w){return(function(P){if(cr[P])yr.pop().restore();else{var J=new $f,oe="Xo"+(Object.keys(tr).length+1).toString(10);J.id=oe,cr[P]=oe,tr[oe]=J,yn.publish("addFormObject",J),yr.pop().restore()}})(w),this},h.doFormObject=function(w,P){var J=tr[cr[w]];return C("q"),C(P.toString()+" cm"),C("/"+J.id+" Do"),C("Q"),this},h.getFormObject=function(w){var P=tr[cr[w]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},h.save=function(w,P){return w=w||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Of(Hf(Fa()),w),typeof Of.unload=="function"&&Ct.setTimeout&&setTimeout(Of.unload,911),this):new Promise(function(J,oe){try{var ge=Of(Hf(Fa()),w);typeof Of.unload=="function"&&Ct.setTimeout&&setTimeout(Of.unload,911),J(ge)}catch(Me){oe(Me.message)}})},lt.API)lt.API.hasOwnProperty(nh)&&(nh==="events"&&lt.API.events.length?(function(w,P){var J,oe,ge;for(ge=P.length-1;ge!==-1;ge--)J=P[ge][0],oe=P[ge][1],w.subscribe.apply(w,[J].concat(typeof oe=="function"?[oe]:oe))})(yn,lt.API.events):h[nh]=lt.API[nh]);function Ig(w){return _t[w].mediaBox.topRightX-_t[w].mediaBox.bottomLeftX}function ry(w,P){_t[w].mediaBox.topRightX=P+_t[w].mediaBox.bottomLeftX}function iy(w){return _t[w].mediaBox.topRightY-_t[w].mediaBox.bottomLeftY}function Cl(w,P){_t[w].mediaBox.topRightY=P+_t[w].mediaBox.bottomLeftY}var Il=h.getPageWidth=function(w){return Ig(w=w||z)/wt},oy=h.setPageWidth=function(w,P){ry(w,P*wt)},rh=h.getPageHeight=function(w){return iy(w=w||z)/wt},sy=h.setPageHeight=function(w,P){Cl(w,P*wt)};return h.internal={pdfEscape:Cs,getStyle:Q1,getFont:ib,getFontSize:xe,getCharSpace:fb,getTextColor:hb,getLineHeight:sb,getLineHeightFactor:lb,getLineWidth:ob,write:G,getHorizontalCoordinate:xl,getVerticalCoordinate:bl,getCoordinateString:cb,getVerticalCoordinateString:ub,collections:{},newObject:En,newAdditionalObject:Xu,newObjectDeferred:Nr,newObjectDeferredBegin:wi,getFilters:ta,putStream:Ss,events:yn,scaleFactor:wt,pageSize:{getWidth:function(){return Il(z)},setWidth:function(w){oy(z,w)},getHeight:function(){return rh(z)},setHeight:function(w){sy(z,w)}},encryptionOptions:u,encryption:Hr,getEncryptor:function(w){return u!==null?Hr.encryptor(w,0):function(P){return P}},output:K1,getNumberOfPages:Y1,get pages(){return Pe},out:C,f2:T,f3:x,getPageInfo:wl,getPageInfoByObjId:J1,getCurrentPageInfo:Qx,getPDFVersion:y,Point:Sl,Rectangle:Sg,Matrix:tt,hasHotfix:Is},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Il(z)},set:function(w){oy(z,w)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return rh(z)},set:function(w){sy(z,w)},enumerable:!0,configurable:!0}),(function(w){for(var P=0,J=ve.length;P<J;P++){var oe=q1.call(this,w[P][0],w[P][1],w[P][2],ve[P][3],!0);f===!1&&(d[oe]=!0);var ge=w[P][0].split("-");H1({id:oe,fontName:ge[0],fontStyle:ge[1]||""})}yn.publish("addFonts",{fonts:vt,dictionary:At})}).call(h,ve),Ye="F1",W1(i,n),yn.publish("initialized"),h}cg.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},cg.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cg.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},cg.prototype.processOwnerPassword=function(t,e){return WT(qT(e).substr(0,5),t)},cg.prototype.encryptor=function(t,e){var n=qT(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return WT(n,r)}},Vx.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||zn(t)!==zn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},lt.API={events:[]},lt.version="4.0.0";var mr=lt.API,ZT=1,Bf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ag=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(t){return t.toFixed(2)},$u=function(t){return t.toFixed(5)};mr.__acroform__={};var Yo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},IB=function(t){return t*ZT},yl=function(t){var e=new ZB,n=et.internal.getHeight(t)||0,r=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kt(r)),Number(kt(n))],e},Wae=mr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},$ae=mr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Yae=mr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Dr=mr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Yae(t,e-1)},Ar=mr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wae(t,e-1)},Mr=mr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $ae(t,e-1)},Zae=mr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},Xae=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=$T(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=yl(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},$T=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var o=n,s=et.internal.getHeight(t)||0;s=s<0?-s:s;var a=et.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(T,x,O){if(T+1<i.length){var $=x+" "+i[T+1][0];return kx($,t,O).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,u,f=kx("3",t,o).height,d=t.multiline?s-o:(s-f)/2,h=d+=2,g=0,y=0,_=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+kx(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var v="",E=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var I=!1;if(i[S].length!==1&&_!==i[S].length-1){if((f+2)*(E+2)+2>s)continue e;v+=i[S][_],I=!0,y=S,S--}else{v=(v+=i[S][_]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var R=parseInt(S),V=l(R,v,o),j=S>=i.length-1;if(V&&!j){v+=" ",_=0;continue}if(V||j){if(j)y=R;else if(t.multiline&&(f+2)*(E+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(E+2)+2>s)continue e;y=R}}for(var F="",k=g;k<=y;k++){var N=i[k];if(t.multiline){if(k===y){F+=N[_]+" ",_=(_+1)%N.length;continue}if(k===g){F+=N[N.length-1]+" ";continue}}F+=N[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,u=kx(F,t,o).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=kt(c)+" "+kt(h)+` Td
`,e+="("+Bf(F)+`) Tj
`,e+=-kt(c)+` 0 Td
`,h=-(o+2),u=0,g=I?y:y+1,E++,v=""}break}return r.text=e,r.fontSize=o,r},kx=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Kae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Jae=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Qae=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ra.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Kae)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ZT=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new XB,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&Jae(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Zae(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=et.createDefaultAppearanceStream(a),zn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Xae(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var f="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var h=a.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(i,a)),f+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,a)),f+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&(function(y,_){for(var v in y)if(y.hasOwnProperty(v)){var E=v,S=y[v];_.internal.newObjectDeferredBegin(S.objId,!0),zn(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete y[E]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},YB=mr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),zn(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Bf(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},UT=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Bf(r(t))+")"},_l=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_l.prototype.toString=function(){return this.objId+" 0 R"},_l.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},_l.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:YB(i,this.objId,this.scope)}):i instanceof _l?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var ZB=function(){_l.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Yo(ZB,_l);var XB=function(){_l.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Bf(n(t))+")"}},set:function(n){t=n}})};Yo(XB,_l);var Ra=function t(){_l.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dr(e,3)},set:function(v){v?this.F=Ar(e,3):this.F=Mr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Hx)return;o="FieldObject"+t.FieldNum++}var v=function(E){return E};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Bf(v(o))+")"},set:function(v){o=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(v){o=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ZT:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Hx||this instanceof jf))return UT(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof vi==0?UT(d,this.objId,this.scope):d},set:function(v){v=v.toString(),d=this instanceof vi==0?v.substr(0,1)==="("?ag(v.substr(1,v.length-2)):ag(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vi==1?ag(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof vi==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof vi==0?UT(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof vi==0?v.substr(0,1)==="("?ag(v.substr(1,v.length-2)):ag(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vi==1?ag(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof vi==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(v){v=!!v,y=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(v){g=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,1)},set:function(v){v?this.Ff=Ar(this.Ff,1):this.Ff=Mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,2)},set:function(v){v?this.Ff=Ar(this.Ff,2):this.Ff=Mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,3)},set:function(v){v?this.Ff=Ar(this.Ff,3):this.Ff=Mr(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');_=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(_){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Yo(Ra,_l);var fg=function(){Ra.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return YB(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,18)},set:function(n){n?this.Ff=Ar(this.Ff,18):this.Ff=Mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ar(this.Ff,19):this.Ff=Mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,20)},set:function(n){n?(this.Ff=Ar(this.Ff,20),e.sort()):this.Ff=Mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,22)},set:function(n){n?this.Ff=Ar(this.Ff,22):this.Ff=Mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(n){n?this.Ff=Ar(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,27)},set:function(n){n?this.Ff=Ar(this.Ff,27):this.Ff=Mr(this.Ff,27)}}),this.hasAppearanceStream=!1};Yo(fg,Ra);var dg=function(){fg.call(this),this.fontName="helvetica",this.combo=!1};Yo(dg,fg);var pg=function(){dg.call(this),this.combo=!0};Yo(pg,dg);var Bx=function(){pg.call(this),this.edit=!0};Yo(Bx,pg);var vi=function(){Ra.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,15)},set:function(n){n?this.Ff=Ar(this.Ff,15):this.Ff=Mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,16)},set:function(n){n?this.Ff=Ar(this.Ff,16):this.Ff=Mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,17)},set:function(n){n?this.Ff=Ar(this.Ff,17):this.Ff=Mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(n){n?this.Ff=Ar(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Bf(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){zn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Yo(vi,Ra);var Ux=function(){vi.call(this),this.pushButton=!0};Yo(Ux,vi);var gg=function(){vi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Yo(gg,vi);var Hx=function(){var t,e;Ra.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Bf(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){zn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yo(Hx,Ra),gg.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},gg.prototype.createOption=function(t){var e=new Hx;return e.Parent=this,e.optionName=t,this.Kids.push(e),ele.call(this.scope,e),e};var Gx=function(){vi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};Yo(Gx,vi);var jf=function(){Ra.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,13)},set:function(e){e?this.Ff=Ar(this.Ff,13):this.Ff=Mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,21)},set:function(e){e?this.Ff=Ar(this.Ff,21):this.Ff=Mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(e){e?this.Ff=Ar(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,24)},set:function(e){e?this.Ff=Ar(this.Ff,24):this.Ff=Mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,25)},set:function(e){e?this.Ff=Ar(this.Ff,25):this.Ff=Mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(e){e?this.Ff=Ar(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yo(jf,Ra);var zx=function(){jf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,14)},set:function(t){t?this.Ff=Ar(this.Ff,14):this.Ff=Mr(this.Ff,14)}}),this.password=!0};Yo(zx,jf);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=yl(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=$T(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kt(et.internal.getWidth(t))+" "+kt(et.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+kt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=yl(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=et.internal.getHeight(t),s=et.internal.getWidth(t),a=$T(t,t.caption);return i.push("1 g"),i.push("0 0 "+kt(s)+" "+kt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(s-1)+" "+kt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+kt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=yl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(et.internal.getWidth(t))+" "+kt(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=yl(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=et.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+$u(et.internal.getWidth(t)/2)+" "+$u(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=yl(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*et.internal.Bezier_C).toFixed(5)),s=Number((r*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$u(et.internal.getWidth(t)/2)+" "+$u(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+$u(et.internal.getWidth(t)/2)+" "+$u(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=yl(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$u(et.internal.getWidth(t)/2)+" "+$u(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=yl(t);e.scope=t.scope;var n=[],r=et.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kt(et.internal.getWidth(t)-2)+" "+kt(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),n.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),n.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),n.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=yl(t);e.scope=t.scope;var n=et.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(et.internal.getWidth(t))+" "+kt(et.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kt(et.internal.getWidth(t)-2)+" "+kt(et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),r.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),r.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),r.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=yl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(et.internal.getWidth(t))+" "+kt(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),n=et.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},et.internal.getWidth=function(t){var e=0;return zn(t)==="object"&&(e=IB(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return zn(t)==="object"&&(e=IB(t.Rect[3])),e};var ele=mr.addField=function(t){if(Qae(this,t),!(t instanceof Ra))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};mr.AcroFormChoiceField=fg,mr.AcroFormListBox=dg,mr.AcroFormComboBox=pg,mr.AcroFormEditBox=Bx,mr.AcroFormButton=vi,mr.AcroFormPushButton=Ux,mr.AcroFormRadioButton=gg,mr.AcroFormCheckBox=Gx,mr.AcroFormTextField=jf,mr.AcroFormPasswordField=zx,mr.AcroFormAppearance=et,mr.AcroForm={ChoiceField:fg,ListBox:dg,ComboBox:pg,EditBox:Bx,Button:vi,PushButton:Ux,RadioButton:gg,CheckBox:Gx,TextField:jf,PasswordField:zx,Appearance:et},lt.AcroForm={ChoiceField:fg,ListBox:dg,ComboBox:pg,EditBox:Bx,Button:vi,PushButton:Ux,RadioButton:gg,CheckBox:Gx,TextField:jf,PasswordField:zx,Appearance:et};var NVe=lt.AcroForm;function KB(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,x){var O,$,Y,se,K,te=n;if((x=x||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(V(T))for(K in r)for(Y=r[K],O=0;O<Y.length;O+=1){for(se=!0,$=0;$<Y[O].length;$+=1)if(Y[O][$]!==void 0&&Y[O][$]!==T[$]){se=!1;break}if(se===!0){te=K;break}}else for(K in r)for(Y=r[K],O=0;O<Y.length;O+=1){for(se=!0,$=0;$<Y[O].length;$+=1)if(Y[O][$]!==void 0&&Y[O][$]!==T.charCodeAt($)){se=!1;break}if(se===!0){te=K;break}}return te===n&&x!==n&&(te=x),te},o=function T(x){for(var O=this.internal.write,$=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);x.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:x.width}),se.push({key:"Height",value:x.height}),x.colorSpace===v.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(x.palette.length/3-1)+" "+("sMask"in x&&x.sMask!==void 0?x.objectId+2:x.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+x.colorSpace}),x.colorSpace===v.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:x.bitsPerComponent}),"decodeParameters"in x&&x.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+x.decodeParameters+">>"}),"transparency"in x&&Array.isArray(x.transparency)&&x.transparency.length>0){for(var K="",te=0,W=x.transparency.length;te<W;te++)K+=x.transparency[te]+" "+x.transparency[te]+" ";se.push({key:"Mask",value:"["+K+"]"})}x.sMask!==void 0&&se.push({key:"SMask",value:x.objectId+1+" 0 R"});var ee=x.filter!==void 0?["/"+x.filter]:void 0;if($({data:x.data,additionalKeyValues:se,alreadyAppliedFilters:ee,objectId:x.objectId}),O("endobj"),"sMask"in x&&x.sMask!==void 0){var pe,M=(pe=x.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:x.bitsPerComponent,z={width:x.width,height:x.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:x.sMask};"filter"in x&&(z.decodeParameters="/Predictor ".concat(x.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(x.width),z.filter=x.filter),T.call(this,z)}if(x.colorSpace===v.INDEXED){var Q=this.internal.newObject();$({data:F(new Uint8Array(x.palette)),objectId:Q}),O("endobj")}},s=function(){var T=this.internal.collections[e+"images"];for(var x in T)o.call(this,T[x])},a=function(){var T,x=this.internal.collections[e+"images"],O=this.internal.write;for(var $ in x)O("/I"+(T=x[$]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(T){return typeof t["process"+T.toUpperCase()]=="function"},d=function(T){return zn(T)==="object"&&T.nodeType===1},h=function(T,x){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var O=""+T.getAttribute("src");if(O.indexOf("data:image/")===0)return jx(unescape(O).split("base64,").pop());var $=t.loadFile(O,!0);if($!==void 0)return $}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Y;switch(x){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return jx(T.toDataURL(Y,1).split("base64,").pop())}},g=function(T){var x=this.internal.collections[e+"images"];if(x){for(var O in x)if(T===x[O].alias)return x[O]}},y=function(T,x,O){return T||x||(T=-96,x=-96),T<0&&(T=-1*O.width*72/T/this.internal.scaleFactor),x<0&&(x=-1*O.height*72/x/this.internal.scaleFactor),T===0&&(T=x*O.width/O.height),x===0&&(x=T*O.height/O.width),[T,x]},_=function(T,x,O,$,Y,se){var K=y.call(this,O,$,Y),te=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,ee=c.call(this);if(O=K[0],$=K[1],ee[Y.index]=Y,se){se*=Math.PI/180;var pe=Math.cos(se),M=Math.sin(se),z=function(ne){return ne.toFixed(4)},Q=[z(pe),z(M),z(-1*M),z(pe),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,te(T),W(x+$),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([te(O),"0","0",te($),"0","0","cm"].join(" "))):this.internal.write([te(O),"0","0",te($),te(T),W(x+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(T){var x,O,$=0;if(typeof T=="string")for(O=T.length,x=0;x<O;x++)$=($<<5)-$+T.charCodeAt(x),$|=0;else if(V(T))for(O=T.byteLength/2,x=0;x<O;x++)$=($<<5)-$+T[x],$|=0;return $},I=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var x=!0;return T.length===0&&(x=!1),T.length%4!=0&&(x=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(x=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(x=!1),x},R=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var x=T.indexOf(",");return x<0?null:T.substring(0,x).trim().endsWith("base64")?T.substring(x+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var V=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},j=t.__addimage__.binaryStringToUint8Array=function(T){for(var x=T.length,O=new Uint8Array(x),$=0;$<x;$++)O[$]=T.charCodeAt($);return O},F=t.__addimage__.arrayBufferToBinaryString=function(T){for(var x="",O=V(T)?T:new Uint8Array(T),$=0;$<O.length;$+=8192)x+=String.fromCharCode.apply(null,O.subarray($,$+8192));return x};t.addImage=function(){var T,x,O,$,Y,se,K,te,W;if(typeof arguments[1]=="number"?(x=n,O=arguments[1],$=arguments[2],Y=arguments[3],se=arguments[4],K=arguments[5],te=arguments[6],W=arguments[7]):(x=arguments[1],O=arguments[2],$=arguments[3],Y=arguments[4],se=arguments[5],K=arguments[6],te=arguments[7],W=arguments[8]),zn(T=arguments[0])==="object"&&!d(T)&&"imageData"in T){var ee=T;T=ee.imageData,x=ee.format||x||n,O=ee.x||O||0,$=ee.y||$||0,Y=ee.w||ee.width||Y,se=ee.h||ee.height||se,K=ee.alias||K,te=ee.compression||te,W=ee.rotation||ee.angle||W}var pe=this.internal.getFilters();if(te===void 0&&pe.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(O)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=k.call(this,T,x,K,te);return _.call(this,O,$,Y,se,M,W),this};var k=function(T,x,O,$){var Y,se,K;if(typeof T=="string"&&i(T)===n){T=unescape(T);var te=N(T,!1);(te!==""||(te=t.loadFile(T,!0))!==void 0)&&(T=te)}if(d(T)&&(T=h(T,x)),x=i(T,x),!f(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if(((K=O)==null||K.length===0)&&(O=(function(W){return typeof W=="string"||V(W)?S(W):V(W.data)?S(W.data):null})(T)),(Y=g.call(this,O))||(T instanceof Uint8Array||x==="RGBA"||(se=T,T=j(T)),Y=this["process"+x.toUpperCase()](T,u.call(this),O,(function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in t.image_compression?W:E.NONE})($),se)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},N=t.__addimage__.convertBase64ToBinaryString=function(T,x){x=typeof x!="boolean"||x;var O,$="";if(typeof T=="string"){var Y;O=(Y=R(T))!==null&&Y!==void 0?Y:T;try{$=jx(O)}catch(se){if(x)throw I(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(T){var x,O,$="";if(d(T)&&(T=h(T)),typeof T=="string"&&i(T)===n&&(($=N(T,!1))===""&&($=t.loadFile(T)||""),T=$),O=i(T),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(T instanceof Uint8Array||(T=j(T)),!(x=this["process"+O.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return x.fileType=O,x}})(lt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};lt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(y.objId),E=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(v(r.contents))+")",o+=" /Popup "+_.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+h(v(E))+") >>",y.content=o;var S=y.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(o+=" /Open true"),o+=" >>",_.content=o,this.internal.write(y.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var I=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var V=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var u=this.splitTextToSize(n,a).length;s=Math.ceil(c*u)}else a=l,s=c;return this.text(n,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(lt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=t.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&o(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&o(y)&&e[y.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&o(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&o(y)&&e[y.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&o(y)&&e[y.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(y){var _=0,v=n,E="",S=0;for(_=0;_<y.length;_+=1)v[y.charCodeAt(_)]!==void 0?(S++,typeof(v=v[y.charCodeAt(_)])=="number"&&(E+=String.fromCharCode(v),v=n,S=0),_===y.length-1&&(v=n,E+=y.charAt(_-(S-1)),_-=S-1,S=0)):(v=n,E+=y.charAt(_-S),_-=S,S=0);return E};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(y,_,v){return s(y)?o(y)===!1?-1:!c(y)||!s(_)&&!s(v)||!s(v)&&a(_)||a(y)&&!s(_)||a(y)&&l(_)||a(y)&&a(_)?0:u(y)&&s(_)&&!a(_)&&s(v)&&c(v)?3:a(y)||!s(v)?1:2:-1},h=function(y){var _=0,v=0,E=0,S="",I="",R="",V=(y=y||"").split("\\s+"),j=[];for(_=0;_<V.length;_+=1){for(j.push(""),v=0;v<V[_].length;v+=1)S=V[_][v],I=V[_][v-1],R=V[_][v+1],s(S)?(E=d(S,I,R),j[_]+=E!==-1?String.fromCharCode(e[S.charCodeAt(0)][E]):S):j[_]+=S;j[_]=f(j[_])}return j.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var y,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(_)){var E=0;for(v=[],E=0;E<_.length;E+=1)Array.isArray(_[E])?v.push([h(_[E][0]),_[E][1],_[E][2]]):v.push([h(_[E])]);y=v}else y=h(_);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",g])})(lt.API),lt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(lt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,y=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,I){return S.concat(_.splitTextToSize(I,v))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)h<(y=this.getStringUnitWidth(l[E],{font:f})*u)&&(h=y);return h!==0&&(g=l.length),{w:h/=d,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,g,y,_,v=[],E=[],S=[],I={},R={},V=[],j=[],F=(d=d||{}).autoSize||!1,k=d.printHeaders!==!1,N=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,T=d.margins||Object.assign({width:this.getPageWidth()},e),x=typeof d.padding=="number"?d.padding:3,O=d.headerBackgroundColor||"#c8c8c8",$=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=N,this.internal.__cell__.padding=x,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=$,this.setFontSize(N),f==null)E=v=Object.keys(u[0]),S=v.map(function(){return"left"});else if(Array.isArray(f)&&zn(f[0])==="object")for(v=f.map(function(ee){return ee.name}),E=f.map(function(ee){return ee.prompt||ee.name||""}),S=f.map(function(ee){return ee.align||"left"}),h=0;h<f.length;h+=1)R[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(E=v=f,S=v.map(function(){return"left"}));if(F||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<v.length;h+=1){for(I[_=v[h]]=u.map(function(ee){return ee[_]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(E[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=I[_],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)V.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[_]=Math.max.apply(null,V)+x+x,V=[]}if(k){var Y={};for(h=0;h<v.length;h+=1)Y[v[h]]={},Y[v[h]].text=E[h],Y[v[h]].align=S[h];var se=a.call(this,Y,R);j=v.map(function(ee){return new o(l,c,R[ee],se,Y[ee].text,void 0,Y[ee].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var K=f.reduce(function(ee,pe){return ee[pe.name]=pe.align,ee},{});for(h=0;h<u.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:u[h]},this);var te=a.call(this,u[h],R);for(y=0;y<v.length;y+=1){var W=u[h][v[y]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:y,data:W},this),s.call(this,new o(l,c,R[v[y]],te,W,h+2,K[v[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}})(lt.API);var JB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],YT=KB(QB),eU=[100,200,300,400,500,600,700,800,900],tle=KB(eU);function GT(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return JB[o=o||"normal"]?o:"normal"})(t.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof YT[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function DB(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var nle={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},AB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function MB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function TB(t){return t.trimLeft()}function rle(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function ile(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ox,NB,RB,lg,Fx,PB,LB,kB,zT=["times"];function OB(t,e,n,r,i){var o=4,s=jB;switch(i){case lt.API.image_compression.FAST:o=1,s=FB;break;case lt.API.image_compression.MEDIUM:o=6,s=BB;break;case lt.API.image_compression.SLOW:o=9,s=UB}t=(function(l,c,u,f){for(var d,h=l.length/c,g=new Uint8Array(l.length+h),y=[ole,FB,jB,BB,UB],_=0;_<h;_+=1){var v=_*c,E=l.subarray(v,v+c);if(f)g.set(f(E,u,d),v+_);else{for(var S=y.length,I=[],R=0;R<S;R+=1)I[R]=y[R](E,u,d);var V=ale(I.concat());g.set(I[V],v+_)}d=E}return g})(t,e,Math.ceil(n*r/8),s);var a=fx(t,{level:o});return lt.API.__addimage__.arrayBufferToBinaryString(a)}function ole(t){var e=Array.apply([],t);return e.unshift(0),e}function FB(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function jB(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=t[o]-s+256&255}return i}function BB(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=t[o-e]||0,a=n&&n[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function UB(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=sle(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function sle(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function ale(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function VT(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return tU(t,i)>>o&s}function GB(t,e,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var d=f>>8&255;c.setUint8(u,d)}})(t,o,tU(t,o)&~(a<<s)&65535|l)}function tU(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function lle(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,u=[],f=0,d=null,h=0,g=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],1&y||(d=null),h=y>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,I=t[e++],R=I>>6&1,V=1<<1+(7&I),j=a,F=l,k=!1;I>>7&&(k=!0,j=e,F=V,e+=3*V);var N=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}u.push({x:_,y:v,width:E,height:S,has_local_palette:k,palette_offset:j,palette_size:F,data_offset:N,data_length:e-N,transparent_index:d,interlaced:!!R,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(x){if(x<0||x>=u.length)throw new Error("Frame index out of range.");return u[x]},this.decodeAndBlitFrameBGRA=function(x,O){var $=this.frameInfo(x),Y=$.width*$.height,se=new Uint8Array(Y);zB(t,$.data_offset,se,Y);var K=$.palette_offset,te=$.transparent_index;te===null&&(te=256);var W=$.width,ee=n-W,pe=W,M=4*($.y*n+$.x),z=4*(($.y+$.height)*n+$.x),Q=M,ne=4*ee;$.interlaced===!0&&(ne+=4*n*7);for(var re=8,le=0,_e=se.length;le<_e;++le){var ye=se[le];if(pe===0&&(pe=W,(Q+=ne)>=z&&(ne=4*ee+4*n*(re-1),Q=M+(W+ee)*(re<<1),re>>=1)),ye===te)Q+=4;else{var Se=t[K+3*ye],Pe=t[K+3*ye+1],A=t[K+3*ye+2];O[Q++]=A,O[Q++]=Pe,O[Q++]=Se,O[Q++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(x,O){var $=this.frameInfo(x),Y=$.width*$.height,se=new Uint8Array(Y);zB(t,$.data_offset,se,Y);var K=$.palette_offset,te=$.transparent_index;te===null&&(te=256);var W=$.width,ee=n-W,pe=W,M=4*($.y*n+$.x),z=4*(($.y+$.height)*n+$.x),Q=M,ne=4*ee;$.interlaced===!0&&(ne+=4*n*7);for(var re=8,le=0,_e=se.length;le<_e;++le){var ye=se[le];if(pe===0&&(pe=W,(Q+=ne)>=z&&(ne=4*ee+4*n*(re-1),Q=M+(W+ee)*(re<<1),re>>=1)),ye===te)Q+=4;else{var Se=t[K+3*ye],Pe=t[K+3*ye+1],A=t[K+3*ye+2];O[Q++]=Se,O[Q++]=Pe,O[Q++]=A,O[Q++]=255}--pe}}}function zB(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,d=0,h=t[e++],g=new Int32Array(4096),y=null;;){for(;u<16&&h!==0;)f|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var _=f&c;if(f>>=l,u-=l,_!==o){if(_===s)break;for(var v=_<a?_:y,E=0,S=v;S>o;)S=g[S]>>8,++E;var I=S;if(d+E+(v!==_?1:0)>r)return void Yn.log("Warning, gif stream longer than expected.");n[d++]=I;var R=d+=E;for(v!==_&&(n[d++]=I),S=v;E--;)S=g[S],n[--R]=255&S,S>>=8;y!==null&&a<4096&&(g[a++]=y<<8|I,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=_}else a=s+1,c=(1<<(l=i+1))-1,y=null}return d!==r&&Yn.log("Warning, gif stream shorter than expected."),n}function HT(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),g=new Array(64),y=[],_=0,v=7,E=new Array(64),S=new Array(64),I=new Array(64),R=new Array(256),V=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(M,z){for(var Q=0,ne=0,re=new Array,le=1;le<=16;le++){for(var _e=1;_e<=M[le];_e++)re[z[ne]]=[],re[z[ne]][0]=Q,re[z[ne]][1]=le,ne++,Q++;Q*=2}return re}function K(M){for(var z=M[0],Q=M[1]-1;Q>=0;)z&1<<Q&&(_|=1<<v),Q--,--v<0&&(_==255?(te(255),te(0)):te(_),v=7,_=0)}function te(M){y.push(M)}function W(M){te(M>>8&255),te(255&M)}function ee(M,z,Q,ne,re){for(var le,_e=re[0],ye=re[240],Se=(function(ce,ae){var xe,Ie,be,Ge,Xe,Ve,yt,Rt,Ye,wt,He=0;for(Ye=0;Ye<8;++Ye){xe=ce[He],Ie=ce[He+1],be=ce[He+2],Ge=ce[He+3],Xe=ce[He+4],Ve=ce[He+5],yt=ce[He+6];var Un=xe+(Rt=ce[He+7]),Jt=xe-Rt,vt=Ie+yt,At=Ie-yt,Mn=be+Ve,ct=be-Ve,Tn=Ge+Xe,ft=Ge-Xe,pt=Un+Tn,on=Un-Tn,Pt=vt+Mn,_t=vt-Mn;ce[He]=pt+Pt,ce[He+4]=pt-Pt;var yn=.707106781*(_t+on);ce[He+2]=on+yn,ce[He+6]=on-yn;var Tr=.382683433*((pt=ft+ct)-(_t=At+Jt)),tr=.5411961*pt+Tr,cr=1.306562965*_t+Tr,yr=.707106781*(Pt=ct+At),tt=Jt+yr,zr=Jt-yr;ce[He+5]=zr+tr,ce[He+3]=zr-tr,ce[He+1]=tt+cr,ce[He+7]=tt-cr,He+=8}for(He=0,Ye=0;Ye<8;++Ye){xe=ce[He],Ie=ce[He+8],be=ce[He+16],Ge=ce[He+24],Xe=ce[He+32],Ve=ce[He+40],yt=ce[He+48];var Vr=xe+(Rt=ce[He+56]),sn=xe-Rt,Gn=Ie+yt,En=Ie-yt,Nr=be+Ve,wi=be-Ve,Xu=Ge+Xe,Rc=Ge-Xe,Qs=Vr+Xu,La=Vr-Xu,ea=Gn+Nr,ta=Gn-Nr;ce[He]=Qs+ea,ce[He+32]=Qs-ea;var Ss=.707106781*(ta+La);ce[He+16]=La+Ss,ce[He+48]=La-Ss;var Ku=.382683433*((Qs=Rc+wi)-(ta=En+sn)),ka=.5411961*Qs+Ku,Ju=1.306562965*ta+Ku,Uf=.707106781*(ea=wi+En),Gf=sn+Uf,zf=sn-Uf;ce[He+40]=zf+ka,ce[He+24]=zf-ka,ce[He+8]=Gf+Ju,ce[He+56]=Gf-Ju,He++}for(Ye=0;Ye<64;++Ye)wt=ce[Ye]*ae[Ye],h[Ye]=wt>0?wt+.5|0:wt-.5|0;return h})(M,z),Pe=0;Pe<64;++Pe)g[j[Pe]]=Se[Pe];var A=g[0]-Q;Q=g[0],A==0?K(ne[0]):(K(ne[d[le=32767+A]]),K(f[le]));for(var fe=63;fe>0&&g[fe]==0;)fe--;if(fe==0)return K(_e),Q;for(var he,C=1;C<=fe;){for(var G=C;g[C]==0&&C<=fe;)++C;var ie=C-G;if(ie>=16){he=ie>>4;for(var ve=1;ve<=he;++ve)K(ye);ie&=15}le=32767+g[C],K(re[(ie<<4)+d[le]]),K(f[le]),C++}return fe!=63&&K(_e),Q}function pe(M){M=Math.min(Math.max(M,1),100),o!=M&&((function(z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var re=s((Q[ne]*z+50)/100);re=Math.min(Math.max(re,1),255),a[j[ne]]=re}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var ye=s((le[_e]*z+50)/100);ye=Math.min(Math.max(ye,1),255),l[j[_e]]=ye}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,A=0;A<8;A++)for(var fe=0;fe<8;fe++)c[Pe]=1/(a[j[Pe]]*Se[A]*Se[fe]*8),u[Pe]=1/(l[j[Pe]]*Se[A]*Se[fe]*8),Pe++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,z){z&&pe(z),y=new Array,_=0,v=7,W(65496),W(65504),W(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),W(1),W(1),te(0),te(0),(function(){W(65499),W(132),te(0);for(var Ie=0;Ie<64;Ie++)te(a[Ie]);te(1);for(var be=0;be<64;be++)te(l[be])})(),(function(Ie,be){W(65472),W(17),te(8),W(be),W(Ie),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(M.width,M.height),(function(){W(65476),W(418),te(0);for(var Ie=0;Ie<16;Ie++)te(F[Ie+1]);for(var be=0;be<=11;be++)te(k[be]);te(16);for(var Ge=0;Ge<16;Ge++)te(N[Ge+1]);for(var Xe=0;Xe<=161;Xe++)te(T[Xe]);te(1);for(var Ve=0;Ve<16;Ve++)te(x[Ve+1]);for(var yt=0;yt<=11;yt++)te(O[yt]);te(17);for(var Rt=0;Rt<16;Rt++)te($[Rt+1]);for(var Ye=0;Ye<=161;Ye++)te(Y[Ye])})(),W(65498),W(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var Q=0,ne=0,re=0;_=0,v=7,this.encode.displayName="_encode_";for(var le,_e,ye,Se,Pe,A,fe,he,C,G=M.data,ie=M.width,ve=M.height,ce=4*ie,ae=0;ae<ve;){for(le=0;le<ce;){for(Pe=ce*ae+le,fe=-1,he=0,C=0;C<64;C++)A=Pe+(he=C>>3)*ce+(fe=4*(7&C)),ae+he>=ve&&(A-=ce*(ae+1+he-ve)),le+fe>=ce&&(A-=le+fe-ce+4),_e=G[A++],ye=G[A++],Se=G[A++],E[C]=(V[_e]+V[ye+256|0]+V[Se+512|0]>>16)-128,S[C]=(V[_e+768|0]+V[ye+1024|0]+V[Se+1280|0]>>16)-128,I[C]=(V[_e+1280|0]+V[ye+1536|0]+V[Se+1792|0]>>16)-128;Q=ee(E,c,Q,e,r),ne=ee(S,u,ne,n,i),re=ee(I,u,re,n,i),le+=32}ae+=8}if(v>=0){var xe=[];xe[1]=v+1,xe[0]=(1<<v+1)-1,K(xe)}return W(65497),new Uint8Array(y)},t=t||50,(function(){for(var M=String.fromCharCode,z=0;z<256;z++)R[z]=M(z)})(),e=se(F,k),n=se(x,O),r=se(N,T),i=se($,Y),(function(){for(var M=1,z=2,Q=1;Q<=15;Q++){for(var ne=M;ne<z;ne++)d[32767+ne]=Q,f[32767+ne]=[],f[32767+ne][1]=Q,f[32767+ne][0]=ne;for(var re=-(z-1);re<=-M;re++)d[32767+re]=Q,f[32767+re]=[],f[32767+re][1]=Q,f[32767+re][0]=z-1+re;M<<=1,z<<=1}})(),(function(){for(var M=0;M<256;M++)V[M]=19595*M,V[M+256|0]=38470*M,V[M+512|0]=7471*M+32768,V[M+768|0]=-11059*M,V[M+1024|0]=-21709*M,V[M+1280|0]=32768*M+8421375,V[M+1536|0]=-27439*M,V[M+1792|0]=-5329*M})(),pe(t)}function Na(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function VB(t){function e(k){if(!k)throw Error("assert :P")}function n(k,N,T){for(var x=0;4>x;x++)if(k[N+x]!=T.charCodeAt(x))return!0;return!1}function r(k,N,T,x,O){for(var $=0;$<O;$++)k[N+$]=T[x+$]}function i(k,N,T,x){for(var O=0;O<x;O++)k[N+O]=T}function o(k){return new Int32Array(k)}function s(k,N){for(var T=[],x=0;x<k;x++)T.push(new N);return T}function a(k,N){var T=[];return(function x(O,$,Y){for(var se=Y[$],K=0;K<se&&(O.push(Y.length>$+1?[]:new N),!(Y.length<$+1));K++)x(O[K],$+1,Y)})(T,0,k),T}var l=function(){var k=this;function N(p,m){for(var b=1<<m-1>>>0;p&b;)b>>>=1;return b?(p&b-1)+b:p}function T(p,m,b,D,L){e(!(D%b));do p[m+(D-=b)]=L;while(0<D)}function x(p,m,b,D,L){if(e(2328>=L),512>=L)var B=o(512);else if((B=o(L))==null)return 0;return(function(U,H,q,Z,ue,Ee){var X,de,me=H,Ce=1<<q,we=o(16),De=o(16);for(e(ue!=0),e(Z!=null),e(U!=null),e(0<q),de=0;de<ue;++de){if(15<Z[de])return 0;++we[Z[de]]}if(we[0]==ue)return 0;for(De[1]=0,X=1;15>X;++X){if(we[X]>1<<X)return 0;De[X+1]=De[X]+we[X]}for(de=0;de<ue;++de)X=Z[de],0<Z[de]&&(Ee[De[X]++]=de);if(De[15]==1)return(Z=new O).g=0,Z.value=Ee[0],T(U,me,1,Ce,Z),Ce;var Ne,Be=-1,Oe=Ce-1,ut=0,Qe=1,qt=1,rt=1<<q;for(de=0,X=1,ue=2;X<=q;++X,ue<<=1){if(Qe+=qt<<=1,0>(qt-=we[X]))return 0;for(;0<we[X];--we[X])(Z=new O).g=X,Z.value=Ee[de++],T(U,me+ut,ue,rt,Z),ut=N(ut,X)}for(X=q+1,ue=2;15>=X;++X,ue<<=1){if(Qe+=qt<<=1,0>(qt-=we[X]))return 0;for(;0<we[X];--we[X]){if(Z=new O,(ut&Oe)!=Be){for(me+=rt,Ne=1<<(Be=X)-q;15>Be&&!(0>=(Ne-=we[Be]));)++Be,Ne<<=1;Ce+=rt=1<<(Ne=Be-q),U[H+(Be=ut&Oe)].g=Ne+q,U[H+Be].value=me-H-Be}Z.g=X-q,Z.value=Ee[de++],T(U,me+(ut>>q),ue,rt,Z),ut=N(ut,X)}}return Qe!=2*De[15]-1?0:Ce})(p,m,b,D,L,B)}function O(){this.value=this.g=0}function $(){this.value=this.g=0}function Y(){this.G=s(5,O),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ch,$)}function se(p,m,b,D){e(p!=null),e(m!=null),e(2147483648>D),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=m,p.pa=b,p.Jd=m,p.Yc=b+D,p.Zc=4<=D?b+D-4+1:b,_e(p)}function K(p,m){for(var b=0;0<m--;)b|=Se(p,128)<<m;return b}function te(p,m){var b=K(p,m);return ye(p)?-b:b}function W(p,m,b,D){var L,B=0;for(e(p!=null),e(m!=null),e(4294967288>D),p.Sb=D,p.Ra=0,p.u=0,p.h=0,4<D&&(D=4),L=0;L<D;++L)B+=m[b+L]<<8*L;p.Ra=B,p.bb=D,p.oa=m,p.pa=b}function ee(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Oc-8>>>0,++p.bb,p.u-=8;ne(p)&&(p.h=1,p.u=0)}function pe(p,m){if(e(0<=m),!p.h&&m<=Xo){var b=Q(p)&Zo[m];return p.u+=m,ee(p),b}return p.h=1,p.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(p){return p.Ra>>>(p.u&Oc-1)>>>0}function ne(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Oc}function re(p,m){p.u=m,p.h=ne(p)}function le(p){p.u>=Tl&&(e(p.u>=Tl),ee(p))}function _e(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ye(p){return K(p,1)}function Se(p,m){var b=p.Ca;0>p.b&&_e(p);var D=p.b,L=b*m>>>8,B=(p.I>>>D>L)+0;for(B?(b-=L,p.I-=L+1<<D>>>0):b=L+1,D=b,L=0;256<=D;)L+=8,D>>=8;return D=7^L+Fc[D],p.b-=D,p.Ca=(b<<D)-1,B}function Pe(p,m,b){p[m+0]=b>>24&255,p[m+1]=b>>16&255,p[m+2]=b>>8&255,p[m+3]=255&b}function A(p,m){return p[m+0]|p[m+1]<<8}function fe(p,m){return A(p,m)|p[m+2]<<16}function he(p,m){return A(p,m)|A(p,m+2)<<16}function C(p,m){var b=1<<m;return e(p!=null),e(0<m),p.X=o(b),p.X==null?0:(p.Mb=32-m,p.Xa=m,1)}function G(p,m){e(p!=null),e(m!=null),e(p.Xa==m.Xa),r(m.X,0,p.X,0,1<<m.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function ve(p,m,b,D){e(b!=null),e(D!=null);var L=b[0],B=D[0];return L==0&&(L=(p*B+m/2)/m),B==0&&(B=(m*L+p/2)/p),0>=L||0>=B?0:(b[0]=L,D[0]=B,1)}function ce(p,m){return p+(1<<m)-1>>>m}function ae(p,m){return((4278255360&p)+(4278255360&m)>>>0&4278255360)+((16711935&p)+(16711935&m)>>>0&16711935)>>>0}function xe(p,m){k[m]=function(b,D,L,B,U,H,q){var Z;for(Z=0;Z<U;++Z){var ue=k[p](H[q+Z-1],L,B+Z);H[q+Z]=ae(b[D+Z],ue)}}}function Ie(){this.ud=this.hd=this.jd=0}function be(p,m){return((4278124286&(p^m))>>>1)+(p&m)>>>0}function Ge(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Xe(p,m){return Ge(p+(p-m+.5>>1))}function Ve(p,m,b){return Math.abs(m-b)-Math.abs(p-b)}function yt(p,m,b,D,L,B,U){for(D=B[U-1],b=0;b<L;++b)B[U+b]=D=ae(p[m+b],D)}function Rt(p,m,b,D,L){var B;for(B=0;B<b;++B){var U=p[m+B],H=U>>8&255,q=16711935&(q=(q=16711935&U)+((H<<16)+H));D[L+B]=(4278255360&U)+q>>>0}}function Ye(p,m){m.jd=255&p,m.hd=p>>8&255,m.ud=p>>16&255}function wt(p,m,b,D,L,B){var U;for(U=0;U<D;++U){var H=m[b+U],q=H>>>8,Z=H,ue=255&(ue=(ue=H>>>16)+((p.jd<<24>>24)*(q<<24>>24)>>>5));Z=255&(Z=(Z+=(p.hd<<24>>24)*(q<<24>>24)>>>5)+((p.ud<<24>>24)*(ue<<24>>24)>>>5)),L[B+U]=(4278255360&H)+(ue<<16)+Z}}function He(p,m,b,D,L){k[m]=function(B,U,H,q,Z,ue,Ee,X,de){for(q=Ee;q<X;++q)for(Ee=0;Ee<de;++Ee)Z[ue++]=L(H[D(B[U++])])},k[p]=function(B,U,H,q,Z,ue,Ee){var X=8>>B.b,de=B.Ea,me=B.K[0],Ce=B.w;if(8>X)for(B=(1<<B.b)-1,Ce=(1<<X)-1;U<H;++U){var we,De=0;for(we=0;we<de;++we)we&B||(De=D(q[Z++])),ue[Ee++]=L(me[De&Ce]),De>>=X}else k["VP8LMapColor"+b](q,Z,me,Ce,ue,Ee,U,H,de)}}function Un(p,m,b,D,L){for(b=m+b;m<b;){var B=p[m++];D[L++]=B>>16&255,D[L++]=B>>8&255,D[L++]=255&B}}function Jt(p,m,b,D,L){for(b=m+b;m<b;){var B=p[m++];D[L++]=B>>16&255,D[L++]=B>>8&255,D[L++]=255&B,D[L++]=B>>24&255}}function vt(p,m,b,D,L){for(b=m+b;m<b;){var B=(U=p[m++])>>16&240|U>>12&15,U=240&U|U>>28&15;D[L++]=B,D[L++]=U}}function At(p,m,b,D,L){for(b=m+b;m<b;){var B=(U=p[m++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;D[L++]=B,D[L++]=U}}function Mn(p,m,b,D,L){for(b=m+b;m<b;){var B=p[m++];D[L++]=255&B,D[L++]=B>>8&255,D[L++]=B>>16&255}}function ct(p,m,b,D,L,B){if(B==0)for(b=m+b;m<b;)Pe(D,((B=p[m++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),L+=32;else r(D,L,p,m,b)}function Tn(p,m){k[m][0]=k[p+"0"],k[m][1]=k[p+"1"],k[m][2]=k[p+"2"],k[m][3]=k[p+"3"],k[m][4]=k[p+"4"],k[m][5]=k[p+"5"],k[m][6]=k[p+"6"],k[m][7]=k[p+"7"],k[m][8]=k[p+"8"],k[m][9]=k[p+"9"],k[m][10]=k[p+"10"],k[m][11]=k[p+"11"],k[m][12]=k[p+"12"],k[m][13]=k[p+"13"],k[m][14]=k[p+"0"],k[m][15]=k[p+"0"]}function ft(p){return p==gb||p==mb||p==gy||p==yb}function pt(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pt,this.f.kb=new on,this.sd=null}function _t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Tr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function tr(p,m){var b=p.T,D=m.ba.f.RGBA,L=D.eb,B=D.fb+p.ka*D.A,U=Ts[m.ba.S],H=p.y,q=p.O,Z=p.f,ue=p.N,Ee=p.ea,X=p.W,de=m.cc,me=m.dc,Ce=m.Mc,we=m.Nc,De=p.ka,Ne=p.ka+p.T,Be=p.U,Oe=Be+1>>1;for(De==0?U(H,q,null,null,Z,ue,Ee,X,Z,ue,Ee,X,L,B,null,null,Be):(U(m.ec,m.fc,H,q,de,me,Ce,we,Z,ue,Ee,X,L,B-D.A,L,B,Be),++b);De+2<Ne;De+=2)de=Z,me=ue,Ce=Ee,we=X,ue+=p.Rc,X+=p.Rc,B+=2*D.A,U(H,(q+=2*p.fa)-p.fa,H,q,de,me,Ce,we,Z,ue,Ee,X,L,B-D.A,L,B,Be);return q+=p.fa,p.j+Ne<p.o?(r(m.ec,m.fc,H,q,Be),r(m.cc,m.dc,Z,ue,Oe),r(m.Mc,m.Nc,Ee,X,Oe),b--):1&Ne||U(H,q,null,null,Z,ue,Ee,X,Z,ue,Ee,X,L,B+D.A,null,null,Be),b}function cr(p,m,b){var D=p.F,L=[p.J];if(D!=null){var B=p.U,U=m.ba.S,H=U==py||U==gy;m=m.ba.f.RGBA;var q=[0],Z=p.ka;q[0]=p.T,p.Kb&&(Z==0?--q[0]:(--Z,L[0]-=p.width),p.j+p.ka+p.T==p.o&&(q[0]=p.o-p.j-Z));var ue=m.eb;Z=m.fb+Z*m.A,p=rN(D,L[0],p.width,B,q,ue,Z+(H?0:3),m.A),e(b==q),p&&ft(U)&&jg(ue,Z,H,B,q,m.A)}return 0}function yr(p){var m=p.ma,b=m.ba.S,D=11>b,L=b==fy||b==dy||b==py||b==pb||b==12||ft(b);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Tg(m.Oa,p,L?11:12))return 0;if(L&&ft(b)&&Dg(),p.da)alert("todo:use_scaling");else{if(D){if(m.Ib=Tr,p.Kb){if(b=p.U+1>>1,m.memory=o(p.U+2*b),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+p.U,m.Mc=m.cc,m.Nc=m.dc+b,m.Ib=tr,Dg()}}else alert("todo:EmitYUV");L&&(m.Jb=cr,D&&ra())}if(D&&!wN){for(p=0;256>p;++p)bU[p]=89858*(p-128)+yy>>my,CU[p]=-22014*(p-128)+yy,SU[p]=-45773*(p-128),EU[p]=113618*(p-128)+yy>>my;for(p=Ug;p<wb;++p)m=76283*(p-16)+yy>>my,IU[p-Ug]=Oa(m,255),DU[p-Ug]=Oa(m+8>>4,15);wN=1}return 1}function tt(p){var m=p.ma,b=p.U,D=p.T;return e(!(1&p.ka)),0>=b||0>=D?0:(b=m.Ib(p,m),m.Jb!=null&&m.Jb(p,m,b),m.Dc+=b,1)}function zr(p){p.ma.memory=null}function Vr(p,m,b,D){return pe(p,8)!=47?0:(m[0]=pe(p,14)+1,b[0]=pe(p,14)+1,D[0]=pe(p,1),pe(p,3)!=0?0:!p.h)}function sn(p,m){if(4>p)return p+1;var b=p-2>>1;return(2+(1&p)<<b)+pe(m,b)+1}function Gn(p,m){return 120<m?m-120:1<=(b=((b=lU[m-1])>>4)*p+(8-(15&b)))?b:1;var b}function En(p,m,b){var D=Q(b),L=p[m+=255&D].g-8;return 0<L&&(re(b,b.u+8),D=Q(b),m+=p[m].value,m+=D&(1<<L)-1),re(b,b.u+p[m].g),p[m].value}function Nr(p,m,b){return b.g+=p.g,b.value+=p.value<<m>>>0,e(8>=b.g),p.g}function wi(p,m,b){var D=p.xc;return e((m=D==0?0:p.vc[p.md*(b>>D)+(m>>D)])<p.Wb),p.Ya[m]}function Xu(p,m,b,D){var L=p.ab,B=p.c*m,U=p.C;m=U+m;var H=b,q=D;for(D=p.Ta,b=p.Ua;0<L--;){var Z=p.gc[L],ue=U,Ee=m,X=H,de=q,me=(q=D,H=b,Z.Ea);switch(e(ue<Ee),e(Ee<=Z.nc),Z.hc){case 2:_r(X,de,(Ee-ue)*me,q,H);break;case 0:var Ce=ue,we=Ee,De=q,Ne=H,Be=(rt=Z).Ea;Ce==0&&(Rg(X,de,null,null,1,De,Ne),yt(X,de+1,0,0,Be-1,De,Ne+1),de+=Be,Ne+=Be,++Ce);for(var Oe=1<<rt.b,ut=Oe-1,Qe=ce(Be,rt.b),qt=rt.K,rt=rt.w+(Ce>>rt.b)*Qe;Ce<we;){var an=qt,$r=rt,Wt=1;for(Xf(X,de,De,Ne-Be,1,De,Ne);Wt<Be;){var it=(Wt&~ut)+Oe;it>Be&&(it=Be),(0,Lg[an[$r++]>>8&15])(X,de+ +Wt,De,Ne+Wt-Be,it-Wt,De,Ne+Wt),Wt=it}de+=Be,Ne+=Be,++Ce&ut||(rt+=Qe)}Ee!=Z.nc&&r(q,H-me,q,H+(Ee-ue-1)*me,me);break;case 1:for(me=X,we=de,Be=(X=Z.Ea)-(Ne=X&~(De=(de=1<<Z.b)-1)),Ce=ce(X,Z.b),Oe=Z.K,Z=Z.w+(ue>>Z.b)*Ce;ue<Ee;){for(ut=Oe,Qe=Z,qt=new Ie,rt=we+Ne,an=we+X;we<rt;)Ye(ut[Qe++],qt),kg(qt,me,we,de,q,H),we+=de,H+=de;we<an&&(Ye(ut[Qe++],qt),kg(qt,me,we,Be,q,H),we+=Be,H+=Be),++ue&De||(Z+=Ce)}break;case 3:if(X==q&&de==H&&0<Z.b){for(we=q,X=me=H+(Ee-ue)*me-(Ne=(Ee-ue)*ce(Z.Ea,Z.b)),de=q,De=H,Ce=[],Ne=(Be=Ne)-1;0<=Ne;--Ne)Ce[Ne]=de[De+Ne];for(Ne=Be-1;0<=Ne;--Ne)we[X+Ne]=Ce[Ne];ly(Z,ue,Ee,q,me,q,H)}else ly(Z,ue,Ee,X,de,q,H)}H=D,q=b}q!=b&&r(D,b,H,q,B)}function Rc(p,m){var b=p.V,D=p.Ba+p.c*p.C,L=m-p.C;if(e(m<=p.l.o),e(16>=L),0<L){var B=p.l,U=p.Ta,H=p.Ua,q=B.width;if(Xu(p,L,b,D),L=H=[H],e((b=p.C)<(D=m)),e(B.v<B.va),D>B.o&&(D=B.o),b<B.j){var Z=B.j-b;b=B.j,L[0]+=Z*q}if(b>=D?b=0:(L[0]+=4*B.v,B.ka=b-B.j,B.U=B.va-B.v,B.T=D-b,b=1),b){if(H=H[0],11>(b=p.ca).S){var ue=b.f.RGBA,Ee=(D=b.S,L=B.U,B=B.T,Z=ue.eb,ue.A),X=B;for(ue=ue.fb+p.Ma*ue.A;0<X--;){var de=U,me=H,Ce=L,we=Z,De=ue;switch(D){case hy:Og(de,me,Ce,we,De);break;case fy:jc(de,me,Ce,we,De);break;case gb:jc(de,me,Ce,we,De),jg(we,De,0,Ce,1,0);break;case uN:uh(de,me,Ce,we,De);break;case dy:ct(de,me,Ce,we,De,1);break;case mb:ct(de,me,Ce,we,De,1),jg(we,De,0,Ce,1,0);break;case py:ct(de,me,Ce,we,De,0);break;case gy:ct(de,me,Ce,we,De,0),jg(we,De,1,Ce,1,0);break;case pb:Bc(de,me,Ce,we,De);break;case yb:Bc(de,me,Ce,we,De),nN(we,De,Ce,1,0);break;case hN:Uc(de,me,Ce,we,De);break;default:e(0)}H+=q,ue+=Ee}p.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=b.height)}}p.C=m,e(p.C<=p.i)}function Qs(p){var m;if(0<p.ua)return 0;for(m=0;m<p.Wb;++m){var b=p.Ya[m].G,D=p.Ya[m].H;if(0<b[1][D[1]+0].g||0<b[2][D[2]+0].g||0<b[3][D[3]+0].g)return 0}return 1}function La(p,m,b,D,L,B){if(p.Z!=0){var U=p.qd,H=p.rd;for(e(Vc[p.Z]!=null);m<b;++m)Vc[p.Z](U,H,D,L,D,L,B),U=D,H=L,L+=B;p.qd=U,p.rd=H}}function ea(p,m){var b=p.l.ma,D=b.Z==0||b.Z==1?p.l.j:p.C;if(D=p.C<D?D:p.C,e(m<=p.l.o),m>D){var L=p.l.width,B=b.ca,U=b.tb+L*D,H=p.V,q=p.Ba+p.c*D,Z=p.gc;e(p.ab==1),e(Z[0].hc==3),Ua(Z[0],D,m,H,q,B,U),La(b,D,m,B,U,L)}p.C=p.Ma=m}function ta(p,m,b,D,L,B,U){var H=p.$/D,q=p.$%D,Z=p.m,ue=p.s,Ee=b+p.$,X=Ee;L=b+D*L;var de=b+D*B,me=280+ue.ua,Ce=p.Pb?H:16777216,we=0<ue.ua?ue.Wa:null,De=ue.wc,Ne=Ee<de?wi(ue,q,H):null;e(p.C<B),e(de<=L);var Be=!1;e:for(;;){for(;Be||Ee<de;){var Oe=0;if(H>=Ce){var ut=Ee-b;e((Ce=p).Pb),Ce.wd=Ce.m,Ce.xd=ut,0<Ce.s.ua&&G(Ce.s.Wa,Ce.s.vb),Ce=H+uU}if(q&De||(Ne=wi(ue,q,H)),e(Ne!=null),Ne.Qb&&(m[Ee]=Ne.qb,Be=!0),!Be)if(le(Z),Ne.jc){Oe=Z,ut=m;var Qe=Ee,qt=Ne.pd[Q(Oe)&ch-1];e(Ne.jc),256>qt.g?(re(Oe,Oe.u+qt.g),ut[Qe]=qt.value,Oe=0):(re(Oe,Oe.u+qt.g-256),e(256<=qt.value),Oe=qt.value),Oe==0&&(Be=!0)}else Oe=En(Ne.G[0],Ne.H[0],Z);if(Z.h)break;if(Be||256>Oe){if(!Be)if(Ne.nd)m[Ee]=(Ne.qb|Oe<<8)>>>0;else{if(le(Z),Be=En(Ne.G[1],Ne.H[1],Z),le(Z),ut=En(Ne.G[2],Ne.H[2],Z),Qe=En(Ne.G[3],Ne.H[3],Z),Z.h)break;m[Ee]=(Qe<<24|Be<<16|Oe<<8|ut)>>>0}if(Be=!1,++Ee,++q>=D&&(q=0,++H,U!=null&&H<=B&&!(H%16)&&U(p,H),we!=null))for(;X<Ee;)Oe=m[X++],we.X[(506832829*Oe&4294967295)>>>we.Mb]=Oe}else if(280>Oe){if(Oe=sn(Oe-256,Z),ut=En(Ne.G[4],Ne.H[4],Z),le(Z),ut=Gn(D,ut=sn(ut,Z)),Z.h)break;if(Ee-b<ut||L-Ee<Oe)break e;for(Qe=0;Qe<Oe;++Qe)m[Ee+Qe]=m[Ee+Qe-ut];for(Ee+=Oe,q+=Oe;q>=D;)q-=D,++H,U!=null&&H<=B&&!(H%16)&&U(p,H);if(e(Ee<=L),q&De&&(Ne=wi(ue,q,H)),we!=null)for(;X<Ee;)Oe=m[X++],we.X[(506832829*Oe&4294967295)>>>we.Mb]=Oe}else{if(!(Oe<me))break e;for(Be=Oe-280,e(we!=null);X<Ee;)Oe=m[X++],we.X[(506832829*Oe&4294967295)>>>we.Mb]=Oe;Oe=Ee,e(!(Be>>>(ut=we).Xa)),m[Oe]=ut.X[Be],Be=!0}Be||e(Z.h==ne(Z))}if(p.Pb&&Z.h&&Ee<L)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&G(p.s.vb,p.s.Wa);else{if(Z.h)break e;U?.(p,H>B?B:H),p.a=0,p.$=Ee-b}return 1}return p.a=3,0}function Ss(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var m=p.Wa;m!=null&&(m.X=null),p.vb=null,e(p!=null)}function Ku(){var p=new It;return p==null?null:(p.a=0,p.xb=pN,Tn("Predictor","VP8LPredictors"),Tn("Predictor","VP8LPredictors_C"),Tn("PredictorAdd","VP8LPredictorsAdd"),Tn("PredictorAdd","VP8LPredictorsAdd_C"),_r=Rt,kg=wt,Og=Un,jc=Jt,Bc=vt,Uc=At,uh=Mn,k.VP8LMapColor32b=Ba,k.VP8LMapColor8b=Pg,p)}function ka(p,m,b,D,L){var B=1,U=[p],H=[m],q=D.m,Z=D.s,ue=null,Ee=0;e:for(;;){if(b)for(;B&&pe(q,1);){var X=U,de=H,me=D,Ce=1,we=me.m,De=me.gc[me.ab],Ne=pe(we,2);if(me.Oc&1<<Ne)B=0;else{switch(me.Oc|=1<<Ne,De.hc=Ne,De.Ea=X[0],De.nc=de[0],De.K=[null],++me.ab,e(4>=me.ab),Ne){case 0:case 1:De.b=pe(we,3)+2,Ce=ka(ce(De.Ea,De.b),ce(De.nc,De.b),0,me,De.K),De.K=De.K[0];break;case 3:var Be,Oe=pe(we,8)+1,ut=16<Oe?0:4<Oe?1:2<Oe?2:3;if(X[0]=ce(De.Ea,ut),De.b=ut,Be=Ce=ka(Oe,1,0,me,De.K)){var Qe,qt=Oe,rt=De,an=1<<(8>>rt.b),$r=o(an);if($r==null)Be=0;else{var Wt=rt.K[0],it=rt.w;for($r[0]=rt.K[0][0],Qe=1;Qe<1*qt;++Qe)$r[Qe]=ae(Wt[it+Qe],$r[Qe-1]);for(;Qe<4*an;++Qe)$r[Qe]=0;rt.K[0]=null,rt.K[0]=$r,Be=1}}Ce=Be;break;case 2:break;default:e(0)}B=Ce}}if(U=U[0],H=H[0],B&&pe(q,1)&&!(B=1<=(Ee=pe(q,4))&&11>=Ee)){D.a=3;break e}var qe;if(qe=B)t:{var wr,Ot,hn,Jn=D,Ei=U,oo=H,ur=Ee,Ui=b,so=Jn.m,Yr=Jn.s,vn=[null],On=1,hr=0,Fn=cU[ur];n:for(;;){if(Ui&&pe(so,1)){var Si=pe(so,3)+2,oa=ce(Ei,Si),xr=ce(oo,Si),vo=oa*xr;if(!ka(oa,xr,0,Jn,vn))break n;for(vn=vn[0],Yr.xc=Si,wr=0;wr<vo;++wr){var qn=vn[wr]>>8&65535;vn[wr]=qn,qn>=On&&(On=qn+1)}}if(so.h)break n;for(Ot=0;5>Ot;++Ot){var Zr=fN[Ot];!Ot&&0<ur&&(Zr+=1<<ur),hr<Zr&&(hr=Zr)}var Jo=s(On*Fn,O),ao=On,Qo=s(ao,Y);if(Qo==null)var es=null;else e(65536>=ao),es=Qo;var wo=o(hr);if(es==null||wo==null||Jo==null){Jn.a=1;break n}var ts=Jo;for(wr=hn=0;wr<On;++wr){var Xn=es[wr],ns=Xn.G,sa=Xn.H,fh=0,Pl=1,Ci=0;for(Ot=0;5>Ot;++Ot){Zr=fN[Ot],ns[Ot]=ts,sa[Ot]=hn,!Ot&&0<ur&&(Zr+=1<<ur);i:{var vy,xb=Zr,wy=Jn,Gg=wo,TU=ts,NU=hn,bb=0,Hc=wy.m,RU=pe(Hc,1);if(i(Gg,0,0,xb),RU){var PU=pe(Hc,1)+1,LU=pe(Hc,1),EN=pe(Hc,LU==0?1:8);Gg[EN]=1,PU==2&&(Gg[EN=pe(Hc,8)]=1);var xy=1}else{var SN=o(19),CN=pe(Hc,4)+4;if(19<CN){wy.a=3;var by=0;break i}for(vy=0;vy<CN;++vy)SN[aU[vy]]=pe(Hc,3);var Eb=void 0,zg=void 0,IN=wy,kU=SN,Ey=xb,DN=Gg,Sb=0,qc=IN.m,AN=8,MN=s(128,O);r:for(;x(MN,0,7,kU,19);){if(pe(qc,1)){var OU=2+2*pe(qc,3);if((Eb=2+pe(qc,OU))>Ey)break r}else Eb=Ey;for(zg=0;zg<Ey&&Eb--;){le(qc);var TN=MN[0+(127&Q(qc))];re(qc,qc.u+TN.g);var Jf=TN.value;if(16>Jf)DN[zg++]=Jf,Jf!=0&&(AN=Jf);else{var FU=Jf==16,NN=Jf-16,jU=oU[NN],RN=pe(qc,iU[NN])+jU;if(zg+RN>Ey)break r;for(var BU=FU?AN:0;0<RN--;)DN[zg++]=BU}}Sb=1;break r}Sb||(IN.a=3),xy=Sb}(xy=xy&&!Hc.h)&&(bb=x(TU,NU,8,Gg,xb)),xy&&bb!=0?by=bb:(wy.a=3,by=0)}if(by==0)break n;if(Pl&&sU[Ot]==1&&(Pl=ts[hn].g==0),fh+=ts[hn].g,hn+=by,3>=Ot){var Vg,Cb=wo[0];for(Vg=1;Vg<Zr;++Vg)wo[Vg]>Cb&&(Cb=wo[Vg]);Ci+=Cb}}if(Xn.nd=Pl,Xn.Qb=0,Pl&&(Xn.qb=(ns[3][sa[3]+0].value<<24|ns[1][sa[1]+0].value<<16|ns[2][sa[2]+0].value)>>>0,fh==0&&256>ns[0][sa[0]+0].value&&(Xn.Qb=1,Xn.qb+=ns[0][sa[0]+0].value<<8)),Xn.jc=!Xn.Qb&&6>Ci,Xn.jc){var Sy,Ll=Xn;for(Sy=0;Sy<ch;++Sy){var Wc=Sy,$c=Ll.pd[Wc],Cy=Ll.G[0][Ll.H[0]+Wc];256<=Cy.value?($c.g=Cy.g+256,$c.value=Cy.value):($c.g=0,$c.value=0,Wc>>=Nr(Cy,8,$c),Wc>>=Nr(Ll.G[1][Ll.H[1]+Wc],16,$c),Wc>>=Nr(Ll.G[2][Ll.H[2]+Wc],0,$c),Nr(Ll.G[3][Ll.H[3]+Wc],24,$c))}}}Yr.vc=vn,Yr.Wb=On,Yr.Ya=es,Yr.yc=Jo,qe=1;break t}qe=0}if(!(B=qe)){D.a=3;break e}if(0<Ee){if(Z.ua=1<<Ee,!C(Z.Wa,Ee)){D.a=1,B=0;break e}}else Z.ua=0;var Ib=D,PN=U,UU=H,Db=Ib.s,Ab=Db.xc;if(Ib.c=PN,Ib.i=UU,Db.md=ce(PN,Ab),Db.wc=Ab==0?-1:(1<<Ab)-1,b){D.xb=yU;break e}if((ue=o(U*H))==null){D.a=1,B=0;break e}B=(B=ta(D,ue,0,U,H,H,null))&&!q.h;break e}return B?(L!=null?L[0]=ue:(e(ue==null),e(b)),D.$=0,b||Ss(Z)):Ss(Z),B}function Ju(p,m){var b=p.c*p.i,D=b+m+16*m;return e(p.c<=m),p.V=o(D),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+b+m,1)}function Uf(p,m){var b=p.C,D=m-b,L=p.V,B=p.Ba+p.c*b;for(e(m<=p.l.o);0<D;){var U=16<D?16:D,H=p.l.ma,q=p.l.width,Z=q*U,ue=H.ca,Ee=H.tb+q*b,X=p.Ta,de=p.Ua;Xu(p,U,L,B),iN(X,de,ue,Ee,Z),La(H,b,b+U,ue,Ee,q),D-=U,L+=U*p.c,b+=U}e(b==m),p.C=p.Ma=m}function Gf(){this.ub=this.yd=this.td=this.Rb=0}function zf(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Kx(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function mg(){this.Yb=(function(){var p=[];return(function m(b,D,L){for(var B=L[D],U=0;U<B&&(b.push(L.length>D+1?[]:0),!(L.length<D+1));U++)m(b[U],D+1,L)})(p,0,[3,11]),p})()}function H1(){this.jb=o(3),this.Wc=a([4,8],mg),this.Xc=a([4,17],mg)}function q1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Cs(){this.ld=this.La=this.dd=this.tc=0}function yg(){this.Na=this.la=0}function W1(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _g(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $1(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cs),this.Y=0,this.ya=Array(new _g),this.aa=0,this.l=new Vf}function Y1(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Z1(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Gf,this.Kc=new zf,this.ed=new q1,this.Qa=new Kx,this.Ic=this.$c=this.Aa=0,this.D=new $1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,W1),this.Pa=new H1,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Y1),this.Hd=0,this.rb=Array(new yg),this.sb=0,this.wa=Array(new Cs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _g),this.L=this.aa=0,this.gd=a([4,2],Cs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oa(p,m){return 0>p?0:p>m?m:p}function Vf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jx(){var p=new Z1;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Bg||(Bg=Hf)),p}function Rr(p,m,b){return p.a==0&&(p.a=m,p.sc=b,p.cb=0),0}function X1(p,m,b){return 3<=b&&p[m+0]==157&&p[m+1]==1&&p[m+2]==42}function Fa(p,m){if(p==null)return 0;if(p.a=0,p.sc="OK",m==null)return Rr(p,2,"null VP8Io passed to VP8GetHeaders()");var b=m.data,D=m.w,L=m.ha;if(4>L)return Rr(p,7,"Truncated header.");var B=b[D+0]|b[D+1]<<8|b[D+2]<<16,U=p.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return Rr(p,3,"Incorrect keyframe parameters.");if(!U.yd)return Rr(p,4,"Frame not displayable.");D+=3,L-=3;var H=p.Kc;if(U.Rb){if(7>L)return Rr(p,7,"cannot parse picture header");if(!X1(b,D,L))return Rr(p,3,"Bad code word");H.c=16383&(b[D+4]<<8|b[D+3]),H.Td=b[D+4]>>6,H.i=16383&(b[D+6]<<8|b[D+5]),H.Ud=b[D+6]>>6,D+=7,L-=7,p.za=H.c+15>>4,p.Ub=H.i+15>>4,m.width=H.c,m.height=H.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((B=p.Pa).jb,0,255,B.jb.length),e((B=p.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(U.ub>L)return Rr(p,7,"bad partition length");se(B=p.m,b,D,U.ub),D+=U.ub,L-=U.ub,U.Rb&&(H.Ld=ye(B),H.Kd=ye(B)),H=p.Qa;var q,Z=p.Pa;if(e(B!=null),e(H!=null),H.Cb=ye(B),H.Cb){if(H.Bb=ye(B),ye(B)){for(H.Fb=ye(B),q=0;4>q;++q)H.Zb[q]=ye(B)?te(B,7):0;for(q=0;4>q;++q)H.Lb[q]=ye(B)?te(B,6):0}if(H.Bb)for(q=0;3>q;++q)Z.jb[q]=ye(B)?K(B,8):255}else H.Bb=0;if(B.Ka)return Rr(p,3,"cannot parse segment header");if((H=p.ed).zd=ye(B),H.Tb=K(B,6),H.wb=K(B,3),H.Pc=ye(B),H.Pc&&ye(B)){for(Z=0;4>Z;++Z)ye(B)&&(H.vd[Z]=te(B,6));for(Z=0;4>Z;++Z)ye(B)&&(H.od[Z]=te(B,6))}if(p.L=H.Tb==0?0:H.zd?1:2,B.Ka)return Rr(p,3,"cannot parse filter header");var ue=L;if(L=q=D,D=q+ue,H=ue,p.Xb=(1<<K(p.m,2))-1,ue<3*(Z=p.Xb))b=7;else{for(q+=3*Z,H-=3*Z,ue=0;ue<Z;++ue){var Ee=b[L+0]|b[L+1]<<8|b[L+2]<<16;Ee>H&&(Ee=H),se(p.Jc[+ue],b,q,Ee),q+=Ee,H-=Ee,L+=3}se(p.Jc[+Z],b,q,H),b=q<D?0:5}if(b!=0)return Rr(p,b,"cannot parse partitions");for(b=K(q=p.m,7),L=ye(q)?te(q,4):0,D=ye(q)?te(q,4):0,H=ye(q)?te(q,4):0,Z=ye(q)?te(q,4):0,q=ye(q)?te(q,4):0,ue=p.Qa,Ee=0;4>Ee;++Ee){if(ue.Cb){var X=ue.Zb[Ee];ue.Fb||(X+=b)}else{if(0<Ee){p.pb[Ee]=p.pb[0];continue}X=b}var de=p.pb[Ee];de.Sc[0]=_b[Oa(X+L,127)],de.Sc[1]=vb[Oa(X+0,127)],de.Eb[0]=2*_b[Oa(X+D,127)],de.Eb[1]=101581*vb[Oa(X+H,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=_b[Oa(X+Z,117)],de.Qc[1]=vb[Oa(X+q,127)],de.lc=X+q}if(!U.Rb)return Rr(p,4,"Not a key frame.");for(ye(B),U=p.Pa,b=0;4>b;++b){for(L=0;8>L;++L)for(D=0;3>D;++D)for(H=0;11>H;++H)Z=Se(B,gU[b][L][D][H])?K(B,8):dU[b][L][D][H],U.Wc[b][L].Yb[D][H]=Z;for(L=0;17>L;++L)U.Xc[b][L]=U.Wc[b][mU[L]]}return p.kc=ye(B),p.kc&&(p.Bd=K(B,8)),p.cb=1}function Hf(p,m,b,D,L,B,U){var H=m[L].Yb[b];for(b=0;16>L;++L){if(!Se(p,H[b+0]))return L;for(;!Se(p,H[b+1]);)if(H=m[++L].Yb[0],b=0,L==16)return 16;var q=m[L+1].Yb;if(Se(p,H[b+2])){var Z=p,ue=0;if(Se(Z,(X=H)[(Ee=b)+3]))if(Se(Z,X[Ee+6])){for(H=0,Ee=2*(ue=Se(Z,X[Ee+8]))+(X=Se(Z,X[Ee+9+ue])),ue=0,X=hU[Ee];X[H];++H)ue+=ue+Se(Z,X[H]);ue+=3+(8<<Ee)}else Se(Z,X[Ee+7])?(ue=7+2*Se(Z,165),ue+=Se(Z,145)):ue=5+Se(Z,159);else ue=Se(Z,X[Ee+4])?3+Se(Z,X[Ee+5]):2;H=q[2]}else ue=1,H=q[1];q=U+fU[L],0>(Z=p).b&&_e(Z);var Ee,X=Z.b,de=(Ee=Z.Ca>>1)-(Z.I>>X)>>31;--Z.b,Z.Ca+=de,Z.Ca|=1,Z.I-=(Ee+1&de)<<X,B[q]=((ue^de)-de)*D[(0<L)+0]}return 16}function K1(p){var m=p.rb[p.sb-1];m.la=0,m.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function Is(p,m,b,D,L){L=p[m+b+32*D]+(L>>3),p[m+b+32*D]=-256&L?0>L?0:255:L}function Hr(p,m,b,D,L,B){Is(p,m,0,b,D+L),Is(p,m,1,b,D+B),Is(p,m,2,b,D-B),Is(p,m,3,b,D-L)}function wl(p){return(20091*p>>16)+p}function J1(p,m,b,D){var L,B=0,U=o(16);for(L=0;4>L;++L){var H=p[m+0]+p[m+8],q=p[m+0]-p[m+8],Z=(35468*p[m+4]>>16)-wl(p[m+12]),ue=wl(p[m+4])+(35468*p[m+12]>>16);U[B+0]=H+ue,U[B+1]=q+Z,U[B+2]=q-Z,U[B+3]=H-ue,B+=4,m++}for(L=B=0;4>L;++L)H=(p=U[B+0]+4)+U[B+8],q=p-U[B+8],Z=(35468*U[B+4]>>16)-wl(U[B+12]),Is(b,D,0,0,H+(ue=wl(U[B+4])+(35468*U[B+12]>>16))),Is(b,D,1,0,q+Z),Is(b,D,2,0,q-Z),Is(b,D,3,0,H-ue),B++,D+=32}function Qx(p,m,b,D){var L=p[m+0]+4,B=35468*p[m+4]>>16,U=wl(p[m+4]),H=35468*p[m+1]>>16;Hr(b,D,0,L+U,p=wl(p[m+1]),H),Hr(b,D,1,L+B,p,H),Hr(b,D,2,L-B,p,H),Hr(b,D,3,L-U,p,H)}function eb(p,m,b,D,L){J1(p,m,b,D),L&&J1(p,m+16,b,D+4)}function ja(p,m,b,D){hh(p,m+0,b,D,1),hh(p,m+32,b,D+128,1)}function Q1(p,m,b,D){var L;for(p=p[m+0]+4,L=0;4>L;++L)for(m=0;4>m;++m)Is(b,D,m,L,p)}function ey(p,m,b,D){p[m+0]&&Nn(p,m+0,b,D),p[m+16]&&Nn(p,m+16,b,D+4),p[m+32]&&Nn(p,m+32,b,D+128),p[m+48]&&Nn(p,m+48,b,D+128+4)}function qf(p,m,b,D){var L,B=o(16);for(L=0;4>L;++L){var U=p[m+0+L]+p[m+12+L],H=p[m+4+L]+p[m+8+L],q=p[m+4+L]-p[m+8+L],Z=p[m+0+L]-p[m+12+L];B[0+L]=U+H,B[8+L]=U-H,B[4+L]=Z+q,B[12+L]=Z-q}for(L=0;4>L;++L)U=(p=B[0+4*L]+3)+B[3+4*L],H=B[1+4*L]+B[2+4*L],q=B[1+4*L]-B[2+4*L],Z=p-B[3+4*L],b[D+0]=U+H>>3,b[D+16]=Z+q>>3,b[D+32]=U-H>>3,b[D+48]=Z-q>>3,D+=64}function Qu(p,m,b){var D,L=m-32,B=Ko,U=255-p[L-1];for(D=0;D<b;++D){var H,q=B,Z=U+p[m-1];for(H=0;H<b;++H)p[m+H]=q[Z+p[L+H]];m+=32}}function tb(p,m){Qu(p,m,4)}function nb(p,m){Qu(p,m,8)}function rb(p,m){Qu(p,m,16)}function vg(p,m){var b;for(b=0;16>b;++b)r(p,m+32*b,p,m-32,16)}function ty(p,m){var b;for(b=16;0<b;--b)i(p,m,p[m-1],16),m+=32}function na(p,m,b){var D;for(D=0;16>D;++D)i(m,b+32*D,p,16)}function ib(p,m){var b,D=16;for(b=0;16>b;++b)D+=p[m-1+32*b]+p[m+b-32];na(D>>5,p,m)}function eh(p,m){var b,D=8;for(b=0;16>b;++b)D+=p[m-1+32*b];na(D>>4,p,m)}function wg(p,m){var b,D=8;for(b=0;16>b;++b)D+=p[m+b-32];na(D>>4,p,m)}function ob(p,m){na(128,p,m)}function Mt(p,m,b){return p+2*m+b+2>>2}function sb(p,m){var b,D=m-32;for(D=new Uint8Array([Mt(p[D-1],p[D+0],p[D+1]),Mt(p[D+0],p[D+1],p[D+2]),Mt(p[D+1],p[D+2],p[D+3]),Mt(p[D+2],p[D+3],p[D+4])]),b=0;4>b;++b)r(p,m+32*b,D,0,D.length)}function ab(p,m){var b=p[m-1],D=p[m-1+32],L=p[m-1+64],B=p[m-1+96];Pe(p,m+0,16843009*Mt(p[m-1-32],b,D)),Pe(p,m+32,16843009*Mt(b,D,L)),Pe(p,m+64,16843009*Mt(D,L,B)),Pe(p,m+96,16843009*Mt(L,B,B))}function lb(p,m){var b,D=4;for(b=0;4>b;++b)D+=p[m+b-32]+p[m-1+32*b];for(D>>=3,b=0;4>b;++b)i(p,m+32*b,D,4)}function xl(p,m){var b=p[m-1+0],D=p[m-1+32],L=p[m-1+64],B=p[m-1-32],U=p[m+0-32],H=p[m+1-32],q=p[m+2-32],Z=p[m+3-32];p[m+0+96]=Mt(D,L,p[m-1+96]),p[m+1+96]=p[m+0+64]=Mt(b,D,L),p[m+2+96]=p[m+1+64]=p[m+0+32]=Mt(B,b,D),p[m+3+96]=p[m+2+64]=p[m+1+32]=p[m+0+0]=Mt(U,B,b),p[m+3+64]=p[m+2+32]=p[m+1+0]=Mt(H,U,B),p[m+3+32]=p[m+2+0]=Mt(q,H,U),p[m+3+0]=Mt(Z,q,H)}function bl(p,m){var b=p[m+1-32],D=p[m+2-32],L=p[m+3-32],B=p[m+4-32],U=p[m+5-32],H=p[m+6-32],q=p[m+7-32];p[m+0+0]=Mt(p[m+0-32],b,D),p[m+1+0]=p[m+0+32]=Mt(b,D,L),p[m+2+0]=p[m+1+32]=p[m+0+64]=Mt(D,L,B),p[m+3+0]=p[m+2+32]=p[m+1+64]=p[m+0+96]=Mt(L,B,U),p[m+3+32]=p[m+2+64]=p[m+1+96]=Mt(B,U,H),p[m+3+64]=p[m+2+96]=Mt(U,H,q),p[m+3+96]=Mt(H,q,q)}function cb(p,m){var b=p[m-1+0],D=p[m-1+32],L=p[m-1+64],B=p[m-1-32],U=p[m+0-32],H=p[m+1-32],q=p[m+2-32],Z=p[m+3-32];p[m+0+0]=p[m+1+64]=B+U+1>>1,p[m+1+0]=p[m+2+64]=U+H+1>>1,p[m+2+0]=p[m+3+64]=H+q+1>>1,p[m+3+0]=q+Z+1>>1,p[m+0+96]=Mt(L,D,b),p[m+0+64]=Mt(D,b,B),p[m+0+32]=p[m+1+96]=Mt(b,B,U),p[m+1+32]=p[m+2+96]=Mt(B,U,H),p[m+2+32]=p[m+3+96]=Mt(U,H,q),p[m+3+32]=Mt(H,q,Z)}function ub(p,m){var b=p[m+0-32],D=p[m+1-32],L=p[m+2-32],B=p[m+3-32],U=p[m+4-32],H=p[m+5-32],q=p[m+6-32],Z=p[m+7-32];p[m+0+0]=b+D+1>>1,p[m+1+0]=p[m+0+64]=D+L+1>>1,p[m+2+0]=p[m+1+64]=L+B+1>>1,p[m+3+0]=p[m+2+64]=B+U+1>>1,p[m+0+32]=Mt(b,D,L),p[m+1+32]=p[m+0+96]=Mt(D,L,B),p[m+2+32]=p[m+1+96]=Mt(L,B,U),p[m+3+32]=p[m+2+96]=Mt(B,U,H),p[m+3+64]=Mt(U,H,q),p[m+3+96]=Mt(H,q,Z)}function Wf(p,m){var b=p[m-1+0],D=p[m-1+32],L=p[m-1+64],B=p[m-1+96];p[m+0+0]=b+D+1>>1,p[m+2+0]=p[m+0+32]=D+L+1>>1,p[m+2+32]=p[m+0+64]=L+B+1>>1,p[m+1+0]=Mt(b,D,L),p[m+3+0]=p[m+1+32]=Mt(D,L,B),p[m+3+32]=p[m+1+64]=Mt(L,B,B),p[m+3+64]=p[m+2+64]=p[m+0+96]=p[m+1+96]=p[m+2+96]=p[m+3+96]=B}function xg(p,m){var b=p[m-1+0],D=p[m-1+32],L=p[m-1+64],B=p[m-1+96],U=p[m-1-32],H=p[m+0-32],q=p[m+1-32],Z=p[m+2-32];p[m+0+0]=p[m+2+32]=b+U+1>>1,p[m+0+32]=p[m+2+64]=D+b+1>>1,p[m+0+64]=p[m+2+96]=L+D+1>>1,p[m+0+96]=B+L+1>>1,p[m+3+0]=Mt(H,q,Z),p[m+2+0]=Mt(U,H,q),p[m+1+0]=p[m+3+32]=Mt(b,U,H),p[m+1+32]=p[m+3+64]=Mt(D,b,U),p[m+1+64]=p[m+3+96]=Mt(L,D,b),p[m+1+96]=Mt(B,L,D)}function th(p,m){var b;for(b=0;8>b;++b)r(p,m+32*b,p,m-32,8)}function hb(p,m){var b;for(b=0;8>b;++b)i(p,m,p[m-1],8),m+=32}function El(p,m,b){var D;for(D=0;8>D;++D)i(m,b+32*D,p,8)}function fb(p,m){var b,D=8;for(b=0;8>b;++b)D+=p[m+b-32]+p[m-1+32*b];El(D>>4,p,m)}function bg(p,m){var b,D=4;for(b=0;8>b;++b)D+=p[m+b-32];El(D>>3,p,m)}function Eg(p,m){var b,D=4;for(b=0;8>b;++b)D+=p[m-1+32*b];El(D>>3,p,m)}function ny(p,m){El(128,p,m)}function Sl(p,m,b){var D=p[m-b],L=p[m+0],B=3*(L-D)+db[1020+p[m-2*b]-p[m+b]],U=uy[112+(B+4>>3)];p[m-b]=Ko[255+D+uy[112+(B+3>>3)]],p[m+0]=Ko[255+L-U]}function Sg(p,m,b,D){var L=p[m+0],B=p[m+b];return Ms[255+p[m-2*b]-p[m-b]]>D||Ms[255+B-L]>D}function $f(p,m,b,D){return 4*Ms[255+p[m-b]-p[m+0]]+Ms[255+p[m-2*b]-p[m+b]]<=D}function Cg(p,m,b,D,L){var B=p[m-3*b],U=p[m-2*b],H=p[m-b],q=p[m+0],Z=p[m+b],ue=p[m+2*b],Ee=p[m+3*b];return 4*Ms[255+H-q]+Ms[255+U-Z]>D?0:Ms[255+p[m-4*b]-B]<=L&&Ms[255+B-U]<=L&&Ms[255+U-H]<=L&&Ms[255+Ee-ue]<=L&&Ms[255+ue-Z]<=L&&Ms[255+Z-q]<=L}function nh(p,m,b,D){var L=2*D+1;for(D=0;16>D;++D)$f(p,m+D,b,L)&&Sl(p,m+D,b)}function Ig(p,m,b,D){var L=2*D+1;for(D=0;16>D;++D)$f(p,m+D*b,1,L)&&Sl(p,m+D*b,1)}function ry(p,m,b,D){var L;for(L=3;0<L;--L)nh(p,m+=4*b,b,D)}function iy(p,m,b,D){var L;for(L=3;0<L;--L)Ig(p,m+=4,b,D)}function Cl(p,m,b,D,L,B,U,H){for(B=2*B+1;0<L--;){if(Cg(p,m,b,B,U))if(Sg(p,m,b,H))Sl(p,m,b);else{var q=p,Z=m,ue=b,Ee=q[Z-2*ue],X=q[Z-ue],de=q[Z+0],me=q[Z+ue],Ce=q[Z+2*ue],we=27*(Ne=db[1020+3*(de-X)+db[1020+Ee-me]])+63>>7,De=18*Ne+63>>7,Ne=9*Ne+63>>7;q[Z-3*ue]=Ko[255+q[Z-3*ue]+Ne],q[Z-2*ue]=Ko[255+Ee+De],q[Z-ue]=Ko[255+X+we],q[Z+0]=Ko[255+de-we],q[Z+ue]=Ko[255+me-De],q[Z+2*ue]=Ko[255+Ce-Ne]}m+=D}}function Il(p,m,b,D,L,B,U,H){for(B=2*B+1;0<L--;){if(Cg(p,m,b,B,U))if(Sg(p,m,b,H))Sl(p,m,b);else{var q=p,Z=m,ue=b,Ee=q[Z-ue],X=q[Z+0],de=q[Z+ue],me=uy[112+(4+(Ce=3*(X-Ee))>>3)],Ce=uy[112+(Ce+3>>3)],we=me+1>>1;q[Z-2*ue]=Ko[255+q[Z-2*ue]+we],q[Z-ue]=Ko[255+Ee+Ce],q[Z+0]=Ko[255+X-me],q[Z+ue]=Ko[255+de-we]}m+=D}}function oy(p,m,b,D,L,B){Cl(p,m,b,1,16,D,L,B)}function rh(p,m,b,D,L,B){Cl(p,m,1,b,16,D,L,B)}function sy(p,m,b,D,L,B){var U;for(U=3;0<U;--U)Il(p,m+=4*b,b,1,16,D,L,B)}function w(p,m,b,D,L,B){var U;for(U=3;0<U;--U)Il(p,m+=4,1,b,16,D,L,B)}function P(p,m,b,D,L,B,U,H){Cl(p,m,L,1,8,B,U,H),Cl(b,D,L,1,8,B,U,H)}function J(p,m,b,D,L,B,U,H){Cl(p,m,1,L,8,B,U,H),Cl(b,D,1,L,8,B,U,H)}function oe(p,m,b,D,L,B,U,H){Il(p,m+4*L,L,1,8,B,U,H),Il(b,D+4*L,L,1,8,B,U,H)}function ge(p,m,b,D,L,B,U,H){Il(p,m+4,1,L,8,B,U,H),Il(b,D+4,1,L,8,B,U,H)}function Me(){this.ba=new Pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function at(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new O}function It(){this.xb=this.a=0,this.l=new Vf,this.ca=new Pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new at,this.ab=0,this.gc=s(4,nt),this.Oc=0}function Vt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _n(p,m,b,D,L,B,U){for(p=p==null?0:p[m+0],m=0;m<U;++m)L[B+m]=p+b[D+m]&255,p=L[B+m]}function ir(p,m,b,D,L,B,U){var H;if(p==null)_n(null,null,b,D,L,B,U);else for(H=0;H<U;++H)L[B+H]=p[m+H]+b[D+H]&255}function Pr(p,m,b,D,L,B,U){if(p==null)_n(null,null,b,D,L,B,U);else{var H,q=p[m+0],Z=q,ue=q;for(H=0;H<U;++H)Z=ue+(q=p[m+H])-Z,ue=b[D+H]+(-256&Z?0>Z?0:255:Z)&255,Z=q,L[B+H]=ue}}function Zn(p,m,b,D){var L=m.width,B=m.o;if(e(p!=null&&m!=null),0>b||0>=D||b+D>B)return null;if(!p.Cc){if(p.ga==null){var U;if(p.ga=new Vt,(U=p.ga==null)||(U=m.width*m.o,e(p.Gb.length==0),p.Gb=o(U),p.Uc=0,p.Gb==null?U=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,U=1),U=!U),!U){U=p.ga;var H=p.Fa,q=p.P,Z=p.qc,ue=p.mb,Ee=p.nb,X=q+1,de=Z-1,me=U.l;if(e(H!=null&&ue!=null&&m!=null),Vc[0]=null,Vc[1]=_n,Vc[2]=ir,Vc[3]=Pr,U.ca=ue,U.tb=Ee,U.c=m.width,U.i=m.height,e(0<U.c&&0<U.i),1>=Z)m=0;else if(U.$a=3&H[q+0],U.Z=H[q+0]>>2&3,U.Lc=H[q+0]>>4&3,q=H[q+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||q)m=0;else if(me.put=tt,me.ac=yr,me.bc=zr,me.ma=U,me.width=m.width,me.height=m.height,me.Da=m.Da,me.v=m.v,me.va=m.va,me.j=m.j,me.o=m.o,U.$a)e:{e(U.$a==1),m=Ku();t:for(;;){if(m==null){m=0;break e}if(e(U!=null),U.mc=m,m.c=U.c,m.i=U.i,m.l=U.l,m.l.ma=U,m.l.width=U.c,m.l.height=U.i,m.a=0,W(m.m,H,X,de),!ka(U.c,U.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Qs(m.s)?(U.ic=1,H=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o(H),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(U.ic=0,m=Ju(m,U.c)),!m))break t;m=1;break e}U.mc=null,m=0}else m=de>=U.c*U.i;U=!m}if(U)return null;p.ga.Lc!=1?p.Ga=0:D=B-b}e(p.ga!=null),e(b+D<=B);e:{if(m=(H=p.ga).c,B=H.l.o,H.$a==0){if(X=p.rc,de=p.Vc,me=p.Fa,q=p.P+1+b*m,Z=p.mb,ue=p.nb+b*m,e(q<=p.P+p.qc),H.Z!=0)for(e(Vc[H.Z]!=null),U=0;U<D;++U)Vc[H.Z](X,de,me,q,Z,ue,m),X=Z,de=ue,ue+=m,q+=m;else for(U=0;U<D;++U)r(Z,ue,me,q,m),X=Z,de=ue,ue+=m,q+=m;p.rc=X,p.Vc=de}else{if(e(H.mc!=null),m=b+D,e((U=H.mc)!=null),e(m<=U.i),U.C>=m)m=1;else if(H.ic||ra(),H.ic){H=U.V,X=U.Ba,de=U.c;var Ce=U.i,we=(me=1,q=U.$/de,Z=U.$%de,ue=U.m,Ee=U.s,U.$),De=de*Ce,Ne=de*m,Be=Ee.wc,Oe=we<Ne?wi(Ee,Z,q):null;e(we<=De),e(m<=Ce),e(Qs(Ee));t:for(;;){for(;!ue.h&&we<Ne;){if(Z&Be||(Oe=wi(Ee,Z,q)),e(Oe!=null),le(ue),256>(Ce=En(Oe.G[0],Oe.H[0],ue)))H[X+we]=Ce,++we,++Z>=de&&(Z=0,++q<=m&&!(q%16)&&ea(U,q));else{if(!(280>Ce)){me=0;break t}Ce=sn(Ce-256,ue);var ut,Qe=En(Oe.G[4],Oe.H[4],ue);if(le(ue),!(we>=(Qe=Gn(de,Qe=sn(Qe,ue)))&&De-we>=Ce)){me=0;break t}for(ut=0;ut<Ce;++ut)H[X+we+ut]=H[X+we+ut-Qe];for(we+=Ce,Z+=Ce;Z>=de;)Z-=de,++q<=m&&!(q%16)&&ea(U,q);we<Ne&&Z&Be&&(Oe=wi(Ee,Z,q))}e(ue.h==ne(ue))}ea(U,q>m?m:q);break t}!me||ue.h&&we<De?(me=0,U.a=ue.h?5:3):U.$=we,m=me}else m=ta(U,U.V,U.Ba,U.c,U.i,m,Uf);if(!m){D=0;break e}}b+D>=B&&(p.Cc=1),D=1}if(!D)return null;if(p.Cc&&((D=p.ga)!=null&&(D.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+b*L}function qr(p,m,b,D,L,B){for(;0<L--;){var U,H=p,q=m+(b?1:0),Z=p,ue=m+(b?0:3);for(U=0;U<D;++U){var Ee=Z[ue+4*U];Ee!=255&&(Ee*=32897,H[q+4*U+0]=H[q+4*U+0]*Ee>>23,H[q+4*U+1]=H[q+4*U+1]*Ee>>23,H[q+4*U+2]=H[q+4*U+2]*Ee>>23)}m+=B}}function Lr(p,m,b,D,L){for(;0<D--;){var B;for(B=0;B<b;++B){var U=p[m+2*B+0],H=15&(Z=p[m+2*B+1]),q=4369*H,Z=(240&Z|Z>>4)*q>>16;p[m+2*B+0]=(240&U|U>>4)*q>>16&240|(15&U|U<<4)*q>>16>>4&15,p[m+2*B+1]=240&Z|H}m+=L}}function xi(p,m,b,D,L,B,U,H){var q,Z,ue=255;for(Z=0;Z<L;++Z){for(q=0;q<D;++q){var Ee=p[m+q];B[U+4*q]=Ee,ue&=Ee}m+=b,U+=H}return ue!=255}function Dl(p,m,b,D,L){var B;for(B=0;B<L;++B)b[D+B]=p[m+B]>>8}function ra(){jg=qr,nN=Lr,rN=xi,iN=Dl}function Al(p,m,b){k[p]=function(D,L,B,U,H,q,Z,ue,Ee,X,de,me,Ce,we,De,Ne,Be){var Oe,ut=Be-1>>1,Qe=H[q+0]|Z[ue+0]<<16,qt=Ee[X+0]|de[me+0]<<16;e(D!=null);var rt=3*Qe+qt+131074>>2;for(m(D[L+0],255&rt,rt>>16,Ce,we),B!=null&&(rt=3*qt+Qe+131074>>2,m(B[U+0],255&rt,rt>>16,De,Ne)),Oe=1;Oe<=ut;++Oe){var an=H[q+Oe]|Z[ue+Oe]<<16,$r=Ee[X+Oe]|de[me+Oe]<<16,Wt=Qe+an+qt+$r+524296,it=Wt+2*(an+qt)>>3;rt=it+Qe>>1,Qe=(Wt=Wt+2*(Qe+$r)>>3)+an>>1,m(D[L+2*Oe-1],255&rt,rt>>16,Ce,we+(2*Oe-1)*b),m(D[L+2*Oe-0],255&Qe,Qe>>16,Ce,we+(2*Oe-0)*b),B!=null&&(rt=Wt+qt>>1,Qe=it+$r>>1,m(B[U+2*Oe-1],255&rt,rt>>16,De,Ne+(2*Oe-1)*b),m(B[U+2*Oe+0],255&Qe,Qe>>16,De,Ne+(2*Oe+0)*b)),Qe=an,qt=$r}1&Be||(rt=3*Qe+qt+131074>>2,m(D[L+Be-1],255&rt,rt>>16,Ce,we+(Be-1)*b),B!=null&&(rt=3*qt+Qe+131074>>2,m(B[U+Be-1],255&rt,rt>>16,De,Ne+(Be-1)*b)))}}function Dg(){Ts[hy]=_U,Ts[fy]=gN,Ts[uN]=vU,Ts[dy]=mN,Ts[py]=yN,Ts[pb]=_N,Ts[hN]=wU,Ts[gb]=gN,Ts[mb]=mN,Ts[gy]=yN,Ts[yb]=_N}function Yf(p){return p&~xU?0>p?0:255:p>>vN}function Pc(p,m){return Yf((19077*p>>8)+(26149*m>>8)-14234)}function ih(p,m,b){return Yf((19077*p>>8)-(6419*m>>8)-(13320*b>>8)+8708)}function oh(p,m){return Yf((19077*p>>8)+(33050*m>>8)-17685)}function Lc(p,m,b,D,L){D[L+0]=Pc(p,b),D[L+1]=ih(p,m,b),D[L+2]=oh(p,m)}function bi(p,m,b,D,L){D[L+0]=oh(p,m),D[L+1]=ih(p,m,b),D[L+2]=Pc(p,b)}function sh(p,m,b,D,L){var B=ih(p,m,b);m=B<<3&224|oh(p,m)>>3,D[L+0]=248&Pc(p,b)|B>>5,D[L+1]=m}function ah(p,m,b,D,L){var B=240&oh(p,m)|15;D[L+0]=240&Pc(p,b)|ih(p,m,b)>>4,D[L+1]=B}function Ag(p,m,b,D,L){D[L+0]=255,Lc(p,m,b,D,L+1)}function Mg(p,m,b,D,L){bi(p,m,b,D,L),D[L+3]=255}function io(p,m,b,D,L){Lc(p,m,b,D,L),D[L+3]=255}function Ml(p,m,b){k[p]=function(D,L,B,U,H,q,Z,ue,Ee){for(var X=ue+(-2&Ee)*b;ue!=X;)m(D[L+0],B[U+0],H[q+0],Z,ue),m(D[L+1],B[U+0],H[q+0],Z,ue+b),L+=2,++U,++q,ue+=2*b;1&Ee&&m(D[L+0],B[U+0],H[q+0],Z,ue)}}function Zf(p,m,b){return b==0?p==0?m==0?6:5:m==0?4:0:b}function ay(p,m,b,D,L){switch(p>>>30){case 3:hh(m,b,D,L,0);break;case 2:As(m,b,D,L);break;case 1:Nn(m,b,D,L)}}function Ds(p,m){var b,D,L=m.M,B=m.Nb,U=p.oc,H=p.pc+40,q=p.oc,Z=p.pc+584,ue=p.oc,Ee=p.pc+600;for(b=0;16>b;++b)U[H+32*b-1]=129;for(b=0;8>b;++b)q[Z+32*b-1]=129,ue[Ee+32*b-1]=129;for(0<L?U[H-1-32]=q[Z-1-32]=ue[Ee-1-32]=129:(i(U,H-32-1,127,21),i(q,Z-32-1,127,9),i(ue,Ee-32-1,127,9)),D=0;D<p.za;++D){var X=m.ya[m.aa+D];if(0<D){for(b=-1;16>b;++b)r(U,H+32*b-4,U,H+32*b+12,4);for(b=-1;8>b;++b)r(q,Z+32*b-4,q,Z+32*b+4,4),r(ue,Ee+32*b-4,ue,Ee+32*b+4,4)}var de=p.Gd,me=p.Hd+D,Ce=X.ad,we=X.Hc;if(0<L&&(r(U,H-32,de[me].y,0,16),r(q,Z-32,de[me].f,0,8),r(ue,Ee-32,de[me].ea,0,8)),X.Za){var De=U,Ne=H-32+16;for(0<L&&(D>=p.za-1?i(De,Ne,de[me].y[15],4):r(De,Ne,de[me+1].y,0,4)),b=0;4>b;b++)De[Ne+128+b]=De[Ne+256+b]=De[Ne+384+b]=De[Ne+0+b];for(b=0;16>b;++b,we<<=2)De=U,Ne=H+xN[b],ia[X.Ob[b]](De,Ne),ay(we,Ce,16*+b,De,Ne)}else if(De=Zf(D,L,X.Ob[0]),zc[De](U,H),we!=0)for(b=0;16>b;++b,we<<=2)ay(we,Ce,16*+b,U,H+xN[b]);for(b=X.Gc,De=Zf(D,L,X.Dd),Rl[De](q,Z),Rl[De](ue,Ee),we=Ce,De=q,Ne=Z,255&(X=0|b)&&(170&X?Ga(we,256,De,Ne):Hn(we,256,De,Ne)),X=ue,we=Ee,255&(b>>=8)&&(170&b?Ga(Ce,320,X,we):Hn(Ce,320,X,we)),L<p.Ub-1&&(r(de[me].y,0,U,H+480,16),r(de[me].f,0,q,Z+224,8),r(de[me].ea,0,ue,Ee+224,8)),b=8*B*p.B,de=p.sa,me=p.ta+16*D+16*B*p.R,Ce=p.qa,X=p.ra+8*D+b,we=p.Ha,De=p.Ia+8*D+b,b=0;16>b;++b)r(de,me+b*p.R,U,H+32*b,16);for(b=0;8>b;++b)r(Ce,X+b*p.B,q,Z+32*b,8),r(we,De+b*p.B,ue,Ee+32*b,8)}}function lh(p,m,b,D,L,B,U,H,q){var Z=[0],ue=[0],Ee=0,X=q!=null?q.kd:0,de=q??new ke;if(p==null||12>b)return 7;de.data=p,de.w=m,de.ha=b,m=[m],b=[b],de.gb=[de.gb];e:{var me=m,Ce=b,we=de.gb;if(e(p!=null),e(Ce!=null),e(we!=null),we[0]=0,12<=Ce[0]&&!n(p,me[0],"RIFF")){if(n(p,me[0]+8,"WEBP")){we=3;break e}var De=he(p,me[0]+4);if(12>De||4294967286<De){we=3;break e}if(X&&De>Ce[0]-8){we=7;break e}we[0]=De,me[0]+=12,Ce[0]-=12}we=0}if(we!=0)return we;for(De=0<de.gb[0],b=b[0];;){e:{var Ne=p;Ce=m,we=b;var Be=Z,Oe=ue,ut=me=[0];if((rt=Ee=[Ee])[0]=0,8>we[0])we=7;else{if(!n(Ne,Ce[0],"VP8X")){if(he(Ne,Ce[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Qe=he(Ne,Ce[0]+8),qt=1+fe(Ne,Ce[0]+12);if(2147483648<=qt*(Ne=1+fe(Ne,Ce[0]+15))){we=3;break e}ut!=null&&(ut[0]=Qe),Be!=null&&(Be[0]=qt),Oe!=null&&(Oe[0]=Ne),Ce[0]+=18,we[0]-=18,rt[0]=1}we=0}}if(Ee=Ee[0],me=me[0],we!=0)return we;if(Ce=!!(2&me),!De&&Ee)return 3;if(B!=null&&(B[0]=!!(16&me)),U!=null&&(U[0]=Ce),H!=null&&(H[0]=0),U=Z[0],me=ue[0],Ee&&Ce&&q==null){we=0;break}if(4>b){we=7;break}if(De&&Ee||!De&&!Ee&&!n(p,m[0],"ALPH")){b=[b],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{Qe=p,we=m,De=b;var rt=de.gb;Be=de.na,Oe=de.P,ut=de.Sa,qt=22,e(Qe!=null),e(De!=null),Ne=we[0];var an=De[0];for(e(Be!=null),e(ut!=null),Be[0]=null,Oe[0]=null,ut[0]=0;;){if(we[0]=Ne,De[0]=an,8>an){we=7;break e}var $r=he(Qe,Ne+4);if(4294967286<$r){we=3;break e}var Wt=8+$r+1&-2;if(qt+=Wt,0<rt&&qt>rt){we=3;break e}if(!n(Qe,Ne,"VP8 ")||!n(Qe,Ne,"VP8L")){we=0;break e}if(an[0]<Wt){we=7;break e}n(Qe,Ne,"ALPH")||(Be[0]=Qe,Oe[0]=Ne+8,ut[0]=$r),Ne+=Wt,an-=Wt}}if(b=b[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],we!=0)break}b=[b],de.Ja=[de.Ja],de.xa=[de.xa];e:if(rt=p,we=m,De=b,Be=de.gb[0],Oe=de.Ja,ut=de.xa,Qe=we[0],Ne=!n(rt,Qe,"VP8 "),qt=!n(rt,Qe,"VP8L"),e(rt!=null),e(De!=null),e(Oe!=null),e(ut!=null),8>De[0])we=7;else{if(Ne||qt){if(rt=he(rt,Qe+4),12<=Be&&rt>Be-12){we=3;break e}if(X&&rt>De[0]-8){we=7;break e}Oe[0]=rt,we[0]+=8,De[0]-=8,ut[0]=qt}else ut[0]=5<=De[0]&&rt[Qe+0]==47&&!(rt[Qe+4]>>5),Oe[0]=De[0];we=0}if(b=b[0],de.Ja=de.Ja[0],de.xa=de.xa[0],m=m[0],we!=0)break;if(4294967286<de.Ja)return 3;if(H==null||Ce||(H[0]=de.xa?2:1),U=[U],me=[me],de.xa){if(5>b){we=7;break}H=U,X=me,Ce=B,p==null||5>b?p=0:5<=b&&p[m+0]==47&&!(p[m+4]>>5)?(De=[0],rt=[0],Be=[0],W(Oe=new z,p,m,b),Vr(Oe,De,rt,Be)?(H!=null&&(H[0]=De[0]),X!=null&&(X[0]=rt[0]),Ce!=null&&(Ce[0]=Be[0]),p=1):p=0):p=0}else{if(10>b){we=7;break}H=me,p==null||10>b||!X1(p,m+3,b-3)?p=0:(X=p[m+0]|p[m+1]<<8|p[m+2]<<16,Ce=16383&(p[m+7]<<8|p[m+6]),p=16383&(p[m+9]<<8|p[m+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=de.Ja||!Ce||!p?p=0:(U&&(U[0]=Ce),H&&(H[0]=p),p=1))}if(!p||(U=U[0],me=me[0],Ee&&(Z[0]!=U||ue[0]!=me)))return 3;q!=null&&(q[0]=de,q.offset=m-q.w,e(4294967286>m-q.w),e(q.offset==q.ha-b));break}return we==0||we==7&&Ee&&q==null?(B!=null&&(B[0]|=de.na!=null&&0<de.na.length),D!=null&&(D[0]=U),L!=null&&(L[0]=me),0):we}function Tg(p,m,b){var D=m.width,L=m.height,B=0,U=0,H=D,q=L;if(m.Da=p!=null&&0<p.Da,m.Da&&(H=p.cd,q=p.bd,B=p.v,U=p.j,11>b||(B&=-2,U&=-2),0>B||0>U||0>=H||0>=q||B+H>D||U+q>L))return 0;if(m.v=B,m.j=U,m.va=B+H,m.o=U+q,m.U=H,m.T=q,m.da=p!=null&&0<p.da,m.da){if(!ve(H,q,b=[p.ib],B=[p.hb]))return 0;m.ib=b[0],m.hb=B[0]}return m.ob=p!=null&&p.ob,m.Kb=p==null||!p.Sd,m.da&&(m.ob=m.ib<3*D/4&&m.hb<3*L/4,m.Kb=0),1}function Ng(p){if(p==null)return 2;if(11>p.S){var m=p.f.RGBA;m.fb+=(p.height-1)*m.A,m.A=-m.A}else m=p.f.kb,p=p.height,m.O+=(p-1)*m.fa,m.fa=-m.fa,m.N+=(p-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(p-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(p-1)*m.lb,m.lb=-m.lb);return 0}function kc(p,m,b,D){if(D==null||0>=p||0>=m)return 2;if(b!=null){if(b.Da){var L=b.cd,B=b.bd,U=-2&b.v,H=-2&b.j;if(0>U||0>H||0>=L||0>=B||U+L>p||H+B>m)return 2;p=L,m=B}if(b.da){if(!ve(p,m,L=[b.ib],B=[b.hb]))return 2;p=L[0],m=B[0]}}D.width=p,D.height=m;e:{var q=D.width,Z=D.height;if(p=D.S,0>=q||0>=Z||!(p>=hy&&13>p))p=2;else{if(0>=D.Rd&&D.sd==null){U=B=L=m=0;var ue=(H=q*bN[p])*Z;if(11>p||(B=(Z+1)/2*(m=(q+1)/2),p==12&&(U=(L=q)*Z)),(Z=o(ue+2*B+U))==null){p=1;break e}D.sd=Z,11>p?((q=D.f.RGBA).eb=Z,q.fb=0,q.A=H,q.size=ue):((q=D.f.kb).y=Z,q.O=0,q.fa=H,q.Fd=ue,q.f=Z,q.N=0+ue,q.Ab=m,q.Cd=B,q.ea=Z,q.W=0+ue+B,q.Db=m,q.Ed=B,p==12&&(q.F=Z,q.J=0+ue+2*B),q.Tc=U,q.lb=L)}if(m=1,L=D.S,B=D.width,U=D.height,L>=hy&&13>L)if(11>L)p=D.f.RGBA,m&=(H=Math.abs(p.A))*(U-1)+B<=p.size,m&=H>=B*bN[L],m&=p.eb!=null;else{p=D.f.kb,H=(B+1)/2,ue=(U+1)/2,q=Math.abs(p.fa),Z=Math.abs(p.Ab);var Ee=Math.abs(p.Db),X=Math.abs(p.lb),de=X*(U-1)+B;m&=q*(U-1)+B<=p.Fd,m&=Z*(ue-1)+H<=p.Cd,m=(m&=Ee*(ue-1)+H<=p.Ed)&q>=B&Z>=H&Ee>=H,m&=p.y!=null,m&=p.f!=null,m&=p.ea!=null,L==12&&(m&=X>=B,m&=de<=p.Tc,m&=p.F!=null)}else m=0;p=m?0:2}}return p!=0||b!=null&&b.fd&&(p=Ng(D)),p}var ch=64,Zo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xo=24,Oc=32,Tl=8,Fc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(p){return p},k.Predictor2=function(p,m,b){return m[b+0]},k.Predictor3=function(p,m,b){return m[b+1]},k.Predictor4=function(p,m,b){return m[b-1]},k.Predictor5=function(p,m,b){return be(be(p,m[b+1]),m[b+0])},k.Predictor6=function(p,m,b){return be(p,m[b-1])},k.Predictor7=function(p,m,b){return be(p,m[b+0])},k.Predictor8=function(p,m,b){return be(m[b-1],m[b+0])},k.Predictor9=function(p,m,b){return be(m[b+0],m[b+1])},k.Predictor10=function(p,m,b){return be(be(p,m[b-1]),be(m[b+0],m[b+1]))},k.Predictor11=function(p,m,b){var D=m[b+0];return 0>=Ve(D>>24&255,p>>24&255,(m=m[b-1])>>24&255)+Ve(D>>16&255,p>>16&255,m>>16&255)+Ve(D>>8&255,p>>8&255,m>>8&255)+Ve(255&D,255&p,255&m)?D:p},k.Predictor12=function(p,m,b){var D=m[b+0];return(Ge((p>>24&255)+(D>>24&255)-((m=m[b-1])>>24&255))<<24|Ge((p>>16&255)+(D>>16&255)-(m>>16&255))<<16|Ge((p>>8&255)+(D>>8&255)-(m>>8&255))<<8|Ge((255&p)+(255&D)-(255&m)))>>>0},k.Predictor13=function(p,m,b){var D=m[b-1];return(Xe((p=be(p,m[b+0]))>>24&255,D>>24&255)<<24|Xe(p>>16&255,D>>16&255)<<16|Xe(p>>8&255,D>>8&255)<<8|Xe(255&p,255&D))>>>0};var Rg=k.PredictorAdd0;k.PredictorAdd1=yt,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var Xf=k.PredictorAdd2;He("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),He("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var _r,ly=k.ColorIndexInverseTransform,Ba=k.MapARGB,Ua=k.VP8LColorIndexInverseTransformAlpha,Pg=k.MapAlpha,Lg=k.VP8LPredictorsAdd=[];Lg.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var kg,Og,jc,Bc,Uc,uh,Gc,hh,As,Ga,Nn,Hn,vr,Wr,Nl,Fg,Kf,cy,XT,KT,JT,QT,eN,tN,jg,nN,rN,iN,oN=o(511),sN=o(2041),aN=o(225),lN=o(767),cN=0,db=sN,uy=aN,Ko=lN,Ms=oN,hy=0,fy=1,uN=2,dy=3,py=4,pb=5,hN=6,gb=7,mb=8,gy=9,yb=10,iU=[2,3,7],oU=[3,3,11],fN=[280,256,256,256,40],sU=[0,1,1,1,0],aU=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lU=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],cU=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uU=8,_b=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bg=null,hU=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fU=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dU=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pU=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gU=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mU=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zc=[],ia=[],Rl=[],yU=1,pN=2,Vc=[],Ts=[];Al("UpsampleRgbLinePair",Lc,3),Al("UpsampleBgrLinePair",bi,3),Al("UpsampleRgbaLinePair",io,4),Al("UpsampleBgraLinePair",Mg,4),Al("UpsampleArgbLinePair",Ag,4),Al("UpsampleRgba4444LinePair",ah,2),Al("UpsampleRgb565LinePair",sh,2);var _U=k.UpsampleRgbLinePair,vU=k.UpsampleBgrLinePair,gN=k.UpsampleRgbaLinePair,mN=k.UpsampleBgraLinePair,yN=k.UpsampleArgbLinePair,_N=k.UpsampleRgba4444LinePair,wU=k.UpsampleRgb565LinePair,my=16,yy=1<<my-1,Ug=-227,wb=482,vN=6,xU=(256<<vN)-1,wN=0,bU=o(256),EU=o(256),SU=o(256),CU=o(256),IU=o(wb-Ug),DU=o(wb-Ug);Ml("YuvToRgbRow",Lc,3),Ml("YuvToBgrRow",bi,3),Ml("YuvToRgbaRow",io,4),Ml("YuvToBgraRow",Mg,4),Ml("YuvToArgbRow",Ag,4),Ml("YuvToRgba4444Row",ah,2),Ml("YuvToRgb565Row",sh,2);var xN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_y=[0,2,8],AU=[8,7,6,4,4,2,2,2,1,1,1,1],MU=1;this.WebPDecodeRGBA=function(p,m,b,D,L){var B=fy,U=new Me,H=new Pt;U.ba=H,H.S=B,H.width=[H.width],H.height=[H.height];var q=H.width,Z=H.height,ue=new _t;if(ue==null||p==null)var Ee=2;else e(ue!=null),Ee=lh(p,m,b,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(Ee!=0?q=0:(q!=null&&(q[0]=ue.width[0]),Z!=null&&(Z[0]=ue.height[0]),q=1),q){H.width=H.width[0],H.height=H.height[0],D!=null&&(D[0]=H.width),L!=null&&(L[0]=H.height);e:{if(D=new Vf,(L=new ke).data=p,L.w=m,L.ha=b,L.kd=1,m=[0],e(L!=null),((p=lh(L.data,L.w,L.ha,null,null,null,m,null,L))==0||p==7)&&m[0]&&(p=4),(m=p)==0){if(e(U!=null),D.data=L.data,D.w=L.w+L.offset,D.ha=L.ha-L.offset,D.put=tt,D.ac=yr,D.bc=zr,D.ma=U,L.xa){if((p=Ku())==null){U=1;break e}if((function(X,de){var me=[0],Ce=[0],we=[0];t:for(;;){if(X==null)return 0;if(de==null)return X.a=2,0;if(X.l=de,X.a=0,W(X.m,de.data,de.w,de.ha),!Vr(X.m,me,Ce,we)){X.a=3;break t}if(X.xb=pN,de.width=me[0],de.height=Ce[0],!ka(me[0],Ce[0],1,X,null))break t;return 1}return e(X.a!=0),0})(p,D)){if(D=(m=kc(D.width,D.height,U.Oa,U.ba))==0){t:{D=p;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((b=D.l)!=null),e((L=b.ma)!=null),D.xb!=0){if(D.ca=L.ba,D.tb=L.tb,e(D.ca!=null),!Tg(L.Oa,b,dy)){D.a=2;break n}if(!Ju(D,b.width)||b.da)break n;if((b.da||ft(D.ca.S))&&ra(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&ra()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!C(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!ta(D,D.V,D.Ba,D.c,D.i,b.o,Rc))break n;L.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(m=p.a)}else m=p.a}else{if((p=new Jx)==null){U=1;break e}if(p.Fa=L.na,p.P=L.P,p.qc=L.Sa,Fa(p,D)){if((m=kc(D.width,D.height,U.Oa,U.ba))==0){if(p.Aa=0,b=U.Oa,e((L=p)!=null),b!=null){if(0<(q=0>(q=b.Md)?0:100<q?255:255*q/100)){for(Z=ue=0;4>Z;++Z)12>(Ee=L.pb[Z]).lc&&(Ee.ia=q*AU[0>Ee.lc?0:Ee.lc]>>3),ue|=Ee.ia;ue&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=b.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(X,de){if(X==null)return 0;if(de==null)return Rr(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!Fa(X,de))return 0;if(e(X.cb),de.ac==null||de.ac(de)){de.ob&&(X.L=0);var me=_y[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=de.v-me>>4,X.zb=de.j-me>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=de.o+15+me>>4,X.Hb=de.va+15+me>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var Ce=X.ed;for(me=0;4>me;++me){var we;if(X.Qa.Cb){var De=X.Qa.Lb[me];X.Qa.Fb||(De+=Ce.Tb)}else De=Ce.Tb;for(we=0;1>=we;++we){var Ne=X.gd[me][we],Be=De;if(Ce.Pc&&(Be+=Ce.vd[0],we&&(Be+=Ce.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var Oe=Be;0<Ce.wb&&(Oe=4<Ce.wb?Oe>>2:Oe>>1)>9-Ce.wb&&(Oe=9-Ce.wb),1>Oe&&(Oe=1),Ne.dd=Oe,Ne.tc=2*Be+Oe,Ne.ld=40<=Be?2:15<=Be?1:0}else Ne.tc=0;Ne.La=we}}}me=0}else Rr(X,6,"Frame setup failed"),me=X.a;if(me=me==0){if(me){X.$c=0,0<X.Aa||(X.Ic=MU);t:{me=X.Ic,Ce=4*(Oe=X.za);var ut=32*Oe,Qe=Oe+1,qt=0<X.L?Oe*(0<X.Aa?2:1):0,rt=(X.Aa==2?2:1)*Oe;if((Ne=Ce+832+(we=3*(16*me+_y[X.L])/2*ut)+(De=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=Ne)me=0;else{if(Ne>X.Vb){if(X.Vb=0,X.Ec=o(Ne),X.Fc=0,X.Ec==null){me=Rr(X,1,"no memory during frame initialization.");break t}X.Vb=Ne}Ne=X.Ec,Be=X.Fc,X.Ac=Ne,X.Bc=Be,Be+=Ce,X.Gd=s(ut,Y1),X.Hd=0,X.rb=s(Qe+1,yg),X.sb=1,X.wa=qt?s(qt,Cs):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Oe),e(!0),X.oc=Ne,X.pc=Be,Be+=832,X.ya=s(rt,_g),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Oe),X.R=16*Oe,X.B=8*Oe,Oe=(ut=_y[X.L])*X.R,ut=ut/2*X.B,X.sa=Ne,X.ta=Be+Oe,X.qa=X.sa,X.ra=X.ta+16*me*X.R+ut,X.Ha=X.qa,X.Ia=X.ra+8*me*X.B+ut,X.$c=0,Be+=we,X.mb=De?Ne:null,X.nb=De?Be:null,e(Be+De<=X.Fc+X.Vb),K1(X),i(X.Ac,X.Bc,0,Ce),me=1}}if(me){if(de.ka=0,de.y=X.sa,de.O=X.ta,de.f=X.qa,de.N=X.ra,de.ea=X.Ha,de.Vd=X.Ia,de.fa=X.R,de.Rc=X.B,de.F=null,de.J=0,!cN){for(me=-255;255>=me;++me)oN[255+me]=0>me?-me:me;for(me=-1020;1020>=me;++me)sN[1020+me]=-128>me?-128:127<me?127:me;for(me=-112;112>=me;++me)aN[112+me]=-16>me?-16:15<me?15:me;for(me=-255;510>=me;++me)lN[255+me]=0>me?0:255<me?255:me;cN=1}Gc=qf,hh=eb,Ga=ja,Nn=Q1,Hn=ey,As=Qx,vr=oy,Wr=rh,Nl=P,Fg=J,Kf=sy,cy=w,XT=oe,KT=ge,JT=nh,QT=Ig,eN=ry,tN=iy,ia[0]=lb,ia[1]=tb,ia[2]=sb,ia[3]=ab,ia[4]=xl,ia[5]=cb,ia[6]=bl,ia[7]=ub,ia[8]=xg,ia[9]=Wf,zc[0]=ib,zc[1]=rb,zc[2]=vg,zc[3]=ty,zc[4]=eh,zc[5]=wg,zc[6]=ob,Rl[0]=fb,Rl[1]=nb,Rl[2]=th,Rl[3]=hb,Rl[4]=Eg,Rl[5]=bg,Rl[6]=ny,me=1}else me=0}me&&(me=(function(an,$r){for(an.M=0;an.M<an.Va;++an.M){var Wt,it=an.Jc[an.M&an.Xb],qe=an.m,wr=an;for(Wt=0;Wt<wr.za;++Wt){var Ot=qe,hn=wr,Jn=hn.Ac,Ei=hn.Bc+4*Wt,oo=hn.zc,ur=hn.ya[hn.aa+Wt];if(hn.Qa.Bb?ur.$b=Se(Ot,hn.Pa.jb[0])?2+Se(Ot,hn.Pa.jb[2]):Se(Ot,hn.Pa.jb[1]):ur.$b=0,hn.kc&&(ur.Ad=Se(Ot,hn.Bd)),ur.Za=!Se(Ot,145)+0,ur.Za){var Ui=ur.Ob,so=0;for(hn=0;4>hn;++hn){var Yr,vn=oo[0+hn];for(Yr=0;4>Yr;++Yr){vn=pU[Jn[Ei+Yr]][vn];for(var On=dN[Se(Ot,vn[0])];0<On;)On=dN[2*On+Se(Ot,vn[On])];vn=-On,Jn[Ei+Yr]=vn}r(Ui,so,Jn,Ei,4),so+=4,oo[0+hn]=vn}}else vn=Se(Ot,156)?Se(Ot,128)?1:3:Se(Ot,163)?2:0,ur.Ob[0]=vn,i(Jn,Ei,vn,4),i(oo,0,vn,4);ur.Dd=Se(Ot,142)?Se(Ot,114)?Se(Ot,183)?1:3:2:0}if(wr.m.Ka)return Rr(an,7,"Premature end-of-partition0 encountered.");for(;an.ja<an.za;++an.ja){if(wr=it,Ot=(qe=an).rb[qe.sb-1],Jn=qe.rb[qe.sb+qe.ja],Wt=qe.ya[qe.aa+qe.ja],Ei=qe.kc?Wt.Ad:0)Ot.la=Jn.la=0,Wt.Za||(Ot.Na=Jn.Na=0),Wt.Hc=0,Wt.Gc=0,Wt.ia=0;else{var hr,Fn;if(Ot=Jn,Jn=wr,Ei=qe.Pa.Xc,oo=qe.ya[qe.aa+qe.ja],ur=qe.pb[oo.$b],hn=oo.ad,Ui=0,so=qe.rb[qe.sb-1],vn=Yr=0,i(hn,Ui,0,384),oo.Za)var Si=0,oa=Ei[3];else{On=o(16);var xr=Ot.Na+so.Na;if(xr=Bg(Jn,Ei[1],xr,ur.Eb,0,On,0),Ot.Na=so.Na=(0<xr)+0,1<xr)Gc(On,0,hn,Ui);else{var vo=On[0]+3>>3;for(On=0;256>On;On+=16)hn[Ui+On]=vo}Si=1,oa=Ei[0]}var qn=15&Ot.la,Zr=15&so.la;for(On=0;4>On;++On){var Jo=1&Zr;for(vo=Fn=0;4>vo;++vo)qn=qn>>1|(Jo=(xr=Bg(Jn,oa,xr=Jo+(1&qn),ur.Sc,Si,hn,Ui))>Si)<<7,Fn=Fn<<2|(3<xr?3:1<xr?2:hn[Ui+0]!=0),Ui+=16;qn>>=4,Zr=Zr>>1|Jo<<7,Yr=(Yr<<8|Fn)>>>0}for(oa=qn,Si=Zr>>4,hr=0;4>hr;hr+=2){for(Fn=0,qn=Ot.la>>4+hr,Zr=so.la>>4+hr,On=0;2>On;++On){for(Jo=1&Zr,vo=0;2>vo;++vo)xr=Jo+(1&qn),qn=qn>>1|(Jo=0<(xr=Bg(Jn,Ei[2],xr,ur.Qc,0,hn,Ui)))<<3,Fn=Fn<<2|(3<xr?3:1<xr?2:hn[Ui+0]!=0),Ui+=16;qn>>=2,Zr=Zr>>1|Jo<<5}vn|=Fn<<4*hr,oa|=qn<<4<<hr,Si|=(240&Zr)<<hr}Ot.la=oa,so.la=Si,oo.Hc=Yr,oo.Gc=vn,oo.ia=43690&vn?0:ur.ia,Ei=!(Yr|vn)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[Wt.$b][Wt.Za],qe.wa[qe.Y+qe.ja].La|=!Ei),wr.Ka)return Rr(an,7,"Premature end-of-file encountered.")}if(K1(an),qe=$r,wr=1,Wt=(it=an).D,Ot=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(Wt.M=it.M,Wt.uc=Ot,Ds(it,Wt),wr=1,Wt=(Fn=it.D).Nb,Ot=(vn=_y[it.L])*it.R,Jn=vn/2*it.B,On=16*Wt*it.R,vo=8*Wt*it.B,Ei=it.sa,oo=it.ta-Ot+On,ur=it.qa,hn=it.ra-Jn+vo,Ui=it.Ha,so=it.Ia-Jn+vo,Zr=(qn=Fn.M)==0,Yr=qn>=it.Va-1,it.Aa==2&&Ds(it,Fn),Fn.uc)for(Jo=(xr=it).D.M,e(xr.D.uc),Fn=xr.yb;Fn<xr.Hb;++Fn){Si=Fn,oa=Jo;var ao=(Qo=(Ci=xr).D).Nb;hr=Ci.R;var Qo=Qo.wa[Qo.Y+Si],es=Ci.sa,wo=Ci.ta+16*ao*hr+16*Si,ts=Qo.dd,Xn=Qo.tc;if(Xn!=0)if(e(3<=Xn),Ci.L==1)0<Si&&QT(es,wo,hr,Xn+4),Qo.La&&tN(es,wo,hr,Xn),0<oa&&JT(es,wo,hr,Xn+4),Qo.La&&eN(es,wo,hr,Xn);else{var ns=Ci.B,sa=Ci.qa,fh=Ci.ra+8*ao*ns+8*Si,Pl=Ci.Ha,Ci=Ci.Ia+8*ao*ns+8*Si;ao=Qo.ld,0<Si&&(Wr(es,wo,hr,Xn+4,ts,ao),Fg(sa,fh,Pl,Ci,ns,Xn+4,ts,ao)),Qo.La&&(cy(es,wo,hr,Xn,ts,ao),KT(sa,fh,Pl,Ci,ns,Xn,ts,ao)),0<oa&&(vr(es,wo,hr,Xn+4,ts,ao),Nl(sa,fh,Pl,Ci,ns,Xn+4,ts,ao)),Qo.La&&(Kf(es,wo,hr,Xn,ts,ao),XT(sa,fh,Pl,Ci,ns,Xn,ts,ao))}}if(it.ia&&alert("todo:DitherRow"),qe.put!=null){if(Fn=16*qn,qn=16*(qn+1),Zr?(qe.y=it.sa,qe.O=it.ta+On,qe.f=it.qa,qe.N=it.ra+vo,qe.ea=it.Ha,qe.W=it.Ia+vo):(Fn-=vn,qe.y=Ei,qe.O=oo,qe.f=ur,qe.N=hn,qe.ea=Ui,qe.W=so),Yr||(qn-=vn),qn>qe.o&&(qn=qe.o),qe.F=null,qe.J=null,it.Fa!=null&&0<it.Fa.length&&Fn<qn&&(qe.J=Zn(it,qe,Fn,qn-Fn),qe.F=it.mb,qe.F==null&&qe.F.length==0)){wr=Rr(it,3,"Could not decode alpha data.");break t}Fn<qe.j&&(vn=qe.j-Fn,Fn=qe.j,e(!(1&vn)),qe.O+=it.R*vn,qe.N+=it.B*(vn>>1),qe.W+=it.B*(vn>>1),qe.F!=null&&(qe.J+=qe.width*vn)),Fn<qn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=Fn-qe.j,qe.U=qe.va-qe.v,qe.T=qn-Fn,wr=qe.put(qe))}Wt+1!=it.Ic||Yr||(r(it.sa,it.ta-Ot,Ei,oo+16*it.R,Ot),r(it.qa,it.ra-Jn,ur,hn+8*it.B,Jn),r(it.Ha,it.Ia-Jn,Ui,so+8*it.B,Jn))}if(!wr)return Rr(an,6,"Output aborted.")}return 1})(X,de)),de.bc!=null&&de.bc(de),me&=1}return me?(X.cb=0,me):0})(p,D)||(m=p.a)}}else m=p.a}m==0&&U.Oa!=null&&U.Oa.fd&&(m=Ng(U.ba))}U=m}B=U!=0?null:11>B?H.f.RGBA.eb:H.f.kb.y}else B=null;return B};var bN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,N){for(var T="",x=0;x<4;x++)T+=String.fromCharCode(k[N++]);return T}function u(k,N){return k[N+0]|k[N+1]<<8}function f(k,N){return(k[N+0]|k[N+1]<<8|k[N+2]<<16)>>>0}function d(k,N){return(k[N+0]|k[N+1]<<8|k[N+2]<<16|k[N+3]<<24)>>>0}new l;var h=[0],g=[0],y=[],_=new l,v=t,E=(function(k,N){var T={},x=0,O=!1,$=0,Y=0;if(T.frames=[],!(function(M,z){for(var Q=0;Q<4;Q++)if(M[z+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(k,N)){for(d(k,N+=4),N+=8;N<k.length;){var se=c(k,N),K=d(k,N+=4);N+=4;var te=K+(1&K);switch(se){case"VP8 ":case"VP8L":T.frames[x]===void 0&&(T.frames[x]={}),(pe=T.frames[x]).src_off=O?Y:N-8,pe.src_size=$+K+8,x++,O&&(O=!1,$=0,Y=0);break;case"VP8X":(pe=T.header={}).feature_flags=k[N];var W=N+4;pe.canvas_width=1+f(k,W),W+=3,pe.canvas_height=1+f(k,W),W+=3;break;case"ALPH":O=!0,$=te+8,Y=N-8;break;case"ANIM":(pe=T.header).bgcolor=d(k,N),W=N+4,pe.loop_count=u(k,W),W+=2;break;case"ANMF":var ee,pe;(pe=T.frames[x]={}).offset_x=2*f(k,N),N+=3,pe.offset_y=2*f(k,N),N+=3,pe.width=1+f(k,N),N+=3,pe.height=1+f(k,N),N+=3,pe.duration=f(k,N),N+=3,ee=k[N++],pe.dispose=1&ee,pe.blend=ee>>1&1}se!="ANMF"&&(N+=te)}return T}})(v,0);E.response=v,E.rgbaoutput=!0,E.dataurl=!1;var S=E.header?E.header:null,I=E.frames?E.frames:null;if(S){S.loop_counter=S.loop_count,h=[S.canvas_height],g=[S.canvas_width];for(var R=0;R<I.length&&I[R].blend!=0;R++);}var V=I[0],j=_.WebPDecodeRGBA(v,V.src_off,V.src_size,g,h);V.rgba=j,V.imgwidth=g[0],V.imgheight=h[0];for(var F=0;F<g[0]*h[0]*4;F++)y[F]=j[F];return this.width=g,this.height=h,this.data=y,this}(function(t){var e,n,r,i,o,s,a,l,c,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=M;Object.defineProperty(this,"pdf",{get:function(){return z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(C){Q=!!C}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(C){ne=!!C}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(C){isNaN(C)||(re=C)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(C){isNaN(C)||(le=C)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(C){var G;typeof C=="number"?G=[C,C,C,C]:((G=new Array(4))[0]=C[0],G[1]=C.length>=2?C[1]:G[0],G[2]=C.length>=3?C[2]:G[0],G[3]=C.length>=4?C[3]:G[1]),c.margin=G}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(C){_e=C}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(C){ye=C}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(C){Se=C}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(C){C instanceof u&&(c=C)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(C){c.path=C}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(C){Pe=C}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(C){var G;G=d(C),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(C){var G=d(C);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(C){["butt","round","square"].indexOf(C)!==-1&&(this.ctx.lineCap=C,this.pdf.setLineCap(C))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(C){isNaN(C)||(this.ctx.lineWidth=C,this.pdf.setLineWidth(C))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(C){["bevel","round","miter"].indexOf(C)!==-1&&(this.ctx.lineJoin=C,this.pdf.setLineJoin(C))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(C){isNaN(C)||(this.ctx.miterLimit=C,this.pdf.setMiterLimit(C))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(C){this.ctx.textBaseline=C}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(C){["right","end","center","left","start"].indexOf(C)!==-1&&(this.ctx.textAlign=C)}});var A=null,fe=null,he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(C){A=null,fe=null,he=C}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(C){var G;if(this.ctx.font=C,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(C))!==null){var ie=G[1];G[2];var ve=G[3],ce=G[4];G[5];var ae=G[6],xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(xe==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var Ie=(function(He){var Un,Jt,vt=[],At=He.trim();if(At==="")return zT;if(At in AB)return[AB[At]];for(;At!=="";){switch(Jt=null,Un=(At=TB(At)).charAt(0)){case'"':case"'":Jt=rle(At.substring(1),Un);break;default:Jt=ile(At)}if(Jt===null||(vt.push(Jt[0]),(At=TB(Jt[1]))!==""&&At.charAt(0)!==","))return zT;At=At.replace(/^,/,"")}return vt})(ae);if(this.fontFaces){var be=(function(He,Un){var Jt=He.getFontList(),vt=JSON.stringify(Jt);if(A===null||fe!==vt){var At=(function(Mn){var ct=[];return Object.keys(Mn).forEach(function(Tn){Mn[Tn].forEach(function(ft){var pt=null;switch(ft){case"bold":pt={family:Tn,weight:"bold"};break;case"italic":pt={family:Tn,style:"italic"};break;case"bolditalic":pt={family:Tn,weight:"bold",style:"italic"};break;case"":case"normal":pt={family:Tn}}pt!==null&&(pt.ref={name:Tn,style:ft},ct.push(pt))})}),ct})(Jt);A=(function(Mn){for(var ct={},Tn=0;Tn<Mn.length;++Tn){var ft=GT(Mn[Tn]),pt=ft.family,on=ft.stretch,Pt=ft.style,_t=ft.weight;ct[pt]=ct[pt]||{},ct[pt][on]=ct[pt][on]||{},ct[pt][on][Pt]=ct[pt][on][Pt]||{},ct[pt][on][Pt][_t]=ft}return ct})(At.concat(Un)),fe=vt}return A})(this.pdf,this.fontFaces),Ge=Ie.map(function(He){return{family:He,stretch:"normal",weight:ve,style:ie}}),Xe=(function(He,Un,Jt){for(var vt=(Jt=Jt||{}).defaultFontFamily||"times",At=Object.assign({},nle,Jt.genericFontFamilies||{}),Mn=null,ct=null,Tn=0;Tn<Un.length;++Tn)if(At[(Mn=GT(Un[Tn])).family]&&(Mn.family=At[Mn.family]),He.hasOwnProperty(Mn.family)){ct=He[Mn.family];break}if(!(ct=ct||He[vt]))throw new Error("Could not find a font-family for the rule '"+MB(Mn)+"' and default family '"+vt+"'.");if(ct=(function(ft,pt){if(pt[ft])return pt[ft];var on=YT[ft],Pt=on<=YT.normal?-1:1,_t=DB(pt,QB,on,Pt);if(!_t)throw new Error("Could not find a matching font-stretch value for "+ft);return _t})(Mn.stretch,ct),ct=(function(ft,pt){if(pt[ft])return pt[ft];for(var on=JB[ft],Pt=0;Pt<on.length;++Pt)if(pt[on[Pt]])return pt[on[Pt]];throw new Error("Could not find a matching font-style for "+ft)})(Mn.style,ct),!(ct=(function(ft,pt){if(pt[ft])return pt[ft];if(ft===400&&pt[500])return pt[500];if(ft===500&&pt[400])return pt[400];var on=tle[ft],Pt=DB(pt,eU,on,ft<400?-1:1);if(!Pt)throw new Error("Could not find a matching font-weight for value "+ft);return Pt})(Mn.weight,ct)))throw new Error("Failed to resolve a font for the rule '"+MB(Mn)+"'.");return ct})(be,Ge);this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var Ve="";(ve==="bold"||parseInt(ve,10)>=700||ie==="bold")&&(Ve="bold"),ie==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var yt="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ye=0;Ye<Ie.length;Ye++){if(this.pdf.internal.getFont(Ie[Ye],Ve,{noFallback:!0,disableWarning:!0})!==void 0){yt=Ie[Ye];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(Ie[Ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=Ie[Ye],Ve="bold";else if(this.pdf.internal.getFont(Ie[Ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=Ie[Ye],Ve="normal";break}}if(yt===""){for(var wt=0;wt<Ie.length;wt++)if(Rt[Ie[wt]]){yt=Rt[Ie[wt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(C){this.ctx.globalCompositeOperation=C}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(C){this.ctx.globalAlpha=C}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(C){this.ctx.lineDashOffset=C,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(C){this.ctx.lineDash=C,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(C){this.ctx.ignoreClearRect=!!C}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){I.call(this,"fill",!1)},f.prototype.stroke=function(){I.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,z){if(isNaN(M)||isNaN(z))throw Yn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(M,z)},f.prototype.closePath=function(){var M=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&zn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){M=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},f.prototype.lineTo=function(M,z){if(isNaN(M)||isNaN(z))throw Yn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,z,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN(M)||isNaN(z))throw Yn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new s(Q,ne)),le=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"qct",x1:le.x,y1:le.y,x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},f.prototype.bezierCurveTo=function(M,z,Q,ne,re,le){if(isNaN(re)||isNaN(le)||isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Yn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new s(re,le)),ye=this.ctx.transform.applyToPoint(new s(M,z)),Se=this.ctx.transform.applyToPoint(new s(Q,ne));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Se.x,y2:Se.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new s(_e.x,_e.y)},f.prototype.arc=function(M,z,Q,ne,re,le){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne)||isNaN(re))throw Yn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new s(M,z));M=_e.x,z=_e.y;var ye=this.ctx.transform.applyToPoint(new s(0,Q)),Se=this.ctx.transform.applyToPoint(new s(0,0));Q=Math.sqrt(Math.pow(ye.x-Se.x,2)+Math.pow(ye.y-Se.y,2))}Math.abs(re-ne)>=2*Math.PI&&(ne=0,re=2*Math.PI),this.path.push({type:"arc",x:M,y:z,radius:Q,startAngle:ne,endAngle:re,counterclockwise:le})},f.prototype.arcTo=function(M,z,Q,ne,re){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,z,Q,ne){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Yn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,z),this.lineTo(M+Q,z),this.lineTo(M+Q,z+ne),this.lineTo(M,z+ne),this.lineTo(M,z),this.lineTo(M+Q,z),this.lineTo(M,z)},f.prototype.fillRect=function(M,z,Q,ne){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Yn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,z,Q,ne),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},f.prototype.strokeRect=function(M,z,Q,ne){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Yn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(M,z,Q,ne),this.stroke())},f.prototype.clearRect=function(M,z,Q,ne){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne))throw Yn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,z,Q,ne))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(M){var z,Q,ne,re;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))z=0,Q=0,ne=0,re=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(le!==null)z=parseInt(le[1]),Q=parseInt(le[2]),ne=parseInt(le[3]),re=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)z=parseInt(le[1]),Q=parseInt(le[2]),ne=parseInt(le[3]),re=parseFloat(le[4]);else{if(re=1,typeof M=="string"&&M.charAt(0)!=="#"){var _e=new qB(M);M=_e.ok?_e.toHex():"#000000"}M.length===4?(z=M.substring(1,2),z+=z,Q=M.substring(2,3),Q+=Q,ne=M.substring(3,4),ne+=ne):(z=M.substring(1,3),Q=M.substring(3,5),ne=M.substring(5,7)),z=parseInt(z,16),Q=parseInt(Q,16),ne=parseInt(ne,16)}}return{r:z,g:Q,b:ne,a:re,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,z,Q,ne){if(isNaN(z)||isNaN(Q)||typeof M!="string")throw Yn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var re=te(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;x.call(this,{text:M,x:z,y:Q,scale:le,angle:re,align:this.textAlign,maxWidth:ne})}},f.prototype.strokeText=function(M,z,Q,ne){if(isNaN(z)||isNaN(Q)||typeof M!="string")throw Yn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ne=isNaN(ne)?void 0:ne;var re=te(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;x.call(this,{text:M,x:z,y:Q,scale:le,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ne})}},f.prototype.measureText=function(M){if(typeof M!="string")throw Yn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Q=this.pdf.internal.scaleFactor,ne=z.internal.getFontSize(),re=z.getStringUnitWidth(M)*ne/z.internal.scaleFactor;return new function(le){var _e=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:re*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(M,z){if(isNaN(M)||isNaN(z))throw Yn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(M,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(M){if(isNaN(M))throw Yn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(M,z){if(isNaN(M)||isNaN(z))throw Yn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,M,z);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(M,z,Q,ne,re,le){if(isNaN(M)||isNaN(z)||isNaN(Q)||isNaN(ne)||isNaN(re)||isNaN(le))throw Yn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new l(M,z,Q,ne,re,le);this.ctx.transform=this.ctx.transform.multiply(_e)},f.prototype.setTransform=function(M,z,Q,ne,re,le){M=isNaN(M)?1:M,z=isNaN(z)?0:z,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?1:ne,re=isNaN(re)?0:re,le=isNaN(le)?0:le,this.ctx.transform=new l(M,z,Q,ne,re,le)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,z,Q,ne,re,le,_e,ye,Se){var Pe=this.pdf.getImageProperties(M),A=1,fe=1,he=1,C=1;ne!==void 0&&ye!==void 0&&(he=ye/ne,C=Se/re,A=Pe.width/ne*ye/ne,fe=Pe.height/re*Se/re),le===void 0&&(le=z,_e=Q,z=0,Q=0),ne!==void 0&&ye===void 0&&(ye=ne,Se=re),ne===void 0&&ye===void 0&&(ye=Pe.width,Se=Pe.height);var G=this.ctx.transform.decompose(),ie=te(G.rotate.shx),ve=new l,ce=(ve=(ve=(ve=ve.multiply(G.translate)).multiply(G.skew)).multiply(G.scale)).applyToRectangle(new a(le-z*he,_e-Q*C,ne*A,re*fe));if(this.autoPaging){for(var ae,xe=_.call(this,ce),Ie=[],be=0;be<xe.length;be+=1)Ie.indexOf(xe[be])===-1&&Ie.push(xe[be]);S(Ie);for(var Ge=Ie[0],Xe=Ie[Ie.length-1],Ve=Ge;Ve<Xe+1;Ve++){this.pdf.setPage(Ve);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=Ve===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=Ve===1?0:Ye+(Ve-2)*wt;if(this.ctx.clip_path.length!==0){var Un=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ae,this.posX+this.margin[3],-He+Rt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Un}var Jt=JSON.parse(JSON.stringify(ce));Jt=E([Jt],this.posX+this.margin[3],-He+Rt+this.ctx.prevPageLastElemOffset)[0];var vt=(Ve>Ge||Ve<Xe)&&y.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,wt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,ie),vt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,ie)};var _=function(M,z,Q){var ne=[];z=z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+re)/Q)+1);break;case"arc":ne.push(Math.floor((M.y+re-M.radius)/Q)+1),ne.push(Math.floor((M.y+re+M.radius)/Q)+1);break;case"qct":var le=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((le.y+re)/Q)+1),ne.push(Math.floor((le.y+le.h+re)/Q)+1);break;case"bct":var _e=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((_e.y+re)/Q)+1),ne.push(Math.floor((_e.y+_e.h+re)/Q)+1);break;case"rect":ne.push(Math.floor((M.y+re)/Q)+1),ne.push(Math.floor((M.y+M.h+re)/Q)+1)}for(var ye=0;ye<ne.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ye];)v.call(this);return ne},v=function(){var M=this.fillStyle,z=this.strokeStyle,Q=this.font,ne=this.lineCap,re=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=z,this.font=Q,this.lineCap=ne,this.lineWidth=re,this.lineJoin=le},E=function(M,z,Q){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=z,M[ne].y2+=Q;case"qct":M[ne].x1+=z,M[ne].y1+=Q;default:M[ne].x+=z,M[ne].y+=Q}return M},S=function(M){return M.sort(function(z,Q){return z-Q})},I=function(M,z){var Q=this.fillStyle,ne=this.strokeStyle,re=this.lineCap,le=this.lineWidth,_e=Math.abs(le*this.ctx.transform.scaleX),ye=this.lineJoin;if(this.autoPaging){for(var Se,Pe,A=JSON.parse(JSON.stringify(this.path)),fe=JSON.parse(JSON.stringify(this.path)),he=[],C=0;C<fe.length;C++)if(fe[C].x!==void 0)for(var G=_.call(this,fe[C]),ie=0;ie<G.length;ie+=1)he.indexOf(G[ie])===-1&&he.push(G[ie]);for(var ve=0;ve<he.length;ve++)for(;this.pdf.internal.getNumberOfPages()<he[ve];)v.call(this);S(he);for(var ce=he[0],ae=he[he.length-1],xe=ce;xe<ae+1;xe++){this.pdf.setPage(xe),this.fillStyle=Q,this.strokeStyle=ne,this.lineCap=re,this.lineWidth=_e,this.lineJoin=ye;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=xe===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=xe===1?0:Ge+(xe-2)*Xe;if(this.ctx.clip_path.length!==0){var yt=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Se,this.posX+this.margin[3],-Ve+be+this.ctx.prevPageLastElemOffset),R.call(this,M,!0),this.path=yt}if(Pe=JSON.parse(JSON.stringify(A)),this.path=E(Pe,this.posX+this.margin[3],-Ve+be+this.ctx.prevPageLastElemOffset),z===!1||xe===0){var Rt=(xe>ce||xe<ae)&&y.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Xe,null).clip().discardPath()),R.call(this,M,z),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}this.path=A}else this.lineWidth=_e,R.call(this,M,z),this.lineWidth=le},R=function(M,z){if((M!=="stroke"||z||!g.call(this))&&(M==="stroke"||z||!h.call(this))){for(var Q,ne,re=[],le=this.path,_e=0;_e<le.length;_e++){var ye=le[_e];switch(ye.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ye,deltas:[],abs:[]});break;case"lt":var Se=re.length;if(le[_e-1]&&!isNaN(le[_e-1].x)&&(Q=[ye.x-le[_e-1].x,ye.y-le[_e-1].y],Se>0)){for(;Se>=0;Se--)if(re[Se-1].close!==!0&&re[Se-1].begin!==!0){re[Se-1].deltas.push(Q),re[Se-1].abs.push(ye);break}}break;case"bct":Q=[ye.x1-le[_e-1].x,ye.y1-le[_e-1].y,ye.x2-le[_e-1].x,ye.y2-le[_e-1].y,ye.x-le[_e-1].x,ye.y-le[_e-1].y],re[re.length-1].deltas.push(Q);break;case"qct":var Pe=le[_e-1].x+2/3*(ye.x1-le[_e-1].x),A=le[_e-1].y+2/3*(ye.y1-le[_e-1].y),fe=ye.x+2/3*(ye.x1-ye.x),he=ye.y+2/3*(ye.y1-ye.y),C=ye.x,G=ye.y;Q=[Pe-le[_e-1].x,A-le[_e-1].y,fe-le[_e-1].x,he-le[_e-1].y,C-le[_e-1].x,G-le[_e-1].y],re[re.length-1].deltas.push(Q);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ye)}}ne=z?null:M==="stroke"?"stroke":"fill";for(var ie=!1,ve=0;ve<re.length;ve++)if(re[ve].arc)for(var ce=re[ve].abs,ae=0;ae<ce.length;ae++){var xe=ce[ae];xe.type==="arc"?F.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,z,!ie):O.call(this,xe.x,xe.y),ie=!0}else if(re[ve].close===!0)this.pdf.internal.out("h"),ie=!1;else if(re[ve].begin!==!0){var Ie=re[ve].start.x,be=re[ve].start.y;$.call(this,re[ve].deltas,Ie,be),ie=!0}ne&&k.call(this,ne),z&&N.call(this)}},V=function(M){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Q;case"top":return M+z-Q;case"hanging":return M+z-2*Q;case"middle":return M+z/2-Q;default:return M}},j=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(z,Q){this.colorStops.push([z,Q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(M,z,Q,ne,re,le,_e,ye,Se){for(var Pe=se.call(this,Q,ne,re,le),A=0;A<Pe.length;A++){var fe=Pe[A];A===0&&(Se?T.call(this,fe.x1+M,fe.y1+z):O.call(this,fe.x1+M,fe.y1+z)),Y.call(this,M,z,fe.x2,fe.y2,fe.x3,fe.y3,fe.x4,fe.y4)}ye?N.call(this):k.call(this,_e)},k=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},N=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(M,z){this.pdf.internal.out(n(M)+" "+r(z)+" m")},x=function(M){var z;switch(M.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var Q,ne,re,le=this.pdf.getTextDimensions(M.text),_e=V.call(this,M.y),ye=j.call(this,_e)-le.h,Se=this.ctx.transform.applyToPoint(new s(M.x,_e));if(this.autoPaging){var Pe=this.ctx.transform.decompose(),A=new l;A=(A=(A=A.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var fe=this.ctx.transform.applyToRectangle(new a(M.x,_e,le.w,le.h)),he=A.applyToRectangle(new a(M.x,ye,le.w,le.h)),C=_.call(this,he),G=[],ie=0;ie<C.length;ie+=1)G.indexOf(C[ie])===-1&&G.push(C[ie]);S(G);for(var ve=G[0],ce=G[G.length-1],ae=ve;ae<ce+1;ae++){this.pdf.setPage(ae);var xe=ae===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ge=be-this.margin[0],Xe=this.pdf.internal.pageSize.width-this.margin[1],Ve=Xe-this.margin[3],yt=ae===1?0:Ie+(ae-2)*Ge;if(this.ctx.clip_path.length!==0){var Rt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Q,this.posX+this.margin[3],-1*yt+xe),R.call(this,"fill",!0),this.path=Rt}var Ye=E([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-yt+xe+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*M.scale),re=this.lineWidth,this.lineWidth=re*M.scale);var wt=this.autoPaging!=="text";if(wt||Ye.y+Ye.h<=be){if(wt||Ye.y>=xe&&Ye.x<=Xe){var He=wt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Xe-Ye.x)[0],Un=E([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-yt+xe+this.ctx.prevPageLastElemOffset)[0],Jt=wt&&(ae>ve||ae<ce)&&y.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Ge,null).clip().discardPath()),this.pdf.text(He,Un.x,Un.y,{angle:M.angle,align:z,renderingMode:M.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else Ye.y<be&&(this.ctx.prevPageLastElemOffset+=be-Ye.y);M.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=re)}}else M.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*M.scale),re=this.lineWidth,this.lineWidth=re*M.scale),this.pdf.text(M.text,Se.x+this.posX,Se.y+this.posY,{angle:M.angle,align:z,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=re)},O=function(M,z,Q,ne){Q=Q||0,ne=ne||0,this.pdf.internal.out(n(M+Q)+" "+r(z+ne)+" l")},$=function(M,z,Q){return this.pdf.lines(M,z,Q,null,null)},Y=function(M,z,Q,ne,re,le,_e,ye){this.pdf.internal.out([e(i(Q+M)),e(o(ne+z)),e(i(re+M)),e(o(le+z)),e(i(_e+M)),e(o(ye+z)),"c"].join(" "))},se=function(M,z,Q,ne){for(var re=2*Math.PI,le=Math.PI/2;z>Q;)z-=re;var _e=Math.abs(Q-z);_e<re&&ne&&(_e=re-_e);for(var ye=[],Se=ne?-1:1,Pe=z;_e>1e-5;){var A=Pe+Se*Math.min(_e,le);ye.push(K.call(this,M,Pe,A)),_e-=Math.abs(A-Pe),Pe=A}return ye},K=function(M,z,Q){var ne=(Q-z)/2,re=M*Math.cos(ne),le=M*Math.sin(ne),_e=re,ye=-le,Se=_e*_e+ye*ye,Pe=Se+_e*re+ye*le,A=4/3*(Math.sqrt(2*Se*Pe)-Pe)/(_e*le-ye*re),fe=_e-A*ye,he=ye+A*_e,C=fe,G=-he,ie=ne+z,ve=Math.cos(ie),ce=Math.sin(ie);return{x1:M*Math.cos(z),y1:M*Math.sin(z),x2:fe*ve-he*ce,y2:fe*ce+he*ve,x3:C*ve-G*ce,y3:C*ce+G*ve,x4:M*Math.cos(Q),y4:M*Math.sin(Q)}},te=function(M){return 180*M/Math.PI},W=function(M,z,Q,ne,re,le){var _e=M+.5*(Q-M),ye=z+.5*(ne-z),Se=re+.5*(Q-re),Pe=le+.5*(ne-le),A=Math.min(M,re,_e,Se),fe=Math.max(M,re,_e,Se),he=Math.min(z,le,ye,Pe),C=Math.max(z,le,ye,Pe);return new a(A,he,fe-A,C-he)},ee=function(M,z,Q,ne,re,le,_e,ye){var Se,Pe,A,fe,he,C,G,ie,ve,ce,ae,xe,Ie,be,Ge=Q-M,Xe=ne-z,Ve=re-Q,yt=le-ne,Rt=_e-re,Ye=ye-le;for(Pe=0;Pe<41;Pe++)ve=(G=(A=M+(Se=Pe/40)*Ge)+Se*((he=Q+Se*Ve)-A))+Se*(he+Se*(re+Se*Rt-he)-G),ce=(ie=(fe=z+Se*Xe)+Se*((C=ne+Se*yt)-fe))+Se*(C+Se*(le+Se*Ye-C)-ie),Pe==0?(ae=ve,xe=ce,Ie=ve,be=ce):(ae=Math.min(ae,ve),xe=Math.min(xe,ce),Ie=Math.max(Ie,ve),be=Math.max(be,ce));return new a(Math.round(ae),Math.round(xe),Math.round(Ie-ae),Math.round(be-xe))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,z,Q=(M=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(lt.API),(function(t){var e=function(s){var a,l,c,u,f,d,h,g,y,_;for(/[^\x00-\xFF]/.test(s),l=[],c=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(d=(f=((f=((f=((f=(f-(_=f%85))/85)-(y=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,l.push(d+33,h+33,g+33,y+33,_+33)):l.push(122);return(function(v,E){for(var S=E;S>0;S--)v.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,c,u,f,d=String,h="length",g=255,y="charCodeAt",_="slice",v="replace";for(s[_](-2),s=s[_](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,f=(s+=a="uuuuu"[_](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return(function(E,S){for(var I=S;I>0;I--)E.pop()})(c,a[h]),d.fromCharCode.apply(d,c)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=fx(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var l=0,c=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(lt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=(function(l,c,u){var f=new XMLHttpRequest,d=0,h=function(g){var y=g.length,_=[],v=String.fromCharCode;for(d=0;d<y;d+=1)_.push(v(255&g.charCodeAt(d)));return _.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)})(i,o,s)}catch{}return a})(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(lt.API),(function(t){function e(){return(Ct.html2canvas?Promise.resolve(Ct.html2canvas):import("./chunk-Z5FUYA6N.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Ct.DOMPurify?Promise.resolve(Ct.DOMPurify):import("./chunk-DX6SIO5A.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=zn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},o=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(a(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var g=u[h],y=g.src.find(function(_){return _.format==="truetype"});y&&c.addFont(y.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,f).then(function(d){return c.updateProgress(1),d})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),d=c.call(f,a,l);return s.convert(d,u.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,lt.getPageSize=function(a,l,c){if(zn(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var f,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,y=0,_=0;if(h.hasOwnProperty(d))y=h[d][1]/f,_=h[d][0]/f;else try{y=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",_>y&&(g=_,_=y,y=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>_&&(g=_,_=y,y=g)}return{width:_,height:y,unit:l,k:f,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(GT):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}})(lt.API),lt.API.addJS=function(t){return RB=t,this.internal.events.subscribe("postPutResources",function(){Ox=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ox+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),NB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+RB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ox!==void 0&&NB!==void 0&&this.internal.out("/Names <</JavaScript "+Ox+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var f=n.internal.newObject();u.push(f);var d=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<u.length;o++)n.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])})(lt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=(function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,y={width:0,height:0,numcomponents:1},_=4;_<g;_+=2){if(_+=h,e.indexOf(f.charCodeAt(_+1))!==-1){d=256*f.charCodeAt(_+5)+f.charCodeAt(_+6),y={width:256*f.charCodeAt(_+7)+f.charCodeAt(_+8),height:d,numcomponents:f.charCodeAt(_+9)};break}h=256*f.charCodeAt(_+2)+f.charCodeAt(_+3)}return y})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}})(lt.API),lt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=wB(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.palette,u=o.depth;i=c&&l===1?(function(F){for(var k=F.width,N=F.height,T=F.data,x=F.palette,O=F.depth,$=!1,Y=[],se=[],K=void 0,te=!1,W=0,ee=0;ee<x.length;ee++){var pe=QM(x[ee],4),M=pe[0],z=pe[1],Q=pe[2],ne=pe[3];Y.push(M,z,Q),ne!=null&&(ne===0?(W++,se.length<1&&se.push(ee)):ne<255&&(te=!0))}if(te||W>1){$=!0,se=void 0;var re=k*N;K=new Uint8Array(re);for(var le=new DataView(T.buffer),_e=0;_e<re;_e++){var ye=VT(le,_e,O),Se=QM(x[ye],4)[3];K[_e]=Se}}else W===0&&(se=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:T,alphaBytes:K,needSMask:$,palette:Y,mask:se}})(o):l===2||l===4?(function(F){for(var k=F.data,N=F.width,T=F.height,x=F.channels,O=F.depth,$=x===2?"DeviceGray":"DeviceRGB",Y=x-1,se=N*T,K=Y,te=se*K,W=1*se,ee=Math.ceil(te*O/8),pe=Math.ceil(W*O/8),M=new Uint8Array(ee),z=new Uint8Array(pe),Q=new DataView(k.buffer),ne=new DataView(M.buffer),re=new DataView(z.buffer),le=!1,_e=0;_e<se;_e++){for(var ye=_e*x,Se=0;Se<K;Se++)GB(ne,VT(Q,ye+Se,O),_e*K+Se,O);var Pe=VT(Q,ye+K,O);Pe<(1<<O)-1&&(le=!0),GB(re,Pe,1*_e,O)}return{colorSpace:$,colorsPerPixel:Y,sMaskBitsPerComponent:le?O:void 0,colorBytes:M,alphaBytes:z,needSMask:le}})(o):(function(F){var k=F.data,N=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:N,colorsPerPixel:N==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(T){for(var x=T.length,O=new Uint8Array(2*x),$=new DataView(O.buffer,O.byteOffset,O.byteLength),Y=0;Y<x;Y++)$.setUint16(2*Y,T[Y],!1);return O})(k):k,needSMask:!1}})(o);var f,d,h,g=i,y=g.colorSpace,_=g.colorsPerPixel,v=g.sMaskBitsPerComponent,E=g.colorBytes,S=g.alphaBytes,I=g.needSMask,R=g.palette,V=g.mask,j=null;return r!==lt.API.image_compression.NONE&&typeof fx=="function"?(j=(function(F){var k;switch(F){case lt.API.image_compression.FAST:k=11;break;case lt.API.image_compression.MEDIUM:k=13;break;case lt.API.image_compression.SLOW:k=14;break;default:k=12}return k})(r),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(j," /Colors ").concat(_," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=OB(E,Math.ceil(s*_*u/8),_,u,r),I&&(h=OB(S,Math.ceil(s*v/8),1,v,r))):(f=void 0,d=void 0,t=E,I&&(h=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:f,decodeParameters:d,transparency:V,palette:R,sMask:h,predictor:j,width:s,height:a,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:y}}},(function(t){t.processGIF89A=function(e,n,r,i){var o=new lle(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},u=new HT(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A})(lt.API),Na.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Na.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Yn.log("bit decode error:"+n)}},Na.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Na.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Na.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Na.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Na.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Na.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Na.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Na.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var o=new Na(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new HT(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(lt.API),VB.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var o=new VB(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new HT(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(lt.API),lt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],d=r[c+2],h=r[c+3];o[a++]=u,o[a++]=f,o[a++]=d,s[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},lt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lg=lt.API,Fx=lg.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,d=0,h=t.length,g=0,y=a[0]||l,_=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(d=f&&zn(c[r])==="object"&&!isNaN(parseInt(c[r][g],10))?c[r][g]/u:0,_.push((a[r]||y)/l+d)),g=r;return _},PB=lg.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return lg.processArabic&&(t=lg.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Fx.apply(this,arguments).reduce(function(o,s){return o+s},0)},LB=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},kB=function(t,e,n){n||(n={});var r,i,o,s,a,l,c,u=[],f=[u],d=n.textIndent||0,h=0,g=0,y=t.split(" "),_=Fx.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),E=[];y.map(function(I){(I=I.split(/\s*\n/)).length>1?E=E.concat(I.map(function(R,V){return(V&&R.length?`
`:"")+R})):E.push(I[0])}),y=E,l=PB.apply(this,[v,n])}for(o=0,s=y.length;o<s;o++){var S=0;if(r=y[o],l&&r[0]==`
`&&(r=r.substr(1),S=1),d+h+(g=(i=Fx.apply(this,[r,n])).reduce(function(I,R){return I+R},0))>e||S){if(g>e){for(a=LB.apply(this,[r,i,e-(d+h),e]),u.push(a.shift()),u=[a.pop()];a.length;)f.push([a.shift()]);g=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(I,R){return I+R},0)}else u=[r];f.push(u),d=g+l,h=_}else u.push(r),d+=h+g,h=_}return c=l?function(I,R){return(R?v:"")+I.join(" ")}:function(I){return I.join(" ")},f.map(c)},lg.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(kB.apply(this,[r[a],s,o]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var h,g,y,_,v=["{"];for(var E in d){if(h=d[E],isNaN(parseInt(E,10))?g="'"+E+"'":(E=parseInt(E,10),g=(g=s(E).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof h=="number")h<0?(y=s(h).slice(3),_="-"):(y=s(h).slice(2),_=""),y=_+y.slice(0,-1)+i[y.slice(-1)];else{if(zn(h)!=="object")throw new Error("Don't know what to do with value type "+zn(h)+".");y=a(h)}v.push(g+y)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,y,_,v={},E=1,S=v,I=[],R="",V="",j=d.length-1,F=1;F<j;F+=1)(_=d[F])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(_):_=="{"?(I.push([S,y]),S={},y=void 0):_=="}"?((g=I.pop())[0][g[1]]=S,y=void 0,S=g[0]):_=="-"?E=-1:y===void 0?r.hasOwnProperty(_)?(R+=r[_],y=parseInt(R,16)*E,E=1,R=""):R+=_:r.hasOwnProperty(_)?(V+=r[_],S[y]=parseInt(V,16)*E,E=1,y=void 0,V=""):V+=_;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var y=u.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])})(lt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(jx(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(lt),lt.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw Yn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Yn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ct.canvg?Promise.resolve(Ct.canvg):import("./chunk-NQ7SSHQF.js")).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},lt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},lt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,u=0,f=0;function d(g,y){var _,v=!1;for(_=0;_<g.length;_+=1)g[_]===y&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(f=0;f<h;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(zn(t)==="object"){for(i in t)if(o=t[i],d(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&d(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?y.push("/"+g+" /"+n[g].value):y.push("/"+g+" "+n[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(lt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,d=o.length;f<d;++f){if(a=s.metadata.characterToGlyph(o.charCodeAt(f)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(o){var s,a,l,c,u,f,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(a=Object.keys(o).sort(function(h,g){return h-g})).length;f<d;f++)s=a[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",g=0;g<d.length;g++)h+=String.fromCharCode(d[g]);var y=c();u({data:h,addLength1:!0,objectId:y}),l("endobj");var _=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ug(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ug(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+ug(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var g=c();u({data:d,addLength1:!0,objectId:g}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var _=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+ug(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+ug(a.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,u=o.options||{},f=o.mutex||{},d=f.pdfEscape,h=f.activeFontKey,g=f.fonts,y=h,_="",v=0,E="",S=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:f};for(E=a,y=h,Array.isArray(a)&&(E=a[0]),v=0;v<E.length;v+=1)g[y].metadata.hasOwnProperty("cmap")&&(s=g[y].metadata.cmap.unicode.codeMap[E[v].charCodeAt(0)]),s||E[v].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?_+=E[v]:_+="";var I="";return parseInt(y.slice(1))<14||S==="WinAnsiEncoding"?I=d(_,y).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(I=n(_,g[y])),f.isHex=!0,{text:I,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])})(lt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(lt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,u,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,S=0;this.__bidiEngine__={};var I=function(T){var x=T.charCodeAt(),O=x>>8,$=y[O];return $!==void 0?f[256*$+(255&x)]:O===252||O===253?"AL":v.test(O)?"L":O===8?"R":"N"},R=function(T){for(var x,O=0;O<T.length;O++){if((x=I(T.charAt(O)))==="L")return!1;if(x==="R")return!0}return!1},V=function(T,x,O,$){var Y,se,K,te,W=x[$];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(W="AN");break;case"AL":E=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":$<1||$+1>=x.length||(Y=O[$-1])!=="EN"&&Y!=="AN"||(se=x[$+1])!=="EN"&&se!=="AN"?W="N":E&&(se="AN"),W=se===Y?se:"N";break;case"ES":W=(Y=$>0?O[$-1]:"B")==="EN"&&$+1<x.length&&x[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&O[$-1]==="EN"){W="EN";break}if(E){W="N";break}for(K=$+1,te=x.length;K<te&&x[K]==="ET";)K++;W=K<te&&x[K]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(te=x.length,K=$+1;K<te&&x[K]==="NSM";)K++;if(K<te){var ee=T[$],pe=ee>=1425&&ee<=2303||ee===64286;if(Y=x[K],pe&&(Y==="R"||Y==="AL")){W="R";break}}}W=$<1||(Y=x[$-1])==="B"?"N":O[$-1];break;case"B":E=!1,i=!0,W=S;break;case"S":o=!0,W="N"}return W},j=function(T,x,O){var $=T.split("");return O&&F($,O,{hiLevel:S}),$.reverse(),x&&x.reverse(),$.join("")},F=function(T,x,O){var $,Y,se,K,te,W=-1,ee=T.length,pe=0,M=[],z=S?h:d,Q=[];for(E=!1,i=!1,o=!1,Y=0;Y<ee;Y++)Q[Y]=I(T[Y]);for(se=0;se<ee;se++){if(te=pe,M[se]=V(T,Q,M,se),$=240&(pe=z[te][g[M[se]]]),pe&=15,x[se]=K=z[pe][5],$>0)if($===16){for(Y=W;Y<se;Y++)x[Y]=1;W=-1}else W=-1;if(z[pe][6])W===-1&&(W=se);else if(W>-1){for(Y=W;Y<se;Y++)x[Y]=K;W=-1}Q[se]==="B"&&(x[se]=0),O.hiLevel|=K}o&&(function(ne,re,le){for(var _e=0;_e<le;_e++)if(ne[_e]==="S"){re[_e]=S;for(var ye=_e-1;ye>=0&&ne[ye]==="WS";ye--)re[ye]=S}})(Q,x,ee)},k=function(T,x,O,$,Y){if(!(Y.hiLevel<T)){if(T===1&&S===1&&!i)return x.reverse(),void(O&&O.reverse());for(var se,K,te,W,ee=x.length,pe=0;pe<ee;){if($[pe]>=T){for(te=pe+1;te<ee&&$[te]>=T;)te++;for(W=pe,K=te-1;W<K;W++,K--)se=x[W],x[W]=x[K],x[K]=se,O&&(se=O[W],O[W]=O[K],O[K]=se);pe=te}pe++}}},N=function(T,x,O){var $=T.split(""),Y={hiLevel:S};return O||(O=[]),F($,O,Y),(function(se,K,te){if(te.hiLevel!==0&&u)for(var W,ee=0;ee<se.length;ee++)K[ee]===1&&(W=_.indexOf(se[ee]))>=0&&(se[ee]=_[W+1])})($,O,Y),k(2,$,x,O,Y),k(1,$,x,O,Y),$.join("")};return this.__bidiEngine__.doBidiReorder=function(T,x,O){if((function(Y,se){if(se)for(var K=0;K<Y.length;K++)se[K]=K;a===void 0&&(a=R(Y)),c===void 0&&(c=R(Y))})(T,x),s||!l||c)if(s&&l&&a^c)S=a?1:0,T=j(T,x,O);else if(!s&&l&&c)S=a?1:0,T=N(T,x,O),T=j(T,x);else if(!s||a||l||c){if(s&&!l&&a^c)T=j(T,x),a?(S=0,T=N(T,x,O)):(S=1,T=N(T,x,O),T=j(T,x));else if(s&&a&&!l&&c)S=1,T=N(T,x,O),T=j(T,x);else if(!s&&!l&&a^c){var $=u;a?(S=1,T=N(T,x,O),S=0,u=!1,T=N(T,x,O),u=$):(S=0,T=N(T,x,O),T=j(T,x),S=1,u=!1,T=N(T,x,O),u=$,T=j(T,x))}}else S=0,T=N(T,x,O);else S=a?1:0,T=N(T,x,O);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(lt),lt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Zu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Ele(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new cle(this.contents),this.head=new hle(this),this.name=new mle(this),this.cmap=new nU(this),this.toUnicode={},this.hhea=new fle(this),this.maxp=new yle(this),this.hmtx=new _le(this),this.post=new ple(this),this.os2=new dle(this),this.loca=new ble(this),this.glyf=new vle(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Pa,Zu=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t})(),cle=(function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,l,c,u,f,d,h,g,y;for(y in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new Zu).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),o=16*h,c=i.pos+o,a=null,g=[],n)for(d=n[y],i.writeString(y),i.writeInt(t(d)),i.writeInt(c),i.writeInt(d.length),g=g.concat(d),y==="head"&&(a=c),c+=d.length;c%4;)g.push(0),c++;return i.write(g),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=rU.call(n);n.length%4;)n.push(0);for(o=new Zu(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e})(),ule={}.hasOwnProperty,vl=function(t,e){for(var n in e)ule.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Pa=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var hle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Zu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),HB=(function(){function t(e,n){var r,i,o,s,a,l,c,u,f,d,h,g,y,_,v,E,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,o=(function(){var I,R;for(R=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)R.push(e.readUInt16());return R})(),e.pos+=2,y=(function(){var I,R;for(R=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)R.push(e.readUInt16());return R})(),c=(function(){var I,R;for(R=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)R.push(e.readUInt16());return R})(),u=(function(){var I,R;for(R=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)R.push(e.readUInt16());return R})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var I,R;for(R=[],l=I=0;0<=i?I<i:I>i;l=0<=i?++I:--I)R.push(e.readUInt16());return R})(),l=v=0,S=o.length;v<S;l=++v)for(_=o[l],r=E=g=y[l];g<=_?E<=_:E>=_;r=g<=_?++E:--E)u[l]===0?s=r+c[l]:(s=a[u[l]/2+(r-g)-(d-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=f}return t.encode=function(e,n){var r,i,o,s,a,l,c,u,f,d,h,g,y,_,v,E,S,I,R,V,j,F,k,N,T,x,O,$,Y,se,K,te,W,ee,pe,M,z,Q,ne,re,le,_e,ye,Se,Pe,A;switch($=new Zu,s=Object.keys(e).sort(function(fe,he){return fe-he}),n){case"macroman":for(y=0,_=(function(){var fe=[];for(g=0;g<256;++g)fe.push(0);return fe})(),E={0:0},o={},Y=0,W=s.length;Y<W;Y++)E[ye=e[i=s[Y]]]==null&&(E[ye]=++y),o[i]={old:e[i],new:E[e[i]]},_[i]=E[e[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(_),{charMap:o,subtable:$.data,maxGlyphID:y+1};case"unicode":for(x=[],f=[],S=0,E={},r={},v=c=null,se=0,ee=s.length;se<ee;se++)E[R=e[i=s[se]]]==null&&(E[R]=++S),r[i]={old:R,new:E[R]},a=E[R]-i,v!=null&&a===c||(v&&f.push(v),x.push(i),c=a),v=i;for(v&&f.push(v),f.push(65535),x.push(65535),N=2*(k=x.length),F=2*Math.pow(Math.log(k)/Math.LN2,2),d=Math.log(F/2)/Math.LN2,j=2*k-F,l=[],V=[],h=[],g=K=0,pe=x.length;K<pe;g=++K){if(T=x[g],u=f[g],T===65535){l.push(0),V.push(0);break}if(T-(O=r[T].new)>=32768)for(l.push(0),V.push(2*(h.length+k-g)),i=te=T;T<=u?te<=u:te>=u;i=T<=u?++te:--te)h.push(r[i].new);else l.push(O-T),V.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*k+2*h.length),$.writeUInt16(0),$.writeUInt16(N),$.writeUInt16(F),$.writeUInt16(d),$.writeUInt16(j),le=0,M=f.length;le<M;le++)i=f[le],$.writeUInt16(i);for($.writeUInt16(0),_e=0,z=x.length;_e<z;_e++)i=x[_e],$.writeUInt16(i);for(Se=0,Q=l.length;Se<Q;Se++)a=l[Se],$.writeUInt16(a);for(Pe=0,ne=V.length;Pe<ne;Pe++)I=V[Pe],$.writeUInt16(I);for(A=0,re=h.length;A<re;A++)y=h[A],$.writeUInt16(y);return{charMap:r,subtable:$.data,maxGlyphID:S+1}}},t})(),nU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new HB(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=HB.encode(e,n),(i=new Zu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),fle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),dle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),ple=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t})(),gle=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,l,c,u,f,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=u=0,f=r.length;u<f;o=++u)i=r[o],e.pos=i.offset,c=e.readString(i.length),s=new gle(c,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),yle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),_le=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,s,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,f,d;for(d=[],c=0,u=(f=this.metrics).length;c<u;c++)o=f[c],d.push(o.advance);return d}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),rU=[].slice,vle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,l,c,u,f;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new Zu(n.read(i))).readShort(),c=a.readShort(),f=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=s===-1?new xle(a,c,f,l,u):new wle(a,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=n.length;a<l;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t})(),wle=(function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),xle=(function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Zu(rU.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),ble=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Pa),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t})(),Ele=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,l,c,u,f,d,h,g,y,_,v;for(i in r=nU.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},v=r.charMap)h[(l=v[i]).old]=l.new;for(g in d=r.maxGlyphID,s)g in h||(h[g]=d++);return u=(function(E){var S,I;for(S in I={},E)I[E[S]]=S;return I})(h),f=Object.keys(u).sort(function(E,S){return E-S}),y=(function(){var E,S,I;for(I=[],E=0,S=f.length;E<S;E++)a=f[E],I.push(u[a]);return I})(),o=this.font.glyf.encode(s,y,h),c=this.font.loca.encode(o.offsets,y),_={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t})();lt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+(function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e})();function Sle(t,e){t&1&&(Fr(),ze(0,"svg",7),$t(1,"path",8),$e())}function Cle(t,e){t&1&&$t(0,"div",9)}function Ile(t,e){if(t&1){let n=ls();ze(0,"div",10)(1,"div",11),Bt(2,"Select Format"),$e(),ze(3,"button",12),jn("click",function(){fr(n);let i=Er();return dr(i.export("png"))}),ze(4,"div",13)(5,"span",14),Fr(),ze(6,"svg",15),$t(7,"path",16),$e()(),Io(),ze(8,"div",17)(9,"span"),Bt(10,"Image"),$e(),ze(11,"span",18),Bt(12,"High Res PNG"),$e()()()(),ze(13,"button",19),jn("click",function(){fr(n);let i=Er();return dr(i.export("pdf"))}),ze(14,"div",13)(15,"span",20),Fr(),ze(16,"svg",15),$t(17,"path",21)(18,"path",22),$e()(),Io(),ze(19,"div",17)(20,"span"),Bt(21,"Document"),$e(),ze(22,"span",18),Bt(23,"Portable PDF"),$e()()()()()}}var Wx=class t{isExporting=!1;showMenu=or(!1);_el=Le(as);_mapService=Le(Qi);get map(){return this._mapService.map()}clickout(e){this._el.nativeElement.contains(e.target)||this.showMenu.set(!1)}toggleMenu(){this.showMenu.update(e=>!e)}export(e){this.map&&(this.isExporting=!0,this.showMenu.set(!1),setTimeout(()=>{this.map?.once("rendercomplete",()=>{let n=document.createElement("canvas"),r=this.map?.getSize();if(!r)return;n.width=r[0],n.height=r[1];let i=n.getContext("2d");document.querySelectorAll(".ol-layer canvas").forEach(a=>{if(a.width>0){let l=a.parentNode.style.opacity;i.globalAlpha=l===""?1:Number(l);let u=a.style.transform.match(/^matrix\(([^\(]*)\)$/)?.[1].split(",").map(Number);u&&i.setTransform(u[0],u[1],u[2],u[3],u[4],u[5]),i.drawImage(a,0,0)}});let s=n.toDataURL("image/png");e==="png"?this.downloadPNG(s):this.downloadPDF(s,n.width,n.height),this.isExporting=!1}),this.map?.renderSync()},100))}downloadPNG(e){let n=document.createElement("a");n.href=e,n.download=`map_${Date.now()}.png`,n.click()}downloadPDF(e,n,r){let i=n>r?"l":"p",o=new lt(i,"px",[n,r]);o.addImage(e,"PNG",0,0,n,r),o.save(`map_${Date.now()}.pdf`)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=br({type:t,selectors:[["app-map-print"]],hostBindings:function(n,r){n&1&&jn("click",function(o){return r.clickout(o)},Uh)},decls:8,vars:4,consts:[[1,"relative","group",3,"clickOutside"],[1,"group/btn","flex","items-center","justify-center","w-10","h-10","rounded-xl","transition-all","duration-200","active:scale-95","shadow-md",3,"click","ngClass"],["class","w-5 h-5 text-white transition-transform group-hover/btn:rotate-6","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",4,"ngIf"],["class","w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin",4,"ngIf"],[1,"absolute","top-full","mt-4","left-1/2","-translate-x-1/2","px-2.5","py-1.5","text-[10px]","font-bold","text-white","bg-slate-800","rounded-lg","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","whitespace-nowrap","shadow-xl","z-50"],[1,"absolute","-top-1","left-1/2","-translate-x-1/2","w-2","h-2","bg-slate-800","rotate-45"],["class","absolute top-full left-1/2 -translate-x-1/2 mt-4 bg-white/95 backdrop-blur-xl rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.1)] border border-gray-100 flex flex-col overflow-hidden min-w-[180px] p-1.5 ring-1 ring-black/5 z-50",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-5","h-5","text-white","transition-transform","group-hover/btn:rotate-6"],["stroke","currentColor","stroke-linejoin","round","stroke-width","2","d","M16.444 18H19a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h2.556M17 11V5a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v6h10ZM7 15h10v4a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-4Z"],[1,"w-5","h-5","border-2","border-white/30","border-t-white","rounded-full","animate-spin"],[1,"absolute","top-full","left-1/2","-translate-x-1/2","mt-4","bg-white/95","backdrop-blur-xl","rounded-2xl","shadow-[0_10px_40px_rgba(0,0,0,0.1)]","border","border-gray-100","flex","flex-col","overflow-hidden","min-w-[180px]","p-1.5","ring-1","ring-black/5","z-50"],[1,"px-3","py-1.5","mb-1","text-[9px]","uppercase","tracking-wider","font-bold","text-slate-400"],[1,"flex","items-center","justify-between","px-3","py-2.5","rounded-xl","hover:bg-violet-50","text-xs","font-semibold","text-slate-700","transition-all","group/item",3,"click"],[1,"flex","items-center","gap-3"],[1,"flex","items-center","justify-center","w-8","h-8","bg-violet-100","text-violet-600","rounded-lg","shadow-sm","group-hover/item:scale-110","transition-transform"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","flex-col","items-start"],[1,"text-[9px]","text-slate-400","font-normal"],[1,"flex","items-center","justify-between","px-3","py-2.5","rounded-xl","hover:bg-rose-50","text-xs","font-semibold","text-slate-700","transition-all","group/item",3,"click"],[1,"flex","items-center","justify-center","w-8","h-8","bg-rose-100","text-rose-600","rounded-lg","shadow-sm","group-hover/item:scale-110","transition-transform"],["d","M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 9h1v1H9V9z","stroke-width","2"]],template:function(n,r){n&1&&(ze(0,"div",0),jn("clickOutside",function(){return r.showMenu.set(!1)}),ze(1,"button",1),jn("click",function(){return r.toggleMenu()}),Qr(2,Sle,2,0,"svg",2)(3,Cle,1,0,"div",3),$e(),ze(4,"div",4),Bt(5," PRINT MAP "),$t(6,"div",5),$e(),Qr(7,Ile,24,0,"div",6),$e()),n&2&&(xn(),Kn("ngClass",r.isExporting?"bg-rose-500 text-white animate-pulse":"bg-gradient-to-tr from-violet-600 to-indigo-500 text-white hover:scale-105 shadow-violet-200"),xn(),Kn("ngIf",!r.isExporting),xn(),Kn("ngIf",r.isExporting),xn(4),Kn("ngIf",r.showMenu()))},dependencies:[Vi,Tm,fa],encapsulation:2})};var $x=class t{_mapService=Le(Qi);_drawService=Le(fl);showDrawMenu=or(!1);activeDrawType=this._drawService.activeType;toggleDrawMenu(){this.showDrawMenu.update(e=>!e)}startDrawing(e){let n=this._mapService.map();n&&(e===null?this._drawService.stopDrawing(n):this._drawService.startDrawing(n,e),this.showDrawMenu.set(!1))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=br({type:t,selectors:[["app-toolbar"]],decls:8,vars:0,consts:[[1,"absolute","top-6","left-1/2","-translate-x-1/2","z-20","flex","items-center","gap-2","p-1.5","bg-white/80","backdrop-blur-lg","rounded-2xl","shadow-lg","border","border-white/40","ring-1","ring-black/5"],[1,"w-[1px]","h-6","bg-gray-300/50","mx-1"]],template:function(n,r){n&1&&(ze(0,"div",0),$t(1,"app-drawing-tools")(2,"div",1)(3,"app-upload")(4,"div",1)(5,"app-download")(6,"div",1)(7,"app-map-print"),$e())},dependencies:[Vi,lx,cx,ux,Wx],encapsulation:2})};var Yx=class extends lc{levelDisplay;viewListenerKey;constructor(e){let n=e||{},r=document.createElement("div");r.className="ol-zoom advanced-zoom ol-unselectable ol-control";let i=document.createElement("button");i.innerHTML="+";let o=document.createElement("div");o.className="zoom-level-indicator",o.innerHTML="-";let s=document.createElement("button");s.innerHTML="-",r.appendChild(i),r.appendChild(o),r.appendChild(s),super({element:r,target:n.target}),this.levelDisplay=o,i.onclick=()=>this.handleZoom(1),s.onclick=()=>this.handleZoom(-1)}setMap(e){this.viewListenerKey&&Fv(this.viewListenerKey),super.setMap(e),e&&(e.on("change:view",()=>{this.setupViewListener(e)}),this.setupViewListener(e))}setupViewListener(e){this.viewListenerKey&&Fv(this.viewListenerKey);let n=e.getView();n&&(this.viewListenerKey=n.on("change:resolution",()=>{this.updateDisplay(e)}),this.updateDisplay(e))}updateDisplay(e){let n=e.getView().getZoom();n!==void 0&&(this.levelDisplay.innerHTML=n%1===0?n.toString():n.toFixed(1))}handleZoom(e){let n=this.getMap()?.getView();if(n){let r=n.getZoom();r!==void 0&&n.animate({zoom:r+e,duration:300,easing:Po})}}};var Dle=["mapContainer"],Zx=class t{_mapViewerService=Le(Qi);_geoDataService=Le(Gu);_drawService=Le(fl);mapContainer;map;importedDataVectorSource;showExportMenu=!1;static BASEMAP_CRS="EPSG:3857";static FALLBACK_CRS="EPSG:4326";constructor(){Dm(()=>{let e=this._geoDataService.currentData();if(console.log("data signal:",e),!e||!this.importedDataVectorSource)return;let n=new Go,r=[];Array.isArray(e.geojson)?e.geojson.forEach(i=>{let o=n.readFeatures(i,{dataProjection:e.crs,featureProjection:t.BASEMAP_CRS});r.push(...o)}):r=n.readFeatures(e.geojson,{dataProjection:e.crs,featureProjection:t.BASEMAP_CRS}),this.importedDataVectorSource.clear(),this.importedDataVectorSource.addFeatures(r)})}ngAfterViewInit(){this._initializeMap()}_initializeMap(){this.importedDataVectorSource=new Fu,this.map=new nO({target:this.mapContainer.nativeElement,layers:[...this._createBasemaps(),this._createImportedVectorLayer(),this._createDrawingVectorLayer()],view:new ds({center:[0,0],zoom:2,projection:t.BASEMAP_CRS}),controls:b0({zoom:!1}).extend([new Yx])}),this._mapViewerService.setMap(this.map)}_styleByGeometryType=e=>{let n=e.getGeometry()?.getType();return console.log("style called for:",n),this._styleCache[n??"Point"]};_styleCache={Point:new ri({image:new df({radius:6,fill:new Oi({color:"#d11313"})})}),LineString:new ri({stroke:new Yi({color:"#005eff",width:3})}),MultiLineString:new ri({stroke:new Yi({color:"#0752d4ff",width:3})}),Polygon:new ri({fill:new Oi({color:"rgba(0,255,153,0.4)"}),stroke:new Yi({color:"#009966",width:2})})};_createImportedVectorLayer(){let e=new Z0({source:this.importedDataVectorSource,style:this._styleByGeometryType});return e.setProperties({id:"imported",name:"Imported Data",type:"vector",removable:!1}),e}_createDrawingVectorLayer(){let e=new Z0({source:this._drawService.source,style:this._styleByGeometryType});return e.setProperties({id:"drawing",name:"Drawing Data",type:"vector",removable:!1}),e}_createBasemaps(){let e=new OD({source:new YO,visible:!0});e.setProperties({id:"osm",name:"OpenStreetMap",type:"basemap",removable:!1,thumbnail:"assets/map-previews/osm.webp"});let n=new OD({source:new Ej({layer:"alidade_smooth_dark",retina:!0}),visible:!1});return n.setProperties({id:"Stadia Maps Dark",name:"Stadia Maps Dark",type:"basemap",removable:!1,thumbnail:"assets/map-previews/dark.webp"}),[e,n]}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=br({type:t,selectors:[["app-map-viewer"]],viewQuery:function(n,r){if(n&1&&nS(Dle,7),n&2){let i;rS(i=iS())&&(r.mapContainer=i.first)}},decls:7,vars:0,consts:[["mapContainer",""],[1,"relative","w-full","h-screen","font-sans","overflow-hidden","bg-slate-900"],[1,"w-full","h-full","opacity-90"],[1,"absolute","top-6","right-1","z-20","transition-all","duration-500"]],template:function(n,r){n&1&&(ze(0,"div",1),$t(1,"div",2,0)(3,"app-toolbar"),ze(4,"div",3),$t(5,"app-layer-panel"),$e(),$t(6,"app-mouse-position"),$e())},dependencies:[Vi,tx,nx,$x],styles:[".ol-control.advanced-zoom{top:20px;left:20px;background:#ffffffe6!important;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);padding:4px;border-radius:8px;border:1px solid rgba(255,255,255,.3);box-shadow:0 8px 32px #00000026;display:flex;flex-direction:column;gap:2px;transition:transform .2s ease;height:auto;width:auto}  .ol-control.advanced-zoom:hover{transform:translateY(-2px)}  .ol-control.advanced-zoom button{width:24px!important;height:24px!important;background-color:transparent!important;color:#2c3e50!important;border:none;border-radius:8px!important;font-size:22px;font-weight:300;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;position:relative}  .ol-control.advanced-zoom button.ol-zoom-in:hover{background-color:#3498db33!important;color:#3498db!important}  .ol-control.advanced-zoom button.ol-zoom-out:hover{background-color:#e74c3c33!important;color:#e74c3c!important}  .ol-control.advanced-zoom button:active{transform:scale(.9)}  .zoom-level-indicator{height:28px;display:flex;align-items:center;justify-content:center;font-family:Inter,Segoe UI,sans-serif;font-size:13px;font-weight:700;color:#34495e;background:#0000000f;margin:4px 0;border-radius:6px;cursor:default;-webkit-user-select:none;user-select:none;pointer-events:none}"]})};var Xx=class t{title=or("geo-etl-engine");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=br({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"main"]],template:function(n,r){n&1&&(ze(0,"main",0),$t(1,"app-map-viewer"),$e())},dependencies:[Zx],encapsulation:2})};NS(Xx,FL).catch(t=>console.error(t));
